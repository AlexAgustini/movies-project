"use strict";(self.webpackChunkmovies_project=self.webpackChunkmovies_project||[]).push([[179],{2313:(vn,ot,x)=>{x.d(ot,{nm:()=>Vi});var f=x(4976),ae=(x(4650),x(3692),x(259),x(5861)),Pe=x(6881),je=x(4859),ye=x(2090),Ge=x(1877);const ie=new Map,ge={activated:!1,tokenObservers:[]},le={initialized:!1,enabled:!1};function ke(xt){return ie.get(xt)||Object.assign({},ge)}function Qe(){return le}const bt="https://content-firebaseappcheck.googleapis.com/v1",Me="exchangeDebugToken",Ft={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Re{constructor(vt,Et,pn,Tn,Yn){if(this.operation=vt,this.retryPolicy=Et,this.getWaitDuration=pn,this.lowerBound=Tn,this.upperBound=Yn,this.pending=null,this.nextErrorWaitInterval=Tn,Tn>Yn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(vt){var Et=this;return(0,ae.Z)(function*(){Et.stop();try{Et.pending=new ye.BH,yield function tt(xt){return new Promise(vt=>{setTimeout(vt,xt)})}(Et.getNextRun(vt)),Et.pending.resolve(),yield Et.pending.promise,Et.pending=new ye.BH,yield Et.operation(),Et.pending.resolve(),yield Et.pending.promise,Et.process(!0).catch(()=>{})}catch(pn){Et.retryPolicy(pn)?Et.process(!1).catch(()=>{}):Et.stop()}})()}getNextRun(vt){if(vt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Et}}}const nt=new ye.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ut(xt){if(!ke(xt).activated)throw nt.create("use-before-activation",{appName:xt.name})}function nn(xt,vt){return mn.apply(this,arguments)}function mn(){return(mn=(0,ae.Z)(function*({url:xt,body:vt},Et){const pn={"Content-Type":"application/json"},Tn=Et.getImmediate({optional:!0});if(Tn){const Nr=yield Tn.getHeartbeatsHeader();Nr&&(pn["X-Firebase-Client"]=Nr)}const Yn={method:"POST",body:JSON.stringify(vt),headers:pn};let wi,ui;try{wi=yield fetch(xt,Yn)}catch(Nr){throw nt.create("fetch-network-error",{originalErrorMessage:Nr?.message})}if(200!==wi.status)throw nt.create("fetch-status-error",{httpStatus:wi.status});try{ui=yield wi.json()}catch(Nr){throw nt.create("fetch-parse-error",{originalErrorMessage:Nr?.message})}const Oi=ui.ttl.match(/^([\d.]+)(s)$/);if(!Oi||!Oi[2]||isNaN(Number(Oi[1])))throw nt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ui.ttl}`});const cs=1e3*Number(Oi[1]),es=Date.now();return{token:ui.token,expireTimeMillis:es+cs,issuedAtTimeMillis:es}})).apply(this,arguments)}function Mt(xt,vt){const{projectId:Et,appId:pn,apiKey:Tn}=xt.options;return{url:`${bt}/projects/${Et}/apps/${pn}:${Me}?key=${Tn}`,body:{debug_token:vt}}}const Bt="firebase-app-check-database",Vt=1,Ot="firebase-app-check-store";let dt=null;function gt(xt,vt){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,ae.Z)(function*(xt,vt){const pn=(yield function Ne(){return dt||(dt=new Promise((xt,vt)=>{try{const Et=indexedDB.open(Bt,Vt);Et.onsuccess=pn=>{xt(pn.target.result)},Et.onerror=pn=>{var Tn;vt(nt.create("storage-open",{originalErrorMessage:null===(Tn=pn.target.error)||void 0===Tn?void 0:Tn.message}))},Et.onupgradeneeded=pn=>{0===pn.oldVersion&&pn.target.result.createObjectStore(Ot,{keyPath:"compositeKey"})}}catch(Et){vt(nt.create("storage-open",{originalErrorMessage:Et?.message}))}}),dt)}()).transaction(Ot,"readwrite"),Yn=pn.objectStore(Ot).put({compositeKey:xt,value:vt});return new Promise((wi,ui)=>{Yn.onsuccess=Oi=>{wi()},pn.onerror=Oi=>{var cs;ui(nt.create("storage-set",{originalErrorMessage:null===(cs=Oi.target.error)||void 0===cs?void 0:cs.message}))}})})).apply(this,arguments)}const In=new Ge.Yd("@firebase/app-check");function ct(xt,vt){return(0,ye.hl)()?function it(xt,vt){return gt(function ln(xt){return`${xt.options.appId}-${xt.name}`}(xt),vt)}(xt,vt).catch(Et=>{In.warn(`Failed to write token to IndexedDB. Error: ${Et}`)}):Promise.resolve()}function J(){return Qe().enabled}function Ae(){return ft.apply(this,arguments)}function ft(){return(ft=(0,ae.Z)(function*(){const xt=Qe();if(xt.enabled&&xt.token)return xt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ht={error:"UNKNOWN_ERROR"};function _t(xt){return ye.US.encodeString(JSON.stringify(xt),!1)}function Yt(xt){return Te.apply(this,arguments)}function Te(){return(Te=(0,ae.Z)(function*(xt,vt=!1){const Et=xt.app;Ut(Et);const pn=ke(Et);let Yn,Tn=pn.token;if(Tn&&!dn(Tn)&&(pn.token=void 0,Tn=void 0),!Tn){const Oi=yield pn.cachedTokenPromise;Oi&&(dn(Oi)?Tn=Oi:yield ct(Et,void 0))}if(!vt&&Tn&&dn(Tn))return{token:Tn.token};let ui,wi=!1;if(J()){pn.exchangeTokenPromise||(pn.exchangeTokenPromise=nn(Mt(Et,yield Ae()),xt.heartbeatServiceProvider).finally(()=>{pn.exchangeTokenPromise=void 0}),wi=!0);const Oi=yield pn.exchangeTokenPromise;return yield ct(Et,Oi),pn.token=Oi,{token:Oi.token}}try{pn.exchangeTokenPromise||(pn.exchangeTokenPromise=pn.provider.getToken().finally(()=>{pn.exchangeTokenPromise=void 0}),wi=!0),Tn=yield ke(Et).exchangeTokenPromise}catch(Oi){"appCheck/throttled"===Oi.code?In.warn(Oi.message):In.error(Oi),Yn=Oi}return Tn?Yn?ui=dn(Tn)?{token:Tn.token,internalError:Yn}:ii(Yn):(ui={token:Tn.token},pn.token=Tn,yield ct(Et,Tn)):ui=ii(Yn),wi&&function Sn(xt,vt){const Et=ke(xt).tokenObservers;for(const pn of Et)try{"EXTERNAL"===pn.type&&null!=vt.error?pn.error(vt.error):pn.next(vt)}catch{}}(Et,ui),ui})).apply(this,arguments)}function $e(xt){return ce.apply(this,arguments)}function ce(){return(ce=(0,ae.Z)(function*(xt){const vt=xt.app;Ut(vt);const{provider:Et}=ke(vt);if(J()){const pn=yield Ae(),{token:Tn}=yield nn(Mt(vt,pn),xt.heartbeatServiceProvider);return{token:Tn}}{const{token:pn}=yield Et.getToken();return{token:pn}}})).apply(this,arguments)}function yt(xt,vt){const Et=ke(xt),pn=Et.tokenObservers.filter(Tn=>Tn.next!==vt);0===pn.length&&Et.tokenRefresher&&Et.tokenRefresher.isRunning()&&Et.tokenRefresher.stop(),Et.tokenObservers=pn}function ze(xt){const{app:vt}=xt,Et=ke(vt);let pn=Et.tokenRefresher;pn||(pn=function Tt(xt){const{app:vt}=xt;return new Re((0,ae.Z)(function*(){let pn;if(pn=ke(vt).token?yield Yt(xt,!0):yield Yt(xt),pn.error)throw pn.error;if(pn.internalError)throw pn.internalError}),()=>!0,()=>{const Et=ke(vt);if(Et.token){let pn=Et.token.issuedAtTimeMillis+.5*(Et.token.expireTimeMillis-Et.token.issuedAtTimeMillis)+3e5;return pn=Math.min(pn,Et.token.expireTimeMillis-3e5),Math.max(0,pn-Date.now())}return 0},Ft.RETRIAL_MIN_WAIT,Ft.RETRIAL_MAX_WAIT)}(xt),Et.tokenRefresher=pn),!pn.isRunning()&&Et.isTokenAutoRefreshEnabled&&pn.start()}function dn(xt){return xt.expireTimeMillis-Date.now()>0}function ii(xt){return{token:_t(Ht),error:xt}}class Dt{constructor(vt,Et){this.app=vt,this.heartbeatServiceProvider=Et}_delete(){const{tokenObservers:vt}=ke(this.app);for(const Et of vt)yt(this.app,Et.next);return Promise.resolve()}}const Un="app-check-internal";!function Qn(){(0,Pe._registerComponent)(new je.wA("app-check",xt=>function st(xt,vt){return new Dt(xt,vt)}(xt.getProvider("app").getImmediate(),xt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xt,vt,Et)=>{xt.getProvider(Un).initialize()})),(0,Pe._registerComponent)(new je.wA(Un,xt=>function oe(xt){return{getToken:vt=>Yt(xt,vt),getLimitedUseToken:()=>$e(xt),addTokenListener:vt=>function me(xt,vt,Et,pn){const{app:Tn}=xt,Yn=ke(Tn);if(Yn.tokenObservers=[...Yn.tokenObservers,{next:Et,error:pn,type:vt}],Yn.token&&dn(Yn.token)){const ui=Yn.token;Promise.resolve().then(()=>{Et({token:ui.token}),ze(xt)}).catch(()=>{})}Yn.cachedTokenPromise.then(()=>ze(xt))}(xt,"INTERNAL",vt),removeTokenListener:vt=>yt(xt.app,vt)}}(xt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pe.registerVersion)("@firebase/app-check","0.8.0")}();class Vi{constructor(){return(0,f.vb)("app-check")}}typeof window<"u"&&window},3692:(vn,ot,x)=>{x.d(ot,{Ot:()=>R,ZF:()=>et,hX:()=>ke,z6:()=>ae});var f=x(259),O=x(4650),P=x(4976);class R{constructor(Re){return Re}}class ae{constructor(){return(0,f.C6)()}}const ye=new O.OlP("angularfire2._apps"),Ge={provide:R,useFactory:function je(Ye){return Ye&&1===Ye.length?Ye[0]:new R((0,f.Mq)())},deps:[[new O.FiY,ye]]},ie={provide:ae,deps:[[new O.FiY,ye]]};function ge(Ye){return(Re,tt)=>{const lt=Re.runOutsideAngular(()=>Ye(tt));return new R(lt)}}let le=(()=>{class Ye{constructor(tt){(0,f.KN)("angularfire",P.q4.full,"core"),(0,f.KN)("angularfire",P.q4.full,"app"),(0,f.KN)("angular",O.q4F.full,tt.toString())}}return Ye.\u0275fac=function(tt){return new(tt||Ye)(O.LFG(O.Lbi))},Ye.\u0275mod=O.oAB({type:Ye}),Ye.\u0275inj=O.cJS({providers:[Ge,ie]}),Ye})();function ke(Ye,...Re){return{ngModule:le,providers:[{provide:ye,useFactory:ge(Ye),multi:!0,deps:[O.R0b,O.zs3,P.HU,...Re]}]}}const et=(0,P.u3)(f.ZF,!0)},1205:(vn,ot,x)=>{x.d(ot,{zQ:()=>ai,rT:()=>hn,f7:()=>nn,L6:()=>Ze,_Q:()=>Ut,lh:()=>Kt,Qv:()=>nt,nw:()=>mn});var f=x(4650),O=x(7579),P=x(9646),R=x(9751),ae=x(8996),Pe=x(6451),je=x(5363),ye=x(3900),Ge=x(4004),ie=x(6063);class ge extends O.x{constructor(Bt=1/0,Vt=1/0,Ot=ie.l){super(),this._bufferSize=Bt,this._windowTime=Vt,this._timestampProvider=Ot,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Vt===1/0,this._bufferSize=Math.max(1,Bt),this._windowTime=Math.max(1,Vt)}next(Bt){const{isStopped:Vt,_buffer:Ot,_infiniteTimeWindow:rt,_timestampProvider:dt,_windowTime:Ne}=this;Vt||(Ot.push(Bt),!rt&&Ot.push(dt.now()+Ne)),this._trimBuffer(),super.next(Bt)}_subscribe(Bt){this._throwIfClosed(),this._trimBuffer();const Vt=this._innerSubscribe(Bt),{_infiniteTimeWindow:Ot,_buffer:rt}=this,dt=rt.slice();for(let Ne=0;Ne<dt.length&&!Bt.closed;Ne+=Ot?1:2)Bt.next(dt[Ne]);return this._checkFinalizedStatuses(Bt),Vt}_trimBuffer(){const{_bufferSize:Bt,_timestampProvider:Vt,_buffer:Ot,_infiniteTimeWindow:rt}=this,dt=(rt?1:2)*Bt;if(Bt<1/0&&dt<Ot.length&&Ot.splice(0,Ot.length-dt),!rt){const Ne=Vt.now();let ht=0;for(let it=1;it<Ot.length&&Ot[it]<=Ne;it+=2)ht=it;ht&&Ot.splice(0,ht+1)}}}var le=x(3099);function ke(Mt,Bt,Vt){let Ot,rt=!1;return Mt&&"object"==typeof Mt?({bufferSize:Ot=1/0,windowTime:Bt=1/0,refCount:rt=!1,scheduler:Vt}=Mt):Ot=Mt??1/0,(0,le.B)({connector:()=>new ge(Ot,Bt,Vt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:rt})}var Be=x(590),Qe=x(576);function bt(Mt,Bt){return(0,Qe.m)(Bt)?(0,ye.w)(()=>Mt,Bt):(0,ye.w)(()=>Mt)}var et=x(9468),Ve=x(9300),Me=x(4976),Ft=x(2011),Ye=x(6895),Re=x(2313);x(9260);const nt=new f.OlP("angularfire2.auth.use-emulator"),Ze=new f.OlP("angularfire2.auth.settings"),Ut=new f.OlP("angularfire2.auth.tenant-id"),hn=new f.OlP("angularfire2.auth.langugage-code"),Kt=new f.OlP("angularfire2.auth.use-device-language"),nn=new f.OlP("angularfire.auth.persistence"),mn=(Mt,Bt,Vt,Ot,rt,dt,Ne,ht)=>(0,Ft.cc)(`${Mt.name}.auth`,"AngularFireAuth",Mt.name,()=>{const it=Bt.runOutsideAngular(()=>Mt.auth());if(Vt&&it.useEmulator(...Vt),Ot&&(it.tenantId=Ot),it.languageCode=rt,dt&&it.useDeviceLanguage(),Ne)for(const[He,mt]of Object.entries(Ne))it.settings[He]=mt;return ht&&it.setPersistence(ht),it},[Vt,Ot,rt,dt,Ne,ht]);let ai=(()=>{class Mt{constructor(Vt,Ot,rt,dt,Ne,ht,it,He,mt,gt,Gt,Ke){const Pt=new O.x,ln=(0,P.of)(void 0).pipe((0,je.Q)(Ne.outsideAngular),(0,ye.w)(()=>dt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,9568)))),(0,Ge.U)(()=>(0,Ft.on)(Vt,dt,Ot)),(0,Ge.U)(In=>mn(In,dt,ht,He,mt,gt,it,Gt)),ke({bufferSize:1,refCount:!1}));if((0,Ye.PM)(rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,P.of)(null);else{ln.pipe((0,Be.P)()).subscribe();const Xn=ln.pipe((0,ye.w)(Ct=>Ct.getRedirectResult().then(xe=>xe,()=>null)),Me.iC,ke({bufferSize:1,refCount:!1})),wt=ln.pipe((0,ye.w)(Ct=>new R.y(xe=>({unsubscribe:dt.runOutsideAngular(()=>Ct.onAuthStateChanged(J=>xe.next(J),J=>xe.error(J),()=>xe.complete()))})))),ct=ln.pipe((0,ye.w)(Ct=>new R.y(xe=>({unsubscribe:dt.runOutsideAngular(()=>Ct.onIdTokenChanged(J=>xe.next(J),J=>xe.error(J),()=>xe.complete()))}))));this.authState=Xn.pipe(bt(wt),(0,et.R)(Ne.outsideAngular),(0,je.Q)(Ne.insideAngular)),this.user=Xn.pipe(bt(ct),(0,et.R)(Ne.outsideAngular),(0,je.Q)(Ne.insideAngular)),this.idToken=this.user.pipe((0,ye.w)(Ct=>Ct?(0,ae.D)(Ct.getIdToken()):(0,P.of)(null))),this.idTokenResult=this.user.pipe((0,ye.w)(Ct=>Ct?(0,ae.D)(Ct.getIdTokenResult()):(0,P.of)(null))),this.credential=(0,Pe.T)(Xn,Pt,this.authState.pipe((0,Ve.h)(Ct=>!Ct))).pipe((0,Ge.U)(Ct=>Ct?.user?Ct:null),(0,et.R)(Ne.outsideAngular),(0,je.Q)(Ne.insideAngular))}return(0,Ft.pX)(this,ln,dt,{spy:{apply:(In,Xn,wt)=>{(In.startsWith("signIn")||In.startsWith("createUser"))&&wt.then(ct=>Pt.next(ct))}}})}}return Mt.\u0275fac=function(Vt){return new(Vt||Mt)(f.LFG(Ft.Dh),f.LFG(Ft.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Me.HU),f.LFG(nt,8),f.LFG(Ze,8),f.LFG(Ut,8),f.LFG(hn,8),f.LFG(Kt,8),f.LFG(nn,8),f.LFG(Re.nm,8))},Mt.\u0275prov=f.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"any"}),Mt})()},7977:(vn,ot,x)=>{x.d(ot,{ST:()=>st});var f=x(4650),O=x(4986),P=x(9751),R=x(8996),ae=x(9646),Pe=x(4976),je=x(8675),ye=x(4482),Ge=x(5403);function ie(){return(0,ye.e)((q,N)=>{let $,X=!1;q.subscribe((0,Ge.x)(N,Se=>{const Wt=$;$=Se,X&&N.next([Wt,Se]),X=!0}))})}var ge=x(4004),le=x(5026),ke=x(1884),Be=x(9300),Qe=x(2011),bt=x(6895),Ve=(x(9568),x(3942)),Me=x(2810),Ft=x(2090),Ye=x(4859);function lt(q,N){if(void 0===N)return{merge:!1};if(void 0!==N.mergeFields&&void 0!==N.merge)throw new Me.WA("invalid-argument",`Invalid options passed to function ${q}(): You cannot specify both "merge" and "mergeFields".`);return N}function nt(){if(typeof Uint8Array>"u")throw new Me.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ze(){if(!(0,Me.Me)())throw new Me.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ut{constructor(N){this._delegate=N}static fromBase64String(N){return Ze(),new Ut(Me.Jj.fromBase64String(N))}static fromUint8Array(N){return nt(),new Ut(Me.Jj.fromUint8Array(N))}toBase64(){return Ze(),this._delegate.toBase64()}toUint8Array(){return nt(),this._delegate.toUint8Array()}isEqual(N){return this._delegate.isEqual(N._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hn(q){return function Kt(q,N){if("object"!=typeof q||null===q)return!1;const $=q;for(const X of N)if(X in $&&"function"==typeof $[X])return!0;return!1}(q,["next","error","complete"])}class nn{enableIndexedDbPersistence(N,$){return(0,Me.ST)(N._delegate,{forceOwnership:$})}enableMultiTabIndexedDbPersistence(N){return(0,Me.fH)(N._delegate)}clearIndexedDbPersistence(N){return(0,Me.Fc)(N._delegate)}}class mn{constructor(N,$,X){this._delegate=$,this._persistenceProvider=X,this.INTERNAL={delete:()=>this.terminate()},N instanceof Me.l7||(this._appCompat=N)}get _databaseId(){return this._delegate._databaseId}settings(N){const $=this._delegate._getSettings();!N.merge&&$.host!==N.host&&(0,Me.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),N.merge&&delete(N=Object.assign(Object.assign({},$),N)).merge,this._delegate._setSettings(N)}useEmulator(N,$,X={}){(0,Me.at)(this._delegate,N,$,X)}enableNetwork(){return(0,Me.Ix)(this._delegate)}disableNetwork(){return(0,Me.TF)(this._delegate)}enablePersistence(N){let $=!1,X=!1;return N&&($=!!N.synchronizeTabs,X=!!N.experimentalForceOwningTab,(0,Me.Wi)("synchronizeTabs",$,"experimentalForceOwningTab",X)),$?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,X)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Me.Mx)(this._delegate)}onSnapshotsInSync(N){return(0,Me.sc)(this._delegate,N)}get app(){if(!this._appCompat)throw new Me.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(N){try{return new Gt(this,(0,Me.hJ)(this._delegate,N))}catch($){throw rt($,"collection()","Firestore.collection()")}}doc(N){try{return new Ot(this,(0,Me.JU)(this._delegate,N))}catch($){throw rt($,"doc()","Firestore.doc()")}}collectionGroup(N){try{return new He(this,(0,Me.B$)(this._delegate,N))}catch($){throw rt($,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(N){return(0,Me.i3)(this._delegate,$=>N(new Mt(this,$)))}batch(){return(0,Me.qY)(this._delegate),new Bt(new Me.PU(this._delegate,N=>(0,Me.GL)(this._delegate,N)))}loadBundle(N){return(0,Me.Pb)(this._delegate,N)}namedQuery(N){return(0,Me.L$)(this._delegate,N).then($=>$?new He(this,$):null)}}class ai extends Me.u7{constructor(N){super(),this.firestore=N}convertBytes(N){return new Ut(new Me.Jj(N))}convertReference(N){const $=this.convertDocumentKey(N,this.firestore._databaseId);return Ot.forKey($,this.firestore,null)}}class Mt{constructor(N,$){this._firestore=N,this._delegate=$,this._userDataWriter=new ai(N)}get(N){const $=Ke(N);return this._delegate.get($).then(X=>new ht(this._firestore,new Me.xU(this._firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,$.converter)))}set(N,$,X){const Se=Ke(N);return X?(lt("Transaction.set",X),this._delegate.set(Se,$,X)):this._delegate.set(Se,$),this}update(N,$,X,...Se){const Wt=Ke(N);return 2===arguments.length?this._delegate.update(Wt,$):this._delegate.update(Wt,$,X,...Se),this}delete(N){const $=Ke(N);return this._delegate.delete($),this}}class Bt{constructor(N){this._delegate=N}set(N,$,X){const Se=Ke(N);return X?(lt("WriteBatch.set",X),this._delegate.set(Se,$,X)):this._delegate.set(Se,$),this}update(N,$,X,...Se){const Wt=Ke(N);return 2===arguments.length?this._delegate.update(Wt,$):this._delegate.update(Wt,$,X,...Se),this}delete(N){const $=Ke(N);return this._delegate.delete($),this}commit(){return this._delegate.commit()}}class Vt{constructor(N,$,X){this._firestore=N,this._userDataWriter=$,this._delegate=X}fromFirestore(N,$){const X=new Me.$q(this._firestore._delegate,this._userDataWriter,N._key,N._document,N.metadata,null);return this._delegate.fromFirestore(new it(this._firestore,X),$??{})}toFirestore(N,$){return $?this._delegate.toFirestore(N,$):this._delegate.toFirestore(N)}static getInstance(N,$){const X=Vt.INSTANCES;let Se=X.get(N);Se||(Se=new WeakMap,X.set(N,Se));let Wt=Se.get($);return Wt||(Wt=new Vt(N,new ai(N),$),Se.set($,Wt)),Wt}}Vt.INSTANCES=new WeakMap;class Ot{constructor(N,$){this.firestore=N,this._delegate=$,this._userDataWriter=new ai(N)}static forPath(N,$,X){if(N.length%2!=0)throw new Me.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${N.canonicalString()} has ${N.length}`);return new Ot($,new Me.my($._delegate,X,new Me.Ky(N)))}static forKey(N,$,X){return new Ot($,new Me.my($._delegate,X,N))}get id(){return this._delegate.id}get parent(){return new Gt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(N){try{return new Gt(this.firestore,(0,Me.hJ)(this._delegate,N))}catch($){throw rt($,"collection()","DocumentReference.collection()")}}isEqual(N){return(N=(0,Ft.m9)(N))instanceof Me.my&&(0,Me.Eo)(this._delegate,N)}set(N,$){$=lt("DocumentReference.set",$);try{return $?(0,Me.pl)(this._delegate,N,$):(0,Me.pl)(this._delegate,N)}catch(X){throw rt(X,"setDoc()","DocumentReference.set()")}}update(N,$,...X){try{return 1===arguments.length?(0,Me.r7)(this._delegate,N):(0,Me.r7)(this._delegate,N,$,...X)}catch(Se){throw rt(Se,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Me.oe)(this._delegate)}onSnapshot(...N){const $=dt(N),X=Ne(N,Se=>new ht(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,Se._key,Se._document,Se.metadata,this._delegate.converter)));return(0,Me.cf)(this._delegate,$,X)}get(N){let $;return $="cache"===N?.source?(0,Me.kl)(this._delegate):"server"===N?.source?(0,Me.Xk)(this._delegate):(0,Me.QT)(this._delegate),$.then(X=>new ht(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,this._delegate.converter)))}withConverter(N){return new Ot(this.firestore,this._delegate.withConverter(N?Vt.getInstance(this.firestore,N):null))}}function rt(q,N,$){return q.message=q.message.replace(N,$),q}function dt(q){for(const N of q)if("object"==typeof N&&!hn(N))return N;return{}}function Ne(q,N){var $,X;let Se;return Se=hn(q[0])?q[0]:hn(q[1])?q[1]:"function"==typeof q[0]?{next:q[0],error:q[1],complete:q[2]}:{next:q[1],error:q[2],complete:q[3]},{next:Wt=>{Se.next&&Se.next(N(Wt))},error:null===($=Se.error)||void 0===$?void 0:$.bind(Se),complete:null===(X=Se.complete)||void 0===X?void 0:X.bind(Se)}}class ht{constructor(N,$){this._firestore=N,this._delegate=$}get ref(){return new Ot(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(N){return this._delegate.data(N)}get(N,$){return this._delegate.get(N,$)}isEqual(N){return(0,Me.qK)(this._delegate,N._delegate)}}class it extends ht{data(N){const $=this._delegate.data(N);return(0,Me.K9)(void 0!==$,"Document in a QueryDocumentSnapshot should exist"),$}}class He{constructor(N,$){this.firestore=N,this._delegate=$,this._userDataWriter=new ai(N)}where(N,$,X){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.ar)(N,$,X)))}catch(Se){throw rt(Se,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(N,$){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Xo)(N,$)))}catch(X){throw rt(X,/(orderBy|where)\(\)/,"Query.$1()")}}limit(N){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.b9)(N)))}catch($){throw rt($,"limit()","Query.limit()")}}limitToLast(N){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.vh)(N)))}catch($){throw rt($,"limitToLast()","Query.limitToLast()")}}startAt(...N){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.e0)(...N)))}catch($){throw rt($,"startAt()","Query.startAt()")}}startAfter(...N){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.TQ)(...N)))}catch($){throw rt($,"startAfter()","Query.startAfter()")}}endBefore(...N){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Lx)(...N)))}catch($){throw rt($,"endBefore()","Query.endBefore()")}}endAt(...N){try{return new He(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Wu)(...N)))}catch($){throw rt($,"endAt()","Query.endAt()")}}isEqual(N){return(0,Me.iE)(this._delegate,N._delegate)}get(N){let $;return $="cache"===N?.source?(0,Me.UQ)(this._delegate):"server"===N?.source?(0,Me.zN)(this._delegate):(0,Me.PL)(this._delegate),$.then(X=>new gt(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,X._snapshot)))}onSnapshot(...N){const $=dt(N),X=Ne(N,Se=>new gt(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,Se._snapshot)));return(0,Me.cf)(this._delegate,$,X)}withConverter(N){return new He(this.firestore,this._delegate.withConverter(N?Vt.getInstance(this.firestore,N):null))}}class mt{constructor(N,$){this._firestore=N,this._delegate=$}get type(){return this._delegate.type}get doc(){return new it(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gt{constructor(N,$){this._firestore=N,this._delegate=$}get query(){return new He(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(N=>new it(this._firestore,N))}docChanges(N){return this._delegate.docChanges(N).map($=>new mt(this._firestore,$))}forEach(N,$){this._delegate.forEach(X=>{N.call($,new it(this._firestore,X))})}isEqual(N){return(0,Me.qK)(this._delegate,N._delegate)}}class Gt extends He{constructor(N,$){super(N,$),this.firestore=N,this._delegate=$}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const N=this._delegate.parent;return N?new Ot(this.firestore,N):null}doc(N){try{return new Ot(this.firestore,void 0===N?(0,Me.JU)(this._delegate):(0,Me.JU)(this._delegate,N))}catch($){throw rt($,"doc()","CollectionReference.doc()")}}add(N){return(0,Me.ET)(this._delegate,N).then($=>new Ot(this.firestore,$))}isEqual(N){return(0,Me.Eo)(this._delegate,N._delegate)}withConverter(N){return new Gt(this.firestore,this._delegate.withConverter(N?Vt.getInstance(this.firestore,N):null))}}function Ke(q){return(0,Me.Cf)(q,Me.my)}class Pt{constructor(...N){this._delegate=new Me.Lz(...N)}static documentId(){return new Pt(Me.Xb.keyField().canonicalString())}isEqual(N){return(N=(0,Ft.m9)(N))instanceof Me.Lz&&this._delegate._internalPath.isEqual(N._internalPath)}}class ln{constructor(N){this._delegate=N}static serverTimestamp(){const N=(0,Me.Bt)();return N._methodName="FieldValue.serverTimestamp",new ln(N)}static delete(){const N=(0,Me.AK)();return N._methodName="FieldValue.delete",new ln(N)}static arrayUnion(...N){const $=(0,Me.vr)(...N);return $._methodName="FieldValue.arrayUnion",new ln($)}static arrayRemove(...N){const $=(0,Me.Ab)(...N);return $._methodName="FieldValue.arrayRemove",new ln($)}static increment(N){const $=(0,Me.nP)(N);return $._methodName="FieldValue.increment",new ln($)}isEqual(N){return this._delegate.isEqual(N._delegate)}}const In={Firestore:mn,GeoPoint:Me.F8,Timestamp:Me.EK,Blob:Ut,Transaction:Mt,WriteBatch:Bt,DocumentReference:Ot,DocumentSnapshot:ht,Query:He,QueryDocumentSnapshot:it,QuerySnapshot:gt,CollectionReference:Gt,FieldPath:Pt,FieldValue:ln,setLogLevel:function zt(q){(0,Me.Ub)(q)},CACHE_SIZE_UNLIMITED:Me.IX};!function wt(q){(function Xn(q,N){q.INTERNAL.registerComponent(new Ye.wA("firestore-compat",$=>{const X=$.getProvider("app-compat").getImmediate(),Se=$.getProvider("firestore").getImmediate();return N(X,Se)},"PUBLIC").setServiceProps(Object.assign({},In)))})(q,(N,$)=>new mn(N,$,new nn)),q.registerVersion("@firebase/firestore-compat","0.3.10")}(Ve.Z);var ct=x(1205),Ct=x(2313);function Ae(q,N){return function J(q,N=O.z){return new P.y($=>{let X;return null!=N?N.schedule(()=>{X=q.onSnapshot({includeMetadataChanges:!0},$)}):X=q.onSnapshot({includeMetadataChanges:!0},$),()=>{X?.()}})}(q,N)}function Rt(q,N){return Ae(q,N).pipe((0,ge.U)($=>({payload:$,type:"query"})))}function Ht(q,N){return Rt(q,N).pipe((0,je.O)(void 0),ie(),(0,ge.U)(([$,X])=>{const Se=X.payload.docChanges(),Wt=Se.map(Jt=>({type:Jt.type,payload:Jt}));return $&&JSON.stringify($.payload.metadata)!==JSON.stringify(X.payload.metadata)&&X.payload.docs.forEach((Jt,Ue)=>{const Le=Se.find(pe=>pe.doc.ref.isEqual(Jt.ref)),de=$?.payload.docs.find(pe=>pe.ref.isEqual(Jt.ref));Le&&JSON.stringify(Le.doc.metadata)===JSON.stringify(Jt.metadata)||!Le&&de&&JSON.stringify(de.metadata)===JSON.stringify(Jt.metadata)||Wt.push({type:"modified",payload:{oldIndex:Ue,newIndex:Ue,type:"modified",doc:Jt}})}),Wt}))}function _t(q,N,$){return Ht(q,$).pipe((0,le.R)((X,Se)=>function Yt(q,N,$){return N.forEach(X=>{$.indexOf(X.type)>-1&&(q=function $e(q,N){switch(N.type){case"added":if(!q[N.newIndex]||!q[N.newIndex].doc.ref.isEqual(N.doc.ref))return Te(q,N.newIndex,0,N);break;case"modified":if(null==q[N.oldIndex]||q[N.oldIndex].doc.ref.isEqual(N.doc.ref)){if(N.oldIndex!==N.newIndex){const $=q.slice();return $.splice(N.oldIndex,1),$.splice(N.newIndex,0,N),$}return Te(q,N.newIndex,1,N)}break;case"removed":if(q[N.oldIndex]&&q[N.oldIndex].doc.ref.isEqual(N.doc.ref))return Te(q,N.oldIndex,1)}return q}(q,X))}),q}(X,Se.map(Wt=>Wt.payload),N),[]),(0,ke.x)(),(0,ge.U)(X=>X.map(Se=>({type:Se.type,payload:Se}))))}function Te(q,N,$,...X){const Se=q.slice();return Se.splice(N,$,...X),Se}function ce(q){return(!q||0===q.length)&&(q=["added","removed","modified"]),q}x(9260);class me{constructor(N,$,X){this.ref=N,this.query=$,this.afs=X}stateChanges(N){let $=Ht(this.query,this.afs.schedulers.outsideAngular);return N&&N.length>0&&($=$.pipe((0,ge.U)(X=>X.filter(Se=>N.indexOf(Se.type)>-1)))),$.pipe((0,je.O)(void 0),ie(),(0,Be.h)(([X,Se])=>Se.length>0||!X),(0,ge.U)(([X,Se])=>Se),Pe.iC)}auditTrail(N){return this.stateChanges(N).pipe((0,le.R)(($,X)=>[...$,...X],[]))}snapshotChanges(N){const $=ce(N);return _t(this.query,$,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(N={}){return Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)($=>$.payload.docs.map(X=>N.idField?Object.assign(Object.assign({},X.data()),{[N.idField]:X.id}):X.data())),Pe.iC)}get(N){return(0,R.D)(this.query.get(N)).pipe(Pe.iC)}add(N){return this.ref.add(N)}doc(N){return new yt(this.ref.doc(N),this.afs)}}class yt{constructor(N,$){this.ref=N,this.afs=$}set(N,$){return this.ref.set(N,$)}update(N){return this.ref.update(N)}delete(){return this.ref.delete()}collection(N,$){const X=this.ref.collection(N),{ref:Se,query:Wt}=Dt(X,$);return new me(Se,Wt,this.afs)}snapshotChanges(){return function ft(q,N){return Ae(q,N).pipe((0,je.O)(void 0),ie(),(0,ge.U)(([$,X])=>X.exists?$?.exists?{payload:X,type:"modified"}:{payload:X,type:"added"}:{payload:X,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(N={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:$})=>N.idField?Object.assign(Object.assign({},$.data()),{[N.idField]:$.id}):$.data()))}get(N){return(0,R.D)(this.ref.get(N)).pipe(Pe.iC)}}class ze{constructor(N,$){this.query=N,this.afs=$}stateChanges(N){return N&&0!==N.length?Ht(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)($=>$.filter(X=>N.indexOf(X.type)>-1)),(0,Be.h)($=>$.length>0),Pe.iC):Ht(this.query,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}auditTrail(N){return this.stateChanges(N).pipe((0,le.R)(($,X)=>[...$,...X],[]))}snapshotChanges(N){const $=ce(N);return _t(this.query,$,this.afs.schedulers.outsideAngular).pipe(Pe.iC)}valueChanges(N={}){return Rt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(X=>X.payload.docs.map(Se=>N.idField?Object.assign({[N.idField]:Se.id},Se.data()):Se.data())),Pe.iC)}get(N){return(0,R.D)(this.query.get(N)).pipe(Pe.iC)}}const Tt=new f.OlP("angularfire2.enableFirestorePersistence"),Sn=new f.OlP("angularfire2.firestore.persistenceSettings"),dn=new f.OlP("angularfire2.firestore.settings"),ii=new f.OlP("angularfire2.firestore.use-emulator");function Dt(q,N=($=>$)){return{query:N(q),ref:q}}let st=(()=>{class q{constructor($,X,Se,Wt,Jt,Ue,Le,de,pe,fe,pt,Fe,We,be,Xe,jt,fn){this.schedulers=Le;const xn=(0,Qe.on)($,Ue,X),Ln=pe;fe&&(0,ct.nw)(xn,Ue,pt,We,be,Xe,Fe,jt),[this.firestore,this.persistenceEnabled$]=(0,Qe.cc)(`${xn.name}.firestore`,"AngularFirestore",xn.name,()=>{const yi=Ue.runOutsideAngular(()=>xn.firestore());if(Wt&&yi.settings(Wt),Ln&&yi.useEmulator(...Ln),Se&&!(0,bt.PM)(Jt)){const rr=()=>{try{return(0,R.D)(yi.enablePersistence(de||void 0).then(()=>!0,()=>!1))}catch(tn){return typeof console<"u"&&console.warn(tn),(0,ae.of)(!1)}};return[yi,Ue.runOutsideAngular(rr)]}return[yi,(0,ae.of)(!1)]},[Wt,Ln,Se])}collection($,X){let Se;Se="string"==typeof $?this.firestore.collection($):$;const{ref:Wt,query:Jt}=Dt(Se,X),Ue=this.schedulers.ngZone.run(()=>Wt);return new me(Ue,Jt,this)}collectionGroup($,X){const Se=X||(Jt=>Jt),Wt=this.firestore.collectionGroup($);return new ze(Se(Wt),this)}doc($){let X;X="string"==typeof $?this.firestore.doc($):$;const Se=this.schedulers.ngZone.run(()=>X);return new yt(Se,this)}createId(){return this.firestore.collection("_").doc().id}}return q.\u0275fac=function($){return new($||q)(f.LFG(Qe.Dh),f.LFG(Qe.xv,8),f.LFG(Tt,8),f.LFG(dn,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Pe.HU),f.LFG(Sn,8),f.LFG(ii,8),f.LFG(ct.zQ,8),f.LFG(ct.Qv,8),f.LFG(ct.L6,8),f.LFG(ct._Q,8),f.LFG(ct.rT,8),f.LFG(ct.lh,8),f.LFG(ct.f7,8),f.LFG(Ct.nm,8))},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"any"}),q})()},2011:(vn,ot,x)=>{x.d(ot,{Dh:()=>ye,GT:()=>Pe,cc:()=>Be,hO:()=>ke,on:()=>ie,pX:()=>ae,xv:()=>Ge});var f=x(4650),O=x(9260),P=x(4976);vn=x.hmd(vn);const R=["ngOnDestroy"],ae=(Ve,Me,Ft,Ye={})=>new Proxy(Ve,{get:(Re,tt)=>Ft.runOutsideAngular(()=>{var lt;if(Ve[tt])return!(null===(lt=Ye?.spy)||void 0===lt)&&lt.get&&Ye.spy.get(tt,Ve[tt]),Ve[tt];if(R.indexOf(tt)>-1)return()=>{};const nt=Me.toPromise().then(Ze=>{const Ut=Ze&&Ze[tt];return"function"==typeof Ut?Ut.bind(Ze):Ut&&Ut.then?Ut.then(hn=>Ft.run(()=>hn)):Ft.run(()=>Ut)});return new Proxy(()=>{},{get:(Ze,Ut)=>nt[Ut],apply:(Ze,Ut,hn)=>nt.then(Kt=>{var nn;const mn=Kt&&Kt(...hn);return!(null===(nn=Ye?.spy)||void 0===nn)&&nn.apply&&Ye.spy.apply(tt,hn,mn),mn})})})}),Pe=(Ve,Me)=>{Me.forEach(Ft=>{Object.getOwnPropertyNames(Ft.prototype||Ft).forEach(Ye=>{Object.defineProperty(Ve.prototype,Ye,Object.getOwnPropertyDescriptor(Ft.prototype||Ft,Ye))})})};class je{constructor(Me){return Me}}const ye=new f.OlP("angularfire2.app.options"),Ge=new f.OlP("angularfire2.app.name");function ie(Ve,Me,Ft){const Re="object"==typeof Ft&&Ft||{};Re.name=Re.name||"string"==typeof Ft&&Ft||"[DEFAULT]";const lt=O.Z.apps.filter(nt=>nt&&nt.name===Re.name)[0]||Me.runOutsideAngular(()=>O.Z.initializeApp(Ve,Re));try{JSON.stringify(Ve)!==JSON.stringify(lt.options)&&ge("error",`${lt.name} Firebase App already initialized with different options${vn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new je(lt)}const ge=(Ve,...Me)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ve](...Me)},le={provide:je,useFactory:ie,deps:[ye,f.R0b,[new f.FiY,Ge]]};let ke=(()=>{class Ve{constructor(Ft){O.Z.registerVersion("angularfire",P.q4.full,"core"),O.Z.registerVersion("angularfire",P.q4.full,"app-compat"),O.Z.registerVersion("angular",f.q4F.full,Ft.toString())}static initializeApp(Ft,Ye){return{ngModule:Ve,providers:[{provide:ye,useValue:Ft},{provide:Ge,useValue:Ye}]}}}return Ve.\u0275fac=function(Ft){return new(Ft||Ve)(f.LFG(f.Lbi))},Ve.\u0275mod=f.oAB({type:Ve}),Ve.\u0275inj=f.cJS({providers:[le]}),Ve})();function Be(Ve,Me,Ft,Ye,Re){const[,tt,lt]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===Ve)||[];if(tt)return function Qe(Ve,Me){try{return Ve.toString()===Me.toString()}catch{return Ve===Me}}(Re,lt)||(et("error",`${Me} was already initialized on the ${Ft} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),et("warn",{is:Re,was:lt})),tt;{const nt=Ye();return globalThis.\u0275AngularfireInstanceCache.push([Ve,nt,Re]),nt}}const bt=!!vn.hot,et=(Ve,...Me)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ve](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vn,ot,x)=>{x.d(ot,{q4:()=>Oo,iC:()=>Vr,HU:()=>lu,vb:()=>dd,JM:()=>Mc,u3:()=>ul});var f=x(4650),O=x(259),P=x(5861),R=x(6881),ae=x(2090),Pe=x(4859),je=x(1877);const ye=(S,U)=>U.some(re=>S instanceof re);let Ge,ie;const ke=new WeakMap,Be=new WeakMap,Qe=new WeakMap,bt=new WeakMap,et=new WeakMap;let Ft={get(S,U,re){if(S instanceof IDBTransaction){if("done"===U)return Be.get(S);if("objectStoreNames"===U)return S.objectStoreNames||Qe.get(S);if("store"===U)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return lt(S[U])},set:(S,U,re)=>(S[U]=re,!0),has:(S,U)=>S instanceof IDBTransaction&&("done"===U||"store"===U)||U in S};function tt(S){return"function"==typeof S?function Re(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...U){return S.apply(nt(this),U),lt(ke.get(this))}:function(...U){return lt(S.apply(nt(this),U))}:function(U,...re){const Oe=S.call(nt(this),U,...re);return Qe.set(Oe,U.sort?U.sort():[U]),lt(Oe)}}(S):(S instanceof IDBTransaction&&function Me(S){if(Be.has(S))return;const U=new Promise((re,Oe)=>{const ut=()=>{S.removeEventListener("complete",At),S.removeEventListener("error",un),S.removeEventListener("abort",un)},At=()=>{re(),ut()},un=()=>{Oe(S.error||new DOMException("AbortError","AbortError")),ut()};S.addEventListener("complete",At),S.addEventListener("error",un),S.addEventListener("abort",un)});Be.set(S,U)}(S),ye(S,function ge(){return Ge||(Ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,Ft):S)}function lt(S){if(S instanceof IDBRequest)return function Ve(S){const U=new Promise((re,Oe)=>{const ut=()=>{S.removeEventListener("success",At),S.removeEventListener("error",un)},At=()=>{re(lt(S.result)),ut()},un=()=>{Oe(S.error),ut()};S.addEventListener("success",At),S.addEventListener("error",un)});return U.then(re=>{re instanceof IDBCursor&&ke.set(re,S)}).catch(()=>{}),et.set(U,S),U}(S);if(bt.has(S))return bt.get(S);const U=tt(S);return U!==S&&(bt.set(S,U),et.set(U,S)),U}const nt=S=>et.get(S),hn=["get","getKey","getAll","getAllKeys","count"],Kt=["put","add","delete","clear"],nn=new Map;function mn(S,U){if(!(S instanceof IDBDatabase)||U in S||"string"!=typeof U)return;if(nn.get(U))return nn.get(U);const re=U.replace(/FromIndex$/,""),Oe=U!==re,ut=Kt.includes(re);if(!(re in(Oe?IDBIndex:IDBObjectStore).prototype)||!ut&&!hn.includes(re))return;const At=function(){var un=(0,P.Z)(function*($n,...Fn){const ni=this.transaction($n,ut?"readwrite":"readonly");let Ci=ni.store;return Oe&&(Ci=Ci.index(Fn.shift())),(yield Promise.all([Ci[re](...Fn),ut&&ni.done]))[0]});return function(Fn){return un.apply(this,arguments)}}();return nn.set(U,At),At}!function Ye(S){Ft=S(Ft)}(S=>({...S,get:(U,re,Oe)=>mn(U,re)||S.get(U,re,Oe),has:(U,re)=>!!mn(U,re)||S.has(U,re)}));const ai="@firebase/installations",zt="0.6.4",Mt=1e4,Bt=`w:${zt}`,Vt="FIS_v2",Ot="https://firebaseinstallations.googleapis.com/v1",rt=36e5,it=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(S){return S instanceof ae.ZR&&S.code.includes("request-failed")}function mt({projectId:S}){return`${Ot}/projects/${S}/installations`}function gt(S){return{token:S.token,requestStatus:2,expiresIn:wt(S.expiresIn),creationTime:Date.now()}}function Gt(S,U){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(S,U){const Oe=(yield U.json()).error;return it.create("request-failed",{requestName:S,serverCode:Oe.code,serverMessage:Oe.message,serverStatus:Oe.status})})).apply(this,arguments)}function Pt({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function In(S){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(S){const U=yield S();return U.status>=500&&U.status<600?S():U})).apply(this,arguments)}function wt(S){return Number(S.replace("s","000"))}function xe(){return(xe=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:U},{fid:re}){const Oe=mt(S),ut=Pt(S),At=U.getImmediate({optional:!0});if(At){const ni=yield At.getHeartbeatsHeader();ni&&ut.append("x-firebase-client",ni)}const $n={method:"POST",headers:ut,body:JSON.stringify({fid:re,authVersion:Vt,appId:S.appId,sdkVersion:Bt})},Fn=yield In(()=>fetch(Oe,$n));if(Fn.ok){const ni=yield Fn.json();return{fid:ni.fid||re,registrationStatus:2,refreshToken:ni.refreshToken,authToken:gt(ni.authToken)}}throw yield Gt("Create Installation",Fn)})).apply(this,arguments)}function J(S){return new Promise(U=>{setTimeout(U,S)})}const ft=/^[cdef][\w-]{21}$/,Rt="";function Ht(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const re=function _t(S){return function Ae(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return ft.test(re)?re:Rt}catch{return Rt}}function Yt(S){return`${S.appName}!${S.appId}`}const Te=new Map;function $e(S,U){const re=Yt(S);yt(re,U),function ze(S,U){const re=function Sn(){return!Tt&&"BroadcastChannel"in self&&(Tt=new BroadcastChannel("[Firebase] FID Change"),Tt.onmessage=S=>{yt(S.data.key,S.data.fid)}),Tt}();re&&re.postMessage({key:S,fid:U}),function dn(){0===Te.size&&Tt&&(Tt.close(),Tt=null)}()}(re,U)}function yt(S,U){const re=Te.get(S);if(re)for(const Oe of re)Oe(U)}let Tt=null;const ii="firebase-installations-database",Dt=1,st="firebase-installations-store";let oe=null;function q(){return oe||(oe=function Ze(S,U,{blocked:re,upgrade:Oe,blocking:ut,terminated:At}={}){const un=indexedDB.open(S,U),$n=lt(un);return Oe&&un.addEventListener("upgradeneeded",Fn=>{Oe(lt(un.result),Fn.oldVersion,Fn.newVersion,lt(un.transaction))}),re&&un.addEventListener("blocked",()=>re()),$n.then(Fn=>{At&&Fn.addEventListener("close",()=>At()),ut&&Fn.addEventListener("versionchange",()=>ut())}).catch(()=>{}),$n}(ii,Dt,{upgrade:(S,U)=>{0===U&&S.createObjectStore(st)}})),oe}function N(S,U){return $.apply(this,arguments)}function $(){return($=(0,P.Z)(function*(S,U){const re=Yt(S),ut=(yield q()).transaction(st,"readwrite"),At=ut.objectStore(st),un=yield At.get(re);return yield At.put(U,re),yield ut.done,(!un||un.fid!==U.fid)&&$e(S,U.fid),U})).apply(this,arguments)}function X(S){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(S){const U=Yt(S),Oe=(yield q()).transaction(st,"readwrite");yield Oe.objectStore(st).delete(U),yield Oe.done})).apply(this,arguments)}function Wt(S,U){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,P.Z)(function*(S,U){const re=Yt(S),ut=(yield q()).transaction(st,"readwrite"),At=ut.objectStore(st),un=yield At.get(re),$n=U(un);return void 0===$n?yield At.delete(re):yield At.put($n,re),yield ut.done,$n&&(!un||un.fid!==$n.fid)&&$e(S,$n.fid),$n})).apply(this,arguments)}function Ue(S){return Le.apply(this,arguments)}function Le(){return Le=(0,P.Z)(function*(S){let U;const re=yield Wt(S.appConfig,Oe=>{const ut=function de(S){return Xe(S||{fid:Ht(),registrationStatus:0})}(Oe),At=function pe(S,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(it.create("app-offline"))};const re={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},Oe=function fe(S,U){return pt.apply(this,arguments)}(S,re);return{installationEntry:re,registrationPromise:Oe}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:Fe(S)}:{installationEntry:U}}(S,ut);return U=At.registrationPromise,At.installationEntry});return re.fid===Rt?{installationEntry:yield U}:{installationEntry:re,registrationPromise:U}}),Le.apply(this,arguments)}function pt(){return pt=(0,P.Z)(function*(S,U){try{const re=yield function Ct(S,U){return xe.apply(this,arguments)}(S,U);return N(S.appConfig,re)}catch(re){throw He(re)&&409===re.customData.serverCode?yield X(S.appConfig):yield N(S.appConfig,{fid:U.fid,registrationStatus:0}),re}}),pt.apply(this,arguments)}function Fe(S){return We.apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(S){let U=yield be(S.appConfig);for(;1===U.registrationStatus;)yield J(100),U=yield be(S.appConfig);if(0===U.registrationStatus){const{installationEntry:re,registrationPromise:Oe}=yield Ue(S);return Oe||re}return U})).apply(this,arguments)}function be(S){return Wt(S,U=>{if(!U)throw it.create("installation-not-found");return Xe(U)})}function Xe(S){return function jt(S){return 1===S.registrationStatus&&S.registrationTime+Mt<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function xn(){return(xn=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:U},re){const Oe=function Ln(S,{fid:U}){return`${mt(S)}/${U}/authTokens:generate`}(S,re),ut=function ln(S,{refreshToken:U}){const re=Pt(S);return re.append("Authorization",function ct(S){return`${Vt} ${S}`}(U)),re}(S,re),At=U.getImmediate({optional:!0});if(At){const ni=yield At.getHeartbeatsHeader();ni&&ut.append("x-firebase-client",ni)}const $n={method:"POST",headers:ut,body:JSON.stringify({installation:{sdkVersion:Bt,appId:S.appId}})},Fn=yield In(()=>fetch(Oe,$n));if(Fn.ok)return gt(yield Fn.json());throw yield Gt("Generate Auth Token",Fn)})).apply(this,arguments)}function yi(S){return rr.apply(this,arguments)}function rr(){return rr=(0,P.Z)(function*(S,U=!1){let re;const Oe=yield Wt(S.appConfig,At=>{if(!gi(At))throw it.create("not-registered");const un=At.authToken;if(!U&&function Wn(S){return 2===S.requestStatus&&!function Vi(S){const U=Date.now();return U<S.creationTime||S.creationTime+S.expiresIn<U+rt}(S)}(un))return At;if(1===un.requestStatus)return re=function tn(S,U){return $t.apply(this,arguments)}(S,U),At;{if(!navigator.onLine)throw it.create("app-offline");const $n=function fi(S){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:U})}(At);return re=function Un(S,U){return Qn.apply(this,arguments)}(S,$n),$n}});return re?yield re:Oe.authToken}),rr.apply(this,arguments)}function $t(){return($t=(0,P.Z)(function*(S,U){let re=yield Cn(S.appConfig);for(;1===re.authToken.requestStatus;)yield J(100),re=yield Cn(S.appConfig);const Oe=re.authToken;return 0===Oe.requestStatus?yi(S,U):Oe})).apply(this,arguments)}function Cn(S){return Wt(S,U=>{if(!gi(U))throw it.create("not-registered");return function _r(S){return 1===S.requestStatus&&S.requestTime+Mt<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Qn(){return Qn=(0,P.Z)(function*(S,U){try{const re=yield function fn(S,U){return xn.apply(this,arguments)}(S,U),Oe=Object.assign(Object.assign({},U),{authToken:re});return yield N(S.appConfig,Oe),re}catch(re){if(!He(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const Oe=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield N(S.appConfig,Oe)}else yield X(S.appConfig);throw re}}),Qn.apply(this,arguments)}function gi(S){return void 0!==S&&2===S.registrationStatus}function ho(){return(ho=(0,P.Z)(function*(S){const U=S,{installationEntry:re,registrationPromise:Oe}=yield Ue(U);return Oe?Oe.catch(console.error):yi(U).catch(console.error),re.fid})).apply(this,arguments)}function ys(){return ys=(0,P.Z)(function*(S,U=!1){const re=S;return yield function Ki(S){return On.apply(this,arguments)}(re),(yield yi(re,U)).token}),ys.apply(this,arguments)}function On(){return(On=(0,P.Z)(function*(S){const{registrationPromise:U}=yield Ue(S);U&&(yield U)})).apply(this,arguments)}function vt(S){return it.create("missing-app-config-values",{valueName:S})}const Et="installations",Tn=S=>{const U=S.getProvider("app").getImmediate(),re=function xt(S){if(!S||!S.options)throw vt("App Configuration");if(!S.name)throw vt("App Name");const U=["projectId","apiKey","appId"];for(const re of U)if(!S.options[re])throw vt(re);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(U);return{app:U,appConfig:re,heartbeatServiceProvider:(0,R._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},Yn=S=>{const U=S.getProvider("app").getImmediate(),re=(0,R._getProvider)(U,Et).getImmediate();return{getId:()=>function Dr(S){return ho.apply(this,arguments)}(re),getToken:ut=>function dr(S){return ys.apply(this,arguments)}(re,ut)}};(function wi(){(0,R._registerComponent)(new Pe.wA(Et,Tn,"PUBLIC")),(0,R._registerComponent)(new Pe.wA("installations-internal",Yn,"PRIVATE"))})(),(0,R.registerVersion)(ai,zt),(0,R.registerVersion)(ai,zt,"esm2017");const ui="@firebase/remote-config",Or=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ra{constructor(U,re,Oe,ut){this.client=U,this.storage=re,this.storageCache=Oe,this.logger=ut}isCachedDataFresh(U,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Oe=Date.now()-re,ut=Oe<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${ut}.`),ut}fetch(U){var re=this;return(0,P.Z)(function*(){const[Oe,ut]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(ut&&re.isCachedDataFresh(U.cacheMaxAgeMillis,Oe))return ut;U.eTag=ut&&ut.eTag;const At=yield re.client.fetch(U),un=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===At.status&&un.push(re.storage.setLastSuccessfulFetchResponse(At)),yield Promise.all(un),At})()}}function sa(S=navigator){return S.languages&&S.languages[0]||S.language}class xo{constructor(U,re,Oe,ut,At,un){this.firebaseInstallations=U,this.sdkVersion=re,this.namespace=Oe,this.projectId=ut,this.apiKey=At,this.appId=un}fetch(U){var re=this;return(0,P.Z)(function*(){const[Oe,ut]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},Fn={sdk_version:re.sdkVersion,app_instance_id:Oe,app_instance_id_token:ut,app_id:re.appId,language_code:sa()},ni={method:"POST",headers:$n,body:JSON.stringify(Fn)},Ci=fetch(un,ni),Ii=new Promise((Ro,oo)=>{U.signal.addEventListener(()=>{const fd=new Error("The operation was aborted.");fd.name="AbortError",oo(fd)})});let Ks;try{yield Promise.race([Ci,Ii]),Ks=yield Ci}catch(Ro){let oo="fetch-client-network";throw"AbortError"===Ro?.name&&(oo="fetch-timeout"),Or.create(oo,{originalErrorMessage:Ro?.message})}let Fs=Ks.status;const ac=Ks.headers.get("ETag")||void 0;let ku,Ul;if(200===Ks.status){let Ro;try{Ro=yield Ks.json()}catch(oo){throw Or.create("fetch-client-parse",{originalErrorMessage:oo?.message})}ku=Ro.entries,Ul=Ro.state}if("INSTANCE_STATE_UNSPECIFIED"===Ul?Fs=500:"NO_CHANGE"===Ul?Fs=304:("NO_TEMPLATE"===Ul||"EMPTY_CONFIG"===Ul)&&(ku={}),304!==Fs&&200!==Fs)throw Or.create("fetch-status",{httpStatus:Fs});return{status:Fs,eTag:ac,config:ku}})()}}class Ba{constructor(U,re){this.client=U,this.storage=re}fetch(U){var re=this;return(0,P.Z)(function*(){const Oe=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(U,Oe)})()}attemptFetch(U,{throttleEndTimeMillis:re,backoffCount:Oe}){var ut=this;return(0,P.Z)(function*(){yield function Ja(S,U){return new Promise((re,Oe)=>{const ut=Math.max(U-Date.now(),0),At=setTimeout(re,ut);S.addEventListener(()=>{clearTimeout(At),Oe(Or.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,re);try{const At=yield ut.client.fetch(U);return yield ut.storage.deleteThrottleMetadata(),At}catch(At){if(!function La(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const U=Number(S.customData.httpStatus);return 429===U||500===U||503===U||504===U}(At))throw At;const un={throttleEndTimeMillis:Date.now()+(0,ae.$s)(Oe),backoffCount:Oe+1};return yield ut.storage.setThrottleMetadata(un),ut.attemptFetch(U,un)}})()}}class Va{constructor(U,re,Oe,ut,At){this.app=U,this._client=re,this._storageCache=Oe,this._storage=ut,this._logger=At,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zs(S,U){const re=S.target.error||void 0;return Or.create(U,{originalErrorMessage:re&&re?.message})}const Os="app_namespace_store";class oa{constructor(U,re,Oe,ut=function Dl(){return new Promise((S,U)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=Oe=>{U(Zs(Oe,"storage-open"))},re.onsuccess=Oe=>{S(Oe.target.result)},re.onupgradeneeded=Oe=>{0===Oe.oldVersion&&Oe.target.result.createObjectStore(Os,{keyPath:"compositeKey"})}}catch(re){U(Or.create("storage-open",{originalErrorMessage:re?.message}))}})}()){this.appId=U,this.appName=re,this.namespace=Oe,this.openDbPromise=ut}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var re=this;return(0,P.Z)(function*(){const Oe=yield re.openDbPromise;return new Promise((ut,At)=>{const $n=Oe.transaction([Os],"readonly").objectStore(Os),Fn=re.createCompositeKey(U);try{const ni=$n.get(Fn);ni.onerror=Ci=>{At(Zs(Ci,"storage-get"))},ni.onsuccess=Ci=>{const Ii=Ci.target.result;ut(Ii?Ii.value:void 0)}}catch(ni){At(Or.create("storage-get",{originalErrorMessage:ni?.message}))}})})()}set(U,re){var Oe=this;return(0,P.Z)(function*(){const ut=yield Oe.openDbPromise;return new Promise((At,un)=>{const Fn=ut.transaction([Os],"readwrite").objectStore(Os),ni=Oe.createCompositeKey(U);try{const Ci=Fn.put({compositeKey:ni,value:re});Ci.onerror=Ii=>{un(Zs(Ii,"storage-set"))},Ci.onsuccess=()=>{At()}}catch(Ci){un(Or.create("storage-set",{originalErrorMessage:Ci?.message}))}})})()}delete(U){var re=this;return(0,P.Z)(function*(){const Oe=yield re.openDbPromise;return new Promise((ut,At)=>{const $n=Oe.transaction([Os],"readwrite").objectStore(Os),Fn=re.createCompositeKey(U);try{const ni=$n.delete(Fn);ni.onerror=Ci=>{At(Zs(Ci,"storage-delete"))},ni.onsuccess=()=>{ut()}}catch(ni){At(Or.create("storage-delete",{originalErrorMessage:ni?.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class mo{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,P.Z)(function*(){const re=U.storage.getLastFetchStatus(),Oe=U.storage.getLastSuccessfulFetchTimestampMillis(),ut=U.storage.getActiveConfig(),At=yield re;At&&(U.lastFetchStatus=At);const un=yield Oe;un&&(U.lastSuccessfulFetchTimestampMillis=un);const $n=yield ut;$n&&(U.activeConfig=$n)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Ua(){return la.apply(this,arguments)}function la(){return(la=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function us(){(0,R._registerComponent)(new Pe.wA("remote-config",function S(U,{instanceIdentifier:re}){const Oe=U.getProvider("app").getImmediate(),ut=U.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Or.create("registration-window");if(!(0,ae.hl)())throw Or.create("indexed-db-unavailable");const{projectId:At,apiKey:un,appId:$n}=Oe.options;if(!At)throw Or.create("registration-project-id");if(!un)throw Or.create("registration-api-key");if(!$n)throw Or.create("registration-app-id");const Fn=new oa($n,Oe.name,re=re||"firebase"),ni=new mo(Fn),Ci=new je.Yd(ui);Ci.logLevel=je.in.ERROR;const Ii=new xo(ut,R.SDK_VERSION,re,At,un,$n),Ks=new Ba(Ii,Fn),Fs=new ra(Ks,Fn,ni,Ci),ac=new Va(Oe,Fs,ni,Fn,Ci);return function zr(S){const U=(0,ae.m9)(S);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(ac),ac},"PUBLIC").setMultipleInstances(!0)),(0,R.registerVersion)(ui,"0.4.4"),(0,R.registerVersion)(ui,"0.4.4","esm2017")}();const Ia=(S,U)=>U.some(re=>S instanceof re);let $s,Da;const go=new WeakMap,Ds=new WeakMap,lr=new WeakMap,zo=new WeakMap,ca=new WeakMap;let jo={get(S,U,re){if(S instanceof IDBTransaction){if("done"===U)return Ds.get(S);if("objectStoreNames"===U)return S.objectStoreNames||lr.get(S);if("store"===U)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return ts(S[U])},set:(S,U,re)=>(S[U]=re,!0),has:(S,U)=>S instanceof IDBTransaction&&("done"===U||"store"===U)||U in S};function ua(S){return"function"==typeof S?function Zl(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ic(){return Da||(Da=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...U){return S.apply(Lr(this),U),ts(go.get(this))}:function(...U){return ts(S.apply(Lr(this),U))}:function(U,...re){const Oe=S.call(Lr(this),U,...re);return lr.set(Oe,U.sort?U.sort():[U]),ts(Oe)}}(S):(S instanceof IDBTransaction&&function Tr(S){if(Ds.has(S))return;const U=new Promise((re,Oe)=>{const ut=()=>{S.removeEventListener("complete",At),S.removeEventListener("error",un),S.removeEventListener("abort",un)},At=()=>{re(),ut()},un=()=>{Oe(S.error||new DOMException("AbortError","AbortError")),ut()};S.addEventListener("complete",At),S.addEventListener("error",un),S.addEventListener("abort",un)});Ds.set(S,U)}(S),Ia(S,function el(){return $s||($s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,jo):S)}function ts(S){if(S instanceof IDBRequest)return function fr(S){const U=new Promise((re,Oe)=>{const ut=()=>{S.removeEventListener("success",At),S.removeEventListener("error",un)},At=()=>{re(ts(S.result)),ut()},un=()=>{Oe(S.error),ut()};S.addEventListener("success",At),S.addEventListener("error",un)});return U.then(re=>{re instanceof IDBCursor&&go.set(re,S)}).catch(()=>{}),ca.set(U,S),U}(S);if(zo.has(S))return zo.get(S);const U=ua(S);return U!==S&&(zo.set(S,U),ca.set(U,S)),U}const Lr=S=>ca.get(S);function xa(S,U,{blocked:re,upgrade:Oe,blocking:ut,terminated:At}={}){const un=indexedDB.open(S,U),$n=ts(un);return Oe&&un.addEventListener("upgradeneeded",Fn=>{Oe(ts(un.result),Fn.oldVersion,Fn.newVersion,ts(un.transaction))}),re&&un.addEventListener("blocked",()=>re()),$n.then(Fn=>{At&&Fn.addEventListener("close",()=>At()),ut&&Fn.addEventListener("versionchange",()=>ut())}).catch(()=>{}),$n}function qs(S,{blocked:U}={}){const re=indexedDB.deleteDatabase(S);return U&&re.addEventListener("blocked",()=>U()),ts(re).then(()=>{})}const _o=["get","getKey","getAll","getAllKeys","count"],hs=["put","add","delete","clear"],ss=new Map;function os(S,U){if(!(S instanceof IDBDatabase)||U in S||"string"!=typeof U)return;if(ss.get(U))return ss.get(U);const re=U.replace(/FromIndex$/,""),Oe=U!==re,ut=hs.includes(re);if(!(re in(Oe?IDBIndex:IDBObjectStore).prototype)||!ut&&!_o.includes(re))return;const At=function(){var un=(0,P.Z)(function*($n,...Fn){const ni=this.transaction($n,ut?"readwrite":"readonly");let Ci=ni.store;return Oe&&(Ci=Ci.index(Fn.shift())),(yield Promise.all([Ci[re](...Fn),ut&&ni.done]))[0]});return function(Fn){return un.apply(this,arguments)}}();return ss.set(U,At),At}!function Di(S){jo=S(jo)}(S=>({...S,get:(U,re,Oe)=>os(U,re)||S.get(U,re,Oe),has:(U,re)=>!!os(U,re)||S.has(U,re)}));const si="/firebase-messaging-sw.js",Qs="/firebase-cloud-messaging-push-scope",Q="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",W="https://fcmregistrations.googleapis.com/v1",z="google.c.a.c_id",Ee="google.c.a.c_l",sn="google.c.a.ts",Kn="google.c.a.e";var on=(()=>{return(S=on||(on={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",on;var S})();function di(S){const U=new Uint8Array(S);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xs(S){const re=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Oe=atob(re),ut=new Uint8Array(Oe.length);for(let At=0;At<Oe.length;++At)ut[At]=Oe.charCodeAt(At);return ut}const Sr="fcm_token_details_db",yr=5,ql="fcm_token_object_Store";function xs(){return xs=(0,P.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(At=>At.name).includes(Sr))return null;let U=null;return(yield xa(Sr,yr,{upgrade:(Oe=(0,P.Z)(function*(ut,At,un,$n){var Fn;if(At<2||!ut.objectStoreNames.contains(ql))return;const ni=$n.objectStore(ql),Ci=yield ni.index("fcmSenderId").get(S);if(yield ni.clear(),Ci)if(2===At){const Ii=Ci;if(!Ii.auth||!Ii.p256dh||!Ii.endpoint)return;U={token:Ii.fcmToken,createTime:null!==(Fn=Ii.createTime)&&void 0!==Fn?Fn:Date.now(),subscriptionOptions:{auth:Ii.auth,p256dh:Ii.p256dh,endpoint:Ii.endpoint,swScope:Ii.swScope,vapidKey:"string"==typeof Ii.vapidKey?Ii.vapidKey:di(Ii.vapidKey)}}}else if(3===At){const Ii=Ci;U={token:Ii.fcmToken,createTime:Ii.createTime,subscriptionOptions:{auth:di(Ii.auth),p256dh:di(Ii.p256dh),endpoint:Ii.endpoint,swScope:Ii.swScope,vapidKey:di(Ii.vapidKey)}}}else if(4===At){const Ii=Ci;U={token:Ii.fcmToken,createTime:Ii.createTime,subscriptionOptions:{auth:di(Ii.auth),p256dh:di(Ii.p256dh),endpoint:Ii.endpoint,swScope:Ii.swScope,vapidKey:di(Ii.vapidKey)}}}}),function(At,un,$n,Fn){return Oe.apply(this,arguments)})})).close(),yield qs(Sr),yield qs("fcm_vapid_details_db"),yield qs("undefined"),function tl(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:U}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}(U)?U:null;var Oe}),xs.apply(this,arguments)}const za="firebase-messaging-database",ja=1,Ho="firebase-messaging-store";let Js=null;function Hr(){return Js||(Js=xa(za,ja,{upgrade:(S,U)=>{0===U&&S.createObjectStore(Ho)}})),Js}function Ts(S){return eo.apply(this,arguments)}function eo(){return eo=(0,P.Z)(function*(S){const U=xl(S),Oe=yield(yield Hr()).transaction(Ho).objectStore(Ho).get(U);if(Oe)return Oe;{const ut=yield function da(S){return xs.apply(this,arguments)}(S.appConfig.senderId);if(ut)return yield yo(S,ut),ut}}),eo.apply(this,arguments)}function yo(S,U){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,P.Z)(function*(S,U){const re=xl(S),ut=(yield Hr()).transaction(Ho,"readwrite");return yield ut.objectStore(Ho).put(U,re),yield ut.done,U})).apply(this,arguments)}function ha(){return(ha=(0,P.Z)(function*(S){const U=xl(S),Oe=(yield Hr()).transaction(Ho,"readwrite");yield Oe.objectStore(Ho).delete(U),yield Oe.done})).apply(this,arguments)}function xl({appConfig:S}){return S.appId}const Br=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ps(S,U){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(S,U){const re=yield ma(S),Oe=ga(U),ut={method:"POST",headers:re,body:JSON.stringify(Oe)};let At;try{At=yield(yield fetch(pa(S.appConfig),ut)).json()}catch(un){throw Br.create("token-subscribe-failed",{errorInfo:un?.toString()})}if(At.error)throw Br.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw Br.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function Ta(){return(Ta=(0,P.Z)(function*(S,U){const re=yield ma(S),Oe=ga(U.subscriptionOptions),ut={method:"PATCH",headers:re,body:JSON.stringify(Oe)};let At;try{At=yield(yield fetch(`${pa(S.appConfig)}/${U.token}`,ut)).json()}catch(un){throw Br.create("token-update-failed",{errorInfo:un?.toString()})}if(At.error)throw Br.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw Br.create("token-update-no-token");return At.token})).apply(this,arguments)}function Sa(S,U){return bs.apply(this,arguments)}function bs(){return(bs=(0,P.Z)(function*(S,U){const Oe={method:"DELETE",headers:yield ma(S)};try{const At=yield(yield fetch(`${pa(S.appConfig)}/${U}`,Oe)).json();if(At.error)throw Br.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(ut){throw Br.create("token-unsubscribe-failed",{errorInfo:ut?.toString()})}})).apply(this,arguments)}function pa({projectId:S}){return`${W}/projects/${S}/registrations`}function ma(S){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*({appConfig:S,installations:U}){const re=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function ga({p256dh:S,auth:U,endpoint:re,vapidKey:Oe}){const ut={web:{endpoint:re,auth:U,p256dh:S}};return Oe!==Q&&(ut.web.applicationPubKey=Oe),ut}const Tl=6048e5;function to(){return to=(0,P.Z)(function*(S){const U=yield function nl(S,U){return Ql.apply(this,arguments)}(S.swRegistration,S.vapidKey),re={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:U.endpoint,auth:di(U.getKey("auth")),p256dh:di(U.getKey("p256dh"))},Oe=yield Ts(S.firebaseDependencies);if(Oe){if(function Xl(S,U){return U.vapidKey===S.vapidKey&&U.endpoint===S.endpoint&&U.auth===S.auth&&U.p256dh===S.p256dh}(Oe.subscriptionOptions,re))return Date.now()>=Oe.createTime+Tl?function Wi(S,U){return io.apply(this,arguments)}(S,{token:Oe.token,createTime:Date.now(),subscriptionOptions:re}):Oe.token;try{yield Sa(S.firebaseDependencies,Oe.token)}catch(ut){console.warn(ut)}return Ao(S.firebaseDependencies,re)}return Ao(S.firebaseDependencies,re)}),to.apply(this,arguments)}function no(){return no=(0,P.Z)(function*(S){const U=yield Ts(S.firebaseDependencies);U&&(yield Sa(S.firebaseDependencies,U.token),yield function fs(S){return ha.apply(this,arguments)}(S.firebaseDependencies));const re=yield S.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()}),no.apply(this,arguments)}function io(){return io=(0,P.Z)(function*(S,U){try{const re=yield function ir(S,U){return Ta.apply(this,arguments)}(S.firebaseDependencies,U),Oe=Object.assign(Object.assign({},U),{token:re,createTime:Date.now()});return yield yo(S.firebaseDependencies,Oe),re}catch(re){throw yield function Ji(S){return no.apply(this,arguments)}(S),re}}),io.apply(this,arguments)}function Ao(S,U){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(S,U){const Oe={token:yield ps(S,U),createTime:Date.now(),subscriptionOptions:U};return yield yo(S,Oe),Oe.token})).apply(this,arguments)}function Ql(){return(Ql=(0,P.Z)(function*(S,U){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xs(U)})})).apply(this,arguments)}function Aa(S){const U={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Jl(S,U){if(!U.notification)return;S.notification={};const re=U.notification.title;re&&(S.notification.title=re);const Oe=U.notification.body;Oe&&(S.notification.body=Oe);const ut=U.notification.image;ut&&(S.notification.image=ut);const At=U.notification.icon;At&&(S.notification.icon=At)}(U,S),function il(S,U){U.data&&(S.data=U.data)}(U,S),function V(S,U){var re,Oe,ut,At,un;if(!(U.fcmOptions||null!==(re=U.notification)&&void 0!==re&&re.click_action))return;S.fcmOptions={};const $n=null!==(ut=null===(Oe=U.fcmOptions)||void 0===Oe?void 0:Oe.link)&&void 0!==ut?ut:null===(At=U.notification)||void 0===At?void 0:At.click_action;$n&&(S.fcmOptions.link=$n);const Fn=null===(un=U.fcmOptions)||void 0===un?void 0:un.analytics_label;Fn&&(S.fcmOptions.analyticsLabel=Fn)}(U,S),U}function H(S,U){const re=[];for(let Oe=0;Oe<S.length;Oe++)re.push(S.charAt(Oe)),Oe<U.length&&re.push(U.charAt(Oe));return re.join("")}function Je(S){return Br.create("missing-app-config-values",{valueName:S})}H("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),H("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rn{constructor(U,re,Oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ut=function _e(S){if(!S||!S.options)throw Je("App Configuration Object");if(!S.name)throw Je("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:re}=S;for(const Oe of U)if(!re[Oe])throw Je(Oe);return{appName:S.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:ut,installations:re,analyticsProvider:Oe}}_delete(){return Promise.resolve()}}function bn(S){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,P.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(si,{scope:Qs}),S.swRegistration.update().catch(()=>{})}catch(U){throw Br.create("failed-service-worker-registration",{browserErrorMessage:U?.message})}})).apply(this,arguments)}function Si(){return(Si=(0,P.Z)(function*(S,U){if(!U&&!S.swRegistration&&(yield bn(S)),U||!S.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw Br.create("invalid-sw-registration");S.swRegistration=U}})).apply(this,arguments)}function Ni(){return(Ni=(0,P.Z)(function*(S,U){U?S.vapidKey=U:S.vapidKey||(S.vapidKey=Q)})).apply(this,arguments)}function mi(){return mi=(0,P.Z)(function*(S,U){if(!navigator)throw Br.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Br.create("permission-blocked");return yield function Gi(S,U){return Ni.apply(this,arguments)}(S,U?.vapidKey),yield function er(S,U){return Si.apply(this,arguments)}(S,U?.serviceWorkerRegistration),function vo(S){return to.apply(this,arguments)}(S)}),mi.apply(this,arguments)}function Ws(){return(Ws=(0,P.Z)(function*(S,U,re){const Oe=function Nn(S){switch(S){case on.NOTIFICATION_CLICKED:return"notification_open";case on.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(U);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(Oe,{message_id:re[z],message_name:re[Ee],message_time:re[sn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ms(){return ms=(0,P.Z)(function*(S,U){const re=U.data;if(!re.isFirebaseMessaging)return;S.onMessageHandler&&re.messageType===on.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Aa(re)):S.onMessageHandler.next(Aa(re)));const Oe=re.data;(function ee(S){return"object"==typeof S&&!!S&&z in S})(Oe)&&"1"===Oe[Kn]&&(yield function pr(S,U,re){return Ws.apply(this,arguments)}(S,re.messageType,Oe))}),ms.apply(this,arguments)}const Rn="@firebase/messaging",En=S=>{const U=new rn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function Zn(S,U){return ms.apply(this,arguments)}(U,re)),U},as=S=>{const U=S.getProvider("messaging").getImmediate();return{getToken:Oe=>function gn(S,U){return mi.apply(this,arguments)}(U,Oe)}};function Qd(){return ec.apply(this,arguments)}function ec(){return(ec=(0,P.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dc(){(0,R._registerComponent)(new Pe.wA("messaging",En,"PUBLIC")),(0,R._registerComponent)(new Pe.wA("messaging-internal",as,"PRIVATE")),(0,R.registerVersion)(Rn,"0.12.4"),(0,R.registerVersion)(Rn,"0.12.4","esm2017")}();const vi="analytics",_a="firebase_id",Xc="origin",Rr=6e4,ri="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sl="https://www.googletagmanager.com/gtag/js",bi=new je.Yd("@firebase/analytics"),xi=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zn(S){if(!S.startsWith(Sl)){const U=xi.create("invalid-gtag-resource",{gtagURL:S});return bi.warn(U.message),""}return S}function ns(S){return Promise.all(S.map(U=>U.catch(re=>re)))}function Eo(){return(Eo=(0,P.Z)(function*(S,U,re,Oe,ut,At){const un=Oe[ut];try{if(un)yield U[un];else{const Fn=(yield ns(re)).find(ni=>ni.measurementId===ut);Fn&&(yield U[Fn.appId])}}catch($n){bi.error($n)}S("config",ut,At)})).apply(this,arguments)}function Pl(){return(Pl=(0,P.Z)(function*(S,U,re,Oe,ut){try{let At=[];if(ut&&ut.send_to){let un=ut.send_to;Array.isArray(un)||(un=[un]);const $n=yield ns(re);for(const Fn of un){const ni=$n.find(Ii=>Ii.measurementId===Fn),Ci=ni&&U[ni.appId];if(!Ci){At=[];break}At.push(Ci)}}0===At.length&&(At=Object.values(U)),yield Promise.all(At),S("event",Oe,ut||{})}catch(At){bi.error(At)}})).apply(this,arguments)}const Rl=30,Wa=new class Ma{constructor(U={},re=1e3){this.throttleMetadata=U,this.intervalMillis=re}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,re){this.throttleMetadata[U]=re}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function Qt(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Pi(){return(Pi=(0,P.Z)(function*(S){var U;const{appId:re,apiKey:Oe}=S,ut={method:"GET",headers:Qt(Oe)},At=ri.replace("{app-id}",re),un=yield fetch(At,ut);if(200!==un.status&&304!==un.status){let $n="";try{const Fn=yield un.json();null!==(U=Fn.error)&&void 0!==U&&U.message&&($n=Fn.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:un.status,responseMessage:$n})}return un.json()})).apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(S,U=Wa,re){const{appId:Oe,apiKey:ut,measurementId:At}=S.options;if(!Oe)throw xi.create("no-app-id");if(!ut){if(At)return{measurementId:At,appId:Oe};throw xi.create("no-api-key")}const un=U.getThrottleMetadata(Oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$n=new Mu;return setTimeout((0,P.Z)(function*(){$n.abort()}),void 0!==re?re:Rr),Ga({appId:Oe,apiKey:ut,measurementId:At},un,$n,U)})).apply(this,arguments)}function Ga(S,U,re){return sl.apply(this,arguments)}function sl(){return sl=(0,P.Z)(function*(S,{throttleEndTimeMillis:U,backoffCount:re},Oe,ut=Wa){var At;const{appId:un,measurementId:$n}=S;try{yield function Ka(S,U){return new Promise((re,Oe)=>{const ut=Math.max(U-Date.now(),0),At=setTimeout(re,ut);S.addEventListener(()=>{clearTimeout(At),Oe(xi.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(Oe,U)}catch(Fn){if($n)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$n} provided in the "measurementId" field in the local Firebase config. [${Fn?.message}]`),{appId:un,measurementId:$n};throw Fn}try{const Fn=yield function nc(S){return Pi.apply(this,arguments)}(S);return ut.deleteThrottleMetadata(un),Fn}catch(Fn){const ni=Fn;if(!function xc(S){if(!(S instanceof ae.ZR&&S.customData))return!1;const U=Number(S.customData.httpStatus);return 429===U||500===U||503===U||504===U}(ni)){if(ut.deleteThrottleMetadata(un),$n)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$n} provided in the "measurementId" field in the local Firebase config. [${ni?.message}]`),{appId:un,measurementId:$n};throw Fn}const Ci=503===Number(null===(At=ni?.customData)||void 0===At?void 0:At.httpStatus)?(0,ae.$s)(re,ut.intervalMillis,Rl):(0,ae.$s)(re,ut.intervalMillis),Ii={throttleEndTimeMillis:Date.now()+Ci,backoffCount:re+1};return ut.setThrottleMetadata(un,Ii),bi.debug(`Calling attemptFetch again in ${Ci} millis`),Ga(S,Ii,Oe,ut)}}),sl.apply(this,arguments)}class Mu{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let ol,B;function Gs(){return(Gs=(0,P.Z)(function*(S,U,re,Oe,ut){if(ut&&ut.global)S("event",re,Oe);else{const At=yield U;S("event",re,Object.assign(Object.assign({},Oe),{send_to:At}))}})).apply(this,arguments)}function Lt(){return(Lt=(0,P.Z)(function*(){if(!(0,ae.hl)())return bi.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(S){return bi.warn(xi.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function jn(){return jn=(0,P.Z)(function*(S,U,re,Oe,ut,At,un){var $n;const Fn=function Au(S){return Xt.apply(this,arguments)}(S);Fn.then(Fs=>{re[Fs.measurementId]=Fs.appId,S.options.measurementId&&Fs.measurementId!==S.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fs=>bi.error(Fs)),U.push(Fn);const ni=function ve(){return Lt.apply(this,arguments)}().then(Fs=>{if(Fs)return Oe.getId()}),[Ci,Ii]=yield Promise.all([Fn,ni]);(function $a(S){const U=window.document.getElementsByTagName("script");for(const re of Object.values(U))if(re.src&&re.src.includes(Sl)&&re.src.includes(S))return re;return null})(At)||function Rs(S,U){const re=function Al(S,U){let re;return window.trustedTypes&&(re=window.trustedTypes.createPolicy(S,U)),re}("firebase-js-sdk-policy",{createScriptURL:zn}),Oe=document.createElement("script"),ut=`${Sl}?l=${S}&id=${U}`;Oe.src=re?re?.createScriptURL(ut):ut,Oe.async=!0,document.head.appendChild(Oe)}(At,Ci.measurementId),B&&(ut("consent","default",B),function Y(S){B=S}(void 0)),ut("js",new Date);const Ks=null!==($n=un?.config)&&void 0!==$n?$n:{};return Ks[Xc]="firebase",Ks.update=!0,null!=Ii&&(Ks[_a]=Ii),ut("config",Ci.measurementId,Ks),ol&&(ut("set",ol),function he(S){ol=S}(void 0)),Ci.measurementId}),jn.apply(this,arguments)}class Hn{constructor(U){this.app=U}_delete(){return delete Ei[this.app.options.appId],Promise.resolve()}}let Ei={},kr=[];const Oa={};let wo,wr,ws="dataLayer",Yo="gtag",Mo=!1;function cd(S,U,re){!function kl(){const S=[];if((0,ae.ru)()&&S.push("This is a browser extension environment."),(0,ae.zI)()||S.push("Cookies are not available."),S.length>0){const U=S.map((Oe,ut)=>`(${ut+1}) ${Oe}`).join(" "),re=xi.create("invalid-analytics-context",{errorInfo:U});bi.warn(re.message)}}();const Oe=S.options.appId;if(!Oe)throw xi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw xi.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ei[Oe])throw xi.create("already-exists",{id:Oe});if(!Mo){!function ld(S){let U=[];Array.isArray(window[S])?U=window[S]:window[S]=U}(ws);const{wrappedGtag:At,gtagCore:un}=function ks(S,U,re,Oe,ut){let At=function(...un){window[Oe].push(arguments)};return window[ut]&&"function"==typeof window[ut]&&(At=window[ut]),window[ut]=function eu(S,U,re,Oe){function At(){return At=(0,P.Z)(function*(un,...$n){try{if("event"===un){const[Fn,ni]=$n;yield function Ol(S,U,re,Oe,ut){return Pl.apply(this,arguments)}(S,U,re,Fn,ni)}else if("config"===un){const[Fn,ni]=$n;yield function Ml(S,U,re,Oe,ut,At){return Eo.apply(this,arguments)}(S,U,re,Oe,Fn,ni)}else if("consent"===un){const[Fn]=$n;S("consent","update",Fn)}else if("get"===un){const[Fn,ni,Ci]=$n;S("get",Fn,ni,Ci)}else if("set"===un){const[Fn]=$n;S("set",Fn)}else S(un,...$n)}catch(Fn){bi.error(Fn)}}),At.apply(this,arguments)}return function ut(un){return At.apply(this,arguments)}}(At,S,U,re),{gtagCore:At,wrappedGtag:window[ut]}}(Ei,kr,Oa,ws,Yo);wr=At,wo=un,Mo=!0}return Ei[Oe]=function _n(S,U,re,Oe,ut,At,un){return jn.apply(this,arguments)}(S,kr,Oa,U,wo,ws,re),new Hn(S)}function As(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Ou="@firebase/analytics";!function ls(){(0,R._registerComponent)(new Pe.wA(vi,(U,{options:re})=>cd(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,R._registerComponent)(new Pe.wA("analytics-internal",function S(U){try{const re=U.getProvider(vi).getImmediate();return{logEvent:(Oe,ut,At)=>function ic(S,U,re,Oe){S=(0,ae.m9)(S),function eh(S,U,re,Oe,ut){return Gs.apply(this,arguments)}(wr,Ei[S.app.options.appId],U,re,Oe).catch(ut=>bi.error(ut))}(re,Oe,ut,At)}}catch(re){throw xi.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,R.registerVersion)(Ou,"0.10.0"),(0,R.registerVersion)(Ou,"0.10.0","esm2017")}();var ih=x(4408),Ar=x(7565);const su=new class Pa extends Ar.v{}(class al extends ih.o{constructor(U,re){super(U,re),this.scheduler=U,this.work=re}schedule(U,re=0){return re>0?super.schedule(U,re):(this.delay=re,this.state=U,this.scheduler.flush(this),this)}execute(U,re){return re>0||this.closed?super.execute(U,re):this._execute(U,re)}requestAsyncId(U,re,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(U,re,Oe):(U.flush(this),0)}});var Pu=x(4986),Sc=x(9751),ll=x(8505),qo=x(9468),Fl=x(5363);const Oo=new f.GfV("7.6.1"),Ra="__angularfire_symbol__analyticsIsSupportedValue",rc="__angularfire_symbol__analyticsIsSupported",Po="__angularfire_symbol__remoteConfigIsSupportedValue",Ru="__angularfire_symbol__remoteConfigIsSupported",sc="__angularfire_symbol__messagingIsSupportedValue",ou="__angularfire_symbol__messagingIsSupported";function Mc(S,U,re){if(U){if(1===U.length)return U[0];const At=U.filter(un=>un.app===re);if(1===At.length)return At[0]}return re.container.getProvider(S).getImmediate({optional:!0})}globalThis[rc]||(globalThis[rc]=As().then(S=>globalThis[Ra]=S).catch(()=>globalThis[Ra]=!1)),globalThis[ou]||(globalThis[ou]=Qd().then(S=>globalThis[sc]=S).catch(()=>globalThis[sc]=!1)),globalThis[Ru]||(globalThis[Ru]=Ua().then(S=>globalThis[Po]=S).catch(()=>globalThis[Po]=!1));const dd=(S,U)=>{const re=U?[U]:(0,O.C6)(),Oe=[];return re.forEach(ut=>{ut.container.getProvider(S).instances.forEach(un=>{Oe.includes(un)||Oe.push(un)})}),Oe};function Ya(){}class Bl{constructor(U,re=su){this.zone=U,this.delegate=re}now(){return this.delegate.now()}schedule(U,re,Oe){const ut=this.zone;return this.delegate.schedule(function(un){ut.runGuarded(()=>{U.apply(this,[un])})},re,Oe)}}class ya{constructor(U){this.zone=U,this.task=null}call(U,re){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)),re.pipe((0,ll.b)({next:Oe,complete:Oe,error:Oe})).subscribe(U).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lu=(()=>{class S{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new Bl(Zone.current)),this.insideAngular=re.run(()=>new Bl(Zone.current,Pu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(re){return new(re||S)(f.LFG(f.R0b))},S.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function oc(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function cl(S){return oc().ngZone.run(()=>S())}function Vr(S){return oc(),function Vl(S){return function(re){return(re=re.lift(new ya(S.ngZone))).pipe((0,qo.R)(S.outsideAngular),(0,Fl.Q)(S.insideAngular))}}(oc())(S)}const Oc=(S,U)=>function(){const Oe=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),cl(()=>S.apply(void 0,Oe))},ul=(S,U)=>function(){let re;const Oe=arguments;for(let At=0;At<arguments.length;At++)"function"==typeof Oe[At]&&(U&&(re||(re=cl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)))),Oe[At]=Oc(Oe[At],re));const ut=function rh(S){return oc().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,Oe));if(!U){if(ut instanceof Sc.y){const At=oc();return ut.pipe((0,qo.R)(At.outsideAngular),(0,Fl.Q)(At.insideAngular))}return cl(()=>ut)}return ut instanceof Sc.y?ut.pipe(Vr):ut instanceof Promise?cl(()=>new Promise((At,un)=>ut.then($n=>cl(()=>At($n)),$n=>cl(()=>un($n))))):"function"==typeof ut&&re?function(){return setTimeout(()=>{re&&"scheduled"===re.state&&re.invoke()},10),ut.apply(this,arguments)}:cl(()=>ut)}},1389:(vn,ot,x)=>{x.d(ot,{$:()=>si,A:()=>ge,D:()=>Be,I:()=>ki,J:()=>Tn,L:()=>Pr,N:()=>Wt,P:()=>_n,Q:()=>oa,R:()=>Ko,U:()=>aa,V:()=>Ua,W:()=>la,X:()=>ds,Y:()=>el,Z:()=>Ic,_:()=>ca,a:()=>bo,a0:()=>Q,a1:()=>z,a2:()=>qr,a3:()=>ql,a4:()=>xs,a5:()=>za,a6:()=>Ho,a7:()=>Hr,a8:()=>eo,a9:()=>Ss,aA:()=>Ze,aB:()=>rc,aC:()=>X,aD:()=>Jt,aE:()=>ll,aF:()=>ru,aG:()=>gr,aH:()=>ji,aL:()=>rl,aO:()=>$s,aa:()=>fs,ab:()=>xl,ac:()=>fa,ad:()=>ir,ae:()=>Sa,af:()=>pa,ai:()=>Tl,aj:()=>to,ak:()=>Ji,an:()=>Zl,ao:()=>Jl,aq:()=>Ni,ar:()=>Rn,as:()=>hn,at:()=>Xe,au:()=>Fe,av:()=>Ye,aw:()=>Ii,ax:()=>ou,ay:()=>jt,az:()=>Re,b:()=>Tu,c:()=>wr,d:()=>cd,e:()=>tu,f:()=>Ou,g:()=>Pa,h:()=>ih,i:()=>tc,j:()=>Pu,k:()=>Ul,l:()=>I,m:()=>fd,o:()=>Yh,p:()=>ye,r:()=>E,s:()=>ro,u:()=>ve});var f=x(5861),O=x(2090),P=x(6881),R=x(7582),ae=x(1877),Pe=x(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bt=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new ae.Yd("@firebase/auth");function Ft(D,...g){Ve.logLevel<=ae.in.ERROR&&Ve.error(`Auth (${P.SDK_VERSION}): ${D}`,...g)}function Ye(D,...g){throw nt(D,...g)}function Re(D,...g){return nt(D,...g)}function tt(D,g,b){const M=Object.assign(Object.assign({},Qe()),{[g]:b});return new O.LL("auth","Firebase",M).create(g,{appName:D.name})}function lt(D,g,b){if(!(g instanceof b))throw b.name!==g.constructor.name&&Ye(D,"argument-error"),tt(D,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(D,...g){if("string"!=typeof D){const b=g[0],M=[...g.slice(1)];return M[0]&&(M[0].appName=D.name),D._errorFactory.create(b,...M)}return bt.create(D,...g)}function Ze(D,g,...b){if(!D)throw nt(g,...b)}function Ut(D){const g="INTERNAL ASSERTION FAILED: "+D;throw Ft(g),new Error(g)}function hn(D,g){D||Ut(g)}function Kt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function nn(){return"http:"===mn()||"https:"===mn()}function mn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Mt{constructor(g,b){this.shortDelay=g,this.longDelay=b,hn(b>g,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ai(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nn()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(D,g){hn(D.emulator,"Emulator should always be set here");const{url:b}=D.emulator;return g?`${b}${g.startsWith("/")?g.slice(1):g}`:b}class Vt{static initialize(g,b,M){this.fetchImpl=g,b&&(this.headersImpl=b),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rt=new Mt(3e4,6e4);function dt(D,g){return D.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:D.tenantId}):g}function Ne(D,g,b,M){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(D,g,b,M,se={}){return it(D,se,(0,f.Z)(function*(){let De={},St={};M&&("GET"===g?St=M:De={body:JSON.stringify(M)});const cn=(0,O.xO)(Object.assign({key:D.config.apiKey},St)).slice(1),Pn=yield D._getAdditionalHeaders();return Pn["Content-Type"]="application/json",D.languageCode&&(Pn["X-Firebase-Locale"]=D.languageCode),Vt.fetch()(Gt(D,D.config.apiHost,b,cn),Object.assign({method:g,headers:Pn,referrerPolicy:"no-referrer"},De))}))})).apply(this,arguments)}function it(D,g,b){return He.apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(D,g,b){D._canInitEmulator=!1;const M=Object.assign(Object.assign({},Ot),g);try{const se=new Ke(D),De=yield Promise.race([b(),se.promise]);se.clearNetworkTimeout();const St=yield De.json();if("needConfirmation"in St)throw Pt(D,"account-exists-with-different-credential",St);if(De.ok&&!("errorMessage"in St))return St;{const cn=De.ok?St.errorMessage:St.error.message,[Pn,Gn]=cn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pn)throw Pt(D,"credential-already-in-use",St);if("EMAIL_EXISTS"===Pn)throw Pt(D,"email-already-in-use",St);if("USER_DISABLED"===Pn)throw Pt(D,"user-disabled",St);const li=M[Pn]||Pn.toLowerCase().replace(/[_\s]+/g,"-");if(Gn)throw tt(D,li,Gn);Ye(D,li)}}catch(se){if(se instanceof O.ZR)throw se;Ye(D,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function mt(D,g,b,M){return gt.apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(D,g,b,M,se={}){const De=yield Ne(D,g,b,M,se);return"mfaPendingCredential"in De&&Ye(D,"multi-factor-auth-required",{_serverResponse:De}),De})).apply(this,arguments)}function Gt(D,g,b,M){const se=`${g}${b}?${M}`;return D.config.emulator?Bt(D.config,se):`${D.config.apiScheme}://${se}`}class Ke{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((b,M)=>{this.timer=setTimeout(()=>M(Re(this.auth,"network-request-failed")),rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pt(D,g,b){const M={appName:D.name};b.email&&(M.email=b.email),b.phoneNumber&&(M.phoneNumber=b.phoneNumber);const se=Re(D,g,M);return se.customData._tokenResponse=b,se}function In(){return(In=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function wt(){return(wt=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function xe(D){if(D)try{const g=new Date(Number(D));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ft(){return(ft=(0,f.Z)(function*(D,g=!1){const b=(0,O.m9)(D),M=yield b.getIdToken(g),se=Ht(M);Ze(se&&se.exp&&se.auth_time&&se.iat,b.auth,"internal-error");const De="object"==typeof se.firebase?se.firebase:void 0,St=De?.sign_in_provider;return{claims:se,token:M,authTime:xe(Rt(se.auth_time)),issuedAtTime:xe(Rt(se.iat)),expirationTime:xe(Rt(se.exp)),signInProvider:St||null,signInSecondFactor:De?.sign_in_second_factor||null}})).apply(this,arguments)}function Rt(D){return 1e3*Number(D)}function Ht(D){const[g,b,M]=D.split(".");if(void 0===g||void 0===b||void 0===M)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,O.tV)(b);return se?JSON.parse(se):(Ft("Failed to decode base64 JWT payload"),null)}catch(se){return Ft("Caught error parsing JWT payload as JSON",se?.toString()),null}}function Yt(D,g){return Te.apply(this,arguments)}function Te(){return(Te=(0,f.Z)(function*(D,g,b=!1){if(b)return g;try{return yield g}catch(M){throw M instanceof O.ZR&&function $e({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(M)&&D.auth.currentUser===D&&(yield D.auth.signOut()),M}})).apply(this,arguments)}class ce{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var b;if(g){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const se=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(g=!1){var b=this;if(!this.isRunning)return;const M=this.getInterval(g);this.timerId=setTimeout((0,f.Z)(function*(){yield b.iteration()}),M)}iteration(){var g=this;return(0,f.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&g.schedule(!0))}g.schedule()})()}}class me{constructor(g,b){this.createdAt=g,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=xe(this.lastLoginAt),this.creationTime=xe(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yt(D){return ze.apply(this,arguments)}function ze(){return ze=(0,f.Z)(function*(D){var g;const b=D.auth,M=yield D.getIdToken(),se=yield Yt(D,function ct(D,g){return Ct.apply(this,arguments)}(b,{idToken:M}));Ze(se?.users.length,b,"internal-error");const De=se.users[0];D._notifyReloadListener(De);const St=null!==(g=De.providerUserInfo)&&void 0!==g&&g.length?function ii(D){return D.map(g=>{var{providerId:b}=g,M=(0,R._T)(g,["providerId"]);return{providerId:b,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(De.providerUserInfo):[],cn=function dn(D,g){return[...D.filter(M=>!g.some(se=>se.providerId===M.providerId)),...g]}(D.providerData,St),li=!!D.isAnonymous&&!(D.email&&De.passwordHash||cn?.length),Ui={uid:De.localId,displayName:De.displayName||null,photoURL:De.photoUrl||null,email:De.email||null,emailVerified:De.emailVerified||!1,phoneNumber:De.phoneNumber||null,tenantId:De.tenantId||null,providerData:cn,metadata:new me(De.createdAt,De.lastLoginAt),isAnonymous:li};Object.assign(D,Ui)}),ze.apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(D){const g=(0,O.m9)(D);yield yt(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function st(){return(st=(0,f.Z)(function*(D,g){const b=yield it(D,{},(0,f.Z)(function*(){const M=(0,O.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:se,apiKey:De}=D.config,St=Gt(D,se,"/v1/token",`key=${De}`),cn=yield D._getAdditionalHeaders();return cn["Content-Type"]="application/x-www-form-urlencoded",Vt.fetch()(St,{method:"POST",headers:cn,body:M})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ze(g.idToken,"internal-error"),Ze(typeof g.idToken<"u","internal-error"),Ze(typeof g.refreshToken<"u","internal-error");const b="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function _t(D){const g=Ht(D);return Ze(g,"internal-error"),Ze(typeof g.exp<"u","internal-error"),Ze(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,b)}getToken(g,b=!1){var M=this;return(0,f.Z)(function*(){return Ze(!M.accessToken||M.refreshToken,g,"user-token-expired"),b||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(g,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,b){var M=this;return(0,f.Z)(function*(){const{accessToken:se,refreshToken:De,expiresIn:St}=yield function Dt(D,g){return st.apply(this,arguments)}(g,b);M.updateTokensAndExpiration(se,De,Number(St))})()}updateTokensAndExpiration(g,b,M){this.refreshToken=b||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(g,b){const{refreshToken:M,accessToken:se,expirationTime:De}=b,St=new oe;return M&&(Ze("string"==typeof M,"internal-error",{appName:g}),St.refreshToken=M),se&&(Ze("string"==typeof se,"internal-error",{appName:g}),St.accessToken=se),De&&(Ze("number"==typeof De,"internal-error",{appName:g}),St.expirationTime=De),St}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return Ut("not implemented")}}function q(D,g){Ze("string"==typeof D||typeof D>"u","internal-error",{appName:g})}class N{constructor(g){var{uid:b,auth:M,stsTokenManager:se}=g,De=(0,R._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=M,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=De.displayName||null,this.email=De.email||null,this.emailVerified=De.emailVerified||!1,this.phoneNumber=De.phoneNumber||null,this.photoURL=De.photoURL||null,this.isAnonymous=De.isAnonymous||!1,this.tenantId=De.tenantId||null,this.providerData=De.providerData?[...De.providerData]:[],this.metadata=new me(De.createdAt||void 0,De.lastLoginAt||void 0)}getIdToken(g){var b=this;return(0,f.Z)(function*(){const M=yield Yt(b,b.stsTokenManager.getToken(b.auth,g));return Ze(M,b.auth,"internal-error"),b.accessToken!==M&&(b.accessToken=M,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),M})()}getIdTokenResult(g){return function Ae(D){return ft.apply(this,arguments)}(this,g)}reload(){return function Tt(D){return Sn.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ze(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(b=>Object.assign({},b)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const b=new N(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(g){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,b=!1){var M=this;return(0,f.Z)(function*(){let se=!1;g.idToken&&g.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(g),se=!0),b&&(yield yt(M)),yield M.auth._persistUserIfCurrent(M),se&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var g=this;return(0,f.Z)(function*(){const b=yield g.getIdToken();return yield Yt(g,function ln(D,g){return In.apply(this,arguments)}(g.auth,{idToken:b})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,b){var M,se,De,St,cn,Pn,Gn,li;const Ui=null!==(M=b.displayName)&&void 0!==M?M:void 0,Xo=null!==(se=b.email)&&void 0!==se?se:void 0,Io=null!==(De=b.phoneNumber)&&void 0!==De?De:void 0,md=null!==(St=b.photoURL)&&void 0!==St?St:void 0,Ls=null!==(cn=b.tenantId)&&void 0!==cn?cn:void 0,zi=null!==(Pn=b._redirectEventId)&&void 0!==Pn?Pn:void 0,lc=null!==(Gn=b.createdAt)&&void 0!==Gn?Gn:void 0,uu=null!==(li=b.lastLoginAt)&&void 0!==li?li:void 0,{uid:va,emailVerified:ka,isAnonymous:hl,providerData:ba,stsTokenManager:gd}=b;Ze(va&&gd,g,"internal-error");const pi=oe.fromJSON(this.name,gd);Ze("string"==typeof va,g,"internal-error"),q(Ui,g.name),q(Xo,g.name),Ze("boolean"==typeof ka,g,"internal-error"),Ze("boolean"==typeof hl,g,"internal-error"),q(Io,g.name),q(md,g.name),q(Ls,g.name),q(zi,g.name),q(lc,g.name),q(uu,g.name);const oh=new N({uid:va,auth:g,email:Xo,emailVerified:ka,displayName:Ui,isAnonymous:hl,photoURL:md,phoneNumber:Io,tenantId:Ls,stsTokenManager:pi,createdAt:lc,lastLoginAt:uu});return ba&&Array.isArray(ba)&&(oh.providerData=ba.map(du=>Object.assign({},du))),zi&&(oh._redirectEventId=zi),oh}static _fromIdTokenResponse(g,b,M=!1){return(0,f.Z)(function*(){const se=new oe;se.updateFromServerResponse(b);const De=new N({uid:b.localId,auth:g,stsTokenManager:se,isAnonymous:M});return yield yt(De),De})()}}const $=new Map;function X(D){hn(D instanceof Function,"Expected a class definition");let g=$.get(D);return g?(hn(g instanceof D,"Instance stored in cache mismatched with class"),g):(g=new D,$.set(D,g),g)}const Wt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(b,M){var se=this;return(0,f.Z)(function*(){se.storage[b]=M})()}_get(b){var M=this;return(0,f.Z)(function*(){const se=M.storage[b];return void 0===se?null:se})()}_remove(b){var M=this;return(0,f.Z)(function*(){delete M.storage[b]})()}_addListener(b,M){}_removeListener(b,M){}}return D.type="NONE",D})();function Jt(D,g,b){return`firebase:${D}:${g}:${b}`}class Ue{constructor(g,b,M){this.persistence=g,this.auth=b,this.userKey=M;const{config:se,name:De}=this.auth;this.fullUserKey=Jt(this.userKey,se.apiKey,De),this.fullPersistenceKey=Jt("persistence",se.apiKey,De),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,f.Z)(function*(){const b=yield g.persistence._get(g.fullUserKey);return b?N._fromJSON(g.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var b=this;return(0,f.Z)(function*(){if(b.persistence===g)return;const M=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=g,M?b.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,b,M="authUser"){return(0,f.Z)(function*(){if(!b.length)return new Ue(X(Wt),g,M);const se=(yield Promise.all(b.map(function(){var Gn=(0,f.Z)(function*(li){if(yield li._isAvailable())return li});return function(li){return Gn.apply(this,arguments)}}()))).filter(Gn=>Gn);let De=se[0]||X(Wt);const St=Jt(M,g.config.apiKey,g.name);let cn=null;for(const Gn of b)try{const li=yield Gn._get(St);if(li){const Ui=N._fromJSON(g,li);Gn!==De&&(cn=Ui),De=Gn;break}}catch{}const Pn=se.filter(Gn=>Gn._shouldAllowMigration);return De._shouldAllowMigration&&Pn.length?(De=Pn[0],cn&&(yield De._set(St,cn.toJSON())),yield Promise.all(b.map(function(){var Gn=(0,f.Z)(function*(li){if(li!==De)try{yield li._remove(St)}catch{}});return function(li){return Gn.apply(this,arguments)}}())),new Ue(De,g,M)):new Ue(De,g,M)})()}}function Le(D){const g=D.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(pt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(de(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(We(g))return"Blackberry";if(be(g))return"Webos";if(pe(g))return"Safari";if((g.includes("chrome/")||fe(g))&&!g.includes("edge/"))return"Chrome";if(Fe(g))return"Android";{const M=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function de(D=(0,O.z$)()){return/firefox\//i.test(D)}function pe(D=(0,O.z$)()){const g=D.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function fe(D=(0,O.z$)()){return/crios\//i.test(D)}function pt(D=(0,O.z$)()){return/iemobile/i.test(D)}function Fe(D=(0,O.z$)()){return/android/i.test(D)}function We(D=(0,O.z$)()){return/blackberry/i.test(D)}function be(D=(0,O.z$)()){return/webos/i.test(D)}function Xe(D=(0,O.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function jt(D=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Ln(D=(0,O.z$)()){return Xe(D)||Fe(D)||be(D)||We(D)||/windows phone/i.test(D)||pt(D)}function rr(D,g=[]){let b;switch(D){case"Browser":b=Le((0,O.z$)());break;case"Worker":b=`${Le((0,O.z$)())}-${D}`;break;default:b=D}const M=g.length?g.join(","):"FirebaseCore-web";return`${b}/JsCore/${P.SDK_VERSION}/${M}`}function $t(){return($t=(0,f.Z)(function*(D){return(yield Ne(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cn(D,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(D,g){return Ne(D,"GET","/v2/recaptchaConfig",dt(D,g))})).apply(this,arguments)}function Qn(D){return void 0!==D&&void 0!==D.getResponse}function gi(D){return void 0!==D&&void 0!==D.enterprise}class Wn{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function fi(D){return new Promise((g,b)=>{const M=document.createElement("script");M.setAttribute("src",D),M.onload=g,M.onerror=se=>{const De=Re("internal-error");De.customData=se,b(De)},M.type="text/javascript",M.charset="UTF-8",function Vi(){var D,g;return null!==(g=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==g?g:document}().appendChild(M)})}function _r(D){return`__${D}${Math.floor(1e6*Math.random())}`}const dr="NO_RECAPTCHA";class ys{constructor(g){this.type="recaptcha-enterprise",this.auth=ji(g)}verify(g="verify",b=!1){var M=this;return(0,f.Z)(function*(){function De(){return De=(0,f.Z)(function*(cn){if(!b){if(null==cn.tenantId&&null!=cn._agentRecaptchaConfig)return cn._agentRecaptchaConfig.siteKey;if(null!=cn.tenantId&&void 0!==cn._tenantRecaptchaConfigs[cn.tenantId])return cn._tenantRecaptchaConfigs[cn.tenantId].siteKey}return new Promise(function(){var Pn=(0,f.Z)(function*(Gn,li){Cn(cn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ui=>{if(void 0!==Ui.recaptchaKey){const Xo=new Wn(Ui);return null==cn.tenantId?cn._agentRecaptchaConfig=Xo:cn._tenantRecaptchaConfigs[cn.tenantId]=Xo,Gn(Xo.siteKey)}li(new Error("recaptcha Enterprise site key undefined"))}).catch(Ui=>{li(Ui)})});return function(Gn,li){return Pn.apply(this,arguments)}}())}),De.apply(this,arguments)}function St(cn,Pn,Gn){const li=window.grecaptcha;gi(li)?li.enterprise.ready(()=>{li.enterprise.execute(cn,{action:g}).then(Ui=>{Pn(Ui)}).catch(()=>{Pn(dr)})}):Gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((cn,Pn)=>{(function se(cn){return De.apply(this,arguments)})(M.auth).then(Gn=>{if(!b&&gi(window.grecaptcha))St(Gn,cn,Pn);else{if(typeof window>"u")return void Pn(new Error("RecaptchaVerifier is only supported in browser"));fi("https://www.google.com/recaptcha/enterprise.js?render="+Gn).then(()=>{St(Gn,cn,Pn)}).catch(li=>{Pn(li)})}}).catch(Gn=>{Pn(Gn)})})})()}}function Ki(D,g,b){return On.apply(this,arguments)}function On(){return(On=(0,f.Z)(function*(D,g,b,M=!1){const se=new ys(D);let De;try{De=yield se.verify(b)}catch{De=yield se.verify(b,!0)}const St=Object.assign({},g);return Object.assign(St,M?{captchaResp:De}:{captchaResponse:De}),Object.assign(St,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(St,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),St})).apply(this,arguments)}class ci{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,b){const M=De=>new Promise((St,cn)=>{try{St(g(De))}catch(Pn){cn(Pn)}});M.onAbort=b,this.queue.push(M);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(g){var b=this;return(0,f.Z)(function*(){if(b.auth.currentUser===g)return;const M=[];try{for(const se of b.queue)yield se(g),se.onAbort&&M.push(se.onAbort)}catch(se){M.reverse();for(const De of M)try{De()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class Yi{constructor(g,b,M,se){this.app=g,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=M,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yr(this),this.idTokenSubscription=new Yr(this),this.beforeStateQueue=new ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(g,b){var M=this;return b&&(this._popupRedirectResolver=X(b)),this._initializationPromise=this.queue((0,f.Z)(function*(){var se,De;if(!M._deleted&&(M.persistenceManager=yield Ue.create(M,g),!M._deleted)){if(null!==(se=M._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(b),M.lastNotifiedUid=(null===(De=M.currentUser)||void 0===De?void 0:De.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,f.Z)(function*(){if(g._deleted)return;const b=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||b){if(g.currentUser&&b&&g.currentUser.uid===b.uid)return g._currentUser._assign(b),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(b,!0)}})()}initializeCurrentUser(g){var b=this;return(0,f.Z)(function*(){var M;const se=yield b.assertedPersistence.getCurrentUser();let De=se,St=!1;if(g&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const cn=null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId,Pn=De?._redirectEventId,Gn=yield b.tryRedirectSignIn(g);(!cn||cn===Pn)&&Gn?.user&&(De=Gn.user,St=!0)}if(!De)return b.directlySetCurrentUser(null);if(!De._redirectEventId){if(St)try{yield b.beforeStateQueue.runMiddleware(De)}catch(cn){De=se,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(cn))}return De?b.reloadAndSetCurrentUserOrClear(De):b.directlySetCurrentUser(null)}return Ze(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===De._redirectEventId?b.directlySetCurrentUser(De):b.reloadAndSetCurrentUserOrClear(De)})()}tryRedirectSignIn(g){var b=this;return(0,f.Z)(function*(){let M=null;try{M=yield b._popupRedirectResolver._completeRedirectFn(b,g,!0)}catch{yield b._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(g){var b=this;return(0,f.Z)(function*(){try{yield yt(g)}catch(M){if("auth/network-request-failed"!==M?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var g=this;return(0,f.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var b=this;return(0,f.Z)(function*(){const M=g?(0,O.m9)(g):null;return M&&Ze(M.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(M&&M._clone(b))})()}_updateCurrentUser(g,b=!1){var M=this;return(0,f.Z)(function*(){if(!M._deleted)return g&&Ze(M.tenantId===g.tenantId,M,"tenant-id-mismatch"),b||(yield M.beforeStateQueue.runMiddleware(g)),M.queue((0,f.Z)(function*(){yield M.directlySetCurrentUser(g),M.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,f.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var b=this;return this.queue((0,f.Z)(function*(){yield b.assertedPersistence.setPersistence(X(g))}))}initializeRecaptchaConfig(){var g=this;return(0,f.Z)(function*(){const b=yield Cn(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Wn(b);null==g.tenantId?g._agentRecaptchaConfig=M:g._tenantRecaptchaConfigs[g.tenantId]=M,M.emailPasswordEnabled&&new ys(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new O.LL("auth","Firebase",g())}onAuthStateChanged(g,b,M){return this.registerStateListener(this.authStateSubscription,g,b,M)}beforeAuthStateChanged(g,b){return this.beforeStateQueue.pushCallback(g,b)}onIdTokenChanged(g,b,M){return this.registerStateListener(this.idTokenSubscription,g,b,M)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,b){var M=this;return(0,f.Z)(function*(){const se=yield M.getOrInitRedirectPersistenceManager(b);return null===g?se.removeCurrentUser():se.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var b=this;return(0,f.Z)(function*(){if(!b.redirectPersistenceManager){const M=g&&X(g)||b._popupRedirectResolver;Ze(M,b,"argument-error"),b.redirectPersistenceManager=yield Ue.create(b,[X(M._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(g){var b=this;return(0,f.Z)(function*(){var M,se;return b._isInitialized&&(yield b.queue((0,f.Z)(function*(){}))),(null===(M=b._currentUser)||void 0===M?void 0:M._redirectEventId)===g?b._currentUser:(null===(se=b.redirectUser)||void 0===se?void 0:se._redirectEventId)===g?b.redirectUser:null})()}_persistUserIfCurrent(g){var b=this;return(0,f.Z)(function*(){if(g===b.currentUser)return b.queue((0,f.Z)(function*(){return b.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(b=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,b,M,se){if(this._deleted)return()=>{};const De="function"==typeof b?b:b.next.bind(b),St=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(St,this,"internal-error"),St.then(()=>De(this.currentUser)),"function"==typeof b?g.addObserver(b,M,se):g.addObserver(b)}directlySetCurrentUser(g){var b=this;return(0,f.Z)(function*(){b.currentUser&&b.currentUser!==g&&b._currentUser._stopProactiveRefresh(),g&&b.isProactiveRefreshEnabled&&g._startProactiveRefresh(),b.currentUser=g,g?yield b.assertedPersistence.setCurrentUser(g):yield b.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,f.Z)(function*(){var b;const M={"X-Client-Version":g.clientVersion};g.app.options.appId&&(M["X-Firebase-gmpid"]=g.app.options.appId);const se=yield null===(b=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();se&&(M["X-Firebase-Client"]=se);const De=yield g._getAppCheckToken();return De&&(M["X-Firebase-AppCheck"]=De),M})()}_getAppCheckToken(){var g=this;return(0,f.Z)(function*(){var b;const M=yield null===(b=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return M?.error&&function Me(D,...g){Ve.logLevel<=ae.in.WARN&&Ve.warn(`Auth (${P.SDK_VERSION}): ${D}`,...g)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function ji(D){return(0,O.m9)(D)}class Yr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,O.ne)(b=>this.observer=b)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ki(D,g,b){const M=ji(D);Ze(M._canInitEmulator,M,"emulator-config-failed"),Ze(/^https?:\/\//.test(g),M,"invalid-emulator-scheme");const se=!!b?.disableWarnings,De=xt(g),{host:St,port:cn}=function vt(D){const g=xt(D),b=/(\/\/)?([^?#/]+)/.exec(D.substr(g.length));if(!b)return{host:"",port:null};const M=b[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(M);if(se){const De=se[1];return{host:De,port:Et(M.substr(De.length+1))}}{const[De,St]=M.split(":");return{host:De,port:Et(St)}}}(g);M.config.emulator={url:`${De}//${St}${null===cn?"":`:${cn}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:St,port:cn,protocol:De.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function pn(){function D(){const g=document.createElement("p"),b=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function xt(D){const g=D.indexOf(":");return g<0?"":D.substr(0,g+1)}function Et(D){if(!D)return null;const g=Number(D);return isNaN(g)?null:g}class Tn{constructor(g,b){this.providerId=g,this.signInMethod=b}toJSON(){return Ut("not implemented")}_getIdTokenResponse(g){return Ut("not implemented")}_linkToIdToken(g,b){return Ut("not implemented")}_getReauthenticationResolver(g){return Ut("not implemented")}}function Yn(D,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:resetPassword",dt(D,g))})).apply(this,arguments)}function ui(D,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:update",dt(D,g))})).apply(this,arguments)}function Nr(D,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signInWithPassword",dt(D,g))})).apply(this,arguments)}function sr(D,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:sendOobCode",dt(D,g))})).apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(D,g){return sr(D,g)})).apply(this,arguments)}function Uo(D,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(D,g){return sr(D,g)})).apply(this,arguments)}function Hs(D,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(D,g){return sr(D,g)})).apply(this,arguments)}function zr(){return(zr=(0,f.Z)(function*(D,g){return sr(D,g)})).apply(this,arguments)}function Er(){return(Er=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signInWithEmailLink",dt(D,g))})).apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signInWithEmailLink",dt(D,g))})).apply(this,arguments)}class jr extends Tn{constructor(g,b,M,se=null){super("password",M),this._email=g,this._password=b,this._tenantId=se}static _fromEmailAndPassword(g,b){return new jr(g,b,"password")}static _fromEmailAndCode(g,b,M=null){return new jr(g,b,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const b="string"==typeof g?JSON.parse(g):g;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(g){var b=this;return(0,f.Z)(function*(){var M;switch(b.signInMethod){case"password":const se={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=g._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const De=yield Ki(g,se,"signInWithPassword");return Nr(g,De)}return Nr(g,se).catch(function(){var De=(0,f.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const cn=yield Ki(g,se,"signInWithPassword");return Nr(g,cn)}return Promise.reject(St)});return function(St){return De.apply(this,arguments)}}());case"emailLink":return function xr(D,g){return Er.apply(this,arguments)}(g,{email:b._email,oobCode:b._password});default:Ye(g,"internal-error")}})()}_linkToIdToken(g,b){var M=this;return(0,f.Z)(function*(){switch(M.signInMethod){case"password":return ui(g,{idToken:b,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function vs(D,g){return po.apply(this,arguments)}(g,{idToken:b,email:M._email,oobCode:M._password});default:Ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Zi(D,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signInWithIdp",dt(D,g))})).apply(this,arguments)}class Pr extends Tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const b=new Pr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(b.idToken=g.idToken),g.accessToken&&(b.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(b.nonce=g.nonce),g.pendingToken&&(b.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(b.accessToken=g.oauthToken,b.secret=g.oauthTokenSecret):Ye("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const b="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:se}=b,De=(0,R._T)(b,["providerId","signInMethod"]);if(!M||!se)return null;const St=new Pr(M,se);return St.idToken=De.idToken||void 0,St.accessToken=De.accessToken||void 0,St.secret=De.secret,St.nonce=De.nonce,St.pendingToken=De.pendingToken||null,St}_getIdTokenResponse(g){return Zi(g,this.buildRequest())}_linkToIdToken(g,b){const M=this.buildRequest();return M.idToken=b,Zi(g,M)}_getReauthenticationResolver(g){const b=this.buildRequest();return b.autoCreate=!1,Zi(g,b)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),g.postBody=(0,O.xO)(b)}return g}}function sa(){return(sa=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:sendVerificationCode",dt(D,g))})).apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signInWithPhoneNumber",dt(D,g))})).apply(this,arguments)}function Ba(){return(Ba=(0,f.Z)(function*(D,g){const b=yield mt(D,"POST","/v1/accounts:signInWithPhoneNumber",dt(D,g));if(b.temporaryProof)throw Pt(D,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const To={USER_NOT_FOUND:"user-not-found"};function Va(){return(Va=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signInWithPhoneNumber",dt(D,Object.assign(Object.assign({},g),{operation:"REAUTH"})),To)})).apply(this,arguments)}class Zs extends Tn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,b){return new Zs({verificationId:g,verificationCode:b})}static _fromTokenResponse(g,b){return new Zs({phoneNumber:g,temporaryProof:b})}_getIdTokenResponse(g){return function xo(D,g){return Ja.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,b){return function La(D,g){return Ba.apply(this,arguments)}(g,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Is(D,g){return Va.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:b,verificationId:M,verificationCode:se}=this.params;return g&&b?{temporaryProof:g,phoneNumber:b}:{sessionInfo:M,code:se}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:b,verificationCode:M,phoneNumber:se,temporaryProof:De}=g;return M||b||se||De?new Zs({verificationId:b,verificationCode:M,phoneNumber:se,temporaryProof:De}):null}}class Ps{constructor(g){var b,M,se,De,St,cn;const Pn=(0,O.zd)((0,O.pd)(g)),Gn=null!==(b=Pn.apiKey)&&void 0!==b?b:null,li=null!==(M=Pn.oobCode)&&void 0!==M?M:null,Ui=function Os(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Pn.mode)&&void 0!==se?se:null);Ze(Gn&&li&&Ui,"argument-error"),this.apiKey=Gn,this.operation=Ui,this.code=li,this.continueUrl=null!==(De=Pn.continueUrl)&&void 0!==De?De:null,this.languageCode=null!==(St=Pn.languageCode)&&void 0!==St?St:null,this.tenantId=null!==(cn=Pn.tenantId)&&void 0!==cn?cn:null}static parseLink(g){const b=function So(D){const g=(0,O.zd)((0,O.pd)(D)).link,b=g?(0,O.zd)((0,O.pd)(g)).deep_link_id:null,M=(0,O.zd)((0,O.pd)(D)).deep_link_id;return(M?(0,O.zd)((0,O.pd)(M)).link:null)||M||b||g||D}(g);try{return new Ps(b)}catch{return null}}}let oa=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(b,M){return jr._fromEmailAndPassword(b,M)}static credentialWithLink(b,M){const se=Ps.parseLink(M);return Ze(se,"argument-error"),jr._fromEmailAndCode(b,se.code,se.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class mo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class us extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ds extends us{static credentialFromJSON(g){const b="string"==typeof g?JSON.parse(g):g;return Ze("providerId"in b&&"signInMethod"in b,"argument-error"),Pr._fromParams(b)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ze(g.idToken||g.accessToken,"argument-error"),Pr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ds.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ds.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:se,pendingToken:De,nonce:St,providerId:cn}=g;if(!M&&!se&&!b&&!De||!cn)return null;try{return new ds(cn)._credential({idToken:b,accessToken:M,nonce:St,pendingToken:De})}catch{return null}}}let aa=(()=>{class D extends us{constructor(){super("facebook.com")}static credential(b){return Pr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Ua=(()=>{class D extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(b,M){return Pr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:M})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:M,oauthAccessToken:se}=b;if(!M&&!se)return null;try{return D.credential(M,se)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),la=(()=>{class D extends us{constructor(){super("github.com")}static credential(b){return Pr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class $s extends Tn{constructor(g,b){super(g,g),this.pendingToken=b}_getIdTokenResponse(g){return Zi(g,this.buildRequest())}_linkToIdToken(g,b){const M=this.buildRequest();return M.idToken=b,Zi(g,M)}_getReauthenticationResolver(g){const b=this.buildRequest();return b.autoCreate=!1,Zi(g,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const b="string"==typeof g?JSON.parse(g):g,{providerId:M,signInMethod:se,pendingToken:De}=b;return M&&se&&De&&M===se?new $s(M,De):null}static _create(g,b){return new $s(g,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class el extends mo{constructor(g){Ze(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return el.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return el.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const b=$s.fromJSON(g);return Ze(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:b,providerId:M}=g;if(!b||!M)return null;try{return $s._create(M,b)}catch{return null}}}let Ic=(()=>{class D extends us{constructor(){super("twitter.com")}static credential(b,M){return Pr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:M})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:M,oauthTokenSecret:se}=b;if(!M||!se)return null;try{return D.credential(M,se)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function go(D,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signUp",dt(D,g))})).apply(this,arguments)}class lr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,b,M,se=!1){return(0,f.Z)(function*(){const De=yield N._fromIdTokenResponse(g,M,se),St=zo(M);return new lr({user:De,providerId:St,_tokenResponse:M,operationType:b})})()}static _forOperation(g,b,M){return(0,f.Z)(function*(){yield g._updateTokensIfNecessary(M,!0);const se=zo(M);return new lr({user:g,providerId:se,_tokenResponse:M,operationType:b})})()}}function zo(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function ca(D){return fr.apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(D){var g;const b=ji(D);if(yield b._initializationPromise,null!==(g=b.currentUser)&&void 0!==g&&g.isAnonymous)return new lr({user:b.currentUser,providerId:null,operationType:"signIn"});const M=yield go(b,{returnSecureToken:!0}),se=yield lr._fromIdTokenResponse(b,"signIn",M,!0);return yield b._updateCurrentUser(se.user),se})).apply(this,arguments)}class Tr extends O.ZR{constructor(g,b,M,se){var De;super(b.code,b.message),this.operationType=M,this.user=se,Object.setPrototypeOf(this,Tr.prototype),this.customData={appName:g.name,tenantId:null!==(De=g.tenantId)&&void 0!==De?De:void 0,_serverResponse:b.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(g,b,M,se){return new Tr(g,b,M,se)}}function jo(D,g,b,M){return("reauthenticate"===g?b._getReauthenticationResolver(D):b._getIdTokenResponse(D)).catch(De=>{throw"auth/multi-factor-auth-required"===De.code?Tr._fromErrorAndOperation(D,De,g,M):De})}function Di(D){return new Set(D.map(({providerId:g})=>g).filter(g=>!!g))}function Zl(D,g){return ua.apply(this,arguments)}function ua(){return ua=(0,f.Z)(function*(D,g){const b=(0,O.m9)(D);yield xa(!0,b,g);const{providerUserInfo:M}=yield function Xn(D,g){return wt.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[g]}),se=Di(M||[]);return b.providerData=b.providerData.filter(De=>se.has(De.providerId)),se.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),ua.apply(this,arguments)}function ts(D,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,f.Z)(function*(D,g,b=!1){const M=yield Yt(D,g._linkToIdToken(D.auth,yield D.getIdToken()),b);return lr._forOperation(D,"link",M)})).apply(this,arguments)}function xa(D,g,b){return qs.apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(D,g,b){yield yt(g);const se=!1===D?"provider-already-linked":"no-such-provider";Ze(Di(g.providerData).has(b)===D,g.auth,se)})).apply(this,arguments)}function _o(D,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(D,g,b=!1){const{auth:M}=D,se="reauthenticate";try{const De=yield Yt(D,jo(M,se,g,D),b);Ze(De.idToken,M,"internal-error");const St=Ht(De.idToken);Ze(St,M,"internal-error");const{sub:cn}=St;return Ze(D.uid===cn,M,"user-mismatch"),lr._forOperation(D,se,De)}catch(De){throw"auth/user-not-found"===De?.code&&Ye(M,"user-mismatch"),De}})).apply(this,arguments)}function ss(D,g){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(D,g,b=!1){const M="signIn",se=yield jo(D,M,g),De=yield lr._fromIdTokenResponse(D,M,se);return b||(yield D._updateCurrentUser(De.user)),De})).apply(this,arguments)}function si(D,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,f.Z)(function*(D,g){return ss(ji(D),g)})).apply(this,arguments)}function Q(D,g){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(D,g){const b=(0,O.m9)(D);return yield xa(!1,b,g.providerId),ts(b,g)})).apply(this,arguments)}function z(D,g){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,f.Z)(function*(D,g){return _o((0,O.m9)(D),g)})).apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(D,g){return mt(D,"POST","/v1/accounts:signInWithCustomToken",dt(D,g))})).apply(this,arguments)}function qr(D,g){return on.apply(this,arguments)}function on(){return on=(0,f.Z)(function*(D,g){const b=ji(D),M=yield function sn(D,g){return Kn.apply(this,arguments)}(b,{token:g,returnSecureToken:!0}),se=yield lr._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(se.user),se}),on.apply(this,arguments)}class di{constructor(g,b){this.factorId=g,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(g,b){return"phoneInfo"in b?Xs._fromServerResponse(g,b):"totpInfo"in b?Sr._fromServerResponse(g,b):Ye(g,"internal-error")}}class Xs extends di{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,b){return new Xs(b)}}class Sr extends di{constructor(g){super("totp",g)}static _fromServerResponse(g,b){return new Sr(b)}}function yr(D,g,b){var M;Ze((null===(M=b.url)||void 0===M?void 0:M.length)>0,D,"invalid-continue-uri"),Ze(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),g.continueUrl=b.url,g.dynamicLinkDomain=b.dynamicLinkDomain,g.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ze(b.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),g.iOSBundleId=b.iOS.bundleId),b.android&&(Ze(b.android.packageName.length>0,D,"missing-android-pkg-name"),g.androidInstallApp=b.android.installApp,g.androidMinimumVersionCode=b.android.minimumVersion,g.androidPackageName=b.android.packageName)}function ql(D,g,b){return da.apply(this,arguments)}function da(){return da=(0,f.Z)(function*(D,g,b){var M;const se=ji(D),De={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=se._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const St=yield Ki(se,De,"getOobCode",!0);b&&yr(se,St,b),yield Uo(se,St)}else b&&yr(se,De,b),yield Uo(se,De).catch(function(){var St=(0,f.Z)(function*(cn){if("auth/missing-recaptcha-token"!==cn.code)return Promise.reject(cn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pn=yield Ki(se,De,"getOobCode",!0);b&&yr(se,Pn,b),yield Uo(se,Pn)}});return function(cn){return St.apply(this,arguments)}}())}),da.apply(this,arguments)}function xs(D,g,b){return tl.apply(this,arguments)}function tl(){return(tl=(0,f.Z)(function*(D,g,b){yield Yn((0,O.m9)(D),{oobCode:g,newPassword:b})})).apply(this,arguments)}function za(D,g){return ja.apply(this,arguments)}function ja(){return ja=(0,f.Z)(function*(D,g){yield function cs(D,g){return es.apply(this,arguments)}((0,O.m9)(D),{oobCode:g})}),ja.apply(this,arguments)}function Ho(D,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,f.Z)(function*(D,g){const b=(0,O.m9)(D),M=yield Yn(b,{oobCode:g}),se=M.requestType;switch(Ze(se,b,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ze(M.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ze(M.mfaInfo,b,"internal-error");default:Ze(M.email,b,"internal-error")}let De=null;return M.mfaInfo&&(De=di._fromServerResponse(ji(b),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:De},operation:se}})).apply(this,arguments)}function Hr(D,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(D,g){const{data:b}=yield Ho((0,O.m9)(D),g);return b.email})).apply(this,arguments)}function eo(D,g,b){return yo.apply(this,arguments)}function yo(){return yo=(0,f.Z)(function*(D,g,b){var M;const se=ji(D),De={returnSecureToken:!0,email:g,password:b,clientType:"CLIENT_TYPE_WEB"};let St;if(null!==(M=se._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Gn=yield Ki(se,De,"signUpPassword");St=go(se,Gn)}else St=go(se,De).catch(function(){var Gn=(0,f.Z)(function*(li){if("auth/missing-recaptcha-token"===li.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ui=yield Ki(se,De,"signUpPassword");return go(se,Ui)}return Promise.reject(li)});return function(li){return Gn.apply(this,arguments)}}());const cn=yield St.catch(Gn=>Promise.reject(Gn)),Pn=yield lr._fromIdTokenResponse(se,"signIn",cn);return yield se._updateCurrentUser(Pn.user),Pn}),yo.apply(this,arguments)}function Ss(D,g,b){return si((0,O.m9)(D),oa.credential(g,b))}function fs(D,g,b){return ha.apply(this,arguments)}function ha(){return ha=(0,f.Z)(function*(D,g,b){var M;const se=ji(D),De={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function St(cn,Pn){Ze(Pn.handleCodeInApp,se,"argument-error"),Pn&&yr(se,cn,Pn)}if(null!==(M=se._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const cn=yield Ki(se,De,"getOobCode",!0);St(cn,b),yield Hs(se,cn)}else St(De,b),yield Hs(se,De).catch(function(){var cn=(0,f.Z)(function*(Pn){if("auth/missing-recaptcha-token"!==Pn.code)return Promise.reject(Pn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Gn=yield Ki(se,De,"getOobCode",!0);St(Gn,b),yield Hs(se,Gn)}});return function(Pn){return cn.apply(this,arguments)}}())}),ha.apply(this,arguments)}function xl(D,g){return"EMAIL_SIGNIN"===Ps.parseLink(g)?.operation}function fa(D,g,b){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D),se=oa.credentialWithLink(g,b||Kt());return Ze(se._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),si(M,se)})).apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:createAuthUri",dt(D,g))})).apply(this,arguments)}function ir(D,g){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,f.Z)(function*(D,g){const M={identifier:g,continueUri:nn()?Kt():"http://localhost"},{signinMethods:se}=yield function ps(D,g){return $o.apply(this,arguments)}((0,O.m9)(D),M);return se||[]}),Ta.apply(this,arguments)}function Sa(D,g){return bs.apply(this,arguments)}function bs(){return bs=(0,f.Z)(function*(D,g){const b=(0,O.m9)(D),se={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};g&&yr(b.auth,se,g);const{email:De}=yield function fo(D,g){return js.apply(this,arguments)}(b.auth,se);De!==D.email&&(yield D.reload())}),bs.apply(this,arguments)}function pa(D,g,b){return ma.apply(this,arguments)}function ma(){return ma=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D),De={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:g};b&&yr(M.auth,De,b);const{email:St}=yield function wa(D,g){return zr.apply(this,arguments)}(M.auth,De);St!==D.email&&(yield D.reload())}),ma.apply(this,arguments)}function ga(){return(ga=(0,f.Z)(function*(D,g){return Ne(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tl(D,g){return vo.apply(this,arguments)}function vo(){return vo=(0,f.Z)(function*(D,{displayName:g,photoURL:b}){if(void 0===g&&void 0===b)return;const M=(0,O.m9)(D),De={idToken:yield M.getIdToken(),displayName:g,photoUrl:b,returnSecureToken:!0},St=yield Yt(M,function Wo(D,g){return ga.apply(this,arguments)}(M.auth,De));M.displayName=St.displayName||null,M.photoURL=St.photoUrl||null;const cn=M.providerData.find(({providerId:Pn})=>"password"===Pn);cn&&(cn.displayName=M.displayName,cn.photoURL=M.photoURL),yield M._updateTokensIfNecessary(St)}),vo.apply(this,arguments)}function to(D,g){return no((0,O.m9)(D),g,null)}function Ji(D,g){return no((0,O.m9)(D),null,g)}function no(D,g,b){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(D,g,b){const{auth:M}=D,De={idToken:yield D.getIdToken(),returnSecureToken:!0};g&&(De.email=g),b&&(De.password=b);const St=yield Yt(D,ui(M,De));yield D._updateTokensIfNecessary(St,!0)})).apply(this,arguments)}class Ao{constructor(g,b,M={}){this.isNewUser=g,this.providerId=b,this.profile=M}}class Ha extends Ao{constructor(g,b,M,se){super(g,b,M),this.username=se}}class nl extends Ao{constructor(g,b){super(g,"facebook.com",b)}}class Ql extends Ha{constructor(g,b){super(g,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class Xl extends Ao{constructor(g,b){super(g,"google.com",b)}}class Aa extends Ha{constructor(g,b,M){super(g,"twitter.com",b,M)}}function Jl(D){const{user:g,_tokenResponse:b}=D;return g.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function io(D){var g,b;if(!D)return null;const{providerId:M}=D,se=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},De=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!M&&D?.idToken){const St=null===(b=null===(g=Ht(D.idToken))||void 0===g?void 0:g.firebase)||void 0===b?void 0:b.sign_in_provider;if(St)return new Ao(De,"anonymous"!==St&&"custom"!==St?St:null)}if(!M)return null;switch(M){case"facebook.com":return new nl(De,se);case"github.com":return new Ql(De,se);case"google.com":return new Xl(De,se);case"twitter.com":return new Aa(De,se,D.screenName||null);case"custom":case"anonymous":return new Ao(De,null);default:return new Ao(De,M,se)}}(b)}class Si{constructor(g,b,M){this.type=g,this.credential=b,this.auth=M}static _fromIdtoken(g,b){return new Si("enroll",g,b)}static _fromMfaPendingCredential(g){return new Si("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var b,M;if(g?.multiFactorSession){if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Si._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(M=g.multiFactorSession)&&void 0!==M&&M.idToken)return Si._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Gi{constructor(g,b,M){this.session=g,this.hints=b,this.signInResolver=M}static _fromError(g,b){const M=ji(g),se=b.customData._serverResponse,De=(se.mfaInfo||[]).map(cn=>di._fromServerResponse(M,cn));Ze(se.mfaPendingCredential,M,"internal-error");const St=Si._fromMfaPendingCredential(se.mfaPendingCredential);return new Gi(St,De,function(){var cn=(0,f.Z)(function*(Pn){const Gn=yield Pn._process(M,St);delete se.mfaInfo,delete se.mfaPendingCredential;const li=Object.assign(Object.assign({},se),{idToken:Gn.idToken,refreshToken:Gn.refreshToken});switch(b.operationType){case"signIn":const Ui=yield lr._fromIdTokenResponse(M,b.operationType,li);return yield M._updateCurrentUser(Ui.user),Ui;case"reauthenticate":return Ze(b.user,M,"internal-error"),lr._forOperation(b.user,b.operationType,li);default:Ye(M,"internal-error")}});return function(Pn){return cn.apply(this,arguments)}}())}resolveSignIn(g){var b=this;return(0,f.Z)(function*(){return b.signInResolver(g)})()}}function Ni(D,g){var b;const M=(0,O.m9)(D),se=g;return Ze(g.customData.operationType,M,"argument-error"),Ze(null===(b=se.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,M,"argument-error"),Gi._fromError(M,se)}class Zn{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(M=>di._fromServerResponse(g.auth,M)))})}static _fromUser(g){return new Zn(g)}getSession(){var g=this;return(0,f.Z)(function*(){return Si._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,b){var M=this;return(0,f.Z)(function*(){const se=g,De=yield M.getSession(),St=yield Yt(M.user,se._process(M.user.auth,De,b));return yield M.user._updateTokensIfNecessary(St),M.user.reload()})()}unenroll(g){var b=this;return(0,f.Z)(function*(){const M="string"==typeof g?g:g.uid,se=yield b.user.getIdToken();try{const De=yield Yt(b.user,function Nn(D,g){return Ne(D,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(D,g))}(b.user.auth,{idToken:se,mfaEnrollmentId:M}));b.enrolledFactors=b.enrolledFactors.filter(({uid:St})=>St!==M),yield b.user._updateTokensIfNecessary(De),yield b.user.reload()}catch(De){throw De}})()}}const ms=new WeakMap;function Rn(D){const g=(0,O.m9)(D);return ms.has(g)||ms.set(g,Zn._fromUser(g)),ms.get(g)}const qt="__sak";class En{constructor(g,b){this.storageRetriever=g,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(qt,"1"),this.storage.removeItem(qt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,b){return this.storage.setItem(g,JSON.stringify(b)),Promise.resolve()}_get(g){const b=this.storage.getItem(g);return Promise.resolve(b?JSON.parse(b):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tu=(()=>{class D extends En{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,M)=>this.onStorageEvent(b,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function as(){const D=(0,O.z$)();return pe(D)||Xe(D)}()&&function yi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ln(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const M of Object.keys(this.listeners)){const se=this.storage.getItem(M),De=this.localCache[M];se!==De&&b(M,De,se)}}onStorageEvent(b,M=!1){if(!b.key)return void this.forAllChangedKeys((cn,Pn,Gn)=>{this.notifyListeners(cn,Gn)});const se=b.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const cn=this.storage.getItem(se);if(b.newValue!==cn)null!==b.newValue?this.storage.setItem(se,b.newValue):this.storage.removeItem(se);else if(this.localCache[se]===b.newValue&&!M)return}const De=()=>{const cn=this.storage.getItem(se);!M&&this.localCache[se]===cn||this.notifyListeners(se,cn)},St=this.storage.getItem(se);!function xn(){return(0,O.w1)()&&10===document.documentMode}()||St===b.newValue||b.newValue===b.oldValue?De():setTimeout(De,10)}notifyListeners(b,M){this.localCache[b]=M;const se=this.listeners[b];if(se)for(const De of Array.from(se))De(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,M,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:M,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,M){var se=()=>super._set,De=this;return(0,f.Z)(function*(){yield se().call(De,b,M),De.localCache[b]=JSON.stringify(M)})()}_get(b){var M=()=>super._get,se=this;return(0,f.Z)(function*(){const De=yield M().call(se,b);return se.localCache[b]=JSON.stringify(De),De})()}_remove(b){var M=()=>super._remove,se=this;return(0,f.Z)(function*(){yield M().call(se,b),delete se.localCache[b]})()}}return D.type="LOCAL",D})(),bo=(()=>{class D extends En{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,M){}_removeListener(b,M){}}return D.type="SESSION",D})();let Su=(()=>{class D{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const M=this.receivers.find(De=>De.isListeningto(b));if(M)return M;const se=new D(b);return this.receivers.push(se),se}isListeningto(b){return this.eventTarget===b}handleEvent(b){var M=this;return(0,f.Z)(function*(){const se=b,{eventId:De,eventType:St,data:cn}=se.data,Pn=M.handlersMap[St];if(!Pn?.size)return;se.ports[0].postMessage({status:"ack",eventId:De,eventType:St});const Gn=Array.from(Pn).map(function(){var Ui=(0,f.Z)(function*(Xo){return Xo(se.origin,cn)});return function(Xo){return Ui.apply(this,arguments)}}()),li=yield function Xd(D){return Promise.all(D.map(function(){var g=(0,f.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(M){return{fulfilled:!1,reason:M}}});return function(b){return g.apply(this,arguments)}}()))}(Gn);se.ports[0].postMessage({status:"done",eventId:De,eventType:St,response:li})})()}_subscribe(b,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(M)}_unsubscribe(b,M){this.handlersMap[b]&&M&&this.handlersMap[b].delete(M),(!M||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function rl(D="",g=10){let b="";for(let M=0;M<g;M++)b+=Math.floor(10*Math.random());return D+b}class Jd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,b,M=50){var se=this;return(0,f.Z)(function*(){const De=typeof MessageChannel<"u"?new MessageChannel:null;if(!De)throw new Error("connection_unavailable");let St,cn;return new Promise((Pn,Gn)=>{const li=rl("",20);De.port1.start();const Ui=setTimeout(()=>{Gn(new Error("unsupported_event"))},M);cn={messageChannel:De,onMessage(Xo){const Io=Xo;if(Io.data.eventId===li)switch(Io.data.status){case"ack":clearTimeout(Ui),St=setTimeout(()=>{Gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(St),Pn(Io.data.response);break;default:clearTimeout(Ui),clearTimeout(St),Gn(new Error("invalid_response"))}}},se.handlers.add(cn),De.port1.addEventListener("message",cn.onMessage),se.target.postMessage({eventType:g,eventId:li,data:b},[De.port2])}).finally(()=>{cn&&se.removeMessageHandler(cn)})})()}}function tr(){return window}function _a(){return typeof tr().WorkerGlobalScope<"u"&&"function"==typeof tr().importScripts}function Rr(){return(Rr=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bi="firebaseLocalStorageDb",Jc=1,xi="firebaseLocalStorage",zn="fbase_key";class ns{constructor(g){this.request=g}toPromise(){return new Promise((g,b)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Al(D,g){return D.transaction([xi],g?"readwrite":"readonly").objectStore(xi)}function ld(){const D=indexedDB.open(bi,Jc);return new Promise((g,b)=>{D.addEventListener("error",()=>{b(D.error)}),D.addEventListener("upgradeneeded",()=>{const M=D.result;try{M.createObjectStore(xi,{keyPath:zn})}catch(se){b(se)}}),D.addEventListener("success",(0,f.Z)(function*(){const M=D.result;M.objectStoreNames.contains(xi)?g(M):(M.close(),yield function Rs(){const D=indexedDB.deleteDatabase(bi);return new ns(D).toPromise()}(),g(yield ld()))}))})}function Ml(D,g,b){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(D,g,b){const M=Al(D,!0).put({[zn]:g,value:b});return new ns(M).toPromise()})).apply(this,arguments)}function Pl(){return(Pl=(0,f.Z)(function*(D,g){const b=Al(D,!1).get(g),M=yield new ns(b).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function eu(D,g){const b=Al(D,!0).delete(g);return new ns(b).toPromise()}const tc=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,f.Z)(function*(){return b.db||(b.db=yield ld()),b.db})()}_withRetries(b){var M=this;return(0,f.Z)(function*(){let se=0;for(;;)try{const De=yield M._openDb();return yield b(De)}catch(De){if(se++>3)throw De;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,f.Z)(function*(){return _a()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,f.Z)(function*(){b.receiver=Su._getInstance(function Sl(){return _a()?self:null}()),b.receiver._subscribe("keyChanged",function(){var M=(0,f.Z)(function*(se,De){return{keyProcessed:(yield b._poll()).includes(De.key)}});return function(se,De){return M.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var M=(0,f.Z)(function*(se,De){return["keyChanged"]});return function(se,De){return M.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,f.Z)(function*(){var M,se;if(b.activeServiceWorker=yield function Xc(){return Rr.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Jd(b.activeServiceWorker);const De=yield b.sender._send("ping",{},800);De&&null!==(M=De[0])&&void 0!==M&&M.fulfilled&&null!==(se=De[0])&&void 0!==se&&se.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var M=this;return(0,f.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function ri(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:b},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const b=yield ld();return yield Ml(b,qt,"1"),yield eu(b,qt),!0}catch{}return!1})()}_withPendingWrite(b){var M=this;return(0,f.Z)(function*(){M.pendingWrites++;try{yield b()}finally{M.pendingWrites--}})()}_set(b,M){var se=this;return(0,f.Z)(function*(){return se._withPendingWrite((0,f.Z)(function*(){return yield se._withRetries(De=>Ml(De,b,M)),se.localCache[b]=M,se.notifyServiceWorker(b)}))})()}_get(b){var M=this;return(0,f.Z)(function*(){const se=yield M._withRetries(De=>function Ol(D,g){return Pl.apply(this,arguments)}(De,b));return M.localCache[b]=se,se})()}_remove(b){var M=this;return(0,f.Z)(function*(){return M._withPendingWrite((0,f.Z)(function*(){return yield M._withRetries(se=>eu(se,b)),delete M.localCache[b],M.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,f.Z)(function*(){const M=yield b._withRetries(St=>{const cn=Al(St,!1).getAll();return new ns(cn).toPromise()});if(!M)return[];if(0!==b.pendingWrites)return[];const se=[],De=new Set;for(const{fbase_key:St,value:cn}of M)De.add(St),JSON.stringify(b.localCache[St])!==JSON.stringify(cn)&&(b.notifyListeners(St,cn),se.push(St));for(const St of Object.keys(b.localCache))b.localCache[St]&&!De.has(St)&&(b.notifyListeners(St,null),se.push(St));return se})()}notifyListeners(b,M){this.localCache[b]=M;const se=this.listeners[b];if(se)for(const De of Array.from(se))De(M)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),Au=1e12;class Xt{constructor(g){this.auth=g,this.counter=Au,this._widgets=new Map}render(g,b){const M=this.counter;return this._widgets.set(M,new Ga(g,this.auth.name,b||{})),this.counter++,M}reset(g){var b;const M=g||Au;null===(b=this._widgets.get(M))||void 0===b||b.delete(),this._widgets.delete(M)}getResponse(g){var b;return(null===(b=this._widgets.get(g||Au))||void 0===b?void 0:b.getResponse())||""}execute(g){var b=this;return(0,f.Z)(function*(){var M;return null===(M=b._widgets.get(g||Au))||void 0===M||M.execute(),""})()}}class Ga{constructor(g,b,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof g?document.getElementById(g):g;Ze(se,"argument-error",{appName:b}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sl(D){const g=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<D;M++)g.push(b.charAt(Math.floor(Math.random()*b.length)));return g.join("")}(50);const{callback:g,"expired-callback":b}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ka=_r("rcb"),xc=new Mt(3e4,6e4);class ol{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=tr().grecaptcha)||void 0===g||!g.render)}load(g,b=""){return Ze(function eh(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(b),g,"argument-error"),this.shouldResolveImmediately(b)&&Qn(tr().grecaptcha)?Promise.resolve(tr().grecaptcha):new Promise((M,se)=>{const De=tr().setTimeout(()=>{se(Re(g,"network-request-failed"))},xc.get());tr()[Ka]=()=>{tr().clearTimeout(De),delete tr()[Ka];const cn=tr().grecaptcha;if(!cn||!Qn(cn))return void se(Re(g,"internal-error"));const Pn=cn.render;cn.render=(Gn,li)=>{const Ui=Pn(Gn,li);return this.counter++,Ui},this.hostLanguage=b,M(cn)},fi(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Ka,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(De),se(Re(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var b;return!(null===(b=tr().grecaptcha)||void 0===b||!b.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gs{load(g){return(0,f.Z)(function*(){return new Xt(g)})()}clearedOneInstance(){}}const mr="recaptcha",Go={theme:"light",type:"image"};class Ko{constructor(g,b=Object.assign({},Go),M){this.parameters=b,this.type=mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ji(M),this.isInvisible="invisible"===this.parameters.size,Ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof g?document.getElementById(g):g;Ze(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gs:new ol,this.validateStartingState()}verify(){var g=this;return(0,f.Z)(function*(){g.assertNotDestroyed();const b=yield g.render(),M=g.getAssertedRecaptcha();return M.getResponse(b)||new Promise(De=>{const St=cn=>{cn&&(g.tokenChangeListeners.delete(St),De(cn))};g.tokenChangeListeners.add(St),g.isInvisible&&M.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ze(!this.parameters.sitekey,this.auth,"argument-error"),Ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return b=>{if(this.tokenChangeListeners.forEach(M=>M(b)),"function"==typeof g)g(b);else if("string"==typeof g){const M=tr()[g];"function"==typeof M&&M(b)}}}assertNotDestroyed(){Ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,f.Z)(function*(){if(yield g.init(),!g.widgetId){let b=g.container;if(!g.isInvisible){const M=document.createElement("div");b.appendChild(M),b=M}g.widgetId=g.getAssertedRecaptcha().render(b,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,f.Z)(function*(){Ze(nn()&&!_a(),g.auth,"internal-error"),yield function gs(){let D=null;return new Promise(g=>{"complete"!==document.readyState?(D=()=>g(),window.addEventListener("load",D)):g()}).catch(g=>{throw D&&window.removeEventListener("load",D),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const b=yield function tn(D){return $t.apply(this,arguments)}(g.auth);Ze(b,g.auth,"internal-error"),g.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ns{constructor(g,b){this.verificationId=g,this.onConfirmation=b}confirm(g){const b=Zs._fromVerification(this.verificationId,g);return this.onConfirmation(b)}}function ro(D,g,b){return Es.apply(this,arguments)}function Es(){return(Es=(0,f.Z)(function*(D,g,b){const M=ji(D),se=yield Y(M,g,(0,O.m9)(b));return new Ns(se,De=>si(M,De))})).apply(this,arguments)}function I(D,g,b){return T.apply(this,arguments)}function T(){return(T=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D);yield xa(!1,M,"phone");const se=yield Y(M.auth,g,(0,O.m9)(b));return new Ns(se,De=>Q(M,De))})).apply(this,arguments)}function E(D,g,b){return B.apply(this,arguments)}function B(){return(B=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D),se=yield Y(M.auth,g,(0,O.m9)(b));return new Ns(se,De=>z(M,De))})).apply(this,arguments)}function Y(D,g,b){return he.apply(this,arguments)}function he(){return he=(0,f.Z)(function*(D,g,b){var M;const se=yield b.verify();try{let De;if(Ze("string"==typeof se,D,"argument-error"),Ze(b.type===mr,D,"argument-error"),De="string"==typeof g?{phoneNumber:g}:g,"session"in De){const St=De.session;if("phoneNumber"in De)return Ze("enroll"===St.type,D,"internal-error"),(yield function gn(D,g){return Ne(D,"POST","/v2/accounts/mfaEnrollment:start",dt(D,g))}(D,{idToken:St.credential,phoneEnrollmentInfo:{phoneNumber:De.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Ze("signin"===St.type,D,"internal-error");const cn=(null===(M=De.multiFactorHint)||void 0===M?void 0:M.uid)||De.multiFactorUid;return Ze(cn,D,"missing-multi-factor-info"),(yield function Ma(D,g){return Ne(D,"POST","/v2/accounts/mfaSignIn:start",dt(D,g))}(D,{mfaPendingCredential:St.credential,mfaEnrollmentId:cn,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:St}=yield function ra(D,g){return sa.apply(this,arguments)}(D,{phoneNumber:De.phoneNumber,recaptchaToken:se});return St}}finally{b._reset()}}),he.apply(this,arguments)}function ve(D,g){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,f.Z)(function*(D,g){yield ts((0,O.m9)(D),g)})).apply(this,arguments)}let _n=(()=>{class D{constructor(b){this.providerId=D.PROVIDER_ID,this.auth=ji(b)}verifyPhoneNumber(b,M){return Y(this.auth,b,(0,O.m9)(M))}static credential(b,M){return Zs._fromVerification(b,M)}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:M,temporaryProof:se}=b;return M&&se?Zs._fromTokenResponse(M,se):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function jn(D,g){return g?X(g):(Ze(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Hn extends Tn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Zi(g,this._buildIdpRequest())}_linkToIdToken(g,b){return Zi(g,this._buildIdpRequest(b))}_getReauthenticationResolver(g){return Zi(g,this._buildIdpRequest())}_buildIdpRequest(g){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(b.idToken=g),b}}function Ei(D){return ss(D.auth,new Hn(D),D.bypassAuthState)}function kr(D){const{auth:g,user:b}=D;return Ze(b,g,"internal-error"),_o(b,new Hn(D),D.bypassAuthState)}function Oa(D){return ws.apply(this,arguments)}function ws(){return(ws=(0,f.Z)(function*(D){const{auth:g,user:b}=D;return Ze(b,g,"internal-error"),ts(b,new Hn(D),D.bypassAuthState)})).apply(this,arguments)}class Yo{constructor(g,b,M,se,De=!1){this.auth=g,this.resolver=M,this.user=se,this.bypassAuthState=De,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var g=this;return new Promise(function(){var b=(0,f.Z)(function*(M,se){g.pendingPromise={resolve:M,reject:se};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(De){g.reject(De)}});return function(M,se){return b.apply(this,arguments)}}())}onAuthEvent(g){var b=this;return(0,f.Z)(function*(){const{urlResponse:M,sessionId:se,postBody:De,tenantId:St,error:cn,type:Pn}=g;if(cn)return void b.reject(cn);const Gn={auth:b.auth,requestUri:M,sessionId:se,tenantId:St||void 0,postBody:De||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Pn)(Gn))}catch(li){b.reject(li)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ei;case"linkViaPopup":case"linkViaRedirect":return Oa;case"reauthViaPopup":case"reauthViaRedirect":return kr;default:Ye(this.auth,"internal-error")}}resolve(g){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wo=new Mt(2e3,1e4);function wr(D,g,b){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,f.Z)(function*(D,g,b){const M=ji(D);lt(D,g,mo);const se=jn(M,b);return new nu(M,"signInViaPopup",g,se).executeNotNull()})).apply(this,arguments)}function tu(D,g,b){return kl.apply(this,arguments)}function kl(){return(kl=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D);lt(M.auth,g,mo);const se=jn(M.auth,b);return new nu(M.auth,"reauthViaPopup",g,se,M).executeNotNull()})).apply(this,arguments)}function cd(D,g,b){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D);lt(M.auth,g,mo);const se=jn(M.auth,b);return new nu(M.auth,"linkViaPopup",g,se,M).executeNotNull()})).apply(this,arguments)}let nu=(()=>{class D extends Yo{constructor(b,M,se,De,St){super(b,M,De,St),this.provider=se,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var b=this;return(0,f.Z)(function*(){const M=yield b.execute();return Ze(M,b.auth,"internal-error"),M})()}onExecution(){var b=this;return(0,f.Z)(function*(){hn(1===b.filter.length,"Popup operations only handle one event");const M=rl();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],M),b.authWindow.associatedEvent=M,b.resolver._originValidation(b.auth).catch(se=>{b.reject(se)}),b.resolver._isIframeWebStorageSupported(b.auth,se=>{se||b.reject(Re(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const b=()=>{var M,se;this.pollId=null!==(se=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,wo.get())};b()}}return D.currentPopupAction=null,D})();const As="pendingRedirect",Zo=new Map;class Co extends Yo{constructor(g,b,M=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,M),this.eventId=null}execute(){var g=()=>super.execute,b=this;return(0,f.Z)(function*(){let M=Zo.get(b.auth._key());if(!M){try{const De=(yield function th(D,g){return or.apply(this,arguments)}(b.resolver,b.auth))?yield g().call(b):null;M=()=>Promise.resolve(De)}catch(se){M=()=>Promise.reject(se)}Zo.set(b.auth._key(),M)}return b.bypassAuthState||Zo.set(b.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(g){var b=()=>super.onAuthEvent,M=this;return(0,f.Z)(function*(){if("signInViaRedirect"===g.type)return b().call(M,g);if("unknown"!==g.type){if(g.eventId){const se=yield M.auth._redirectUserForId(g.eventId);if(se)return M.user=se,b().call(M,g);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function or(){return(or=(0,f.Z)(function*(D,g){const b=so(g),M=ic(D);if(!(yield M._isAvailable()))return!1;const se="true"===(yield M._get(b));return yield M._remove(b),se})).apply(this,arguments)}function iu(D,g){return is.apply(this,arguments)}function is(){return(is=(0,f.Z)(function*(D,g){return ic(D)._set(so(g),"true")})).apply(this,arguments)}function gr(){Zo.clear()}function ru(D,g){Zo.set(D._key(),g)}function ic(D){return X(D._redirectPersistence)}function so(D){return Jt(As,D.config.apiKey,D.name)}function Ou(D,g,b){return function nh(D,g,b){return ls.apply(this,arguments)}(D,g,b)}function ls(){return(ls=(0,f.Z)(function*(D,g,b){const M=ji(D);lt(D,g,mo),yield M._initializationPromise;const se=jn(M,b);return yield iu(se,M),se._openRedirect(M,g,"signInViaRedirect")})).apply(this,arguments)}function ih(D,g,b){return function al(D,g,b){return Ar.apply(this,arguments)}(D,g,b)}function Ar(){return(Ar=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D);lt(M.auth,g,mo),yield M.auth._initializationPromise;const se=jn(M.auth,b);yield iu(se,M.auth);const De=yield Fl(M);return se._openRedirect(M.auth,g,"reauthViaRedirect",De)})).apply(this,arguments)}function Pa(D,g,b){return function su(D,g,b){return Nl.apply(this,arguments)}(D,g,b)}function Nl(){return(Nl=(0,f.Z)(function*(D,g,b){const M=(0,O.m9)(D);lt(M.auth,g,mo),yield M.auth._initializationPromise;const se=jn(M.auth,b);yield xa(!1,M,g.providerId),yield iu(se,M.auth);const De=yield Fl(M);return se._openRedirect(M.auth,g,"linkViaRedirect",De)})).apply(this,arguments)}function Pu(D,g){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,f.Z)(function*(D,g){return yield ji(D)._initializationPromise,ll(D,g,!1)})).apply(this,arguments)}function ll(D,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(D,g,b=!1){const M=ji(D),se=jn(M,g),St=yield new Co(M,se,b).execute();return St&&!b&&(delete St.user._redirectEventId,yield M._persistUserIfCurrent(St.user),yield M._setRedirectUser(null,g)),St})).apply(this,arguments)}function Fl(D){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,f.Z)(function*(D){const g=rl(`${D.uid}:::`);return D._redirectEventId=g,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),g})).apply(this,arguments)}class rc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let b=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(g,M)&&(b=!0,this.sendToConsumer(g,M),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function sc(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ru(D);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=g,b=!0)),b}sendToConsumer(g,b){var M;if(g.error&&!Ru(g)){const se=(null===(M=g.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";b.onError(Re(this.auth,se))}else b.onAuthEvent(g)}isEventForConsumer(g,b){const M=null===b.eventId||!!g.eventId&&g.eventId===b.eventId;return b.filter.includes(g.type)&&M}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(g))}saveEventToCache(g){this.cachedEventUids.add(Po(g)),this.lastProcessedEventTime=Date.now()}}function Po(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(g=>g).join("-")}function Ru({type:D,error:g}){return"unknown"===D&&"auth/no-auth-event"===g?.code}function ou(D){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,f.Z)(function*(D,g={}){return Ne(D,"GET","/v1/projects",g)})).apply(this,arguments)}const Ac=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ud=/^https?/;function Mc(){return(Mc=(0,f.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:g}=yield ou(D);for(const b of g)try{if(dd(b))return}catch{}Ye(D,"unauthorized-domain")})).apply(this,arguments)}function dd(D){const g=Kt(),{protocol:b,hostname:M}=new URL(g);if(D.startsWith("chrome-extension://")){const St=new URL(D);return""===St.hostname&&""===M?"chrome-extension:"===b&&D.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===b&&St.hostname===M}if(!ud.test(b))return!1;if(Ac.test(D))return M===D;const se=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(M)}const Ya=new Mt(3e4,6e4);function Bl(){const D=tr().___jsl;if(D?.H)for(const g of Object.keys(D.H))if(D.H[g].r=D.H[g].r||[],D.H[g].L=D.H[g].L||[],D.H[g].r=[...D.H[g].L],D.CP)for(let b=0;b<D.CP.length;b++)D.CP[b]=null}let lu=null;const rh=new Mt(5e3,15e3),cl="__/auth/iframe",$r="emulator/auth/iframe",hd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vl(D){const g=D.config;Ze(g.authDomain,D,"auth-domain-config-required");const b=g.emulator?Bt(g,$r):`https://${D.config.authDomain}/${cl}`,M={apiKey:g.apiKey,appName:D.name,v:P.SDK_VERSION},se=Vr.get(D.config.apiHost);se&&(M.eid=se);const De=D._getFrameworks();return De.length&&(M.fw=De.join(",")),`${b}?${(0,O.xO)(M).slice(1)}`}function ul(){return ul=(0,f.Z)(function*(D){const g=yield function oc(D){return lu=lu||function ya(D){return new Promise((g,b)=>{var M,se,De;function St(){Bl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Bl(),b(Re(D,"network-request-failed"))},timeout:Ya.get()})}if(null!==(se=null===(M=tr().gapi)||void 0===M?void 0:M.iframes)&&void 0!==se&&se.Iframe)g(gapi.iframes.getContext());else{if(null===(De=tr().gapi)||void 0===De||!De.load){const cn=_r("iframefcb");return tr()[cn]=()=>{gapi.load?St():b(Re(D,"network-request-failed"))},fi(`https://apis.google.com/js/api.js?onload=${cn}`).catch(Pn=>b(Pn))}St()}}).catch(g=>{throw lu=null,g})}(D),lu}(D),b=tr().gapi;return Ze(b,D,"internal-error"),g.open({where:document.body,url:Vl(D),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hd,dontclear:!0},M=>new Promise(function(){var se=(0,f.Z)(function*(De,St){yield M.restyle({setHideOnLeave:!1});const cn=Re(D,"network-request-failed"),Pn=tr().setTimeout(()=>{St(cn)},rh.get());function Gn(){tr().clearTimeout(Pn),De(M)}M.ping(Gn).then(Gn,()=>{St(cn)})});return function(De,St){return se.apply(this,arguments)}}()))}),ul.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U=500,re=600,Oe="_blank",ut="http://localhost";class At{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fn="__/auth/handler",ni="emulator/auth/handler",Ci=encodeURIComponent("fac");function Ii(D,g,b,M,se,De){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(D,g,b,M,se,De){Ze(D.config.authDomain,D,"auth-domain-config-required"),Ze(D.config.apiKey,D,"invalid-api-key");const St={apiKey:D.config.apiKey,appName:D.name,authType:b,redirectUrl:M,v:P.SDK_VERSION,eventId:se};if(g instanceof mo){g.setDefaultLanguage(D.languageCode),St.providerId=g.providerId||"",(0,O.xb)(g.getCustomParameters())||(St.customParameters=JSON.stringify(g.getCustomParameters()));for(const[li,Ui]of Object.entries(De||{}))St[li]=Ui}if(g instanceof us){const li=g.getScopes().filter(Ui=>""!==Ui);li.length>0&&(St.scopes=li.join(","))}D.tenantId&&(St.tid=D.tenantId);const cn=St;for(const li of Object.keys(cn))void 0===cn[li]&&delete cn[li];const Pn=yield D._getAppCheckToken(),Gn=Pn?`#${Ci}=${encodeURIComponent(Pn)}`:"";return`${function Fs({config:D}){return D.emulator?Bt(D,ni):`https://${D.authDomain}/${Fn}`}(D)}?${(0,O.xO)(cn).slice(1)}${Gn}`})).apply(this,arguments)}const ac="webStorageSupport",Ul=class ku{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bo,this._completeRedirectFn=ll,this._overrideRedirectResult=ru}_openPopup(g,b,M,se){var De=this;return(0,f.Z)(function*(){var St;hn(null===(St=De.eventManagers[g._key()])||void 0===St?void 0:St.manager,"_initialize() not called before _openPopup()");const cn=yield Ii(g,b,M,Kt(),se);return function un(D,g,b,M=U,se=re){const De=Math.max((window.screen.availHeight-se)/2,0).toString(),St=Math.max((window.screen.availWidth-M)/2,0).toString();let cn="";const Pn=Object.assign(Object.assign({},S),{width:M.toString(),height:se.toString(),top:De,left:St}),Gn=(0,O.z$)().toLowerCase();b&&(cn=fe(Gn)?Oe:b),de(Gn)&&(g=g||ut,Pn.scrollbars="yes");const li=Object.entries(Pn).reduce((Xo,[Io,md])=>`${Xo}${Io}=${md},`,"");if(function fn(D=(0,O.z$)()){var g;return Xe(D)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Gn)&&"_self"!==cn)return function $n(D,g){const b=document.createElement("a");b.href=D,b.target=g;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(M)}(g||"",cn),new At(null);const Ui=window.open(g||"",cn,li);Ze(Ui,D,"popup-blocked");try{Ui.focus()}catch{}return new At(Ui)}(g,cn,rl())})()}_openRedirect(g,b,M,se){var De=this;return(0,f.Z)(function*(){return yield De._originValidation(g),function vi(D){tr().location.href=D}(yield Ii(g,b,M,Kt(),se)),new Promise(()=>{})})()}_initialize(g){const b=g._key();if(this.eventManagers[b]){const{manager:se,promise:De}=this.eventManagers[b];return se?Promise.resolve(se):(hn(De,"If manager is not set, promise should be"),De)}const M=this.initAndGetManager(g);return this.eventManagers[b]={promise:M},M.catch(()=>{delete this.eventManagers[b]}),M}initAndGetManager(g){var b=this;return(0,f.Z)(function*(){const M=yield function Oc(D){return ul.apply(this,arguments)}(g),se=new rc(g);return M.register("authEvent",De=>(Ze(De?.authEvent,g,"invalid-auth-event"),{status:se.onEvent(De.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[g._key()]={manager:se},b.iframes[g._key()]=M,se})()}_isIframeWebStorageSupported(g,b){this.iframes[g._key()].send(ac,{type:ac},se=>{var De;const St=null===(De=se?.[0])||void 0===De?void 0:De[ac];void 0!==St&&b(!!St),Ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const b=g._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function au(D){return Mc.apply(this,arguments)}(g)),this.originValidationPromises[b]}get _shouldInitProactively(){return Ln()||pe()||Xe()}};class Ro{constructor(g){this.factorId=g}_process(g,b,M){switch(b.type){case"enroll":return this._finalizeEnroll(g,b.credential,M);case"signin":return this._finalizeSignIn(g,b.credential);default:return Ut("unexpected MultiFactorSessionType")}}}class oo extends Ro{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new oo(g)}_finalizeEnroll(g,b,M){return function mi(D,g){return Ne(D,"POST","/v2/accounts/mfaEnrollment:finalize",dt(D,g))}(g,{idToken:b,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,b){return function Wa(D,g){return Ne(D,"POST","/v2/accounts/mfaSignIn:finalize",dt(D,g))}(g,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fd=(()=>{class D{constructor(){}static assertion(b){return oo._fromCredential(b)}}return D.FACTOR_ID="phone",D})();var Qo="@firebase/auth";class dl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var b=this;return(0,f.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const b=this.auth.onIdTokenChanged(M=>{g(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,b),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const b=this.internalListeners.get(g);b&&(this.internalListeners.delete(g),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wr=(0,O.Pz)("authIdTokenMaxAge")||300;let Fi=null;const ko=D=>function(){var g=(0,f.Z)(function*(b){const M=b&&(yield b.getIdTokenResult()),se=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(se&&se>Wr)return;const De=M?.token;Fi!==De&&(Fi=De,yield fetch(D,{method:De?"POST":"DELETE",headers:De?{Authorization:`Bearer ${De}`}:{}}))});return function(b){return g.apply(this,arguments)}}();function Yh(D=(0,P.getApp)()){const g=(0,P._getProvider)(D,"auth");if(g.isInitialized())return g.getImmediate();const b=function $i(D,g){const b=(0,P._getProvider)(D,"auth");if(b.isInitialized()){const se=b.getImmediate(),De=b.getOptions();if((0,O.vZ)(De,g??{}))return se;Ye(se,"already-initialized")}return b.initialize({options:g})}(D,{popupRedirectResolver:Ul,persistence:[tc,Tu,bo]}),M=(0,O.Pz)("authTokenSyncURL");if(M){const De=ko(M);(function H(D,g,b){(0,O.m9)(D).beforeAuthStateChanged(g,b)})(b,De,()=>De(b.currentUser)),function ee(D,g,b,M){(0,O.m9)(D).onIdTokenChanged(g,b,M)}(b,St=>De(St))}const se=(0,O.q4)("auth");return se&&ki(b,`http://${se}`),b}!function cu(D){(0,P._registerComponent)(new Pe.wA("auth",(g,{options:b})=>{const M=g.getProvider("app").getImmediate(),se=g.getProvider("heartbeat"),De=g.getProvider("app-check-internal"),{apiKey:St,authDomain:cn}=M.options;Ze(St&&!St.includes(":"),"invalid-api-key",{appName:M.name});const Pn={apiKey:St,authDomain:cn,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rr(D)},Gn=new Yi(M,se,De,Pn);return function hr(D,g){const b=g?.persistence||[],M=(Array.isArray(b)?b:[b]).map(X);g?.errorMap&&D._updateErrorMap(g.errorMap),D._initializeWithPersistence(M,g?.popupRedirectResolver)}(Gn,b),Gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,b,M)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new Pe.wA("auth-internal",g=>{const b=ji(g.getProvider("auth").getImmediate());return new dl(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Qo,"0.23.2",function sh(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,P.registerVersion)(Qo,"0.23.2","esm2017")}("Browser")},2810:(vn,ot,x)=>{x.d(ot,{u7:()=>l_,Jj:()=>Jr,IX:()=>o,my:()=>Vs,xU:()=>jf,Lz:()=>Qa,WA:()=>En,F8:()=>Cl,$q:()=>tg,W:()=>sd,EK:()=>Rr,PU:()=>ey,l7:()=>ll,Ky:()=>zn,Xb:()=>xi,Cf:()=>nr,K9:()=>ms,Me:()=>nh,yq:()=>pr,Wi:()=>t_,ET:()=>av,Ab:()=>By,vr:()=>_v,Fc:()=>It,hJ:()=>Wm,B$:()=>Gl,at:()=>Z_,oe:()=>Ry,AK:()=>gv,TF:()=>Dn,JU:()=>i_,ST:()=>K,fH:()=>ue,Ix:()=>an,Wu:()=>a_,Lx:()=>ev,qY:()=>w,GL:()=>Hp,QT:()=>My,kl:()=>ng,Xk:()=>ig,PL:()=>rv,UQ:()=>sv,zN:()=>ov,nP:()=>yv,b9:()=>Qv,vh:()=>Mi,Pb:()=>qn,L$:()=>Ri,cf:()=>ky,sc:()=>lv,Xo:()=>Dy,IO:()=>Uf,iE:()=>Kl,Eo:()=>r_,i3:()=>rg,Bt:()=>Ly,pl:()=>Oy,Ub:()=>Ni,qK:()=>Ay,TQ:()=>Jy,e0:()=>Xy,r7:()=>Py,Mx:()=>Nt,ar:()=>Qy});var ye,f=x(5861),O=x(6881),P=x(4859),R=x(1877),ae=x(2090),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je={},Ge=Ge||{},ie=Pe||self;function ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function le(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Be="closure_uid_"+(1e9*Math.random()>>>0),Qe=0;function bt(i,e,t){return i.call.apply(i.bind,arguments)}function et(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function Ve(i,e,t){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:et).apply(null,arguments)}function Me(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ft(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,c,m){for(var v=Array(arguments.length-2),k=2;k<arguments.length;k++)v[k-2]=arguments[k];return e.prototype[c].apply(s,v)}}function Ye(){this.s=this.s,this.o=this.o}Ye.prototype.s=!1,Ye.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ke(i){Object.prototype.hasOwnProperty.call(i,Be)&&i[Be]||(i[Be]=++Qe)}(this)},Ye.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function lt(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function nt(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ge(s)){const c=i.length||0,m=s.length||0;i.length=c+m;for(let v=0;v<m;v++)i[c+v]=s[v]}else i.push(s)}}function Ze(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var Ut=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return i}();function hn(i){return/^[\s\xa0]*$/.test(i)}function Kt(){var i=ie.navigator;return i&&(i=i.userAgent)?i:""}function nn(i){return-1!=Kt().indexOf(i)}function mn(i){return mn[" "](i),i}mn[" "]=function(){};var Ne,i,zt=nn("Opera"),Mt=nn("Trident")||nn("MSIE"),Bt=nn("Edge"),Vt=Bt||Mt,Ot=nn("Gecko")&&!(-1!=Kt().toLowerCase().indexOf("webkit")&&!nn("Edge"))&&!(nn("Trident")||nn("MSIE"))&&!nn("Edge"),rt=-1!=Kt().toLowerCase().indexOf("webkit")&&!nn("Edge");function dt(){var i=ie.document;return i?i.documentMode:void 0}e:{var ht="",it=(i=Kt(),Ot?/rv:([^\);]+)(\)|;)/.exec(i):Bt?/Edge\/([\d\.]+)/.exec(i):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):rt?/WebKit\/(\S+)/.exec(i):zt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(it&&(ht=it?it[1]:""),Mt){var He=dt();if(null!=He&&He>parseFloat(ht)){Ne=String(He);break e}}Ne=ht}var Gt=ie.document&&Mt&&(dt()||parseInt(Ne,10))||void 0;function Ke(i,e){if(Ze.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ot){e:{try{mn(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Pt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ke.$.h.call(this)}}Ft(Ke,Ze);var Pt={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),In=0;function Xn(i,e,t,s,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=c,this.key=++In,this.fa=this.ia=!1}function wt(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ct(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function xe(i){const e={};for(const t in i)e[t]=i[t];return e}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(i,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)i[t]=s[t];for(let m=0;m<J.length;m++)t=J[m],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function ft(i){this.src=i,this.g={},this.h=0}function Rt(i,e){var t=e.type;if(t in i.g){var m,s=i.g[t],c=tt(s,e);(m=0<=c)&&Array.prototype.splice.call(s,c,1),m&&(wt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ht(i,e,t,s){for(var c=0;c<i.length;++c){var m=i[c];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==s)return c}return-1}ft.prototype.add=function(i,e,t,s,c){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var v=Ht(i,e,s,c);return-1<v?(e=i[v],t||(e.ia=!1)):((e=new Xn(e,this.src,m,!!s,c)).ia=t,i.push(e)),e};var _t="closure_lm_"+(1e6*Math.random()|0),Yt={};function Te(i,e,t,s,c){if(s&&s.once)return me(i,e,t,s,c);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Te(i,e[m],t,s,c);return null}return t=Dt(t),i&&i[ln]?i.O(e,t,le(s)?!!s.capture:!!s,c):$e(i,e,t,!1,s,c)}function $e(i,e,t,s,c,m){if(!e)throw Error("Invalid event type");var v=le(c)?!!c.capture:!!c,k=dn(i);if(k||(i[_t]=k=new ft(i)),(t=k.add(e,t,s,v,m)).proxy)return t;if(s=function ce(){const e=Sn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Ut||(c=v),void 0===c&&(c=!1),i.addEventListener(e.toString(),s,c);else if(i.attachEvent)i.attachEvent(Tt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function me(i,e,t,s,c){if(Array.isArray(e)){for(var m=0;m<e.length;m++)me(i,e[m],t,s,c);return null}return t=Dt(t),i&&i[ln]?i.P(e,t,le(s)?!!s.capture:!!s,c):$e(i,e,t,!0,s,c)}function yt(i,e,t,s,c){if(Array.isArray(e))for(var m=0;m<e.length;m++)yt(i,e[m],t,s,c);else s=le(s)?!!s.capture:!!s,t=Dt(t),i&&i[ln]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ht(m=i.g[e],t,s,c))&&(wt(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=dn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ht(e,t,s,c)),(t=-1<i?e[i]:null)&&ze(t))}function ze(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[ln])Rt(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Tt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=dn(e))?(Rt(t,i),0==t.h&&(t.src=null,e[_t]=null)):wt(i)}}}function Tt(i){return i in Yt?Yt[i]:Yt[i]="on"+i}function Sn(i,e){if(i.fa)i=!0;else{e=new Ke(e,this);var t=i.listener,s=i.la||i.src;i.ia&&ze(i),i=t.call(s,e)}return i}function dn(i){return(i=i[_t])instanceof ft?i:null}var ii="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(i){return"function"==typeof i?i:(i[ii]||(i[ii]=function(e){return i.handleEvent(e)}),i[ii])}function st(){Ye.call(this),this.i=new ft(this),this.S=this,this.J=null}function oe(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ze(e,i);else if(e instanceof Ze)e.target=e.target||i;else{var c=e;Ae(e=new Ze(s,i),c)}if(c=!0,t)for(var m=t.length-1;0<=m;m--){var v=e.g=t[m];c=q(v,s,!0,e)&&c}if(c=q(v=e.g=i,s,!0,e)&&c,c=q(v,s,!1,e)&&c,t)for(m=0;m<t.length;m++)c=q(v=e.g=t[m],s,!1,e)&&c}function q(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,m=0;m<e.length;++m){var v=e[m];if(v&&!v.fa&&v.capture==t){var k=v.listener,G=v.la||v.src;v.ia&&Rt(i.i,v),c=!1!==k.call(G,s)&&c}}return c&&!s.defaultPrevented}Ft(st,Ye),st.prototype[ln]=!0,st.prototype.removeEventListener=function(i,e,t,s){yt(this,i,e,t,s)},st.prototype.N=function(){if(st.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)wt(t[s]);delete i.g[e],i.h--}}this.J=null},st.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},st.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var N=ie.JSON.stringify;function X(){var i=fe;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Wt=new class ${constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Jt,i=>i.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ue(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function Le(i){ie.setTimeout(()=>{throw i},0)}let de,pe=!1,fe=new class Se{constructor(){this.h=this.g=null}add(e,t){const s=Wt.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},pt=()=>{const i=ie.Promise.resolve(void 0);de=()=>{i.then(Fe)}};var Fe=()=>{for(var i;i=X();){try{i.h.call(i.g)}catch(t){Le(t)}var e=Wt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}pe=!1};function We(i,e){st.call(this),this.h=i||1,this.g=e||ie,this.j=Ve(this.qb,this),this.l=Date.now()}function be(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Xe(i,e,t){if("function"==typeof i)t&&(i=Ve(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ve(i.handleEvent,i)}return 2147483647<Number(e)?-1:ie.setTimeout(i,e||0)}function jt(i){i.g=Xe(()=>{i.g=null,i.i&&(i.i=!1,jt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ft(We,st),(ye=We.prototype).ga=!1,ye.T=null,ye.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oe(this,"tick"),this.ga&&(be(this),this.start()))}},ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.N=function(){We.$.N.call(this),be(this),delete this.g};class fn extends Ye{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jt(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(i){Ye.call(this),this.h=i,this.g={}}Ft(xn,Ye);var Ln=[];function yi(i,e,t,s){Array.isArray(t)||(t&&(Ln[0]=t.toString()),t=Ln);for(var c=0;c<t.length;c++){var m=Te(e,t[c],s||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function rr(i){ct(i.g,function(e,t){this.g.hasOwnProperty(t)&&ze(e)},i),i.g={}}function tn(){this.g=!0}function Un(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var m=c[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var v=1;v<c.length;v++)c[v]=""}}}return N(t)}catch{return e}}(i,t)+(s?" "+s:"")})}xn.prototype.N=function(){xn.$.N.call(this),rr(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tn.prototype.Ea=function(){this.g=!1},tn.prototype.info=function(){};var Wn={},Vi=null;function fi(){return Vi=Vi||new st}function _r(i){Ze.call(this,Wn.Ta,i)}function Dr(i){const e=fi();oe(e,new _r(e))}function ho(i,e){Ze.call(this,Wn.STAT_EVENT,i),this.stat=e}function dr(i){const e=fi();oe(e,new ho(e,i))}function ys(i,e){Ze.call(this,Wn.Ua,i),this.size=e}function Ki(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){i()},e)}Wn.Ta="serverreachability",Ft(_r,Ze),Wn.STAT_EVENT="statevent",Ft(ho,Ze),Wn.Ua="timingevent",Ft(ys,Ze);var On={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ci={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yi(){}function Yr(){}Yi.prototype.h=null;var xt,$i={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hr(){Ze.call(this,"d")}function ki(){Ze.call(this,"c")}function vt(){}function Et(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new xn(this),this.P=Tn,this.V=new We(i=Vt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pn}function pn(){this.i=null,this.g="",this.h=!1}Ft(hr,Ze),Ft(ki,Ze),Ft(vt,Yi),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},xt=new vt;var Tn=45e3,Yn={},wi={};function ui(i,e,t){i.L=1,i.v=rs(Er(e)),i.s=t,i.S=!0,Oi(i,null)}function Oi(i,e){i.G=Date.now(),Or(i),i.A=Er(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Os(t.i,"t",s),i.C=0,t=i.l.J,i.h=new pn,i.g=eo(i.l,t?e:null,!i.s),0<i.O&&(i.M=new fn(Ve(i.Pa,i,i.g),i.O)),yi(i.U,i.g,"readystatechange",i.nb),e=i.I?xe(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Dr(),function $t(i,e,t,s,c,m){i.info(function(){if(i.g)if(m)for(var v="",k=m.split("&"),G=0;G<k.length;G++){var ne=k[G].split("=");if(1<ne.length){var Ce=ne[0];ne=ne[1];var at=Ce.split("_");v=2<=at.length&&"type"==at[1]?v+(Ce+"=")+ne+"&":v+(Ce+"=redacted&")}}else v=null;else v=m;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function cs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function es(i,e,t){let c,s=!0;for(;!i.J&&i.C<t.length;){if(c=Nr(i,t),c==wi){4==e&&(i.o=4,dr(14),s=!1),Un(i.j,i.m,null,"[Incomplete Response]");break}if(c==Yn){i.o=4,dr(15),Un(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}Un(i.j,i.m,c,null),Uo(i,c)}cs(i)&&c!=wi&&c!=Yn&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,dr(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),xs(e),e.M=!0,dr(11))):(Un(i.j,i.m,t,"[Invalid Chunked Response]"),js(i),fo(i))}function Nr(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?wi:(t=Number(e.substring(t,s)),isNaN(t)?Yn:(s+=1)+t>e.length?wi:(e=e.slice(s,s+t),i.C=s+t,e))}function Or(i){i.Y=Date.now()+i.P,sr(i,i.P)}function sr(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ki(Ve(i.lb,i),e)}function Zr(i){i.B&&(ie.clearTimeout(i.B),i.B=null)}function fo(i){0==i.l.H||i.J||ja(i.l,i)}function js(i){Zr(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,be(i.V),rr(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Uo(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||aa(t.i,i)))if(!i.K&&aa(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;za(t),Kn(t)}da(t),dr(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ki(Ve(t.ib,t),6e3));if(1>=ds(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Js(t,11)}else if((i.K||t.g==i)&&za(t),!hn(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let ne=c[e];if(t.V=ne[0],ne=ne[1],2==t.H)if("c"==ne[0]){t.K=ne[1],t.pa=ne[2];const Ce=ne[3];null!=Ce&&(t.ra=Ce,t.l.info("VER="+t.ra));const at=ne[4];null!=at&&(t.Ga=at,t.l.info("SVER="+t.Ga));const Zt=ne[5];null!=Zt&&"number"==typeof Zt&&0<Zt&&(t.L=s=1.5*Zt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const yn=i.g;if(yn){const kn=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kn){var m=s.i;m.g||-1==kn.indexOf("spdy")&&-1==kn.indexOf("quic")&&-1==kn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Ua(m,m.h),m.h=null))}if(s.F){const Jn=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jn&&(s.Da=Jn,Zi(s.I,s.F,Jn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var v=i;if((s=t).wa=Ts(s,s.J?s.pa:null,s.Y),v.K){la(s.i,v);var k=v,G=s.L;G&&k.setTimeout(G),k.B&&(Zr(k),Or(k)),s.g=v}else ql(s);0<t.j.length&&on(t)}else"stop"!=ne[0]&&"close"!=ne[0]||Js(t,7);else 3==t.H&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?Js(t,7):sn(t):"noop"!=ne[0]&&t.h&&t.h.Aa(ne),t.A=0)}Dr()}catch{}}function Fr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ge(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Hs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ge(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Ms(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ge(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),c=s.length,m=0;m<c;m++)e.call(void 0,s[m],t&&t[m],i)}(ye=Et.prototype).setTimeout=function(i){this.P=i},ye.nb=function(i){i=i.target;const e=this.M;e&&3==os(i)?e.l():this.Pa(i)},ye.Pa=function(i){try{if(i==this.g)e:{const Ce=os(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ce)&&(3!=Ce||Vt||this.g&&(this.h.h||this.g.ja()||si(this.g)))){this.J||4!=Ce||7==e||Dr(),Zr(this);var t=this.g.da();this.ca=t;t:if(cs(this)){var s=si(this.g);i="";var c=s.length,m=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){js(this),fo(this);var v="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:m&&e==c-1});s.splice(0,c),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==t,function Cn(i,e,t,s,c,m,v){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+m+" "+v})}(this.j,this.u,this.A,this.m,this.W,Ce,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hn(k)){var ne=k;break t}}ne=null}if(!(t=ne)){this.i=!1,this.o=3,dr(12),js(this),fo(this);break e}Un(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uo(this,t)}this.S?(es(this,Ce,v),Vt&&this.i&&3==Ce&&(yi(this.U,this.V,"tick",this.mb),this.V.start())):(Un(this.j,this.m,v,null),Uo(this,v)),4==Ce&&js(this),this.i&&!this.J&&(4==Ce?ja(this.l,this):(this.i=!1,Or(this)))}else(function Qs(i){const e={};i=(i.g&&2<=os(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(hn(i[s]))continue;var t=Ue(i[s]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[c]||[];e[c]=m,m.push(t)}!function Ct(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<v.indexOf("Unknown SID")?(this.o=3,dr(12)):(this.o=0,dr(13)),js(this),fo(this)}}}catch{}},ye.mb=function(){if(this.g){var i=os(this.g),e=this.g.ja();this.C<e.length&&(Zr(this),es(this,i,e),this.i&&4!=i&&Or(this))}},ye.cancel=function(){this.J=!0,js(this)},ye.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Qn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Dr(),dr(17)),js(this),this.o=2,fo(this)):sr(this,this.Y-i)};var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof xr){this.h=i.h,vs(this,i.j),this.s=i.s,this.g=i.g,po(this,i.m),this.l=i.l;var e=i.i,t=new To;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),jr(this,t),this.o=i.o}else i&&(e=String(i).match(wa))?(this.h=!1,vs(this,e[1]||"",!0),this.s=Ca(e[2]||""),this.g=Ca(e[3]||"",!0),po(this,e[4]),this.l=Ca(e[5]||"",!0),jr(this,e[6]||"",!0),this.o=Ca(e[7]||"")):(this.h=!1,this.i=new To(null,this.h))}function Er(i){return new xr(i)}function vs(i,e,t){i.j=t?Ca(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function po(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function jr(i,e,t){e instanceof To?(i.i=e,function Ps(i,e){e&&!i.j&&(Is(i),i.i=null,i.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(Va(this,s),Os(this,c,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Pr(e,La)),i.i=new To(e,i.h))}function Zi(i,e,t){i.i.set(e,t)}function rs(i){return Zi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ca(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Pr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ra),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ra(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}xr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Pr(e,sa,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Pr(e,sa,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Pr(t,"/"==t.charAt(0)?Ja:xo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Pr(t,Ba)),i.join("")};var sa=/[#\/\?@]/g,xo=/[#\?:]/g,Ja=/[#\?]/g,La=/[#\?@]/g,Ba=/#/g;function To(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Is(i){i.g||(i.g=new Map,i.h=0,i.i&&function zr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),c=null;if(0<=s){var m=i[t].substring(0,s);c=i[t].substring(s+1)}else m=i[t];e(m,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Va(i,e){Is(i),e=So(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Zs(i,e){return Is(i),e=So(i,e),i.g.has(e)}function Os(i,e,t){Va(i,e),0<t.length&&(i.i=null,i.g.set(So(i,e),lt(t)),i.h+=t.length)}function So(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function oa(i){this.l=i||mo,i=ie.PerformanceNavigationTiming?0<(i=ie.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ye=To.prototype).add=function(i,e){Is(this),this.i=null,i=So(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ye.forEach=function(i,e){Is(this),this.g.forEach(function(t,s){t.forEach(function(c){i.call(e,c,s,this)},this)},this)},ye.ta=function(){Is(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=i[s];for(let m=0;m<c.length;m++)t.push(e[s])}return t},ye.Z=function(i){Is(this);let e=[];if("string"==typeof i)Zs(this,i)&&(e=e.concat(this.g.get(So(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ye.set=function(i,e){return Is(this),this.i=null,Zs(this,i=So(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ye.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const m=encodeURIComponent(String(s)),v=this.Z(s);for(s=0;s<v.length;s++){var c=m;""!==v[s]&&(c+="="+encodeURIComponent(String(v[s]))),i.push(c)}}return this.i=i.join("&")};var mo=10;function us(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ds(i){return i.h?1:i.g?i.g.size:0}function aa(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ua(i,e){i.g?i.g.add(e):i.h=e}function la(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ia(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return lt(i.i)}oa.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var $s=class{stringify(i){return ie.JSON.stringify(i,void 0)}parse(i){return ie.JSON.parse(i,void 0)}};function Da(){this.g=new $s}function el(i,e,t){const s=t||"";try{Fr(i,function(c,m){let v=c;le(c)&&(v=N(c)),e.push(s+m+"="+encodeURIComponent(v))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function go(i,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Ds(i){this.l=i.fc||null,this.j=i.ob||!1}function lr(i,e){st.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(Ds,Yi),Ds.prototype.g=function(){return new lr(this.l,this.j)},Ds.prototype.i=function(i){return function(){return i}}({}),Ft(lr,st);var zo=0;function ca(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function fr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Tr(i)}function Tr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ye=lr.prototype).open=function(i,e){if(this.readyState!=zo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Tr(this)},ye.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fr(this)),this.readyState=zo},ye.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ca(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ye.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?fr(this):Tr(this),3==this.readyState&&ca(this)}},ye.Za=function(i){this.g&&(this.response=this.responseText=i,fr(this))},ye.Ya=function(i){this.g&&(this.response=i,fr(this))},ye.ka=function(){this.g&&fr(this)},ye.setRequestHeader=function(i,e){this.v.append(i,e)},ye.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var jo=ie.JSON.parse;function Di(i){st.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zl,this.L=this.M=!1}Ft(Di,st);var Zl="",ua=/^https?$/i,ts=["POST","PUT"];function xa(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,qs(i),hs(i)}function qs(i){i.F||(i.F=!0,oe(i,"complete"),oe(i,"error"))}function _o(i){if(i.h&&typeof Ge<"u"&&(!i.C[1]||4!=os(i)||2!=i.da()))if(i.v&&4==os(i))Xe(i.La,0,i);else if(oe(i,"readystatechange"),4==os(i)){i.h=!1;try{const v=i.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===v){var c=String(i.I).match(wa)[1]||null;!c&&ie.self&&ie.self.location&&(c=ie.self.location.protocol.slice(0,-1)),s=!ua.test(c?c.toLowerCase():"")}t=s}if(t)oe(i,"complete"),oe(i,"success");else{i.m=6;try{var m=2<os(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.da()+"]",qs(i)}}finally{hs(i)}}}function hs(i,e){if(i.g){ss(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||oe(i,"ready");try{t.onreadystatechange=s}catch{}}}function ss(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ie.clearTimeout(i.A),i.A=null)}function os(i){return i.g?i.g.readyState:0}function si(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Zl:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Q(i){let e="";return ct(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function W(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Q(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Zi(i,e,t))}function z(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ee(i){this.Ga=0,this.j=[],this.l=new tn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=z("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=z("baseRetryDelayMs",5e3,i),this.hb=z("retryDelaySeedMs",1e4,i),this.eb=z("forwardChannelMaxRetries",2,i),this.xa=z("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new oa(i&&i.concurrentRequestLimit),this.Ja=new Da,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sn(i){if(qr(i),3==i.H){var e=i.W++,t=Er(i.I);if(Zi(t,"SID",i.K),Zi(t,"RID",e),Zi(t,"TYPE","terminate"),Sr(i,t),(e=new Et(i,i.l,e)).L=2,e.v=rs(Er(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon)try{t=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=eo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Or(e)}Hr(i)}function Kn(i){i.g&&(xs(i),i.g.cancel(),i.g=null)}function qr(i){Kn(i),i.u&&(ie.clearTimeout(i.u),i.u=null),za(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ie.clearTimeout(i.m),i.m=null)}function on(i){if(!us(i.i)&&!i.m){i.m=!0;var e=i.Na;de||pt(),pe||(de(),pe=!0),fe.add(e,i),i.C=0}}function Xs(i,e){var t;t=e?e.m:i.W++;const s=Er(i.I);Zi(s,"SID",i.K),Zi(s,"RID",t),Zi(s,"AID",i.V),Sr(i,s),i.o&&i.s&&W(s,i.o,i.s),t=new Et(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=yr(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Ua(i.i,t),ui(t,s,e)}function Sr(i,e){i.na&&ct(i.na,function(t,s){Zi(e,s,t)}),i.h&&Fr({},function(t,s){Zi(e,s,t)})}function yr(i,e,t){t=Math.min(i.j.length,t);var s=i.h?Ve(i.h.Va,i.h,i):null;e:{var c=i.j;let m=-1;for(;;){const v=["count="+t];-1==m?0<t?(m=c[0].g,v.push("ofs="+m)):m=0:v.push("ofs="+m);let k=!0;for(let G=0;G<t;G++){let ne=c[G].g;const Ce=c[G].map;if(ne-=m,0>ne)m=Math.max(0,c[G].g-100),k=!1;else try{el(Ce,v,"req"+ne+"_")}catch{s&&s(Ce)}}if(k){s=v.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function ql(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;de||pt(),pe||(de(),pe=!0),fe.add(e,i),i.A=0}}function da(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ki(Ve(i.Ma,i),Ho(i,i.A)),i.A++,0))}function xs(i){null!=i.B&&(ie.clearTimeout(i.B),i.B=null)}function tl(i){i.g=new Et(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Er(i.wa);Zi(e,"RID","rpc"),Zi(e,"SID",i.K),Zi(e,"AID",i.V),Zi(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Zi(e,"TO",i.qa),Zi(e,"TYPE","xmlhttp"),Sr(i,e),i.o&&i.s&&W(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=rs(Er(e)),t.s=null,t.S=!0,Oi(t,i)}function za(i){null!=i.v&&(ie.clearTimeout(i.v),i.v=null)}function ja(i,e){var t=null;if(i.g==e){za(i),xs(i),i.g=null;var s=2}else{if(!aa(i.i,e))return;t=e.F,la(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=i.C;oe(s=fi(),new ys(s,t)),on(i)}else ql(i);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==s&&function di(i,e){return!(ds(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ki(Ve(i.Na,i,e),Ho(i,i.C)),i.C++,0)))}(i,e)||2==s&&da(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),c){case 1:Js(i,5);break;case 4:Js(i,10);break;case 3:Js(i,6);break;default:Js(i,2)}}function Ho(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function Js(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=Ve(i.pb,i);t||(t=new xr("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||vs(t,"https"),rs(t)),function Ic(i,e){const t=new tn;if(ie.Image){const s=new Image;s.onload=Me(go,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Me(go,t,s,"TestLoadImage: error",!1,e),s.onabort=Me(go,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Me(go,t,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else dr(2);i.H=0,i.h&&i.h.za(e),Hr(i),qr(i)}function Hr(i){if(i.H=0,i.ma=[],i.h){const e=Ia(i.i);(0!=e.length||0!=i.j.length)&&(nt(i.ma,e),nt(i.ma,i.j),i.i.i.length=0,lt(i.j),i.j.length=0),i.h.ya()}}function Ts(i,e,t){var s=t instanceof xr?Er(t):new xr(t);if(""!=s.g)e&&(s.g=e+"."+s.g),po(s,s.m);else{var c=ie.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var m=new xr(null);s&&vs(m,s),e&&(m.g=e),c&&po(m,c),t&&(m.l=t),s=m}return e=i.Da,(t=i.F)&&e&&Zi(s,t,e),Zi(s,"VER",i.ra),Sr(i,s),s}function eo(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(t&&i.Ha&&!i.va?new Ds({ob:!0}):i.va)).Oa(i.J),e}function yo(){}function Ss(){if(Mt&&!(10<=Number(Gt)))throw Error("Environmental error: no available transport.")}function fs(i,e){st.call(this),this.g=new Ee(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!hn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fa(this)}function ha(i){hr.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function xl(){ki.call(this),this.status=1}function fa(i){this.g=i}function ps(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $o(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)s[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=i.g[3],v=(e=i.g[0])+(m^(t=i.g[1])&((c=i.g[2])^m))+s[0]+3614090360&4294967295;v=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=t+(v<<7&4294967295|v>>>25))+((v=m+(c^e&(t^c))+s[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=c+(t^m&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^c&(m^e))+s[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^t&(c^m))+s[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=m+(c^e&(t^c))+s[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=c+(t^m&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^c&(m^e))+s[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^t&(c^m))+s[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=m+(c^e&(t^c))+s[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=c+(t^m&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^c&(m^e))+s[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(m^t&(c^m))+s[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=m+(c^e&(t^c))+s[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=c+(t^m&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^c&(m^e))+s[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(c^m&(t^c))+s[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^c&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=c+(e^t&(m^e))+s[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(c^m))+s[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(c^m&(t^c))+s[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^c&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=c+(e^t&(m^e))+s[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(c^m))+s[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(c^m&(t^c))+s[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^c&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=c+(e^t&(m^e))+s[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(c^m))+s[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(c^m&(t^c))+s[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=m+(t^c&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=c+(e^t&(m^e))+s[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=t+(m^e&(c^m))+s[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(t^c^m)+s[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^c)+s[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=c+(m^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=t+(c^m^e)+s[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^c^m)+s[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^c)+s[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=c+(m^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=t+(c^m^e)+s[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^c^m)+s[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^c)+s[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=c+(m^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=t+(c^m^e)+s[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^c^m)+s[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=m+(e^t^c)+s[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=c+(m^e^t)+s[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=t+(c^m^e)+s[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(c^(t|~m))+s[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=c+(e^(m|~t))+s[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=t+(m^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(c^(t|~m))+s[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=c+(e^(m|~t))+s[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=t+(m^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(c^(t|~m))+s[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=c+(e^(m|~t))+s[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=t+(m^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((m=(e=t+((v=e+(c^(t|~m))+s[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=m+(t^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((c=m+((v=c+(e^(m|~t))+s[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(c+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+c&4294967295,i.g[3]=i.g[3]+m&4294967295}function ir(i,e){this.h=e;for(var t=[],s=!0,c=i.length-1;0<=c;c--){var m=0|i[c];s&&m==e||(t[c]=m,s=!1)}this.g=t}(ye=Di.prototype).Oa=function(i){this.M=i},ye.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xt.g(),this.C=function ji(i){return i.h||(i.h=i.i())}(this.u?this.u:xt),this.g.onreadystatechange=Ve(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(m){return void xa(this,m)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const m of s.keys())t.set(m,s.get(m))}s=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),c=ie.FormData&&i instanceof ie.FormData,!(0<=tt(ts,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,v]of t)this.g.setRequestHeader(m,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ss(this),0<this.B&&((this.L=function Lr(i){return Mt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.ua,this)):this.A=Xe(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){xa(this,m)}},ye.ua=function(){typeof Ge<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oe(this,"timeout"),this.abort(8))},ye.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,oe(this,"complete"),oe(this,"abort"),hs(this))},ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hs(this,!0)),Di.$.N.call(this)},ye.La=function(){this.s||(this.G||this.v||this.l?_o(this):this.kb())},ye.kb=function(){_o(this)},ye.isActive=function(){return!!this.g},ye.da=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ye.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),jo(e)}},ye.Ia=function(){return this.m},ye.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=Ee.prototype).ra=8,ye.H=1,ye.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const c=new Et(this,this.l,i);let m=this.s;if(this.U&&(m?(m=xe(m),Ae(m,this.U)):m=this.U),null!==this.o||this.O||(c.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yr(this,c,e),Zi(t=Er(this.I),"RID",i),Zi(t,"CVER",22),this.F&&Zi(t,"X-HTTP-Session-Id",this.F),Sr(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(Q(m)))+"&"+e:this.o&&W(t,this.o,m)),Ua(this.i,c),this.bb&&Zi(t,"TYPE","init"),this.P?(Zi(t,"$req",e),Zi(t,"SID","null"),c.aa=!0,ui(c,t,null)):ui(c,t,e),this.H=2}}else 3==this.H&&(i?Xs(this,i):0==this.j.length||us(this.i)||Xs(this))},ye.Ma=function(){if(this.u=null,tl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ki(Ve(this.jb,this),i)}},ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dr(10),Kn(this),tl(this))},ye.ib=function(){null!=this.v&&(this.v=null,Kn(this),da(this),dr(19))},ye.pb=function(i){i?(this.l.info("Successfully pinged google.com"),dr(2)):(this.l.info("Failed to ping google.com"),dr(1))},ye.isActive=function(){return!!this.h&&this.h.isActive(this)},(ye=yo.prototype).Ba=function(){},ye.Aa=function(){},ye.za=function(){},ye.ya=function(){},ye.isActive=function(){return!0},ye.Va=function(){},Ss.prototype.g=function(i,e){return new fs(i,e)},Ft(fs,st),fs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;dr(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Ts(i,null,i.Y),on(i)},fs.prototype.close=function(){sn(this.g)},fs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=N(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&on(e)},fs.prototype.N=function(){this.g.h=null,delete this.j,sn(this.g),delete this.g,fs.$.N.call(this)},Ft(ha,hr),Ft(xl,ki),Ft(fa,yo),fa.prototype.Ba=function(){oe(this.g,"a")},fa.prototype.Aa=function(i){oe(this.g,new ha(i))},fa.prototype.za=function(i){oe(this.g,new xl)},fa.prototype.ya=function(){oe(this.g,"b")},Ft(ps,function Br(){this.blockSize=-1}),ps.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ps.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,c=this.h,m=0;m<e;){if(0==c)for(;m<=t;)$o(this,i,m),m+=this.blockSize;if("string"==typeof i){for(;m<e;)if(s[c++]=i.charCodeAt(m++),c==this.blockSize){$o(this,s),c=0;break}}else for(;m<e;)if(s[c++]=i[m++],c==this.blockSize){$o(this,s),c=0;break}}this.h=c,this.i+=e},ps.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var Ta={};function Sa(i){return-128<=i&&128>i?function ai(i,e){var t=Ta;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new ir([0|e],0>e?-1:0)}):new ir([0|i],0>i?-1:0)}function bs(i){if(isNaN(i)||!isFinite(i))return Wo;if(0>i)return Ji(bs(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=ma;return new ir(e,0)}var ma=4294967296,Wo=Sa(0),ga=Sa(1),Tl=Sa(16777216);function vo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function to(i){return-1==i.h}function Ji(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new ir(t,~i.h).add(ga)}function no(i,e){return i.add(Ji(e))}function Wi(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function io(i,e){this.g=i,this.h=e}function Ao(i,e){if(vo(e))throw Error("division by zero");if(vo(i))return new io(Wo,Wo);if(to(i))return e=Ao(Ji(i),e),new io(Ji(e.g),Ji(e.h));if(to(e))return e=Ao(i,Ji(e)),new io(Ji(e.g),e.h);if(30<i.g.length){if(to(i)||to(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ga,s=e;0>=s.X(i);)t=Ha(t),s=Ha(s);var c=nl(t,1),m=nl(s,1);for(s=nl(s,2),t=nl(t,2);!vo(s);){var v=m.add(s);0>=v.X(i)&&(c=c.add(t),m=v),s=nl(s,1),t=nl(t,1)}return e=no(i,c.R(e)),new io(c,e)}for(c=Wo;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),v=(m=bs(t)).R(e);to(v)||0<v.X(i);)v=(m=bs(t-=s)).R(e);vo(m)&&(m=ga),c=c.add(m),i=no(i,v)}return new io(c,i)}function Ha(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new ir(t,i.h)}function nl(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,c=[],m=0;m<s;m++)c[m]=0<e?i.D(m+t)>>>e|i.D(m+t+1)<<32-e:i.D(m+t);return new ir(c,i.h)}(ye=ir.prototype).ea=function(){if(to(this))return-Ji(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:ma+s)*e,e*=ma}return i},ye.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(vo(this))return"0";if(to(this))return"-"+Ji(this).toString(i);for(var e=bs(Math.pow(i,6)),t=this,s="";;){var c=Ao(t,e).g,m=((0<(t=no(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(vo(t=c))return m+s;for(;6>m.length;)m="0"+m;s=m+s}},ye.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ye.X=function(i){return to(i=no(this,i))?-1:vo(i)?0:1},ye.abs=function(){return to(this)?Ji(this):this},ye.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,c=0;c<=e;c++){var m=s+(65535&this.D(c))+(65535&i.D(c)),v=(m>>>16)+(this.D(c)>>>16)+(i.D(c)>>>16);s=v>>>16,t[c]=(v&=65535)<<16|(m&=65535)}return new ir(t,-2147483648&t[t.length-1]?-1:0)},ye.R=function(i){if(vo(this)||vo(i))return Wo;if(to(this))return to(i)?Ji(this).R(Ji(i)):Ji(Ji(this).R(i));if(to(i))return Ji(this.R(Ji(i)));if(0>this.X(Tl)&&0>i.X(Tl))return bs(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<i.g.length;c++){var m=this.D(s)>>>16,v=65535&this.D(s),k=i.D(c)>>>16,G=65535&i.D(c);t[2*s+2*c]+=v*G,Wi(t,2*s+2*c),t[2*s+2*c+1]+=m*G,Wi(t,2*s+2*c+1),t[2*s+2*c+1]+=v*k,Wi(t,2*s+2*c+1),t[2*s+2*c+2]+=m*k,Wi(t,2*s+2*c+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new ir(t,0)},ye.gb=function(i){return Ao(this,i).h},ye.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new ir(t,this.h&i.h)},ye.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new ir(t,this.h|i.h)},ye.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new ir(t,this.h^i.h)},Ss.prototype.createWebChannel=Ss.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,ci.COMPLETE="complete",Yr.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",st.prototype.listen=st.prototype.O,Di.prototype.listenOnce=Di.prototype.P,Di.prototype.getLastError=Di.prototype.Sa,Di.prototype.getLastErrorCode=Di.prototype.Ia,Di.prototype.getStatus=Di.prototype.da,Di.prototype.getResponseJson=Di.prototype.Wa,Di.prototype.getResponseText=Di.prototype.ja,Di.prototype.send=Di.prototype.ha,Di.prototype.setWithCredentials=Di.prototype.Oa,ps.prototype.digest=ps.prototype.l,ps.prototype.reset=ps.prototype.reset,ps.prototype.update=ps.prototype.j,ir.prototype.add=ir.prototype.add,ir.prototype.multiply=ir.prototype.R,ir.prototype.modulo=ir.prototype.gb,ir.prototype.compare=ir.prototype.X,ir.prototype.toNumber=ir.prototype.ea,ir.prototype.toString=ir.prototype.toString,ir.prototype.getBits=ir.prototype.D,ir.fromNumber=bs,ir.fromString=function pa(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ji(pa(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=bs(Math.pow(e,8)),s=Wo,c=0;c<i.length;c+=8){var m=Math.min(8,i.length-c),v=parseInt(i.substring(c,c+m),e);8>m?(m=bs(Math.pow(e,m)),s=s.R(m).add(bs(v))):s=(s=s.R(t)).add(bs(v))}return s};var Ql=je.createWebChannelTransport=function(){return new Ss},Xl=je.getStatEventTarget=function(){return fi()},Aa=je.ErrorCode=On,Jl=je.EventType=ci,il=je.Event=Wn,V=je.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ee=je.FetchXmlHttpFactory=Ds,H=je.WebChannel=Yr,_e=je.XhrIo=Di,Je=je.Md5=ps,rn=je.Integer=ir;const bn="@firebase/firestore";class Bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let er="9.22.1";const Si=new R.Yd("@firebase/firestore");function Gi(){return Si.logLevel}function Ni(i){Si.setLogLevel(i)}function gn(i,...e){if(Si.logLevel<=R.in.DEBUG){const t=e.map(Ws);Si.debug(`Firestore (${er}): ${i}`,...t)}}function mi(i,...e){if(Si.logLevel<=R.in.ERROR){const t=e.map(Ws);Si.error(`Firestore (${er}): ${i}`,...t)}}function pr(i,...e){if(Si.logLevel<=R.in.WARN){const t=e.map(Ws);Si.warn(`Firestore (${er}): ${i}`,...t)}}function Ws(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Nn(i="Unexpected state"){const e=`FIRESTORE (${er}) INTERNAL ASSERTION FAILED: `+i;throw mi(e),new Error(e)}function Zn(i,e){i||Nn()}function ms(i,e){i||Nn()}function Rn(i,e){return i}const qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class En extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Dc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bn.UNAUTHENTICATED))}shutdown(){}}class ec{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tu{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const m=ne=>this.i!==c?(c=this.i,t(ne)):Promise.resolve();let v=new as;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new as,e.enqueueRetryable(()=>m(this.currentUser))};const k=()=>{const ne=v;e.enqueueRetryable((0,f.Z)(function*(){yield ne.promise,yield m(s.currentUser)}))},G=ne=>{gn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ne=>G(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?G(ne):(gn("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new as)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(gn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Zn("string"==typeof s.accessToken),new Dc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zn(null===e||"string"==typeof e),new Bn(e)}}class ad{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class bo{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new ad(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Su{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=m=>{null!=m.error&&gn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const v=m.token!==this.T;return this.T=m.token,gn("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const c=m=>{gn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>c(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?c(m):gn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zn("string"==typeof t.token),this.T=t.token,new Xd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jd(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class tr{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=Jd(40);for(let m=0;m<c.length;++m)s.length<20&&c[m]<t&&(s+=e.charAt(c[m]%e.length))}return s}}function vi(i,e){return i<e?-1:i>e?1:0}function _a(i,e,t){return i.length===e.length&&i.every((s,c)=>t(s,e[c]))}function Xc(i){return i+"\0"}class Rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new En(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new En(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new En(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new En(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rr.fromMillis(Date.now())}static fromDate(e){return Rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Rr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vi(this.nanoseconds,e.nanoseconds):vi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ri{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ri(e)}static min(){return new ri(new Rr(0,0))}static max(){return new ri(new Rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sl{constructor(e,t,s){void 0===t?t=0:t>e.length&&Nn(),void 0===s?s=e.length-t:s>e.length-t&&Nn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Sl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const m=e.get(c),v=t.get(c);if(m<v)return-1;if(m>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bi extends Sl{construct(e,t,s){return new bi(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new En(qt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new bi(t)}static emptyPath(){return new bi([])}}const Jc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Sl{construct(e,t,s){return new xi(e,t,s)}static isValidIdentifier(e){return Jc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const m=()=>{if(0===s.length)throw new En(qt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let v=!1;for(;c<e.length;){const k=e[c];if("\\"===k){if(c+1===e.length)throw new En(qt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[c+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new En(qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=G,c+=2}else"`"===k?(v=!v,c++):"."!==k||v?(s+=k,c++):(m(),c++)}if(m(),v)throw new En(qt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class zn{constructor(e){this.path=e}static fromPath(e){return new zn(bi.fromString(e))}static fromName(e){return new zn(bi.fromString(e).popFirst(5))}static empty(){return new zn(bi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zn(new bi(e.slice()))}}class ns{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function Al(i){return i.fields.find(e=>2===e.kind)}function Rs(i){return i.fields.filter(e=>2!==e.kind)}ns.UNKNOWN_ID=-1;class Ml{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ol{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ol(0,ks.min())}}function Pl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,c=ri.fromTimestamp(1e9===s?new Rr(t+1,0):new Rr(t,s));return new ks(c,zn.empty(),e)}function eu(i){return new ks(i.readTime,i.key,-1)}class ks{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ks(ri.min(),zn.empty(),-1)}static max(){return new ks(ri.max(),zn.empty(),-1)}}function $a(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=zn.comparator(i.documentKey,e.documentKey),0!==t?t:vi(i.largestBatchId,e.largestBatchId))}const Rl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ma(i){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,f.Z)(function*(i){if(i.code!==qt.FAILED_PRECONDITION||i.message!==Rl)throw i;gn("LocalStore","Unexpectedly lost primary lease")}),Wa.apply(this,arguments)}class Qt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qt((s,c)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,c)},this.catchCallback=m=>{this.wrapFailure(t,m).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Qt?t:Qt.resolve(t)}catch(t){return Qt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Qt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Qt.reject(t)}static resolve(e){return new Qt((t,s)=>{t(e)})}static reject(e){return new Qt((t,s)=>{s(e)})}static waitFor(e){return new Qt((t,s)=>{let c=0,m=0,v=!1;e.forEach(k=>{++c,k.next(()=>{++m,v&&m===c&&t()},G=>s(G))}),v=!0,m===c&&t()})}static or(e){let t=Qt.resolve(!1);for(const s of e)t=t.next(c=>c?Qt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,m)=>{s.push(t.call(this,c,m))}),this.waitFor(s)}static mapArray(e,t){return new Qt((s,c)=>{const m=e.length,v=new Array(m);let k=0;for(let G=0;G<m;G++){const ne=G;t(e[ne]).next(Ce=>{v[ne]=Ce,++k,k===m&&s(v)},Ce=>c(Ce))}})}static doWhile(e,t){return new Qt((s,c)=>{const m=()=>{!0===e()?t().next(()=>{m()},c):s()};m()})}}class nc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new as,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Xt(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const c=Mu(s.target.error);this.v.reject(new Xt(e,c))}}static open(e,t,s,c){try{return new nc(t,e.transaction(c,s))}catch(m){throw new Xt(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(gn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sl(t)}}class Pi{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===Pi.S((0,ae.z$)())&&mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gn("SimpleDb","Removing database:",e),Ka(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ae.hl)())return!1;if(Pi.C())return!0;const e=(0,ae.z$)(),t=Pi.S(e),s=0<t&&t<10,c=Pi.N(e),m=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,f.Z)(function*(){return t.db||(gn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=v=>{s(v.target.result)},m.onblocked=()=>{c(new Xt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=v=>{const k=v.target.error;c("VersionError"===k.name?new En(qt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new En(qt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new Xt(e,k))},m.onupgradeneeded=v=>{gn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.V.O(v.target.result,m.transaction,v.oldVersion,t.version).next(()=>{gn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var m=this;return(0,f.Z)(function*(){const v="readonly"===t;let k=0;for(;;){++k;try{m.db=yield m.$(e);const G=nc.open(m.db,e,v?"readonly":"readwrite",s),ne=c(G).next(Ce=>(G.P(),Ce)).catch(Ce=>(G.abort(Ce),Qt.reject(Ce))).toPromise();return ne.catch(()=>{}),yield G.R,ne}catch(G){const ne=G,Ce="FirebaseError"!==ne.name&&k<3;if(gn("SimpleDb","Transaction failed with error:",ne.message,"Retrying:",Ce),m.close(),!Ce)return Promise.reject(ne)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Au{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ka(this.L.delete())}}class Xt extends En{constructor(e,t){super(qt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ga(i){return"IndexedDbTransactionError"===i.name}class sl{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(gn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(gn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ka(s)}add(e){return gn("SimpleDb","ADD",this.store.name,e,e),Ka(this.store.add(e))}get(e){return Ka(this.store.get(e)).next(t=>(void 0===t&&(t=null),gn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return gn("SimpleDb","DELETE",this.store.name,e),Ka(this.store.delete(e))}count(){return gn("SimpleDb","COUNT",this.store.name),Ka(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),m=[];return this.W(c,(v,k)=>{m.push(k)}).next(()=>m)}{const c=this.store.getAll(s.range);return new Qt((m,v)=>{c.onerror=k=>{v(k.target.error)},c.onsuccess=k=>{m(k.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Qt((c,m)=>{s.onerror=v=>{m(v.target.error)},s.onsuccess=v=>{c(v.target.result)}})}J(e,t){gn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const c=this.cursor(s);return this.W(c,(m,v,k)=>k.delete())}X(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.W(c,t)}Z(e){const t=this.cursor({});return new Qt((s,c)=>{t.onerror=m=>{const v=Mu(m.target.error);c(v)},t.onsuccess=m=>{const v=m.target.result;v?e(v.primaryKey,v.value).next(k=>{k?v.continue():s()}):s()}})}W(e,t){const s=[];return new Qt((c,m)=>{e.onerror=v=>{m(v.target.error)},e.onsuccess=v=>{const k=v.target.result;if(!k)return void c();const G=new Au(k),ne=t(k.primaryKey,k.value,G);if(ne instanceof Qt){const Ce=ne.catch(at=>(G.done(),Qt.reject(at)));s.push(Ce)}G.isDone?c():null===G.K?k.continue():k.continue(G.K)}}).next(()=>Qt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ka(i){return new Qt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const c=Mu(s.target.error);t(c)}})}let xc=!1;function Mu(i){const e=Pi.S((0,ae.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new En("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xc||(xc=!0,setTimeout(()=>{throw s},0)),s}}return i}class ol{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;gn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{gn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){Ga(s)?gn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ma(s)}yield t.et(6e4)}))}}class eh{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let c=t,m=!0;return Qt.doWhile(()=>!0===m&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!s.has(v))return gn("IndexBackiller",`Processing collection: ${v}`),this.it(e,v,c).next(k=>{c-=k,s.add(v)});m=!1})).next(()=>t-c)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(m=>{const v=m.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.rt(c,m)).next(k=>(gn("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>v.size)}))}rt(e,t){let s=e;return t.changes.forEach((c,m)=>{const v=eu(m);$a(v,s)>0&&(s=v)}),new ks(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Gs=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>s.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function mr(i){return null==i}function Go(i){return 0===i&&1/i==-1/0}function Ko(i){return"number"==typeof i&&Number.isInteger(i)&&!Go(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function gs(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ro(e)),e=Ns(i.get(t),e);return ro(e)}function Ns(i,e){let t=e;const s=i.length;for(let c=0;c<s;c++){const m=i.charAt(c);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function ro(i){return i+"\x01\x01"}function Es(i){const e=i.length;if(Zn(e>=2),2===e)return Zn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),bi.emptyPath();const t=e-2,s=[];let c="";for(let m=0;m<e;){const v=i.indexOf("\x01",m);switch((v<0||v>t)&&Nn(),i.charAt(v+1)){case"\x01":const k=i.substring(m,v);let G;0===c.length?G=k:(c+=k,G=c,c=""),s.push(G);break;case"\x10":c+=i.substring(m,v),c+="\0";break;case"\x11":c+=i.substring(m,v+1);break;default:Nn()}m=v+2}return new bi(s)}const I=["userId","batchId"];function T(i,e){return[i,gs(e)]}function E(i,e,t){return[i,gs(e),t]}const B={},Y=["prefixPath","collectionGroup","readTime","documentId"],he=["prefixPath","collectionGroup","documentId"],ve=["collectionGroup","readTime","prefixPath","documentId"],Lt=["canonicalId","targetId"],_n=["targetId","path"],jn=["path","targetId"],Hn=["collectionId","parent"],Ei=["indexId","uid"],kr=["uid","sequenceNumber"],Oa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ws=["indexId","uid","orderedDocumentKey"],Yo=["userId","collectionPath","documentId"],wo=["userId","collectionPath","largestBatchId"],wr=["userId","collectionGroup","largestBatchId"],Mo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tu=[...Mo,"documentOverlays"],kl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cd=kl,Tc=[...cd,"indexConfiguration","indexState","indexEntries"];class nu extends tc{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function As(i,e){const t=Rn(i);return Pi.M(t.ht,e)}function Zo(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Co(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function th(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class or{constructor(e,t){this.comparator=e,this.root=t||is.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?s(e.key,t):1,t&&c&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,t,s,c,m){this.key=e,this.value=t,this.color=s??is.RED,this.left=c??is.EMPTY,this.right=m??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,m){return new is(e??this.key,t??this.value,s??this.color,c??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const m=s(e,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===m?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return is.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nn();const e=this.left.check();if(e!==this.right.check())throw Nn();return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw Nn()}get value(){throw Nn()}get color(){throw Nn()}get left(){throw Nn()}get right(){throw Nn()}copy(i,e,t,s,c){return this}insert(i,e,t){return new is(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gr{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ru(this.data.getIterator())}getIteratorFrom(e){return new ru(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof gr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=s.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gr(this.comparator);return t.data=e,t}}class ru{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ic(i){return i.hasNext()?i.getNext():void 0}class so{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new so([])}unionWith(e){let t=new gr(xi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new so(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Ou extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function nh(){return typeof atob<"u"}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ou("Invalid base64 string: "+c):c}}(e);return new ls(t)}static fromUint8Array(e){const t=function(s){let c="";for(let m=0;m<s.length;++m)c+=String.fromCharCode(s[m]);return c}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const ih=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(i){if(Zn(!!i),"string"==typeof i){let e=0;const t=ih.exec(i);if(Zn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ar(i.seconds),nanos:Ar(i.nanos)}}function Ar(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Pa(i){return"string"==typeof i?ls.fromBase64String(i):ls.fromUint8Array(i)}function su(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Nl(i){const e=i.mapValue.fields.__previous_value__;return su(e)?Nl(e):e}function Pu(i){const e=al(i.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}class Sc{constructor(e,t,s,c,m,v,k,G,ne){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=m,this.forceLongPolling=v,this.autoDetectLongPolling=k,this.longPollingOptions=G,this.useFetchStreams=ne}}class ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}const qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fl={nullValue:"NULL_VALUE"};function Oo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?su(i)?4:ya(i)?9007199254740991:10:Nn()}function Ra(i,e){if(i===e)return!0;const t=Oo(i);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pu(i).isEqual(Pu(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const m=al(s.timestampValue),v=al(c.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Pa(i.bytesValue).isEqual(Pa(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,c){return Ar(s.geoPointValue.latitude)===Ar(c.geoPointValue.latitude)&&Ar(s.geoPointValue.longitude)===Ar(c.geoPointValue.longitude)}(i,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Ar(s.integerValue)===Ar(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const m=Ar(s.doubleValue),v=Ar(c.doubleValue);return m===v?Go(m)===Go(v):isNaN(m)&&isNaN(v)}return!1}(i,e);case 9:return _a(i.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(s,c){const m=s.mapValue.fields||{},v=c.mapValue.fields||{};if(Zo(m)!==Zo(v))return!1;for(const k in m)if(m.hasOwnProperty(k)&&(void 0===v[k]||!Ra(m[k],v[k])))return!1;return!0}(i,e);default:return Nn()}var c}function rc(i,e){return void 0!==(i.values||[]).find(t=>Ra(t,e))}function Po(i,e){if(i===e)return 0;const t=Oo(i),s=Oo(e);if(t!==s)return vi(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return vi(i.booleanValue,e.booleanValue);case 2:return function(c,m){const v=Ar(c.integerValue||c.doubleValue),k=Ar(m.integerValue||m.doubleValue);return v<k?-1:v>k?1:v===k?0:isNaN(v)?isNaN(k)?0:-1:1}(i,e);case 3:return Ru(i.timestampValue,e.timestampValue);case 4:return Ru(Pu(i),Pu(e));case 5:return vi(i.stringValue,e.stringValue);case 6:return function(c,m){const v=Pa(c),k=Pa(m);return v.compareTo(k)}(i.bytesValue,e.bytesValue);case 7:return function(c,m){const v=c.split("/"),k=m.split("/");for(let G=0;G<v.length&&G<k.length;G++){const ne=vi(v[G],k[G]);if(0!==ne)return ne}return vi(v.length,k.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,m){const v=vi(Ar(c.latitude),Ar(m.latitude));return 0!==v?v:vi(Ar(c.longitude),Ar(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,m){const v=c.values||[],k=m.values||[];for(let G=0;G<v.length&&G<k.length;++G){const ne=Po(v[G],k[G]);if(ne)return ne}return vi(v.length,k.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,m){if(c===qo.mapValue&&m===qo.mapValue)return 0;if(c===qo.mapValue)return 1;if(m===qo.mapValue)return-1;const v=c.fields||{},k=Object.keys(v),G=m.fields||{},ne=Object.keys(G);k.sort(),ne.sort();for(let Ce=0;Ce<k.length&&Ce<ne.length;++Ce){const at=vi(k[Ce],ne[Ce]);if(0!==at)return at;const Zt=Po(v[k[Ce]],G[ne[Ce]]);if(0!==Zt)return Zt}return vi(k.length,ne.length)}(i.mapValue,e.mapValue);default:throw Nn()}}function Ru(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return vi(i,e);const t=al(i),s=al(e),c=vi(t.seconds,s.seconds);return 0!==c?c:vi(t.nanos,s.nanos)}function sc(i){return ou(i)}function ou(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const c=al(s);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Pa(i.bytesValue).toBase64():"referenceValue"in i?zn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let c="[",m=!0;for(const v of s.values||[])m?m=!1:c+=",",c+=ou(v);return c+"]"}(i.arrayValue):"mapValue"in i?function(s){const c=Object.keys(s.fields||{}).sort();let m="{",v=!0;for(const k of c)v?v=!1:m+=",",m+=`${k}:${ou(s.fields[k])}`;return m+"}"}(i.mapValue):Nn();var e}function Ac(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ud(i){return!!i&&"integerValue"in i}function au(i){return!!i&&"arrayValue"in i}function Mc(i){return!!i&&"nullValue"in i}function dd(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ya(i){return!!i&&"mapValue"in i}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Co(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ya(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function lu(i){return"nullValue"in i?Fl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ac(ll.empty(),zn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Nn()}function oc(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ac(ll.empty(),zn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?qo:Nn()}function rh(i,e){const t=Po(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function cl(i,e){const t=Po(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ya(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=xi.emptyPath(),s={},c=[];e.forEach((v,k)=>{if(!t.isImmediateParentOf(k)){const G=this.getFieldsMap(t);this.applyChanges(G,s,c),s={},c=[],t=k.popLast()}v?s[k.lastSegment()]=Bl(v):c.push(k.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,s,c)}delete(e){const t=this.field(e.popLast());Ya(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];Ya(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){Co(t,(c,m)=>e[c]=m);for(const c of s)delete e[c]}clone(){return new $r(Bl(this.value))}}function hd(i){const e=[];return Co(i.fields,(t,s)=>{const c=new xi([t]);if(Ya(s)){const m=hd(s.mapValue).fields;if(0===m.length)e.push(c);else for(const v of m)e.push(c.child(v))}else e.push(c)}),new so(e)}class Vr{constructor(e,t,s,c,m,v,k){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=m,this.data=v,this.documentState=k}static newInvalidDocument(e){return new Vr(e,0,ri.min(),ri.min(),ri.min(),$r.empty(),0)}static newFoundDocument(e,t,s,c){return new Vr(e,1,t,ri.min(),s,c,0)}static newNoDocument(e,t){return new Vr(e,2,t,ri.min(),ri.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new Vr(e,3,t,ri.min(),ri.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ri.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ri.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vl{constructor(e,t){this.position=e,this.inclusive=t}}function Oc(i,e,t){let s=0;for(let c=0;c<i.position.length;c++){const m=e[c],v=i.position[c];if(s=m.field.isKeyField()?zn.comparator(zn.fromName(v.referenceValue),t.key):Po(v,t.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function ul(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ra(i.position[t],e.position[t]))return!1;return!0}class S{constructor(e,t="asc"){this.field=e,this.dir=t}}function U(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class re{}class Oe extends re{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Fs(e,t,s):"array-contains"===t?new Ro(e,s):"in"===t?new oo(e,s):"not-in"===t?new fd(e,s):"array-contains-any"===t?new pd(e,s):new Oe(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ac(e,s):new ku(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Po(t,this.value)):null!==t&&Oo(this.value)===Oo(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ut extends re{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ut(e,t)}matches(e){return At(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function At(i){return"and"===i.op}function un(i){return"or"===i.op}function $n(i){return Fn(i)&&At(i)}function Fn(i){for(const e of i.filters)if(e instanceof ut)return!1;return!0}function ni(i){if(i instanceof Oe)return i.field.canonicalString()+i.op.toString()+sc(i.value);if($n(i))return i.filters.map(e=>ni(e)).join(",");{const e=i.filters.map(t=>ni(t)).join(",");return`${i.op}(${e})`}}function Ci(i,e){return i instanceof Oe?(t=i,(s=e)instanceof Oe&&t.op===s.op&&t.field.isEqual(s.field)&&Ra(t.value,s.value)):i instanceof ut?function(t,s){return s instanceof ut&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,m,v)=>c&&Ci(m,s.filters[v]),!0)}(i,e):void Nn();var t,s}function Ii(i,e){const t=i.filters.concat(e);return ut.create(t,i.op)}function Ks(i){return i instanceof Oe?`${(e=i).field.canonicalString()} ${e.op} ${sc(e.value)}`:i instanceof ut?function(e){return e.op.toString()+" {"+e.getFilters().map(Ks).join(" ,")+"}"}(i):"Filter";var e}class Fs extends Oe{constructor(e,t,s){super(e,t,s),this.key=zn.fromName(s.referenceValue)}matches(e){const t=zn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ac extends Oe{constructor(e,t){super(e,"in",t),this.keys=Ul(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ku extends Oe{constructor(e,t){super(e,"not-in",t),this.keys=Ul(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ul(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>zn.fromName(s.referenceValue))}class Ro extends Oe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return au(t)&&rc(t.arrayValue,this.value)}}class oo extends Oe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rc(this.value.arrayValue,t)}}class fd extends Oe{constructor(e,t){super(e,"not-in",t)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rc(this.value.arrayValue,t)}}class pd extends Oe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!au(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>rc(this.value.arrayValue,s))}}class Cr{constructor(e,t=null,s=[],c=[],m=null,v=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=m,this.startAt=v,this.endAt=k,this.dt=null}}function cr(i,e=null,t=[],s=[],c=null,m=null,v=null){return new Cr(i,e,t,s,c,m,v)}function Ti(i){const e=Rn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ni(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),mr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sc(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sc(s)).join(",")),e.dt=t}return e.dt}function Qo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!U(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Ci(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ul(i.startAt,e.startAt)&&ul(i.endAt,e.endAt)}function Ir(i){return zn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function dl(i,e){return i.filters.filter(t=>t instanceof Oe&&t.field.isEqual(e))}function sh(i,e,t){let s=Fl,c=!0;for(const m of dl(i,e)){let v=Fl,k=!0;switch(m.op){case"<":case"<=":v=lu(m.value);break;case"==":case"in":case">=":v=m.value;break;case">":v=m.value,k=!1;break;case"!=":case"not-in":v=Fl}rh({value:s,inclusive:c},{value:v,inclusive:k})<0&&(s=v,c=k)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const v=t.position[m];rh({value:s,inclusive:c},{value:v,inclusive:t.inclusive})<0&&(s=v,c=t.inclusive);break}return{value:s,inclusive:c}}function cu(i,e,t){let s=qo,c=!0;for(const m of dl(i,e)){let v=qo,k=!0;switch(m.op){case">=":case">":v=oc(m.value),k=!1;break;case"==":case"in":case"<=":v=m.value;break;case"<":v=m.value,k=!1;break;case"!=":case"not-in":v=qo}cl({value:s,inclusive:c},{value:v,inclusive:k})>0&&(s=v,c=k)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const v=t.position[m];cl({value:s,inclusive:c},{value:v,inclusive:t.inclusive})>0&&(s=v,c=t.inclusive);break}return{value:s,inclusive:c}}class zl{constructor(e,t=null,s=[],c=[],m=null,v="F",k=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=m,this.limitType=v,this.startAt=k,this.endAt=G,this.wt=null,this._t=null}}function Wr(i,e,t,s,c,m,v,k){return new zl(i,e,t,s,c,m,v,k)}function Fi(i){return new zl(i)}function ko(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Yh(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function D(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function g(i){return null!==i.collectionGroup}function b(i){const e=Rn(i);if(null===e.wt){e.wt=[];const t=D(e),s=Yh(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new S(t)),e.wt.push(new S(xi.keyField(),"asc"));else{let c=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(c=!0);if(!c){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new S(xi.keyField(),m))}}}return e.wt}function M(i){const e=Rn(i);if(!e._t)if("F"===e.limitType)e._t=cr(e.path,e.collectionGroup,b(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of b(e))t.push(new S(m.field,"desc"===m.dir?"asc":"desc"));const s=e.endAt?new Vl(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Vl(e.startAt.position,e.startAt.inclusive):null;e._t=cr(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function se(i,e){e.getFirstInequalityField(),D(i);const t=i.filters.concat([e]);return new zl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function De(i,e,t){return new zl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function St(i,e){return Qo(M(i),M(e))&&i.limitType===e.limitType}function cn(i){return`${Ti(M(i))}|lt:${i.limitType}`}function Pn(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Ks(s)).join(", ")}]`),mr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sc(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sc(s)).join(",")),`Target(${t})`}(M(i))}; limitType=${i.limitType})`}function Gn(i,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):zn.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,s){for(const c of b(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(i,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(c,m,v){const k=Oc(c,m,v);return c.inclusive?k<=0:k<0}(t.startAt,b(t),s)||t.endAt&&!function(c,m,v){const k=Oc(c,m,v);return c.inclusive?k>=0:k>0}(t.endAt,b(t),s)));var t,s}function li(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ui(i){return(e,t)=>{let s=!1;for(const c of b(i)){const m=Xo(c,e,t);if(0!==m)return m;s=s||c.field.isKeyField()}return 0}}function Xo(i,e,t){const s=i.field.isKeyField()?zn.comparator(e.key,t.key):function(c,m,v){const k=m.data.field(c),G=v.data.field(c);return null!==k&&null!==G?Po(k,G):Nn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Nn()}}class Io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,m]of s)if(this.equalsFn(c,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return void(c[m]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(t,s)=>{for(const[c,m]of s)e(c,m)})}isEmpty(){return th(this.inner)}size(){return this.innerSize}}const md=new or(zn.comparator);function Ls(){return md}const zi=new or(zn.comparator);function lc(...i){let e=zi;for(const t of i)e=e.insert(t.key,t);return e}function uu(i){let e=zi;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function va(){return hl()}function ka(){return hl()}function hl(){return new Io(i=>i.toString(),(i,e)=>i.isEqual(e))}const ba=new or(zn.comparator),gd=new gr(zn.comparator);function pi(...i){let e=gd;for(const t of i)e=e.add(t);return e}const oh=new gr(vi);function du(){return oh}function ah(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(e)?"-0":e}}function Wf(i){return{integerValue:""+i}}function _d(i,e){return Ko(e)?Wf(e):ah(i,e)}class Zh{constructor(){this._=void 0}}function Wp(i,e,t){return i instanceof yd?function(s,c){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&su(c)&&(c=Nl(c)),c&&(m.fields.__previous_value__=c),{mapValue:m}}(t,e):i instanceof Nu?Kp(i,e):i instanceof Pc?Gr(i,e):function(s,c){const m=Gp(s,c),v=og(m)+og(s.gt);return ud(m)&&ud(s.gt)?Wf(v):ah(s.serializer,v)}(i,e)}function lh(i,e,t){return i instanceof Nu?Kp(i,e):i instanceof Pc?Gr(i,e):t}function Gp(i,e){return i instanceof cc?ud(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class yd extends Zh{}class Nu extends Zh{constructor(e){super(),this.elements=e}}function Kp(i,e){const t=qh(e);for(const s of i.elements)t.some(c=>Ra(c,s))||t.push(s);return{arrayValue:{values:t}}}class Pc extends Zh{constructor(e){super(),this.elements=e}}function Gr(i,e){let t=qh(e);for(const s of i.elements)t=t.filter(c=>!Ra(c,s));return{arrayValue:{values:t}}}class cc extends Zh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function og(i){return Ar(i.integerValue||i.doubleValue)}function qh(i){return au(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ch{constructor(e,t){this.field=e,this.transform=t}}class uc{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Li(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class vd{}function Fu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Za(i.key,Qr.none()):new Bu(i.key,i.data,Qr.none());{const t=i.data,s=$r.empty();let c=new gr(xi.comparator);for(let m of e.fields)if(!c.has(m)){let v=t.field(m);null===v&&m.length>1&&(m=m.popLast(),v=t.field(m)),null===v?s.delete(m):s.set(m,v),c=c.add(m)}return new Rc(i.key,s,new so(c.toArray()),Qr.none())}}function ag(i,e,t){i instanceof Bu?function(s,c,m){const v=s.value.clone(),k=dh(s.fieldTransforms,c,m.transformResults);v.setAll(k),c.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(i,e,t):i instanceof Rc?function(s,c,m){if(!Li(s.precondition,c))return void c.convertToUnknownDocument(m.version);const v=dh(s.fieldTransforms,c,m.transformResults),k=c.data;k.setAll(bd(s)),k.setAll(v),c.convertToFoundDocument(m.version,k).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xr(i,e,t,s){return i instanceof Bu?function(c,m,v,k){if(!Li(c.precondition,m))return v;const G=c.value.clone(),ne=hh(c.fieldTransforms,k,m);return G.setAll(ne),m.convertToFoundDocument(m.version,G).setHasLocalMutations(),null}(i,e,t,s):i instanceof Rc?function(c,m,v,k){if(!Li(c.precondition,m))return v;const G=hh(c.fieldTransforms,k,m),ne=m.data;return ne.setAll(bd(c)),ne.setAll(G),m.convertToFoundDocument(m.version,ne).setHasLocalMutations(),null===v?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(Ce=>Ce.field))}(i,e,t,s):(v=t,Li(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v);var m,v}function Gf(i,e){let t=null;for(const s of i.fieldTransforms){const c=e.data.field(s.field),m=Gp(s.transform,c||null);null!=m&&(null===t&&(t=$r.empty()),t.set(s.field,m))}return t||null}function Lu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&_a(t,s,(c,m)=>function uh(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Nu&&s instanceof Nu||t instanceof Pc&&s instanceof Pc?_a(t.elements,s.elements,Ra):t instanceof cc&&s instanceof cc?Ra(t.gt,s.gt):t instanceof yd&&s instanceof yd);var t,s}(c,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Bu extends vd{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Rc extends vd{constructor(e,t,s,c,m=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function bd(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function dh(i,e,t){const s=new Map;Zn(i.length===t.length);for(let c=0;c<t.length;c++){const m=i[c],v=m.transform,k=e.data.field(m.field);s.set(m.field,lh(v,k,t[c]))}return s}function hh(i,e,t){const s=new Map;for(const c of i){const m=c.transform,v=t.data.field(c.field);s.set(c.field,Wp(m,v,e))}return s}class Za extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kc extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ed{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(e.key)&&ag(m,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Xr(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Xr(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ka();return this.mutations.forEach(c=>{const m=e.get(c.key),v=m.overlayedDocument;let k=this.applyToLocalView(v,m.mutatedFields);k=t.has(c.key)?null:k;const G=Fu(v,k);null!==G&&s.set(c.key,G),v.isValidDocument()||v.convertToNoDocument(ri.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pi())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(t,s)=>Lu(t,s))&&_a(this.baseMutations,e.baseMutations,(t,s)=>Lu(t,s))}}class Yp{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){Zn(e.mutations.length===s.length);let c=ba;const m=e.mutations;for(let v=0;v<m.length;v++)c=c.insert(m[v].key,s[v].version);return new Yp(e,t,s,c)}}class Qh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class y_{constructor(e,t){this.count=e,this.unchangedNames=t}}var ao,ur;function lg(i){switch(i){default:return Nn();case qt.CANCELLED:case qt.UNKNOWN:case qt.DEADLINE_EXCEEDED:case qt.RESOURCE_EXHAUSTED:case qt.INTERNAL:case qt.UNAVAILABLE:case qt.UNAUTHENTICATED:return!1;case qt.INVALID_ARGUMENT:case qt.NOT_FOUND:case qt.ALREADY_EXISTS:case qt.PERMISSION_DENIED:case qt.FAILED_PRECONDITION:case qt.ABORTED:case qt.OUT_OF_RANGE:case qt.UNIMPLEMENTED:case qt.DATA_LOSS:return!0}}function Kf(i){if(void 0===i)return mi("GRPC error has no .code"),qt.UNKNOWN;switch(i){case ao.OK:return qt.OK;case ao.CANCELLED:return qt.CANCELLED;case ao.UNKNOWN:return qt.UNKNOWN;case ao.DEADLINE_EXCEEDED:return qt.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return qt.RESOURCE_EXHAUSTED;case ao.INTERNAL:return qt.INTERNAL;case ao.UNAVAILABLE:return qt.UNAVAILABLE;case ao.UNAUTHENTICATED:return qt.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return qt.INVALID_ARGUMENT;case ao.NOT_FOUND:return qt.NOT_FOUND;case ao.ALREADY_EXISTS:return qt.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return qt.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return qt.FAILED_PRECONDITION;case ao.ABORTED:return qt.ABORTED;case ao.OUT_OF_RANGE:return qt.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return qt.UNIMPLEMENTED;case ao.DATA_LOSS:return qt.DATA_LOSS;default:return Nn()}}(ur=ao||(ao={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";class Zp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wd}static getOrCreateInstance(){return null===wd&&(wd=new Zp),wd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let wd=null;function fh(){return new TextEncoder}const Nc=new rn([4294967295,4294967295],0);function hu(i){const e=fh().encode(i),t=new Je;return t.update(e),new Uint8Array(t.digest())}function qp(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new rn([t,s],0),new rn([c,m],0)]}class Cd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new dc(`Invalid padding: ${t}`);if(s<0)throw new dc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new dc(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new dc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=rn.fromNumber(this.It)}Et(e,t,s){let c=e.add(t.multiply(rn.fromNumber(s)));return 1===c.compare(Nc)&&(c=new rn([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=hu(e),[s,c]=qp(t);for(let m=0;m<this.hashCount;m++){const v=this.Et(s,c,m);if(!this.At(v))return!1}return!0}static create(e,t,s){const c=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),v=new Cd(m,c,t);return s.forEach(k=>v.insert(k)),v}insert(e){if(0===this.It)return;const t=hu(e),[s,c]=qp(t);for(let m=0;m<this.hashCount;m++){const v=this.Et(s,c,m);this.Rt(v)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(e,t,s,c,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ph(ri.min(),c,new or(vi),Ls(),pi())}}class mh{constructor(e,t,s,c,m){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new mh(s,t,pi(),pi(),pi())}}class Qp{constructor(e,t,s,c){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=c}}class Yf{constructor(e,t){this.targetId=e,this.Vt=t}}class Xh{constructor(e,t,s=ls.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class v_{constructor(){this.St=0,this.Dt=fl(),this.Ct=ls.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pi(),t=pi(),s=pi();return this.Dt.forEach((c,m)=>{switch(m){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:Nn()}}),new mh(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=fl()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class sy{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ls(),this.zt=Xp(),this.Wt=new or(vi)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,c)=>{this.te(c)&&t(c)})}ne(e){var t;const s=e.targetId,c=e.Vt.count,m=this.se(s);if(m){const v=m.target;if(Ir(v))if(0===c){const k=new zn(v.path);this.Yt(s,k,Vr.newNoDocument(k,ri.min()))}else Zn(1===c);else{const k=this.ie(s);if(k!==c){const G=this.re(e,k);0!==G&&(this.ee(s),this.Wt=this.Wt.insert(s,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Zp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ne,Ce,at){var Zt,yn,kn,Jn,ti,Qi;const Mr={localCacheCount:Ce,existenceFilterCount:at.count},ar=at.unchangedNames;return ar&&(Mr.bloomFilter={applied:0===ne,hashCount:null!==(Zt=ar?.hashCount)&&void 0!==Zt?Zt:0,bitmapLength:null!==(Jn=null===(kn=null===(yn=ar?.bits)||void 0===yn?void 0:yn.bitmap)||void 0===kn?void 0:kn.length)&&void 0!==Jn?Jn:0,padding:null!==(Qi=null===(ti=ar?.bits)||void 0===ti?void 0:ti.padding)&&void 0!==Qi?Qi:0}),Mr}(G,k,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:c}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:m="",padding:v=0},hashCount:k=0}=s;let G,ne;try{G=Pa(m).toUint8Array()}catch(Ce){if(Ce instanceof Ou)return pr("Decoding the base64 bloom filter in existence filter failed ("+Ce.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Ce}try{ne=new Cd(G,v,k)}catch(Ce){return pr(Ce instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",Ce),1}return 0===ne.It?1:c!==t-this.oe(e.targetId,ne)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let c=0;return s.forEach(m=>{const v=this.Gt.ue(),k=`projects/${v.projectId}/databases/${v.database}/documents/${m.path.canonicalString()}`;t.vt(k)||(this.Yt(e,m,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((m,v)=>{const k=this.se(v);if(k){if(m.current&&Ir(k.target)){const G=new zn(k.target.path);null!==this.jt.get(G)||this.ae(v,G)||this.Yt(v,G,Vr.newNoDocument(G,e))}m.Mt&&(t.set(v,m.Ot()),m.Ft())}});let s=pi();this.zt.forEach((m,v)=>{let k=!0;v.forEachWhile(G=>{const ne=this.se(G);return!ne||"TargetPurposeLimboResolution"===ne.purpose||(k=!1,!1)}),k&&(s=s.add(m))}),this.jt.forEach((m,v)=>v.setReadTime(e));const c=new ph(e,t,this.Wt,this.jt,s);return this.jt=Ls(),this.zt=Xp(),this.Wt=new or(vi),c}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new v_,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new gr(vi),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||gn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new v_),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Xp(){return new or(zn.comparator)}function fl(){return new or(zn.comparator)}const Jp={asc:"ASCENDING",desc:"DESCENDING"},em={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tm={and:"AND",or:"OR"};class Jh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fc(i,e){return i.useProto3Json||mr(e)?e:{value:e}}function pl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Vu(i,e){return pl(i,e.toTimestamp())}function qi(i){return Zn(!!i),ri.fromTimestamp(function(e){const t=al(e);return new Rr(t.seconds,t.nanos)}(i))}function nm(i,e){return(t=i,new bi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gh(i){const e=bi.fromString(i);return Zn(Hu(e)),e}function Id(i,e){return nm(i.databaseId,e.path)}function jl(i,e){const t=gh(e);if(t.get(1)!==i.databaseId.projectId)throw new En(qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new En(qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new zn(ef(t))}function _h(i,e){return nm(i.databaseId,e)}function yh(i){const e=gh(i);return 4===e.length?bi.emptyPath():ef(e)}function vh(i){return new bi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ef(i){return Zn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function pu(i,e,t){return{name:Id(i,e),fields:t.value.mapValue.fields}}function im(i,e,t){const s=jl(i,e.name),c=qi(e.updateTime),m=e.createTime?qi(e.createTime):ri.min(),v=new $r({mapValue:{fields:e.fields}}),k=Vr.newFoundDocument(s,c,m,v);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function Jo(i,e){let t;if(e instanceof Bu)t={update:pu(i,e.key,e.value)};else if(e instanceof Za)t={delete:Id(i,e.key)};else if(e instanceof Rc)t={update:pu(i,e.key,e.data),updateMask:cg(e.fieldMask)};else{if(!(e instanceof kc))return Nn();t={verify:Id(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,m){const v=m.transform;if(v instanceof yd)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Nu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Pc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof cc)return{fieldPath:m.field.canonicalString(),increment:v.gt};throw Nn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Vu(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Nn()),t;var c}function Uu(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Qr.updateTime(qi(c.updateTime)):void 0!==c.exists?Qr.exists(c.exists):Qr.none():Qr.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(m,v){let k=null;"setToServerValue"in v?(Zn("REQUEST_TIME"===v.setToServerValue),k=new yd):"appendMissingElements"in v?k=new Nu(v.appendMissingElements.values||[]):"removeAllFromArray"in v?k=new Pc(v.removeAllFromArray.values||[]):"increment"in v?k=new cc(m,v.increment):Nn();const G=xi.fromServerFormat(v.fieldPath);return new ch(G,k)}(i,c)):[];var c;if(e.update){const c=jl(i,e.update.name),m=new $r({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new so((e.updateMask.fieldPaths||[]).map(ne=>xi.fromServerFormat(ne)));return new Rc(c,m,v,t,s)}return new Bu(c,m,t,s)}if(e.delete){const c=jl(i,e.delete);return new Za(c,t)}if(e.verify){const c=jl(i,e.verify);return new kc(c,t)}return Nn()}function qf(i,e){return{documents:[_h(i,e.path)]}}function tf(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=_h(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_h(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(G){if(0!==G.length)return sm(ut.create(G,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const m=function(G){if(0!==G.length)return G.map(ne=>{return{field:hc((Ce=ne).field),direction:nf(Ce.dir)};var Ce})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const v=Fc(i,e.limit);var k,G;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function zu(i){let e=yh(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){Zn(1===s);const Ce=t.from[0];Ce.allDescendants?c=Ce.collectionId:e=e.child(Ce.collectionId)}let m=[];t.where&&(m=function(Ce){const at=Lc(Ce);return at instanceof ut&&$n(at)?at.getFilters():[at]}(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(Ce=>{return new S(ju((at=Ce).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(at.direction));var at}));let k=null;t.limit&&(k=function(Ce){let at;return at="object"==typeof Ce?Ce.value:Ce,mr(at)?null:at}(t.limit));let G=null;var Ce;t.startAt&&(G=new Vl((Ce=t.startAt).values||[],!!Ce.before));let ne=null;return t.endAt&&(ne=function(Ce){return new Vl(Ce.values||[],!Ce.before)}(t.endAt)),Wr(e,c,v,m,k,"F",G,ne)}function Lc(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ju(e.unaryFilter.field);return Oe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=ju(e.unaryFilter.field);return Oe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ju(e.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ju(e.unaryFilter.field);return Oe.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Nn()}}(i):void 0!==i.fieldFilter?Oe.create(ju((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return ut.create(e.compositeFilter.filters.map(t=>Lc(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Nn()}}(e.compositeFilter.op))}(i):Nn();var e}function nf(i){return Jp[i]}function rf(i){return em[i]}function Qf(i){return tm[i]}function hc(i){return{fieldPath:i.canonicalString()}}function ju(i){return xi.fromServerFormat(i.fieldPath)}function sm(i){return i instanceof Oe?function(e){if("=="===e.op){if(dd(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NAN"}};if(Mc(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dd(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NAN"}};if(Mc(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(e.field),op:rf(e.op),value:e.value}}}(i):i instanceof ut?function(e){const t=e.getFilters().map(s=>sm(s));return 1===t.length?t[0]:{compositeFilter:{op:Qf(e.op),filters:t}}}(i):Nn()}function cg(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Hu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class mu{constructor(e,t,s,c,m=ri.min(),v=ri.min(),k=ls.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=k,this.expectedCount=G}withSequenceNumber(e){return new mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xf{constructor(e){this.fe=e}}function om(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Dd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Id(c=i.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:pl(c,m.version.toTimestamp()),createTime:pl(c,m.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return Nn();s.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var c,m;return s}function Dd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ml(i){const e=new Rr(i.seconds,i.nanoseconds);return ri.fromTimestamp(e)}function $u(i,e){const t=(e.baseMutations||[]).map(m=>Uu(i.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>Uu(i.fe,m)),c=Rr.fromMillis(e.localWriteTimeMs);return new Ed(e.batchId,c,t,s)}function xd(i){const e=ml(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?ml(i.lastLimboFreeSnapshotVersion):ri.min();let s;var c;return void 0!==i.query.documents?(Zn(1===(c=i.query).documents.length),s=M(Fi(yh(c.documents[0])))):s=M(zu(i.query)),new mu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,ls.fromBase64String(i.resumeToken))}function ug(i,e){const t=Bc(e.snapshotVersion),s=Bc(e.lastLimboFreeSnapshotVersion);let c;c=Ir(e.target)?qf(i.fe,e.target):tf(i.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ti(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function am(i){const e=zu({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?De(e,e.limit,"L"):e}function Td(i,e){return new Qh(e.largestBatchId,Uu(i.fe,e.overlayMutation))}function gu(i,e){const t=e.path.lastSegment();return[i,gs(e.path.popLast()),t]}function lm(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Bc(s.readTime),documentKey:gs(s.documentKey.path),largestBatchId:s.largestBatchId}}class ep{getBundleMetadata(e,t){return dg(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:ml(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return dg(e).put({bundleId:(s=t).id,createTime:Bc(qi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return bh(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:am(c.bundledQuery),readTime:ml(c.readTime)};var c})}saveNamedQuery(e,t){return bh(e).put({name:(s=t).name,readTime:Bc(qi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function dg(i){return As(i,"bundles")}function bh(i){return As(i,"namedQueries")}class sf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new sf(e,t.uid||"")}getOverlay(e,t){return Sd(e).get(gu(this.userId,t)).next(s=>s?Td(this.serializer,s):null)}getOverlays(e,t){const s=va();return Qt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&s.set(c,m)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((m,v)=>{const k=new Qh(t,v);c.push(this.we(e,k))}),Qt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(v=>c.add(gs(v.getCollectionPath())));const m=[];return c.forEach(v=>{const k=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);m.push(Sd(e).J("collectionPathOverlayIndex",k))}),Qt.waitFor(m)}getOverlaysForCollection(e,t,s){const c=va(),m=gs(t),v=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Sd(e).j("collectionPathOverlayIndex",v).next(k=>{for(const G of k){const ne=Td(this.serializer,G);c.set(ne.getKey(),ne)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const m=va();let v;const k=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sd(e).X({index:"collectionGroupOverlayIndex",range:k},(G,ne,Ce)=>{const at=Td(this.serializer,ne);m.size()<c||at.largestBatchId===v?(m.set(at.getKey(),at),v=at.largestBatchId):Ce.done()}).next(()=>m)}we(e,t){return Sd(e).put(function(s,c,m){const[v,k,G]=gu(c,m.mutation.key);return{userId:c,collectionPath:k,documentId:G,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Jo(s.fe,m.mutation)}}(this.serializer,this.userId,t))}}function Sd(i){return As(i,"documentOverlays")}class Ad{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ar(e.integerValue));else if("doubleValue"in e){const s=Ar(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Go(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Pa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?ya(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Nn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const c of Object.keys(s))this.Te(c,t),this.me(s[c],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const c of s)this.me(c,t)}ve(e,t){this.ye(t,37),zn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function hg(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function fg(i){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const m=hg(255&t[c]);if(s+=m,8!==m)break}return s}(i);return Math.ceil(e/8)}Ad.Ve=new Ad;class cm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const c=t.codePointAt(0);this.De(240|c>>>18),this.De(128|63&c>>>12),this.De(128|63&c>>>6),this.De(128|63&c)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const c=t.codePointAt(0);this.Ne(240|c>>>18),this.Ne(128|63&c>>>12),this.Ne(128|63&c>>>6),this.Ne(128|63&c)}}this.ke()}Oe(e){const t=this.Fe(e),s=fg(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Le(e){const t=this.Fe(e),s=fg(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(c){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,c,!1),new Uint8Array(m.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class af{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class b_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Vc{constructor(){this.je=new cm,this.ze=new af(this.je),this.We=new b_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class fc{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new fc(this.indexId,this.documentKey,this.arrayValue,s)}}function _u(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Eh(i.arrayValue,e.arrayValue),0!==t?t:(t=Eh(i.directionalValue,e.directionalValue),0!==t?t:zn.comparator(i.documentKey,e.documentKey)))}function Eh(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class um{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){Zn(e.collectionGroup===this.collectionId);const t=Al(e);if(void 0!==t&&!this.en(t))return!1;const s=Rs(e);let c=0,m=0;for(;c<s.length&&this.en(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Ze){const v=s[c];if(!this.nn(this.Ze,v)||!this.sn(this.Ye[m++],v))return!1;++c}for(;c<s.length;++c)if(m>=this.Ye.length||!this.sn(this.Ye[m++],s[c]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function dm(i){var e,t;if(Zn(i instanceof Oe||i instanceof ut),i instanceof Oe){if(i instanceof oo){const c=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>Oe.create(i.field,"==",m)))||[];return ut.create(c,"or")}return i}const s=i.filters.map(c=>dm(c));return ut.create(s,i.op)}function E_(i){if(0===i.getFilters().length)return[];const e=cf(dm(i));return Zn(tp(e)),lf(e)||wh(e)?[e]:e.getFilters()}function lf(i){return i instanceof Oe}function wh(i){return i instanceof ut&&$n(i)}function tp(i){return lf(i)||wh(i)||function(e){if(e instanceof ut&&un(e)){for(const t of e.getFilters())if(!lf(t)&&!wh(t))return!1;return!0}return!1}(i)}function cf(i){if(Zn(i instanceof Oe||i instanceof ut),i instanceof Oe)return i;if(1===i.filters.length)return cf(i.filters[0]);const e=i.filters.map(s=>cf(s));let t=ut.create(e,i.op);return t=Wu(t),tp(t)?t:(Zn(t instanceof ut),Zn(At(t)),Zn(t.filters.length>1),t.filters.reduce((s,c)=>hm(s,c)))}function hm(i,e){let t;return Zn(i instanceof Oe||i instanceof ut),Zn(e instanceof Oe||e instanceof ut),t=i instanceof Oe?e instanceof Oe?ut.create([i,e],"and"):np(i,e):e instanceof Oe?np(e,i):function(s,c){if(Zn(s.filters.length>0&&c.filters.length>0),At(s)&&At(c))return Ii(s,c.getFilters());const m=un(s)?s:c,v=un(s)?c:s,k=m.filters.map(G=>hm(G,v));return ut.create(k,"or")}(i,e),Wu(t)}function np(i,e){if(At(e))return Ii(e,i.getFilters());{const t=e.filters.map(s=>hm(i,s));return ut.create(t,"or")}}function Wu(i){if(Zn(i instanceof Oe||i instanceof ut),i instanceof Oe)return i;const e=i.getFilters();if(1===e.length)return Wu(e[0]);if(Fn(i))return i;const t=e.map(c=>Wu(c)),s=[];return t.forEach(c=>{c instanceof Oe?s.push(c):c instanceof ut&&(c.op===i.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:ut.create(s,i.op)}class w_{constructor(){this.rn=new fm}addToCollectionParentIndex(e,t){return this.rn.add(t),Qt.resolve()}getCollectionParents(e,t){return Qt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Qt.resolve()}deleteFieldIndex(e,t){return Qt.resolve()}getDocumentsMatchingTarget(e,t){return Qt.resolve(null)}getIndexType(e,t){return Qt.resolve(0)}getFieldIndexes(e,t){return Qt.resolve([])}getNextCollectionGroupToUpdate(e){return Qt.resolve(null)}getMinOffset(e,t){return Qt.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return Qt.resolve(ks.min())}updateCollectionGroup(e,t,s){return Qt.resolve()}updateIndexEntries(e,t){return Qt.resolve()}}class fm{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new gr(bi.comparator),m=!c.has(s);return this.index[t]=c.add(s),m}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new gr(bi.comparator)).toArray()}}const uf=new Uint8Array(0);class C_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new fm,this.un=new Io(s=>Ti(s),(s,c)=>Qo(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:s,parent:gs(c)};return ip(e).put(m)}return Qt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[Xc(t),""],!1,!0);return ip(e).j(c).next(m=>{for(const v of m){if(v.collectionId!==t)break;s.push(Es(v.parent))}return s})}addFieldIndex(e,t){const s=rp(e),c={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var v;delete c.indexId;const m=s.add(c);if(t.indexState){const v=pc(e);return m.next(k=>{v.put(lm(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const s=rp(e),c=pc(e),m=Md(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Md(e);let c=!0;const m=new Map;return Qt.forEach(this.cn(t),v=>this.an(e,v).next(k=>{c&&(c=!!k),m.set(v,k)})).next(()=>{if(c){let v=pi();const k=[];return Qt.forEach(m,(G,ne)=>{var Ce;gn("IndexedDbIndexManager",`Using index ${Ce=G,`id=${Ce.indexId}|cg=${Ce.collectionGroup}|f=${Ce.fields.map(ar=>`${ar.fieldPath}:${ar.kind}`).join(",")}`} to execute ${Ti(t)}`);const at=function(ar,na){const co=Al(na);if(void 0===co)return null;for(const Cs of dl(ar,co.fieldPath))switch(Cs.op){case"array-contains-any":return Cs.value.arrayValue.values||[];case"array-contains":return[Cs.value]}return null}(ne,G),Zt=function(ar,na){const co=new Map;for(const Cs of Rs(na))for(const Yl of dl(ar,Cs.fieldPath))switch(Yl.op){case"==":case"in":co.set(Cs.fieldPath.canonicalString(),Yl.value);break;case"not-in":case"!=":return co.set(Cs.fieldPath.canonicalString(),Yl.value),Array.from(co.values())}return null}(ne,G),yn=function(ar,na){const co=[];let Cs=!0;for(const Yl of Rs(na)){const Hf=0===Yl.kind?sh(ar,Yl.fieldPath,ar.startAt):cu(ar,Yl.fieldPath,ar.startAt);co.push(Hf.value),Cs&&(Cs=Hf.inclusive)}return new Vl(co,Cs)}(ne,G),kn=function(ar,na){const co=[];let Cs=!0;for(const Yl of Rs(na)){const Hf=0===Yl.kind?cu(ar,Yl.fieldPath,ar.endAt):sh(ar,Yl.fieldPath,ar.endAt);co.push(Hf.value),Cs&&(Cs=Hf.inclusive)}return new Vl(co,Cs)}(ne,G),Jn=this.hn(G,ne,yn),ti=this.hn(G,ne,kn),Qi=this.ln(G,ne,Zt),Mr=this.fn(G.indexId,at,Jn,yn.inclusive,ti,kn.inclusive,Qi);return Qt.forEach(Mr,ar=>s.H(ar,t.limit).next(na=>{na.forEach(co=>{const Cs=zn.fromSegments(co.documentKey);v.has(Cs)||(v=v.add(Cs),k.push(Cs))})}))}).next(()=>k)}return Qt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:E_(ut.create(e.filters,"and")).map(s=>cr(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,c,m,v,k){const G=(null!=t?t.length:1)*Math.max(s.length,m.length),ne=G/(null!=t?t.length:1),Ce=[];for(let at=0;at<G;++at){const Zt=t?this.dn(t[at/ne]):uf,yn=this.wn(e,Zt,s[at%ne],c),kn=this._n(e,Zt,m[at%ne],v),Jn=k.map(ti=>this.wn(e,Zt,ti,!0));Ce.push(...this.createRange(yn,kn,Jn))}return Ce}wn(e,t,s,c){const m=new fc(e,zn.empty(),t,s);return c?m:m.Je()}_n(e,t,s,c){const m=new fc(e,zn.empty(),t,s);return c?m.Je():m}an(e,t){const s=new um(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(m=>{let v=null;for(const k of m)s.tn(k)&&(!v||k.fields.length>v.fields.length)&&(v=k);return v})}getIndexType(e,t){let s=2;const c=this.cn(t);return Qt.forEach(c,m=>this.an(e,m).next(v=>{v?0!==s&&v.fields.length<function(k){let G=new gr(xi.comparator),ne=!1;for(const Ce of k.filters)for(const at of Ce.getFlattenedFilters())at.field.isKeyField()||("array-contains"===at.op||"array-contains-any"===at.op?ne=!0:G=G.add(at.field));for(const Ce of k.orderBy)Ce.field.isKeyField()||(G=G.add(Ce.field));return G.size+(ne?1:0)}(m)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}mn(e,t){const s=new Vc;for(const c of Rs(e)){const m=t.data.field(c.fieldPath);if(null==m)return null;const v=s.He(c.kind);Ad.Ve._e(m,v)}return s.Qe()}dn(e){const t=new Vc;return Ad.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Vc;return Ad.Ve._e(Ac(this.databaseId,t),s.He(function(c){const m=Rs(c);return 0===m.length?0:m[m.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let c=[];c.push(new Vc);let m=0;for(const v of Rs(e)){const k=s[m++];for(const G of c)if(this.yn(t,v.fieldPath)&&au(k))c=this.pn(c,v,k);else{const ne=G.He(v.kind);Ad.Ve._e(k,ne)}}return this.In(c)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const c=[...e],m=[];for(const v of s.arrayValue.values||[])for(const k of c){const G=new Vc;G.seed(k.Qe()),Ad.Ve._e(v,G.He(t.kind)),m.push(G)}return m}yn(e,t){return!!e.filters.find(s=>s instanceof Oe&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=rp(e),c=pc(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(m=>{const v=[];return Qt.forEach(m,k=>c.get([k.indexId,this.uid]).next(G=>{v.push(function(ne,Ce){const at=Ce?new Ol(Ce.sequenceNumber,new ks(ml(Ce.readTime),new zn(Es(Ce.documentKey)),Ce.largestBatchId)):Ol.empty(),Zt=ne.fields.map(([yn,kn])=>new Ml(xi.fromServerFormat(yn),kn));return new ns(ne.indexId,ne.collectionGroup,Zt,at)}(k,G))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const m=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==m?m:vi(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=rp(e),m=pc(e);return this.Tn(e).next(v=>c.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>Qt.forEach(k,G=>m.put(lm(G.indexId,this.user,v,s)))))}updateIndexEntries(e,t){const s=new Map;return Qt.forEach(t,(c,m)=>{const v=s.get(c.collectionGroup);return(v?Qt.resolve(v):this.getFieldIndexes(e,c.collectionGroup)).next(k=>(s.set(c.collectionGroup,k),Qt.forEach(k,G=>this.En(e,c,G).next(ne=>{const Ce=this.An(m,G);return ne.isEqual(Ce)?Qt.resolve():this.vn(e,m,G,ne,Ce)}))))})}Rn(e,t,s,c){return Md(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,c){return Md(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const c=Md(e);let m=new gr(_u);return c.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(v,k)=>{m=m.add(new fc(s.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>m)}An(e,t){let s=new gr(_u);const c=this.mn(t,e);if(null==c)return s;const m=Al(t);if(null!=m){const v=e.data.field(m.fieldPath);if(au(v))for(const k of v.arrayValue.values||[])s=s.add(new fc(t.indexId,e.key,this.dn(k),c))}else s=s.add(new fc(t.indexId,e.key,uf,c));return s}vn(e,t,s,c,m){gn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(k,G,ne,Ce,at){const Zt=k.getIterator(),yn=G.getIterator();let kn=ic(Zt),Jn=ic(yn);for(;kn||Jn;){let ti=!1,Qi=!1;if(kn&&Jn){const Mr=ne(kn,Jn);Mr<0?Qi=!0:Mr>0&&(ti=!0)}else null!=kn?Qi=!0:ti=!0;ti?(Ce(Jn),Jn=ic(yn)):Qi?(at(kn),kn=ic(Zt)):(kn=ic(Zt),Jn=ic(yn))}}(c,m,_u,k=>{v.push(this.Rn(e,t,s,k))},k=>{v.push(this.Pn(e,t,s,k))}),Qt.waitFor(v)}Tn(e){let t=1;return pc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,m)=>{m.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((v,k)=>_u(v,k)).filter((v,k,G)=>!k||0!==_u(v,G[k-1]));const c=[];c.push(e);for(const v of s){const k=_u(v,e),G=_u(v,t);if(0===k)c[0]=e.Je();else if(k>0&&G<0)c.push(v),c.push(v.Je());else if(G>0)break}c.push(t);const m=[];for(let v=0;v<c.length;v+=2){if(this.bn(c[v],c[v+1]))return[];m.push(IDBKeyRange.bound([c[v].indexId,this.uid,c[v].arrayValue,c[v].directionalValue,uf,[]],[c[v+1].indexId,this.uid,c[v+1].arrayValue,c[v+1].directionalValue,uf,[]]))}return m}bn(e,t){return _u(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gl)}getMinOffset(e,t){return Qt.mapArray(this.cn(t),s=>this.an(e,s).next(c=>c||Nn())).next(gl)}}function ip(i){return As(i,"collectionParents")}function Md(i){return As(i,"indexEntries")}function rp(i){return As(i,"indexConfiguration")}function pc(i){return As(i,"indexState")}function gl(i){Zn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const c=i[s].indexState.offset;$a(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new ks(e.readTime,e.documentKey,t)}const pm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ea{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ea(e,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function I_(i,e,t){const s=i.store("mutations"),c=i.store("documentMutations"),m=[],v=IDBKeyRange.only(t.batchId);let k=0;const G=s.X({range:v},(Ce,at,Zt)=>(k++,Zt.delete()));m.push(G.next(()=>{Zn(1===k)}));const ne=[];for(const Ce of t.mutations){const at=E(e,Ce.key.path,t.batchId);m.push(c.delete(at)),ne.push(Ce.key)}return Qt.waitFor(m).next(()=>ne)}function mm(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Nn();e=i.noDocument}return JSON.stringify(e).length}Ea.DEFAULT_COLLECTION_PERCENTILE=10,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ea.DEFAULT=new Ea(41943040,Ea.DEFAULT_COLLECTION_PERCENTILE,Ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ea.DISABLED=new Ea(-1,0,0);class Od{constructor(e,t,s,c){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=c,this.Vn={}}static de(e,t,s,c){Zn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Od(m,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).X({index:"userMutationsIndex",range:s},(c,m,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const m=Pd(e),v=yu(e);return v.add({}).next(k=>{Zn("number"==typeof k);const G=new Ed(k,t,s,c),ne=function(Zt,yn,kn){const Jn=kn.baseMutations.map(Qi=>Jo(Zt.fe,Qi)),ti=kn.mutations.map(Qi=>Jo(Zt.fe,Qi));return{userId:yn,batchId:kn.batchId,localWriteTimeMs:kn.localWriteTime.toMillis(),baseMutations:Jn,mutations:ti}}(this.serializer,this.userId,G),Ce=[];let at=new gr((Zt,yn)=>vi(Zt.canonicalString(),yn.canonicalString()));for(const Zt of c){const yn=E(this.userId,Zt.key.path,k);at=at.add(Zt.key.path.popLast()),Ce.push(v.put(ne)),Ce.push(m.put(yn,B))}return at.forEach(Zt=>{Ce.push(this.indexManager.addToCollectionParentIndex(e,Zt))}),e.addOnCommittedListener(()=>{this.Vn[k]=G.keys()}),Qt.waitFor(Ce).next(()=>G)})}lookupMutationBatch(e,t){return yu(e).get(t).next(s=>s?(Zn(s.userId===this.userId),$u(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Qt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.Vn[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return yu(e).X({index:"userMutationsIndex",range:c},(v,k,G)=>{k.userId===this.userId&&(Zn(k.batchId>=s),m=$u(this.serializer,k)),G.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return yu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(c,m,v)=>{s=m.batchId,v.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).j("userMutationsIndex",t).next(s=>s.map(c=>$u(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=T(this.userId,t.path),c=IDBKeyRange.lowerBound(s),m=[];return Pd(e).X({range:c},(v,k,G)=>{const[ne,Ce,at]=v,Zt=Es(Ce);if(ne===this.userId&&t.path.isEqual(Zt))return yu(e).get(at).next(yn=>{if(!yn)throw Nn();Zn(yn.userId===this.userId),m.push($u(this.serializer,yn))});G.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new gr(vi);const c=[];return t.forEach(m=>{const v=T(this.userId,m.path),k=IDBKeyRange.lowerBound(v),G=Pd(e).X({range:k},(ne,Ce,at)=>{const[Zt,yn,kn]=ne,Jn=Es(yn);Zt===this.userId&&m.path.isEqual(Jn)?s=s.add(kn):at.done()});c.push(G)}),Qt.waitFor(c).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,m=T(this.userId,s),v=IDBKeyRange.lowerBound(m);let k=new gr(vi);return Pd(e).X({range:v},(G,ne,Ce)=>{const[at,Zt,yn]=G,kn=Es(Zt);at===this.userId&&s.isPrefixOf(kn)?kn.length===c&&(k=k.add(yn)):Ce.done()}).next(()=>this.Dn(e,k))}Dn(e,t){const s=[],c=[];return t.forEach(m=>{c.push(yu(e).get(m).next(v=>{if(null===v)throw Nn();Zn(v.userId===this.userId),s.push($u(this.serializer,v))}))}),Qt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return I_(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Qt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Qt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return Pd(e).X({range:s},(m,v,k)=>{if(m[0]===this.userId){const G=Es(m[1]);c.push(G)}else k.done()}).next(()=>{Zn(0===c.length)})})}containsKey(e,t){return pg(e,this.userId,t)}xn(e){return gm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pg(i,e,t){const s=T(e,t.path),c=s[1],m=IDBKeyRange.lowerBound(s);let v=!1;return Pd(i).X({range:m,Y:!0},(k,G,ne)=>{const[Ce,at,Zt]=k;Ce===e&&at===c&&(v=!0),ne.done()}).next(()=>v)}function yu(i){return As(i,"mutations")}function Pd(i){return As(i,"documentMutations")}function gm(i){return As(i,"mutationQueues")}class Na{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Na(0)}static Mn(){return new Na(-1)}}class mg{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Na(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ri.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.On(e,c)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rd(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(Zn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let c=0;const m=[];return Rd(e).X((v,k)=>{const G=xd(k);G.sequenceNumber<=t&&null===s.get(G.targetId)&&(c++,m.push(this.removeTargetData(e,G)))}).next(()=>Qt.waitFor(m)).next(()=>c)}forEachTarget(e,t){return Rd(e).X((s,c)=>{const m=xd(c);t(m)})}$n(e){return Do(e).get("targetGlobalKey").next(t=>(Zn(null!==t),t))}On(e,t){return Do(e).put("targetGlobalKey",t)}Fn(e,t){return Rd(e).put(ug(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ti(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return Rd(e).X({range:c,index:"queryTargetsIndex"},(v,k,G)=>{const ne=xd(k);Qo(t,ne.target)&&(m=ne,G.done())}).next(()=>m)}addMatchingKeys(e,t,s){const c=[],m=mc(e);return t.forEach(v=>{const k=gs(v.path);c.push(m.put({targetId:s,path:k})),c.push(this.referenceDelegate.addReference(e,s,v))}),Qt.waitFor(c)}removeMatchingKeys(e,t,s){const c=mc(e);return Qt.forEach(t,m=>{const v=gs(m.path);return Qt.waitFor([c.delete([s,v]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,t){const s=mc(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=mc(e);let m=pi();return c.X({range:s,Y:!0},(v,k,G)=>{const ne=Es(v[1]),Ce=new zn(ne);m=m.add(Ce)}).next(()=>m)}containsKey(e,t){const s=gs(t.path),c=IDBKeyRange.bound([s],[Xc(s)],!1,!0);let m=0;return mc(e).X({index:"documentTargetsIndex",Y:!0,range:c},([v,k],G,ne)=>{0!==v&&(m++,ne.done())}).next(()=>m>0)}le(e,t){return Rd(e).get(t).next(s=>s?xd(s):null)}}function Rd(i){return As(i,"targets")}function Do(i){return As(i,"targetGlobal")}function mc(i){return As(i,"targetDocuments")}function Ch([i,e],[t,s]){const c=vi(i,t);return 0===c?vi(e,s):c}class D_{constructor(e){this.Ln=e,this.buffer=new gr(Ch),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ch(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;gn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Ga(s)?gn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ma(s)}yield t.Qn(3e5)}))}}class x_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Qt.resolve(Gs.ct);const s=new D_(t);return this.jn.forEachTarget(e,c=>s.Kn(c.sequenceNumber)).next(()=>this.jn.Wn(e,c=>s.Kn(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gn("LruGarbageCollector","Garbage collection skipped; disabled"),Qt.resolve(pm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(gn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pm):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,c,m,v,k,G,ne;const Ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(at=>(at>this.params.maximumSequenceNumbersToCollect?(gn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${at}`),c=this.params.maximumSequenceNumbersToCollect):c=at,v=Date.now(),this.nthSequenceNumber(e,c))).next(at=>(s=at,k=Date.now(),this.removeTargets(e,s,t))).next(at=>(m=at,G=Date.now(),this.removeOrphanedDocuments(e,s))).next(at=>(ne=Date.now(),Gi()<=R.in.DEBUG&&gn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-Ce}ms\n\tDetermined least recently used ${c} in `+(k-v)+`ms\n\tRemoved ${m} targets in `+(G-k)+`ms\n\tRemoved ${at} documents in `+(ne-G)+`ms\nTotal Duration: ${ne-Ce}ms`),Qt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:at})))}}class sp{constructor(e,t){this.db=e,this.garbageCollector=function _m(i,e){return new x_(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,c)=>t(c))}addReference(e,t,s){return op(e,s)}removeReference(e,t,s){return op(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return op(e,t)}Xn(e,t){return function(s,c){let m=!1;return gm(s).Z(v=>pg(s,v,c).next(k=>(k&&(m=!0),Qt.resolve(!k)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.Yn(e,(v,k)=>{if(k<=t){const G=this.Xn(e,v).next(ne=>{if(!ne)return m++,s.getEntry(e,v).next(()=>(s.removeEntry(v,ri.min()),mc(e).delete([0,gs(v.path)])))});c.push(G)}}).next(()=>Qt.waitFor(c)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return op(e,t)}Yn(e,t){const s=mc(e);let c,m=Gs.ct;return s.X({index:"documentTargetsIndex"},([v,k],{path:G,sequenceNumber:ne})=>{0===v?(m!==Gs.ct&&t(new zn(Es(c)),m),m=ne,c=G):m=Gs.ct}).next(()=>{m!==Gs.ct&&t(new zn(Es(c)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function op(i,e){return mc(i).put((s=i.currentSequenceNumber,{targetId:0,path:gs(e.path),sequenceNumber:s}));var s}class vu{constructor(){this.changes=new Io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Qt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class df{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return gc(e).put(s)}removeEntry(e,t,s){return gc(e).delete(function(c,m){const v=c.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Dd(m),v[v.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Vr.newInvalidDocument(t);return gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ih(t))},(c,m)=>{s=this.ts(t,m)}).next(()=>s)}es(e,t){let s={size:0,document:Vr.newInvalidDocument(t)};return gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ih(t))},(c,m)=>{s={document:this.ts(t,m),size:mm(m)}}).next(()=>s)}getEntries(e,t){let s=Ls();return this.ns(e,t,(c,m)=>{const v=this.ts(c,m);s=s.insert(c,v)}).next(()=>s)}ss(e,t){let s=Ls(),c=new or(zn.comparator);return this.ns(e,t,(m,v)=>{const k=this.ts(m,v);s=s.insert(m,k),c=c.insert(m,mm(v))}).next(()=>({documents:s,rs:c}))}ns(e,t,s){if(t.isEmpty())return Qt.resolve();let c=new gr(hf);t.forEach(G=>c=c.add(G));const m=IDBKeyRange.bound(Ih(c.first()),Ih(c.last())),v=c.getIterator();let k=v.getNext();return gc(e).X({index:"documentKeyIndex",range:m},(G,ne,Ce)=>{const at=zn.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;k&&hf(k,at)<0;)s(k,null),k=v.getNext();k&&k.isEqual(at)&&(s(k,ne),k=v.hasNext()?v.getNext():null),k?Ce.G(Ih(k)):Ce.done()}).next(()=>{for(;k;)s(k,null),k=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,t,s,c){const m=t.path,v=[m.popLast().toArray(),m.lastSegment(),Dd(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],k=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gc(e).j(IDBKeyRange.bound(v,k,!0)).next(G=>{let ne=Ls();for(const Ce of G){const at=this.ts(zn.fromSegments(Ce.prefixPath.concat(Ce.collectionGroup,Ce.documentId)),Ce);at.isFoundDocument()&&(Gn(t,at)||c.has(at.key))&&(ne=ne.insert(at.key,at))}return ne})}getAllFromCollectionGroup(e,t,s,c){let m=Ls();const v=yg(t,s),k=yg(t,ks.max());return gc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,k,!0)},(G,ne,Ce)=>{const at=this.ts(zn.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);m=m.insert(at.key,at),m.size===c&&Ce.done()}).next(()=>m)}newChangeBuffer(e){return new _g(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ym(e).get("remoteDocumentGlobalKey").next(t=>(Zn(!!t),t))}Zn(e,t){return ym(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Jf(i,e){let t;if(e.document)t=im(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=zn.fromSegments(e.noDocument.path),c=ml(e.noDocument.readTime);t=Vr.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nn();{const s=zn.fromSegments(e.unknownDocument.path),c=ml(e.unknownDocument.version);t=Vr.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new Rr(s[0],s[1]);return ri.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(ri.min()))return s}return Vr.newInvalidDocument(e)}}function Hi(i){return new df(i)}class _g extends vu{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Io(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new gr((m,v)=>vi(m.canonicalString(),v.canonicalString()));return this.changes.forEach((m,v)=>{const k=this.us.get(m);if(t.push(this.os.removeEntry(e,m,k.readTime)),v.isValidDocument()){const G=om(this.os.serializer,v);c=c.add(m.path.popLast());const ne=mm(G);s+=ne-k.size,t.push(this.os.addEntry(e,m,G))}else if(s-=k.size,this.trackRemovals){const G=om(this.os.serializer,v.convertToNoDocument(ri.min()));t.push(this.os.addEntry(e,m,G))}}),c.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,s)),Qt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:c})=>(c.forEach((m,v)=>{this.us.set(m,{size:v,readTime:s.get(m).readTime})}),s))}}function ym(i){return As(i,"remoteDocumentGlobal")}function gc(i){return As(i,"remoteDocumentsV14")}function Ih(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yg(i,e){const t=e.documentKey.path.toArray();return[i,Dd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hf(i,e){const t=i.path.toArray(),s=e.path.toArray();let c=0;for(let m=0;m<t.length-2&&m<s.length-2;++m)if(c=vi(t[m],s[m]),c)return c;return c=vi(t.length,s.length),c||(c=vi(t[t.length-2],s[s.length-2]),c||vi(t[t.length-1],s[s.length-1]))}class ap{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vm{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&Xr(s.mutation,c,so.empty(),Rr.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,pi()).next(()=>s))}getLocalViewOfDocuments(e,t,s=pi()){const c=va();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(m=>{let v=lc();return m.forEach((k,G)=>{v=v.insert(k,G.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const s=va();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,pi()))}populateOverlays(e,t,s){const c=[];return s.forEach(m=>{t.has(m)||c.push(m)}),this.documentOverlayCache.getOverlays(e,c).next(m=>{m.forEach((v,k)=>{t.set(v,k)})})}computeViews(e,t,s,c){let m=Ls();const v=hl(),k=hl();return t.forEach((G,ne)=>{const Ce=s.get(ne.key);c.has(ne.key)&&(void 0===Ce||Ce.mutation instanceof Rc)?m=m.insert(ne.key,ne):void 0!==Ce?(v.set(ne.key,Ce.mutation.getFieldMask()),Xr(Ce.mutation,ne,Ce.mutation.getFieldMask(),Rr.now())):v.set(ne.key,so.empty())}),this.recalculateAndSaveOverlays(e,m).next(G=>(G.forEach((ne,Ce)=>v.set(ne,Ce)),t.forEach((ne,Ce)=>{var at;return k.set(ne,new ap(Ce,null!==(at=v.get(ne))&&void 0!==at?at:null))}),k))}recalculateAndSaveOverlays(e,t){const s=hl();let c=new or((v,k)=>v-k),m=pi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const k of v)k.keys().forEach(G=>{const ne=t.get(G);if(null===ne)return;let Ce=s.get(G)||so.empty();Ce=k.applyToLocalView(ne,Ce),s.set(G,Ce);const at=(c.get(k.batchId)||pi()).add(G);c=c.insert(k.batchId,at)})}).next(()=>{const v=[],k=c.getReverseIterator();for(;k.hasNext();){const G=k.getNext(),ne=G.key,Ce=G.value,at=ka();Ce.forEach(Zt=>{if(!m.has(Zt)){const yn=Fu(t.get(Zt),s.get(Zt));null!==yn&&at.set(Zt,yn),m=m.add(Zt)}}),v.push(this.documentOverlayCache.saveOverlays(e,ne,at))}return Qt.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return zn.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):g(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(m=>{const v=c-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-m.size):Qt.resolve(va());let k=-1,G=m;return v.next(ne=>Qt.forEach(ne,(Ce,at)=>(k<at.largestBatchId&&(k=at.largestBatchId),m.get(Ce)?Qt.resolve():this.remoteDocumentCache.getEntry(e,Ce).next(Zt=>{G=G.insert(Ce,Zt)}))).next(()=>this.populateOverlays(e,ne,m)).next(()=>this.computeViews(e,G,ne,pi())).next(Ce=>({batchId:k,changes:uu(Ce)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zn(t)).next(s=>{let c=lc();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let m=lc();return this.indexManager.getCollectionParents(e,c).next(v=>Qt.forEach(v,k=>{const G=(ne=t,Ce=k.child(c),new zl(Ce,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,Ce;return this.getDocumentsMatchingCollectionQuery(e,G,s).next(ne=>{ne.forEach((Ce,at)=>{m=m.insert(Ce,at)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c))).next(m=>{c.forEach((k,G)=>{const ne=G.getKey();null===m.get(ne)&&(m=m.insert(ne,Vr.newInvalidDocument(ne)))});let v=lc();return m.forEach((k,G)=>{const ne=c.get(k);void 0!==ne&&Xr(ne.mutation,G,so.empty(),Rr.now()),Gn(t,G)&&(v=v.insert(k,G))}),v})}}class Dh{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Qt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:qi(s.createTime)}),Qt.resolve()}getNamedQuery(e,t){return Qt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:am(s.bundledQuery),readTime:qi(s.readTime)}),Qt.resolve();var s}}class vg{constructor(){this.overlays=new or(zn.comparator),this.ls=new Map}getOverlay(e,t){return Qt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=va();return Qt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&s.set(c,m)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,m)=>{this.we(e,t,m)}),Qt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.ls.get(s);return void 0!==c&&(c.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(s)),Qt.resolve()}getOverlaysForCollection(e,t,s){const c=va(),m=t.length+1,v=new zn(t.child("")),k=this.overlays.getIteratorFrom(v);for(;k.hasNext();){const G=k.getNext().value,ne=G.getKey();if(!t.isPrefixOf(ne.path))break;ne.path.length===m&&G.largestBatchId>s&&c.set(G.getKey(),G)}return Qt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let m=new or((ne,Ce)=>ne-Ce);const v=this.overlays.getIterator();for(;v.hasNext();){const ne=v.getNext().value;if(ne.getKey().getCollectionGroup()===t&&ne.largestBatchId>s){let Ce=m.get(ne.largestBatchId);null===Ce&&(Ce=va(),m=m.insert(ne.largestBatchId,Ce)),Ce.set(ne.getKey(),ne)}}const k=va(),G=m.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((ne,Ce)=>k.set(ne,Ce)),!(k.size()>=c)););return Qt.resolve(k)}we(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const v=this.ls.get(c.largestBatchId).delete(s.key);this.ls.set(c.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new Qh(t,s));let m=this.ls.get(t);void 0===m&&(m=pi(),this.ls.set(t,m)),this.ls.set(t,m.add(s.key))}}class bm{constructor(){this.fs=new gr(lo.ds),this.ws=new gr(lo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new lo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new lo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new zn(new bi([])),s=new lo(t,e),c=new lo(t,e+1),m=[];return this.ws.forEachInRange([s,c],v=>{this.ys(v),m.push(v.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new zn(new bi([])),s=new lo(t,e),c=new lo(t,e+1);let m=pi();return this.ws.forEachInRange([s,c],v=>{m=m.add(v.key)}),m}containsKey(e){const t=new lo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class lo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return zn.comparator(e.key,t.key)||vi(e.As,t.As)}static _s(e,t){return vi(e.As,t.As)||zn.comparator(e.key,t.key)}}class xh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new gr(lo.ds)}checkEmpty(e){return Qt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const m=this.vs;this.vs++;const v=new Ed(m,t,s,c);this.mutationQueue.push(v);for(const k of c)this.Rs=this.Rs.add(new lo(k.key,m)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Qt.resolve(v)}lookupMutationBatch(e,t){return Qt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),m=c<0?0:c;return Qt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Qt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Qt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new lo(t,0),c=new lo(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([s,c],v=>{const k=this.Ps(v.As);m.push(k)}),Qt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new gr(vi);return t.forEach(c=>{const m=new lo(c,0),v=new lo(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,v],k=>{s=s.add(k.As)})}),Qt.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let m=s;zn.isDocumentKey(m)||(m=m.child(""));const v=new lo(new zn(m),0);let k=new gr(vi);return this.Rs.forEachWhile(G=>{const ne=G.key.path;return!!s.isPrefixOf(ne)&&(ne.length===c&&(k=k.add(G.As)),!0)},v),Qt.resolve(this.Vs(k))}Vs(e){const t=[];return e.forEach(s=>{const c=this.Ps(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Zn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Qt.forEach(t.mutations,c=>{const m=new lo(c.key,t.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new lo(t,0),c=this.Rs.firstAfterOrEqual(s);return Qt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Qt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uc{constructor(e){this.Ds=e,this.docs=new or(zn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),m=c?c.size:0,v=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:v}),this.size+=v-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Qt.resolve(s?s.document.mutableCopy():Vr.newInvalidDocument(t))}getEntries(e,t){let s=Ls();return t.forEach(c=>{const m=this.docs.get(c);s=s.insert(c,m?m.document.mutableCopy():Vr.newInvalidDocument(c))}),Qt.resolve(s)}getDocumentsMatchingQuery(e,t,s,c){let m=Ls();const v=t.path,k=new zn(v.child("")),G=this.docs.getIteratorFrom(k);for(;G.hasNext();){const{key:ne,value:{document:Ce}}=G.getNext();if(!v.isPrefixOf(ne.path))break;ne.path.length>v.length+1||$a(eu(Ce),s)<=0||(c.has(Ce.key)||Gn(t,Ce))&&(m=m.insert(Ce.key,Ce.mutableCopy()))}return Qt.resolve(m)}getAllFromCollectionGroup(e,t,s,c){Nn()}Cs(e,t){return Qt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Em(this)}getSize(e){return Qt.resolve(this.size)}}class Em extends vu{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(s)}),Qt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ff{constructor(e){this.persistence=e,this.xs=new Io(t=>Ti(t),Qo),this.lastRemoteSnapshotVersion=ri.min(),this.highestTargetId=0,this.Ns=0,this.ks=new bm,this.targetCount=0,this.Ms=Na.kn()}forEachTarget(e,t){return this.xs.forEach((s,c)=>t(c)),Qt.resolve()}getLastRemoteSnapshotVersion(e){return Qt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Qt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Qt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Na(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Qt.resolve()}updateTargetData(e,t){return this.Fn(t),Qt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Qt.resolve()}removeTargets(e,t,s){let c=0;const m=[];return this.xs.forEach((v,k)=>{k.sequenceNumber<=t&&null===s.get(k.targetId)&&(this.xs.delete(v),m.push(this.removeMatchingKeysForTargetId(e,k.targetId)),c++)}),Qt.waitFor(m).next(()=>c)}getTargetCount(e){return Qt.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Qt.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Qt.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const c=this.persistence.referenceDelegate,m=[];return c&&t.forEach(v=>{m.push(c.markPotentiallyOrphaned(e,v))}),Qt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Qt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Qt.resolve(s)}containsKey(e,t){return Qt.resolve(this.ks.containsKey(t))}}class kd{constructor(e,t){this.$s={},this.overlays={},this.Os=new Gs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ff(this),this.indexManager=new w_,this.remoteDocumentCache=new Uc(s=>this.referenceDelegate.Ls(s)),this.serializer=new Xf(t),this.qs=new Dh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new xh(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){gn("MemoryPersistence","Starting transaction:",e);const c=new T_(this.Os.next());return this.referenceDelegate.Us(),s(c).next(m=>this.referenceDelegate.Ks(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}Gs(e,t){return Qt.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class T_ extends tc{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Qs=new bm,this.js=null}static zs(e){return new Nd(e)}get Ws(){if(this.js)return this.js;throw Nn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Qt.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Qt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Qt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(m=>this.Ws.add(m.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qt.forEach(this.Ws,s=>{const c=zn.fromPath(s);return this.Hs(e,c).next(m=>{m||t.removeEntry(c,ri.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Qt.or([()=>Qt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ay{constructor(e){this.serializer=e}O(e,t,s,c){const m=new nc("createOrUpgrade",t);var k;s<1&&c>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I,{unique:!0}),k.createObjectStore("documentMutations"),bg(e),function(k){k.createObjectStore("remoteDocuments")}(e));let v=Qt.resolve();return s<3&&c>=3&&(0!==s&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),bg(e)),v=v.next(()=>function(k){const G=k.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ri.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",ne)}(m))),s<4&&c>=4&&(0!==s&&(v=v.next(()=>function(k,G){return G.store("mutations").j().next(ne=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",I,{unique:!0});const Ce=G.store("mutations"),at=ne.map(Zt=>Ce.put(Zt));return Qt.waitFor(at)})}(e,m))),v=v.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(v=v.next(()=>this.Ys(m))),s<6&&c>=6&&(v=v.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),s<7&&c>=7&&(v=v.next(()=>this.Zs(m))),s<8&&c>=8&&(v=v.next(()=>this.ti(e,m))),s<9&&c>=9&&(v=v.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(v=v.next(()=>this.ei(m))),s<11&&c>=11&&(v=v.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(v=v.next(()=>{!function(k){const G=k.createObjectStore("documentOverlays",{keyPath:Yo});G.createIndex("collectionPathOverlayIndex",wo,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",wr,{unique:!1})}(e)})),s<13&&c>=13&&(v=v.next(()=>function(k){const G=k.createObjectStore("remoteDocumentsV14",{keyPath:Y});G.createIndex("documentKeyIndex",he),G.createIndex("collectionGroupIndex",ve)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(v=v.next(()=>this.si(e,m))),s<15&&c>=15&&(v=v.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Ei}).createIndex("sequenceNumberIndex",kr,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Oa}).createIndex("documentKeyIndex",ws,{unique:!1})}(e))),v}Xs(e){let t=0;return e.store("remoteDocuments").X((s,c)=>{t+=mm(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(c=>Qt.forEach(c,m=>{const v=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",v).next(k=>Qt.forEach(k,G=>{Zn(G.userId===m.userId);const ne=$u(this.serializer,G);return I_(e,m.userId,ne).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const m=[];return s.X((v,k)=>{const G=new bi(v),ne=[0,gs(G)];m.push(t.get(ne).next(Ce=>Ce?Qt.resolve():t.put({targetId:0,path:gs(G),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Qt.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Hn});const s=t.store("collectionParents"),c=new fm,m=v=>{if(c.add(v)){const k=v.lastSegment(),G=v.popLast();return s.put({collectionId:k,parent:gs(G)})}};return t.store("remoteDocuments").X({Y:!0},(v,k)=>{const G=new bi(v);return m(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([v,k,G],ne)=>{const Ce=Es(k);return m(Ce.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,c)=>{const m=xd(c),v=ug(this.serializer,m);return t.put(v)})}ni(e,t){const s=t.store("remoteDocuments"),c=[];return s.X((m,v)=>{const k=t.store("remoteDocumentsV14"),G=(ne=v,ne.document?new zn(bi.fromString(ne.document.name).popFirst(5)):ne.noDocument?zn.fromSegments(ne.noDocument.path):ne.unknownDocument?zn.fromSegments(ne.unknownDocument.path):Nn()).path.toArray();var ne;const Ce={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};c.push(k.put(Ce))}).next(()=>Qt.waitFor(c))}si(e,t){const s=t.store("mutations"),c=Hi(this.serializer),m=new kd(Nd.zs,this.serializer.fe);return s.j().next(v=>{const k=new Map;return v.forEach(G=>{var ne;let Ce=null!==(ne=k.get(G.userId))&&void 0!==ne?ne:pi();$u(this.serializer,G).keys().forEach(at=>Ce=Ce.add(at)),k.set(G.userId,Ce)}),Qt.forEach(k,(G,ne)=>{const Ce=new Bn(ne),at=sf.de(this.serializer,Ce),Zt=m.getIndexManager(Ce),yn=Od.de(Ce,this.serializer,Zt,m.referenceDelegate);return new vm(c,yn,at,Zt).recalculateAndSaveOverlaysForDocumentKeys(new nu(t,Gs.ct),G).next()})})}}function bg(i){i.createObjectStore("targetDocuments",{keyPath:_n}).createIndex("documentTargetsIndex",jn,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lt,{unique:!0}),i.createObjectStore("targetGlobal")}const Th="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lp{constructor(e,t,s,c,m,v,k,G,ne,Ce,at=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=m,this.window=v,this.document=k,this.ri=ne,this.oi=Ce,this.ui=at,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Zt=>Promise.resolve(),!lp.D())throw new En(qt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sp(this,c),this.di=t+"main",this.serializer=new Xf(G),this.wi=new Pi(this.di,this.ui,new ay(this.serializer)),this.Bs=new mg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Hi(this.serializer),this.qs=new ep,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Ce&&mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new En(qt.FAILED_PRECONDITION,Th);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Gs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,f.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,f.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ga(e))return gn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return pf(e).get("owner").next(t=>Qt.resolve(this.Ri(t)))}Pi(e){return zc(e).delete(this.clientId)}bi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=As(s,"clientMetadata");return c.j().next(m=>{const v=e.Si(m,18e5),k=m.filter(G=>-1===v.indexOf(G));return Qt.forEach(k,G=>c.delete(G.clientId)).next(()=>k)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Qt.resolve(!0):pf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new En(qt.FAILED_PRECONDITION,Th);return!1}}return!(!this.networkEnabled||!this.inForeground)||zc(e).j().next(s=>void 0===this.Si(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(t=>(this.isPrimary!==t&&gn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new nu(t,Gs.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>zc(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Od.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new C_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return sf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){gn("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",m=15===(v=this.ui)?Tc:14===v?cd:13===v?kl:12===v?tu:11===v?Mo:void Nn();var v;let k;return this.wi.runTransaction(e,c,m,G=>(k=new nu(G,this.Os?this.Os.next():Gs.ct),"readwrite-primary"===t?this.Ti(k).next(ne=>!!ne||this.Ei(k)).next(ne=>{if(!ne)throw mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new En(qt.FAILED_PRECONDITION,Rl);return s(k)}).next(ne=>this.vi(k).next(()=>ne)):this.Oi(k).next(()=>s(k)))).then(G=>(k.raiseOnCommittedEvent(),G))}Oi(e){return pf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new En(qt.FAILED_PRECONDITION,Th)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pf(e).put("owner",t)}static D(){return Pi.D()}Ai(e){const t=pf(e);return t.get("owner").next(s=>this.Ri(s)?(gn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Qt.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(mi(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ae.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return gn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return mi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){mi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pf(i){return As(i,"owner")}function zc(i){return As(i,"clientMetadata")}function Cm(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class cp{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=c}static Li(e,t){let s=pi(),c=pi();for(const m of t.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new cp(e,t.fromCache,s,c)}}class Sh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,c){return this.Ki(e,t).next(m=>m||this.Gi(e,t,c,s)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(ko(t))return Qt.resolve(null);let s=M(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=De(t,null,"F"),s=M(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const v=pi(...m);return this.Ui.getDocuments(e,v).next(k=>this.indexManager.getMinOffset(e,s).next(G=>{const ne=this.ji(t,k);return this.zi(t,ne,v,G.readTime)?this.Ki(e,De(t,null,"F")):this.Wi(e,ne,t,G)}))})))}Gi(e,t,s,c){return ko(t)||c.isEqual(ri.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(m=>{const v=this.ji(t,m);return this.zi(t,v,s,c)?this.Qi(e,t):(Gi()<=R.in.DEBUG&&gn("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Pn(t)),this.Wi(e,v,t,Pl(c,-1)))})}ji(e,t){let s=new gr(Ui(e));return t.forEach((c,m)=>{Gn(e,m)&&(s=s.add(m))}),s}zi(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}Qi(e,t){return Gi()<=R.in.DEBUG&&gn("QueryEngine","Using full collection scan to execute query:",Pn(t)),this.Ui.getDocumentsMatchingQuery(e,t,ks.min())}Wi(e,t,s,c){return this.Ui.getDocumentsMatchingQuery(e,s,c).next(m=>(t.forEach(v=>{m=m.insert(v.key,v)}),m))}}class Im{constructor(e,t,s,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new or(vi),this.Yi=new Io(m=>Ti(m),Qo),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function mf(i,e,t,s){return new Im(i,e,t,s)}function up(i,e){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,f.Z)(function*(i,e){const t=Rn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(m=>(c=m,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(m=>{const v=[],k=[];let G=pi();for(const ne of c){v.push(ne.batchId);for(const Ce of ne.mutations)G=G.add(Ce.key)}for(const ne of m){k.push(ne.batchId);for(const Ce of ne.mutations)G=G.add(Ce.key)}return t.localDocuments.getDocuments(s,G).next(ne=>({er:ne,removedBatchIds:v,addedBatchIds:k}))})})}),Ah.apply(this,arguments)}function dp(i){const e=Rn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Dm(i,e,t){let s=pi(),c=pi();return t.forEach(m=>s=s.add(m)),e.getEntries(i,s).next(m=>{let v=Ls();return t.forEach((k,G)=>{const ne=m.get(k);G.isFoundDocument()!==ne.isFoundDocument()&&(c=c.add(k)),G.isNoDocument()&&G.version.isEqual(ri.min())?(e.removeEntry(k,G.readTime),v=v.insert(k,G)):!ne.isValidDocument()||G.version.compareTo(ne.version)>0||0===G.version.compareTo(ne.version)&&ne.hasPendingWrites?(e.addEntry(G),v=v.insert(k,G)):gn("LocalStore","Ignoring outdated watch update for ",k,". Current version:",ne.version," Watch version:",G.version)}),{nr:v,sr:c}})}function hp(i,e){const t=Rn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Gu(i,e){const t=Rn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Bs.getTargetData(s,e).next(m=>m?(c=m,Qt.resolve(c)):t.Bs.allocateTargetId(s).next(v=>(c=new mu(e,v,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.Ji.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Ld(i,e,t){return bu.apply(this,arguments)}function bu(){return bu=(0,f.Z)(function*(i,e,t){const s=Rn(i),c=s.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",m,v=>s.persistence.referenceDelegate.removeTarget(v,c)))}catch(v){if(!Ga(v))throw v;gn("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(c.target)}),bu.apply(this,arguments)}function gf(i,e,t){const s=Rn(i);let c=ri.min(),m=pi();return s.persistence.runTransaction("Execute query","readonly",v=>function(k,G,ne){const Ce=Rn(k),at=Ce.Yi.get(ne);return void 0!==at?Qt.resolve(Ce.Ji.get(at)):Ce.Bs.getTargetData(G,ne)}(s,v,M(e)).next(k=>{if(k)return c=k.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(v,k.targetId).next(G=>{m=G})}).next(()=>s.Hi.getDocumentsMatchingQuery(v,e,t?c:ri.min(),t?m:pi())).next(k=>(S_(s,li(e),k),{documents:k,ir:m})))}function fp(i,e){const t=Rn(i),s=Rn(t.Bs),c=t.Ji.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",m=>s.le(m,e).next(v=>v?v.target:null))}function wg(i,e){const t=Rn(i),s=t.Xi.get(e)||ri.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Zi.getAllFromCollectionGroup(c,e,Pl(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(S_(t,e,c),c))}function S_(i,e,t){let s=i.Xi.get(e)||ri.min();t.forEach((c,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),i.Xi.set(e,s)}function Bd(){return Bd=(0,f.Z)(function*(i,e,t,s){const c=Rn(i);let m=pi(),v=Ls();for(const ne of t){const Ce=e.rr(ne.metadata.name);ne.document&&(m=m.add(Ce));const at=e.ur(ne);at.setReadTime(e.cr(ne.metadata.readTime)),v=v.insert(Ce,at)}const k=c.Zi.newChangeBuffer({trackRemovals:!0}),G=yield Gu(c,(ne=s,M(Fi(bi.fromString(`__bundle__/docs/${ne}`)))));var ne;return c.persistence.runTransaction("Apply bundle documents","readwrite",ne=>Dm(ne,k,v).next(Ce=>(k.apply(ne),Ce)).next(Ce=>c.Bs.removeMatchingKeysForTargetId(ne,G.targetId).next(()=>c.Bs.addMatchingKeys(ne,m,G.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(ne,Ce.nr,Ce.sr)).next(()=>Ce.nr)))}),Bd.apply(this,arguments)}function Cg(i,e){return pp.apply(this,arguments)}function pp(){return pp=(0,f.Z)(function*(i,e,t=pi()){const s=yield Gu(i,M(am(e.bundledQuery))),c=Rn(i);return c.persistence.runTransaction("Save named query","readwrite",m=>{const v=qi(e.readTime);if(s.snapshotVersion.compareTo(v)>=0)return c.qs.saveNamedQuery(m,e);const k=s.withResumeToken(ls.EMPTY_BYTE_STRING,v);return c.Ji=c.Ji.insert(k.targetId,k),c.Bs.updateTargetData(m,k).next(()=>c.Bs.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>c.Bs.addMatchingKeys(m,t,s.targetId)).next(()=>c.qs.saveNamedQuery(m,e))})}),pp.apply(this,arguments)}function Mh(i,e){return`firestore_clients_${i}_${e}`}function _c(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function jc(i,e){return`firestore_targets_${i}_${e}`}class Eu{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static ar(e,t,s){const c=JSON.parse(s);let m,v="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return v&&c.error&&(v="string"==typeof c.error.message&&"string"==typeof c.error.code,v&&(m=new En(c.error.code,c.error.message))),v?new Eu(e,t,c.state,m):(mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yu{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let c,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(c=new En(s.error.code,s.error.message))),m?new Yu(e,s.state,c):(mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,m=du();for(let v=0;c&&v<s.activeTargetIds.length;++v)c=Ko(s.activeTargetIds[v]),m=m.add(s.activeTargetIds[v]);return c?new Hc(e,m):(mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wu{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wu(t.clientId,t.onlineState):(mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zu{constructor(){this.activeTargetIds=du()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mp{constructor(e,t,s,c,m){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new or(vi),this.started=!1,this.yr=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=Mh(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Zu),this.Tr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const t=yield e.syncEngine.$i();for(const c of t){if(c===e.wr)continue;const m=e.getItem(Mh(e.persistenceKey,c));if(m){const v=Hc.ar(c,m);v&&(e.gr=e.gr.insert(v.clientId,v))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const c=e.br(s);c&&e.Vr(c)}for(const c of e.yr)e.mr(c);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(jc(this.persistenceKey,e));if(s){const c=Yu.ar(e,s);c&&(t=c.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jc(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Cr(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gn("SharedClientState","READ",e,t),t}setItem(e,t){gn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(gn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,f.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const c=t.Or(s.key);return t.Fr(c,null)}{const c=t.Br(s.key,s.newValue);if(c)return t.Fr(c.clientId,c)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const c=t.Lr(s.key,s.newValue);if(c)return t.qr(c)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const c=t.Ur(s.key,s.newValue);if(c)return t.Kr(c)}}else if(s.key===t.vr){if(null!==s.newValue){const c=t.br(s.newValue);if(c)return t.Vr(c)}}else if(s.key===t.Ir){const c=function(m){let v=Gs.ct;if(null!=m)try{const k=JSON.parse(m);Zn("number"==typeof k),v=k}catch(k){mi("SharedClientState","Failed to read sequence number from WebStorage",k)}return v}(s.newValue);c!==Gs.ct&&t.sequenceNumberHandler(c)}else if(s.key===t.Rr){const c=t.Gr(s.newValue);yield Promise.all(c.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const c=new Eu(this.currentUser,e,t,s),m=_c(this.persistenceKey,this.currentUser,e);this.setItem(m,c.hr())}Cr(e){const t=_c(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const c=jc(this.persistenceKey,e),m=new Yu(e,t,s);this.setItem(c,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Hc.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),c=Number(s[1]);return Eu.ar(new Bn(void 0!==s[2]?s[2]:null),c,t)}Ur(e,t){const s=this.Ar.exec(e),c=Number(s[1]);return Yu.ar(c,t)}br(e){return wu.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,f.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);gn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),c=this.Sr(this.gr),m=this.Sr(s),v=[],k=[];return m.forEach(G=>{c.has(G)||v.push(G)}),c.forEach(G=>{m.has(G)||k.push(G)}),this.syncEngine.Wr(v,k).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=du();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class _l{constructor(){this.Hr=new Zu,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Zu,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gp{Yr(e){}shutdown(){}}class _p{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){gn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){gn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qu=null;function Oh(){return null===qu?qu=268435456+Math.round(2147483648*Math.random()):qu++,"0x"+qu.toString(16)}const yl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ig{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ea="WebChannelConnection";class Dg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,c,m){const v=Oh(),k=this.To(e,t);gn("RestConnection",`Sending RPC '${e}' ${v}:`,k,s);const G={};return this.Eo(G,c,m),this.Ao(e,k,G,s).then(ne=>(gn("RestConnection",`Received RPC '${e}' ${v}: `,ne),ne),ne=>{throw pr("RestConnection",`RPC '${e}' ${v} failed with error: `,ne,"url: ",k,"request:",s),ne})}vo(e,t,s,c,m,v){return this.Io(e,t,s,c,m)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+er,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,m)=>e[m]=c),s&&s.headers.forEach((c,m)=>e[m]=c)}To(e,t){return`${this.mo}/v1/${t}:${yl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,c){const m=Oh();return new Promise((v,k)=>{const G=new _e;G.setWithCredentials(!0),G.listenOnce(Jl.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case Aa.NO_ERROR:const Ce=G.getResponseJson();gn(ea,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Ce)),v(Ce);break;case Aa.TIMEOUT:gn(ea,`RPC '${e}' ${m} timed out`),k(new En(qt.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:const at=G.getStatus();if(gn(ea,`RPC '${e}' ${m} failed with status:`,at,"response text:",G.getResponseText()),at>0){let Zt=G.getResponseJson();Array.isArray(Zt)&&(Zt=Zt[0]);const yn=Zt?.error;if(yn&&yn.status&&yn.message){const kn=function(Jn){const ti=Jn.toLowerCase().replace(/_/g,"-");return Object.values(qt).indexOf(ti)>=0?ti:qt.UNKNOWN}(yn.status);k(new En(kn,yn.message))}else k(new En(qt.UNKNOWN,"Server responded with status "+G.getStatus()))}else k(new En(qt.UNAVAILABLE,"Connection failed."));break;default:Nn()}}finally{gn(ea,`RPC '${e}' ${m} completed.`)}});const ne=JSON.stringify(c);gn(ea,`RPC '${e}' ${m} sending request:`,c),G.send(t,"POST",ne,s,15)})}Ro(e,t,s){const c=Oh(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Ql(),k=Xl(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ne=this.longPollingOptions.timeoutSeconds;void 0!==ne&&(G.longPollingTimeout=Math.round(1e3*ne)),this.useFetchStreams&&(G.xmlHttpFactory=new ee({})),this.Eo(G.initMessageHeaders,t,s),G.encodeInitMessageHeaders=!0;const Ce=m.join("");gn(ea,`Creating RPC '${e}' stream ${c}: ${Ce}`,G);const at=v.createWebChannel(Ce,G);let Zt=!1,yn=!1;const kn=new Ig({ro:ti=>{yn?gn(ea,`Not sending because RPC '${e}' stream ${c} is closed:`,ti):(Zt||(gn(ea,`Opening RPC '${e}' stream ${c} transport.`),at.open(),Zt=!0),gn(ea,`RPC '${e}' stream ${c} sending:`,ti),at.send(ti))},oo:()=>at.close()}),Jn=(ti,Qi,Mr)=>{ti.listen(Qi,ar=>{try{Mr(ar)}catch(na){setTimeout(()=>{throw na},0)}})};return Jn(at,H.EventType.OPEN,()=>{yn||gn(ea,`RPC '${e}' stream ${c} transport opened.`)}),Jn(at,H.EventType.CLOSE,()=>{yn||(yn=!0,gn(ea,`RPC '${e}' stream ${c} transport closed`),kn.wo())}),Jn(at,H.EventType.ERROR,ti=>{yn||(yn=!0,pr(ea,`RPC '${e}' stream ${c} transport errored:`,ti),kn.wo(new En(qt.UNAVAILABLE,"The operation could not be completed")))}),Jn(at,H.EventType.MESSAGE,ti=>{var Qi;if(!yn){const Mr=ti.data[0];Zn(!!Mr);const na=Mr.error||(null===(Qi=Mr[0])||void 0===Qi?void 0:Qi.error);if(na){gn(ea,`RPC '${e}' stream ${c} received error:`,na);const co=na.status;let Cs=function(Hf){const f_=ao[Hf];if(void 0!==f_)return Kf(f_)}(co),Yl=na.message;void 0===Cs&&(Cs=qt.INTERNAL,Yl="Unknown error status: "+co+" with message "+na.message),yn=!0,kn.wo(new En(Cs,Yl)),at.close()}else gn(ea,`RPC '${e}' stream ${c} received:`,Mr),kn._o(Mr)}}),Jn(k,il.STAT_EVENT,ti=>{ti.stat===V.PROXY?gn(ea,`RPC '${e}' stream ${c} detected buffering proxy`):ti.stat===V.NOPROXY&&gn(ea,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{kn.fo()},0),kn}}function xm(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}function yf(i){return new Jh(i,!0)}class yp{constructor(e,t,s=1e3,c=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=c,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-s);c>0&&gn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class No{constructor(e,t,s,c,m,v,k,G){this.ii=e,this.$o=s,this.Oo=c,this.connection=m,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=k,this.listener=G,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new yp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,f.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,f.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,f.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===qt.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===qt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Fo===t&&this.Zo(s,c)},s=>{e(()=>{const c=new En(qt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(c)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{s(()=>this.tu(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,f.Z)(function*(){e.state=0,e.start()}))}tu(e){return gn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(gn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xg extends No{constructor(e,t,s,c,m,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,v),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Ur(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:Nn(),c=e.targetChange.targetIds||[],m=function(G,ne){return G.useProto3Json?(Zn(void 0===ne||"string"==typeof ne),ls.fromBase64String(ne||"")):(Zn(void 0===ne||ne instanceof Uint8Array),ls.fromUint8Array(ne||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,k=v&&function(G){const ne=void 0===G.code?qt.UNKNOWN:Kf(G.code);return new En(ne,G.message||"")}(v);t=new Xh(s,c,m,k||null)}else if("documentChange"in e){const s=e.documentChange,c=jl(i,s.document.name),m=qi(s.document.updateTime),v=s.document.createTime?qi(s.document.createTime):ri.min(),k=new $r({mapValue:{fields:s.document.fields}}),G=Vr.newFoundDocument(c,m,v,k);t=new Qp(s.targetIds||[],s.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const s=e.documentDelete,c=jl(i,s.document),m=s.readTime?qi(s.readTime):ri.min(),v=Vr.newNoDocument(c,m);t=new Qp([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const s=e.documentRemove,c=jl(i,s.document);t=new Qp([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Nn();{const s=e.filter,{count:c=0,unchangedNames:m}=s,v=new y_(c,m);t=new Yf(s.targetId,v)}}var G;return t}(this.serializer,e),s=function(c){if(!("targetChange"in c))return ri.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?ri.min():m.readTime?qi(m.readTime):ri.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=vh(this.serializer),t.addTarget=function(c,m){let v;const k=m.target;if(v=Ir(k)?{documents:qf(c,k)}:{query:tf(c,k)},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){v.resumeToken=fu(c,m.resumeToken);const G=Fc(c,m.expectedCount);null!==G&&(v.expectedCount=G)}else if(m.snapshotVersion.compareTo(ri.min())>0){v.readTime=pl(c,m.snapshotVersion.toTimestamp());const G=Fc(c,m.expectedCount);null!==G&&(v.expectedCount=G)}return v}(this.serializer,e);const s=function rm(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=vh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Tg extends No{constructor(e,t,s,c,m,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,v),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Zn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Zf(i,e){return i&&i.length>0?(Zn(void 0!==e),i.map(t=>function(s,c){let m=qi(s.updateTime?s.updateTime:c);return m.isEqual(ri.min())&&(m=qi(c)),new uc(m,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.cu(s,t)}return Zn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Jo(this.serializer,s))};this.Wo(t)}}class ly extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new En(qt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Io(e,t,s,c,m)).catch(c=>{throw"FirebaseError"===c.name?(c.code===qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new En(qt.UNKNOWN,c.toString())})}vo(e,t,s,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.vo(e,t,s,m,v,c)).catch(m=>{throw"FirebaseError"===m.name?(m.code===qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new En(qt.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class A_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(mi(t),this.mu=!1):gn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Tm{constructor(e,t,s,c,m){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(k=>{s.enqueueAndForget((0,f.Z)(function*(){var G;Bs(v)&&(gn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,f.Z)(function*(ne){const Ce=Rn(ne);Ce.vu.add(4),yield Ph(Ce),Ce.bu.set("Unknown"),Ce.vu.delete(4),yield bf(Ce)}),function(ne){return G.apply(this,arguments)})(v))}))}),this.bu=new A_(s,c)}}function bf(i){return vp.apply(this,arguments)}function vp(){return vp=(0,f.Z)(function*(i){if(Bs(i))for(const e of i.Ru)yield e(!0)}),vp.apply(this,arguments)}function Ph(i){return bp.apply(this,arguments)}function bp(){return bp=(0,f.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),bp.apply(this,arguments)}function Rh(i,e){const t=Rn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Am(t)?wp(t):$l(t).Ko()&&Sm(t,e))}function Ef(i,e){const t=Rn(i),s=$l(t);t.Au.delete(e),s.Ko()&&Ep(t,e),0===t.Au.size&&(s.Ko()?s.jo():Bs(t)&&t.bu.set("Unknown"))}function Sm(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ri.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(i).su(e)}function Ep(i,e){i.Vu.qt(e),$l(i).iu(e)}function wp(i){i.Vu=new sy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),$l(i).start(),i.bu.gu()}function Am(i){return Bs(i)&&!$l(i).Uo()&&i.Au.size>0}function Bs(i){return 0===Rn(i).vu.size}function yc(i){i.Vu=void 0}function M_(i){return wf.apply(this,arguments)}function wf(){return wf=(0,f.Z)(function*(i){i.Au.forEach((e,t)=>{Sm(i,e)})}),wf.apply(this,arguments)}function Cf(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,f.Z)(function*(i,e){yc(i),Am(i)?(i.bu.Iu(e),wp(i)):i.bu.set("Unknown")}),Mm.apply(this,arguments)}function kh(i,e,t){return Om.apply(this,arguments)}function Om(){return Om=(0,f.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Xh&&2===e.state&&e.cause)try{yield(s=(0,f.Z)(function*(c,m){const v=m.cause;for(const k of m.targetIds)c.Au.has(k)&&(yield c.remoteSyncer.rejectListen(k,v),c.Au.delete(k),c.Vu.removeTarget(k))}),function(c,m){return s.apply(this,arguments)})(i,e)}catch(s){gn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ud(i,s)}else if(e instanceof Qp?i.Vu.Ht(e):e instanceof Yf?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(ri.min()))try{const s=yield dp(i.localStore);t.compareTo(s)>=0&&(yield function(c,m){const v=c.Vu.ce(m);return v.targetChanges.forEach((k,G)=>{if(k.resumeToken.approximateByteSize()>0){const ne=c.Au.get(G);ne&&c.Au.set(G,ne.withResumeToken(k.resumeToken,m))}}),v.targetMismatches.forEach((k,G)=>{const ne=c.Au.get(k);if(!ne)return;c.Au.set(k,ne.withResumeToken(ls.EMPTY_BYTE_STRING,ne.snapshotVersion)),Ep(c,k);const Ce=new mu(ne.target,k,G,ne.sequenceNumber);Sm(c,Ce)}),c.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(s){gn("RemoteStore","Failed to raise snapshot:",s),yield Ud(i,s)}var s}),Om.apply(this,arguments)}function Ud(i,e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,f.Z)(function*(i,e,t){if(!Ga(e))throw e;i.vu.add(1),yield Ph(i),i.bu.set("Offline"),t||(t=()=>dp(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){gn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield bf(i)}))}),Cp.apply(this,arguments)}function Pm(i,e){return e().catch(t=>Ud(i,t,e))}function Hl(i){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,f.Z)(function*(i){const e=Rn(i),t=Xu(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Nh(e);)try{const c=yield hp(e.localStore,s);if(null===c){0===e.Eu.length&&t.jo();break}s=c.batchId,cy(e,c)}catch(c){yield Ud(e,c)}Ip(e)&&Rm(e)}),Qu.apply(this,arguments)}function Nh(i){return Bs(i)&&i.Eu.length<10}function cy(i,e){i.Eu.push(e);const t=Xu(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Ip(i){return Bs(i)&&!Xu(i).Uo()&&i.Eu.length>0}function Rm(i){Xu(i).start()}function Sg(i){return If.apply(this,arguments)}function If(){return If=(0,f.Z)(function*(i){Xu(i).hu()}),If.apply(this,arguments)}function Ag(i){return Df.apply(this,arguments)}function Df(){return Df=(0,f.Z)(function*(i){const e=Xu(i);for(const t of i.Eu)e.uu(t.mutations)}),Df.apply(this,arguments)}function Dp(i,e,t){return vl.apply(this,arguments)}function vl(){return vl=(0,f.Z)(function*(i,e,t){const s=i.Eu.shift(),c=Yp.from(s,e,t);yield Pm(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Hl(i)}),vl.apply(this,arguments)}function xp(i,e){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,f.Z)(function*(i,e){var t;e&&Xu(i).ou&&(yield(t=(0,f.Z)(function*(s,c){if(lg(m=c.code)&&m!==qt.ABORTED){const v=s.Eu.shift();Xu(s).Qo(),yield Pm(s,()=>s.remoteSyncer.rejectFailedWrite(v.batchId,c)),yield Hl(s)}var m}),function(s,c){return t.apply(this,arguments)})(i,e)),Ip(i)&&Rm(i)}),Fo.apply(this,arguments)}function Cu(i,e){return $c.apply(this,arguments)}function $c(){return $c=(0,f.Z)(function*(i,e){const t=Rn(i);t.asyncQueue.verifyOperationInProgress(),gn("RemoteStore","RemoteStore received new credentials");const s=Bs(t);t.vu.add(3),yield Ph(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield bf(t)}),$c.apply(this,arguments)}function zd(i,e){return qa.apply(this,arguments)}function qa(){return qa=(0,f.Z)(function*(i,e){const t=Rn(i);e?(t.vu.delete(2),yield bf(t)):e||(t.vu.add(2),yield Ph(t),t.bu.set("Unknown"))}),qa.apply(this,arguments)}function $l(i){return i.Su||(i.Su=function(e,t,s){const c=Rn(e);return c.fu(),new xg(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(i.datastore,i.asyncQueue,{uo:M_.bind(null,i),ao:Cf.bind(null,i),nu:kh.bind(null,i)}),i.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(i.Su.Qo(),Am(i)?wp(i):i.bu.set("Unknown")):(yield i.Su.stop(),yc(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Xu(i){return i.Du||(i.Du=function(e,t,s){const c=Rn(e);return c.fu(),new Tg(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(i.datastore,i.asyncQueue,{uo:Sg.bind(null,i),ao:xp.bind(null,i),au:Ag.bind(null,i),cu:Dp.bind(null,i)}),i.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(i.Du.Qo(),yield Hl(i)):(yield i.Du.stop(),i.Eu.length>0&&(gn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Fh{constructor(e,t,s,c,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=m,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,s,c,m){const v=Date.now()+s,k=new Fh(e,t,v,c,m);return k.start(s),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new En(qt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vc(i,e){if(mi("AsyncQueue",`${e}: ${i}`),Ga(i))return new En(qt.UNAVAILABLE,`${e}: ${i}`);throw i}class Tp{constructor(e){this.comparator=e?(t,s)=>e(t,s)||zn.comparator(t.key,s.key):(t,s)=>zn.comparator(t.key,s.key),this.keyedMap=lc(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new Tp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=s.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Tp;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class O_{constructor(){this.Cu=new or(zn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Nn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class xf{constructor(e,t,s,c,m,v,k,G,ne){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=m,this.fromCache=v,this.syncStateChanged=k,this.excludesMetadataChanges=G,this.hasCachedResults=ne}static fromInitialDocuments(e,t,s,c,m){const v=[];return t.forEach(k=>{v.push({type:0,doc:k})}),new xf(e,t,Tp.emptySet(t),v,s,c,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&St(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class Mg{constructor(){this.Nu=void 0,this.listeners=[]}}class uy{constructor(){this.queries=new Io(e=>cn(e),St),this.onlineState="Unknown",this.ku=new Set}}function Og(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,f.Z)(function*(i,e){const t=Rn(i),s=e.query;let c=!1,m=t.queries.get(s);if(m||(c=!0,m=new Mg),c)try{m.Nu=yield t.onListen(s)}catch(v){const k=vc(v,`Initialization of query '${Pn(e.query)}' failed`);return void e.onError(k)}t.queries.set(s,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&Sf(t)}),Pg.apply(this,arguments)}function Rg(i,e){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,f.Z)(function*(i,e){const t=Rn(i),s=e.query;let c=!1;const m=t.queries.get(s);if(m){const v=m.listeners.indexOf(e);v>=0&&(m.listeners.splice(v,1),c=0===m.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),Ju.apply(this,arguments)}function Lh(i,e){const t=Rn(i);let s=!1;for(const c of e){const v=t.queries.get(c.query);if(v){for(const k of v.listeners)k.$u(c)&&(s=!0);v.Nu=c}}s&&Sf(t)}function Tf(i,e,t){const s=Rn(i),c=s.queries.get(e);if(c)for(const m of c.listeners)m.onError(t);s.queries.delete(e)}function Sf(i){i.ku.forEach(e=>{e.next()})}class kg{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new xf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=xf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dy{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class P_{constructor(e){this.serializer=e}rr(e){return jl(this.serializer,e)}ur(e){return e.metadata.exists?im(this.serializer,e.document,!1):Vr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return qi(e)}}class hy{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=R_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=bi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new P_(this.serializer);for(const c of e)if(c.metadata.queries){const m=s.rr(c.metadata.name);for(const v of c.metadata.queries){const k=(t.get(v)||pi()).add(m);t.set(v,k)}}return t}complete(){var e=this;return(0,f.Z)(function*(){const t=yield function Ku(i,e,t,s){return Bd.apply(this,arguments)}(e.localStore,new P_(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const c of e.queries)yield Cg(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function R_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class k_{constructor(e){this.key=e}}class Sp{constructor(e){this.key=e}}class Ng{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pi(),this.mutatedKeys=pi(),this.tc=Ui(e),this.ec=new Tp(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new O_,c=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,v=c,k=!1;const G="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,ne="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((Ce,at)=>{const Zt=c.get(Ce),yn=Gn(this.query,at)?at:null,kn=!!Zt&&this.mutatedKeys.has(Zt.key),Jn=!!yn&&(yn.hasLocalMutations||this.mutatedKeys.has(yn.key)&&yn.hasCommittedMutations);let ti=!1;Zt&&yn?Zt.data.isEqual(yn.data)?kn!==Jn&&(s.track({type:3,doc:yn}),ti=!0):this.rc(Zt,yn)||(s.track({type:2,doc:yn}),ti=!0,(G&&this.tc(yn,G)>0||ne&&this.tc(yn,ne)<0)&&(k=!0)):!Zt&&yn?(s.track({type:0,doc:yn}),ti=!0):Zt&&!yn&&(s.track({type:1,doc:Zt}),ti=!0,(G||ne)&&(k=!0)),ti&&(yn?(v=v.add(yn),m=Jn?m.add(Ce):m.delete(Ce)):(v=v.delete(Ce),m=m.delete(Ce)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const Ce="F"===this.query.limitType?v.last():v.first();v=v.delete(Ce.key),m=m.delete(Ce.key),s.track({type:1,doc:Ce})}return{ec:v,ic:s,zi:k,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((ne,Ce)=>function(at,Zt){const yn=kn=>{switch(kn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nn()}};return yn(at)-yn(Zt)}(ne.type,Ce.type)||this.tc(ne.doc,Ce.doc)),this.oc(s);const v=t?this.uc():[],k=0===this.Zu.size&&this.current?1:0,G=k!==this.Xu;return this.Xu=k,0!==m.length||G?{snapshot:new xf(this.query,e.ec,c,m,e.mutatedKeys,0===k,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:v}:{cc:v}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new O_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pi(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Sp(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new k_(s))}),t}hc(e){this.Yu=e.ir,this.Zu=pi();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return xf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Fg{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class fy{constructor(e){this.key=e,this.fc=!1}}class N_{constructor(e,t,s,c,m,v){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=v,this.dc={},this.wc=new Io(k=>cn(k),St),this._c=new Map,this.mc=new Set,this.gc=new or(zn.comparator),this.yc=new Map,this.Ic=new bm,this.Tc={},this.Ec=new Map,this.Ac=Na.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function F_(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,f.Z)(function*(i,e){const t=Vh(i);let s,c;const m=t.wc.get(e);if(m)s=m.targetId,t.sharedClientState.addLocalQueryTarget(s),c=m.view.lc();else{const v=yield Gu(t.localStore,M(e)),k=t.sharedClientState.addLocalQueryTarget(v.targetId);s=v.targetId,c=yield Af(t,e,s,"current"===k,v.resumeToken),t.isPrimaryClient&&Rh(t.remoteStore,v)}return c}),Lg.apply(this,arguments)}function Af(i,e,t,s,c){return km.apply(this,arguments)}function km(){return km=(0,f.Z)(function*(i,e,t,s,c){i.Rc=(at,Zt,yn)=>{return(kn=(0,f.Z)(function*(Jn,ti,Qi,Mr){let ar=ti.view.sc(Qi);ar.zi&&(ar=yield gf(Jn.localStore,ti.query,!1).then(({documents:Cs})=>ti.view.sc(Cs,ar)));const na=Mr&&Mr.targetChanges.get(ti.targetId),co=ti.view.applyChanges(ar,Jn.isPrimaryClient,na);return Mp(Jn,ti.targetId,co.cc),co.snapshot}),function(Jn,ti,Qi,Mr){return kn.apply(this,arguments)})(i,at,Zt,yn);var kn};const m=yield gf(i.localStore,e,!0),v=new Ng(e,m.ir),k=v.sc(m.documents),G=mh.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,c),ne=v.applyChanges(k,i.isPrimaryClient,G);Mp(i,t,ne.cc);const Ce=new Fg(e,t,v);return i.wc.set(e,Ce),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),ne.snapshot}),km.apply(this,arguments)}function py(i,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,f.Z)(function*(i,e){const t=Rn(i),s=t.wc.get(e),c=t._c.get(s.targetId);if(c.length>1)return t._c.set(s.targetId,c.filter(m=>!St(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ld(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ef(t.remoteStore,s.targetId),bc(t,s.targetId)}).catch(Ma))):(bc(t,s.targetId),yield Ld(t.localStore,s.targetId,!0))}),Mf.apply(this,arguments)}function Wl(){return Wl=(0,f.Z)(function*(i,e,t){const s=Nf(i);try{const c=yield function(m,v){const k=Rn(m),G=Rr.now(),ne=v.reduce((Zt,yn)=>Zt.add(yn.key),pi());let Ce,at;return k.persistence.runTransaction("Locally write mutations","readwrite",Zt=>{let yn=Ls(),kn=pi();return k.Zi.getEntries(Zt,ne).next(Jn=>{yn=Jn,yn.forEach((ti,Qi)=>{Qi.isValidDocument()||(kn=kn.add(ti))})}).next(()=>k.localDocuments.getOverlayedDocuments(Zt,yn)).next(Jn=>{Ce=Jn;const ti=[];for(const Qi of v){const Mr=Gf(Qi,Ce.get(Qi.key).overlayedDocument);null!=Mr&&ti.push(new Rc(Qi.key,Mr,hd(Mr.value.mapValue),Qr.exists(!0)))}return k.mutationQueue.addMutationBatch(Zt,G,ti,v)}).next(Jn=>{at=Jn;const ti=Jn.applyToLocalDocumentSet(Ce,kn);return k.documentOverlayCache.saveOverlays(Zt,Jn.batchId,ti)})}).then(()=>({batchId:at.batchId,changes:uu(Ce)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(m,v,k){let G=m.Tc[m.currentUser.toKey()];G||(G=new or(vi)),G=G.insert(v,k),m.Tc[m.currentUser.toKey()]=G}(s,c.batchId,t),yield Gc(s,c.changes),yield Hl(s.remoteStore)}catch(c){const m=vc(c,"Failed to persist write");t.reject(m)}}),Wl.apply(this,arguments)}function Of(i,e){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,f.Z)(function*(i,e){const t=Rn(i);try{const s=yield function Eg(i,e){const t=Rn(i),s=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const v=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const k=[];e.targetChanges.forEach((Ce,at)=>{const Zt=c.get(at);if(!Zt)return;k.push(t.Bs.removeMatchingKeys(m,Ce.removedDocuments,at).next(()=>t.Bs.addMatchingKeys(m,Ce.addedDocuments,at)));let yn=Zt.withSequenceNumber(m.currentSequenceNumber);var kn,Jn,ti;null!==e.targetMismatches.get(at)?yn=yn.withResumeToken(ls.EMPTY_BYTE_STRING,ri.min()).withLastLimboFreeSnapshotVersion(ri.min()):Ce.resumeToken.approximateByteSize()>0&&(yn=yn.withResumeToken(Ce.resumeToken,s)),c=c.insert(at,yn),Jn=yn,ti=Ce,(0===(kn=Zt).resumeToken.approximateByteSize()||Jn.snapshotVersion.toMicroseconds()-kn.snapshotVersion.toMicroseconds()>=3e8||ti.addedDocuments.size+ti.modifiedDocuments.size+ti.removedDocuments.size>0)&&k.push(t.Bs.updateTargetData(m,yn))});let G=Ls(),ne=pi();if(e.documentUpdates.forEach(Ce=>{e.resolvedLimboDocuments.has(Ce)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(m,Ce))}),k.push(Dm(m,v,e.documentUpdates).next(Ce=>{G=Ce.nr,ne=Ce.sr})),!s.isEqual(ri.min())){const Ce=t.Bs.getLastRemoteSnapshotVersion(m).next(at=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,s));k.push(Ce)}return Qt.waitFor(k).next(()=>v.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,G,ne)).next(()=>G)}).then(m=>(t.Ji=c,m))}(t.localStore,e);e.targetChanges.forEach((c,m)=>{const v=t.yc.get(m);v&&(Zn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?v.fc=!0:c.modifiedDocuments.size>0?Zn(v.fc):c.removedDocuments.size>0&&(Zn(v.fc),v.fc=!1))}),yield Gc(t,s,e)}catch(s){yield Ma(s)}}),Lo.apply(this,arguments)}function jd(i,e,t){const s=Rn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.wc.forEach((m,v)=>{const k=v.view.Mu(e);k.snapshot&&c.push(k.snapshot)}),function(m,v){const k=Rn(m);k.onlineState=v;let G=!1;k.queries.forEach((ne,Ce)=>{for(const at of Ce.listeners)at.Mu(v)&&(G=!0)}),G&&Sf(k)}(s.eventManager,e),c.length&&s.dc.nu(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Ap(i,e,t){return bl.apply(this,arguments)}function bl(){return bl=(0,f.Z)(function*(i,e,t){const s=Rn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.yc.get(e),m=c&&c.key;if(m){let v=new or(zn.comparator);v=v.insert(m,Vr.newNoDocument(m,ri.min()));const k=pi().add(m),G=new ph(ri.min(),new Map,new or(vi),v,k);yield Of(s,G),s.gc=s.gc.remove(m),s.yc.delete(e),Op(s)}else yield Ld(s.localStore,e,!1).then(()=>bc(s,e,t)).catch(Ma)}),bl.apply(this,arguments)}function Nm(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(i,e){const t=Rn(i),s=e.batch.batchId;try{const c=yield function Fd(i,e){const t=Rn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(v,k,G,ne){const Ce=G.batch,at=Ce.keys();let Zt=Qt.resolve();return at.forEach(yn=>{Zt=Zt.next(()=>ne.getEntry(k,yn)).next(kn=>{const Jn=G.docVersions.get(yn);Zn(null!==Jn),kn.version.compareTo(Jn)<0&&(Ce.applyToRemoteDocument(kn,G),kn.isValidDocument()&&(kn.setReadTime(G.commitVersion),ne.addEntry(kn)))})}),Zt.next(()=>v.mutationQueue.removeMutationBatch(k,Ce))}(t,s,e,m).next(()=>m.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(v){let k=pi();for(let G=0;G<v.mutationResults.length;++G)v.mutationResults[G].transformResults.length>0&&(k=k.add(v.batch.mutations[G].key));return k}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}(t.localStore,e);Iu(t,s,null),Wc(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Gc(t,c)}catch(c){yield Ma(c)}}),Hd.apply(this,arguments)}function Bh(i,e,t){return $d.apply(this,arguments)}function $d(){return $d=(0,f.Z)(function*(i,e,t){const s=Rn(i);try{const c=yield function(m,v){const k=Rn(m);return k.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ne;return k.mutationQueue.lookupMutationBatch(G,v).next(Ce=>(Zn(null!==Ce),ne=Ce.keys(),k.mutationQueue.removeMutationBatch(G,Ce))).next(()=>k.mutationQueue.performConsistencyCheck(G)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(G,ne,v)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,ne)).next(()=>k.localDocuments.getDocuments(G,ne))})}(s.localStore,e);Iu(s,e,t),Wc(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Gc(s,c)}catch(c){yield Ma(c)}}),$d.apply(this,arguments)}function ed(){return ed=(0,f.Z)(function*(i,e){const t=Rn(i);Bs(t.remoteStore)||gn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const v=Rn(m);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>v.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===s)return void e.resolve();const c=t.Ec.get(s)||[];c.push(e),t.Ec.set(s,c)}catch(s){const c=vc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),ed.apply(this,arguments)}function Wc(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Iu(i,e,t){const s=Rn(i);let c=s.Tc[s.currentUser.toKey()];if(c){const m=c.get(e);m&&(t?m.reject(t):m.resolve(),c=c.remove(e)),s.Tc[s.currentUser.toKey()]=c}}function bc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||Wd(i,s)})}function Wd(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Ef(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Op(i))}function Mp(i,e,t){for(const s of t)s instanceof k_?(i.Ic.addReference(s.key,e),Bg(i,s)):s instanceof Sp?(gn("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||Wd(i,s.key)):Nn()}function Bg(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(gn("SyncEngine","New document in limbo: "+t),i.mc.add(s),Op(i))}function Op(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new zn(bi.fromString(e)),s=i.Ac.next();i.yc.set(s,new fy(t)),i.gc=i.gc.insert(t,s),Rh(i.remoteStore,new mu(M(Fi(t.path)),s,"TargetPurposeLimboResolution",Gs.ct))}}function Gc(i,e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,f.Z)(function*(i,e,t){const s=Rn(i),c=[],m=[],v=[];var k;s.wc.isEmpty()||(s.wc.forEach((k,G)=>{v.push(s.Rc(G,e,t).then(ne=>{if((ne||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(G.targetId,ne?.fromCache?"not-current":"current"),ne){c.push(ne);const Ce=cp.Li(G.targetId,ne);m.push(Ce)}}))}),yield Promise.all(v),s.dc.nu(c),yield(k=(0,f.Z)(function*(G,ne){const Ce=Rn(G);try{yield Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",at=>Qt.forEach(ne,Zt=>Qt.forEach(Zt.Fi,yn=>Ce.persistence.referenceDelegate.addReference(at,Zt.targetId,yn)).next(()=>Qt.forEach(Zt.Bi,yn=>Ce.persistence.referenceDelegate.removeReference(at,Zt.targetId,yn)))))}catch(at){if(!Ga(at))throw at;gn("LocalStore","Failed to update sequence numbers: "+at)}for(const at of ne){const Zt=at.targetId;if(!at.fromCache){const yn=Ce.Ji.get(Zt),Jn=yn.withLastLimboFreeSnapshotVersion(yn.snapshotVersion);Ce.Ji=Ce.Ji.insert(Zt,Jn)}}}),function(G,ne){return k.apply(this,arguments)})(s.localStore,m))}),Rf.apply(this,arguments)}function L_(i,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,f.Z)(function*(i,e){const t=Rn(i);if(!t.currentUser.isEqual(e)){gn("SyncEngine","User change. New user:",e.toKey());const s=yield up(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(v=>{v.forEach(k=>{k.reject(new En(qt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Gc(t,s.er)}var c}),Fm.apply(this,arguments)}function Vg(i,e){const t=Rn(i),s=t.yc.get(e);if(s&&s.fc)return pi().add(s.key);{let c=pi();const m=t._c.get(e);if(!m)return c;for(const v of m){const k=t.wc.get(v);c=c.unionWith(k.view.nc)}return c}}function Ug(i,e){return zg.apply(this,arguments)}function zg(){return zg=(0,f.Z)(function*(i,e){const t=Rn(i),s=yield gf(t.localStore,e.query,!0),c=e.view.hc(s);return t.isPrimaryClient&&Mp(t,e.targetId,c.cc),c}),zg.apply(this,arguments)}function gy(i,e){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,f.Z)(function*(i,e){const t=Rn(i);return wg(t.localStore,e).then(s=>Gc(t,s))}),Lm.apply(this,arguments)}function B_(i,e,t,s){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,f.Z)(function*(i,e,t,s){const c=Rn(i),m=yield function(v,k){const G=Rn(v),ne=Rn(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",Ce=>ne.Sn(Ce,k).next(at=>at?G.localDocuments.getDocuments(Ce,at):Qt.resolve(null)))}(c.localStore,e);var k;null!==m?("pending"===t?yield Hl(c.remoteStore):"acknowledged"===t||"rejected"===t?(Iu(c,e,s||null),Wc(c,e),k=e,Rn(Rn(c.localStore).mutationQueue).Cn(k)):Nn(),yield Gc(c,m)):gn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Pp.apply(this,arguments)}function Rp(){return Rp=(0,f.Z)(function*(i,e){const t=Rn(i);if(Vh(t),Nf(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield Hg(t,s.toArray());t.vc=!0,yield zd(t.remoteStore,!0);for(const m of c)Rh(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const s=[];let c=Promise.resolve();t._c.forEach((m,v)=>{t.sharedClientState.isLocalQueryTarget(v)?s.push(v):c=c.then(()=>(bc(t,v),Ld(t.localStore,v,!0))),Ef(t.remoteStore,v)}),yield c,yield Hg(t,s),function(m){const v=Rn(m);v.yc.forEach((k,G)=>{Ef(v.remoteStore,G)}),v.Ic.Ts(),v.yc=new Map,v.gc=new or(zn.comparator)}(t),t.vc=!1,yield zd(t.remoteStore,!1)}}),Rp.apply(this,arguments)}function Hg(i,e,t){return kf.apply(this,arguments)}function kf(){return kf=(0,f.Z)(function*(i,e,t){const s=Rn(i),c=[],m=[];for(const v of e){let k;const G=s._c.get(v);if(G&&0!==G.length){k=yield Gu(s.localStore,M(G[0]));for(const ne of G){const Ce=s.wc.get(ne),at=yield Ug(s,Ce);at.snapshot&&m.push(at.snapshot)}}else{const ne=yield fp(s.localStore,v);k=yield Gu(s.localStore,ne),yield Af(s,kp(ne),v,!1,k.resumeToken)}c.push(k)}return s.dc.nu(m),c}),kf.apply(this,arguments)}function kp(i){return Wr(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function $g(i){const e=Rn(i);return Rn(Rn(e.localStore).persistence).$i()}function Bm(i,e,t,s){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,f.Z)(function*(i,e,t,s){const c=Rn(i);if(c.vc)return void gn("SyncEngine","Ignoring unexpected query state notification.");const m=c._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const v=yield wg(c.localStore,li(m[0])),k=ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ls.EMPTY_BYTE_STRING);yield Gc(c,v,k);break}case"rejected":yield Ld(c.localStore,e,!0),bc(c,e,s);break;default:Nn()}}),Gd.apply(this,arguments)}function Np(i,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,f.Z)(function*(i,e,t){const s=Vh(i);if(s.vc){for(const c of e){if(s._c.has(c)){gn("SyncEngine","Adding an already active target "+c);continue}const m=yield fp(s.localStore,c),v=yield Gu(s.localStore,m);yield Af(s,kp(m),v.targetId,!1,v.resumeToken),Rh(s.remoteStore,v)}for(const c of t)s._c.has(c)&&(yield Ld(s.localStore,c,!1).then(()=>{Ef(s.remoteStore,c),bc(s,c)}).catch(Ma))}}),Fp.apply(this,arguments)}function Vh(i){const e=Rn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Of.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ap.bind(null,e),e.dc.nu=Lh.bind(null,e.eventManager),e.dc.Pc=Tf.bind(null,e.eventManager),e}function Nf(i){const e=Rn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bh.bind(null,e),e}class Uh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.serializer=yf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return mf(this.persistence,new Sh,e.initialUser,this.serializer)}createPersistence(e){return new kd(Nd.zs,this.serializer)}createSharedClientState(e){return new _l}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zh extends Uh{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Nf(s.Vc.syncEngine),yield Hl(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return mf(this.persistence,new Sh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new gg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new eh(t,this.persistence);return new ol(e.asyncQueue,s)}createPersistence(e){const t=Cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ea.withCacheSize(this.cacheSizeBytes):Ea.DEFAULT;return new lp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,xm(),_f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _l}}class Gg extends zh{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield t().call(s,e);const c=s.Vc.syncEngine;s.sharedClientState instanceof mp&&(s.sharedClientState.syncEngine={jr:B_.bind(null,c),zr:Bm.bind(null,c),Wr:Np.bind(null,c),$i:$g.bind(null,c),Qr:gy.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var m=(0,f.Z)(function*(v){yield function jg(i,e){return Rp.apply(this,arguments)}(s.Vc.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=xm();if(!mp.D(t))throw new En(qt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class jh{initialize(e,t){var s=this;return(0,f.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>jd(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=L_.bind(null,s.syncEngine),yield zd(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uy}createDatastore(e){const t=yf(e.databaseInfo.databaseId),s=new Dg(e.databaseInfo);return new ly(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,m=k=>jd(this.syncEngine,k,0),v=_p.D()?new _p:new gp,new Tm(t,s,c,m,v);var t,s,c,m,v}createSyncEngine(e,t){return function(s,c,m,v,k,G,ne){const Ce=new N_(s,c,m,v,k,G);return ne&&(Ce.vc=!0),Ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const s=Rn(t);gn("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Ph(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Kg(i,e=10240){let t=0;return{read:()=>(0,f.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class V_{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new as,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,f.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),c=Number(s);isNaN(c)&&e.Mc(`length string (${s}) is not valid number`);const m=yield e.$c(c);return new dy(JSON.parse(m),t.length+c)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,f.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,f.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,f.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class _y{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,f.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new En(qt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,f.Z)(function*(m,v){const k=Rn(m),G=vh(k.serializer)+"/documents",ne={documents:v.map(yn=>Id(k.serializer,yn))},Ce=yield k.vo("BatchGetDocuments",G,ne,v.length),at=new Map;Ce.forEach(yn=>{const kn=function oy(i,e){return"found"in e?function(t,s){Zn(!!s.found);const c=jl(t,s.found.name),m=qi(s.found.updateTime),v=s.found.createTime?qi(s.found.createTime):ri.min(),k=new $r({mapValue:{fields:s.found.fields}});return Vr.newFoundDocument(c,m,v,k)}(i,e):"missing"in e?function(t,s){Zn(!!s.missing),Zn(!!s.readTime);const c=jl(t,s.missing),m=qi(s.readTime);return Vr.newNoDocument(c,m)}(i,e):Nn()}(k.serializer,yn);at.set(kn.key.toString(),kn)});const Zt=[];return v.forEach(yn=>{const kn=at.get(yn.toString());Zn(!!kn),Zt.push(kn)}),Zt}),function(m,v){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Za(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const m=zn.fromPath(c);e.mutations.push(new kc(m,e.precondition(m)))}),yield(s=(0,f.Z)(function*(c,m){const v=Rn(c),k=vh(v.serializer)+"/documents",G={writes:m.map(ne=>Jo(v.serializer,ne))};yield v.Io("Commit",k,G)}),function(c,m){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nn();t=ri.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new En(qt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ri.min())?Qr.exists(!1):Qr.updateTime(t):Qr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ri.min()))throw new En(qt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qr.updateTime(t)}return Qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class U_{constructor(e,t,s,c,m){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=m,this.Bc=s.maxAttempts,this.qo=new yp(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,f.Z)(function*(){const t=new _y(e.datastore),s=e.qc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(m=>{e.Uc(m)}))}).catch(c=>{e.Uc(c)})}))}qc(e){try{const t=this.updateFunction(e);return!mr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!lg(t)}return!1}}class z_{constructor(e,t,s,c){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=Bn.UNAUTHENTICATED,this.clientId=tr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,f.Z)(function*(k){gn("FirestoreClient","Received user=",k.uid),yield m.authCredentialListener(k),m.user=k});return function(k){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(gn("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new En(qt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=vc(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function Ff(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),gn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,f.Z)(function*(m){s.isEqual(m)||(yield up(e.localStore,m),s=m)});return function(m){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Lf.apply(this,arguments)}function Um(i,e){return zm.apply(this,arguments)}function zm(){return zm=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield jm(i);gn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(c=>Cu(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,m)=>Cu(e.remoteStore,m)),i._onlineComponents=e}),zm.apply(this,arguments)}function Yg(i){return"FirebaseError"===i.name?i.code===qt.FAILED_PRECONDITION||i.code===qt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function jm(i){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,f.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){gn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ff(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Yg(t))throw t;pr("Error using user provided cache. Falling back to memory cache: "+t),yield Ff(i,new Uh)}}else gn("FirestoreClient","Using default OfflineComponentProvider"),yield Ff(i,new Uh);return i._offlineComponents}),Hm.apply(this,arguments)}function Bp(i){return $m.apply(this,arguments)}function $m(){return $m=(0,f.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(gn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Um(i,i._uninitializedComponentsProvider._online)):(gn("FirestoreClient","Using default OnlineComponentProvider"),yield Um(i,new jh))),i._onlineComponents}),$m.apply(this,arguments)}function Zg(i){return jm(i).then(e=>e.persistence)}function Hh(i){return jm(i).then(e=>e.localStore)}function td(i){return Bp(i).then(e=>e.remoteStore)}function qg(i){return Bp(i).then(e=>e.syncEngine)}function Kd(i){return nd.apply(this,arguments)}function nd(){return nd=(0,f.Z)(function*(i){const e=yield Bp(i),t=e.eventManager;return t.onListen=F_.bind(null,e.syncEngine),t.onUnlisten=py.bind(null,e.syncEngine),t}),nd.apply(this,arguments)}function vy(i,e,t={}){const s=new as;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(c,m,v,k,G){const ne=new Lp({next:at=>{m.enqueueAndForget(()=>Rg(c,Ce));const Zt=at.docs.has(v);!Zt&&at.fromCache?G.reject(new En(qt.UNAVAILABLE,"Failed to get document because the client is offline.")):Zt&&at.fromCache&&k&&"server"===k.source?G.reject(new En(qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(at)},error:at=>G.reject(at)}),Ce=new kg(Fi(v.path),ne,{includeMetadataChanges:!0,Ku:!0});return Og(c,Ce)}(yield Kd(i),i.asyncQueue,e,t,s)})),s.promise}function H_(i,e,t={}){const s=new as;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(c,m,v,k,G){const ne=new Lp({next:at=>{m.enqueueAndForget(()=>Rg(c,Ce)),at.fromCache&&"server"===k.source?G.reject(new En(qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(at)},error:at=>G.reject(at)}),Ce=new kg(v,ne,{includeMetadataChanges:!0,Ku:!0});return Og(c,Ce)}(yield Kd(i),i.asyncQueue,e,t,s)})),s.promise}function Jg(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const W_=new Map;function e_(i,e,t){if(!t)throw new En(qt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function t_(i,e,t,s){if(!0===e&&!0===s)throw new En(qt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function G_(i){if(!zn.isDocumentKey(i))throw new En(qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function n_(i){if(zn.isDocumentKey(i))throw new En(qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Nn()}function nr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new En(qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vp(i);throw new En(qt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function K_(i,e){if(e<=0)throw new En(qt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Y_{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new En(qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new En(qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jg(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new En(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new En(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new En(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new En(qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new En(qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Qd;switch(t.type){case"firstParty":return new bo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new En(qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=W_.get(e);t&&(gn("ComponentProvider","Removing Datastore"),W_.delete(e),t.terminate())}(this),Promise.resolve()}}function Z_(i,e,t,s={}){var c;const m=(i=nr(i,Bf))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let v,k;if("string"==typeof s.mockUserToken)v=s.mockUserToken,k=Bn.MOCK_USER;else{v=(0,ae.Sg)(s.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new En(qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Bn(G)}i._authCredentials=new ec(new Dc(v,k))}}class Vs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vs(this.firestore,e,this._key)}}class Fa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fa(this.firestore,e,this._query)}}class El extends Fa{constructor(e,t,s){super(e,t,Fi(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vs(this.firestore,null,new zn(e))}withConverter(e){return new El(this.firestore,e,this._path)}}function Wm(i,e,...t){if(i=(0,ae.m9)(i),e_("collection","path",e),i instanceof Bf){const s=bi.fromString(e,...t);return n_(s),new El(i,null,s)}{if(!(i instanceof Vs||i instanceof El))throw new En(qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(bi.fromString(e,...t));return n_(s),new El(i.firestore,null,s)}}function Gl(i,e){if(i=nr(i,Bf),e_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new En(qt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fa(i,null,(t=e,new zl(bi.emptyPath(),t)));var t}function i_(i,e,...t){if(i=(0,ae.m9)(i),1===arguments.length&&(e=tr.A()),e_("doc","path",e),i instanceof Bf){const s=bi.fromString(e,...t);return G_(s),new Vs(i,null,new zn(s))}{if(!(i instanceof Vs||i instanceof El))throw new En(qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(bi.fromString(e,...t));return G_(s),new Vs(i.firestore,i instanceof El?i.converter:null,new zn(s))}}function r_(i,e){return i=(0,ae.m9)(i),e=(0,ae.m9)(e),(i instanceof Vs||i instanceof El)&&(e instanceof Vs||e instanceof El)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Kl(i,e){return i=(0,ae.m9)(i),e=(0,ae.m9)(e),i instanceof Fa&&e instanceof Fa&&i.firestore===e.firestore&&St(i._query,e._query)&&i.converter===e.converter}class Ec{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new yp(this,"async_queue_retry"),this.Xc=()=>{const t=_f();t&&gn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=_f();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=_f();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new as;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,f.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ga(t))throw t;gn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,mi("INTERNAL UNHANDLED ERROR: ",function(m){let v=m.message||"";return m.stack&&(v=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),v}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=Fh.createAndSchedule(this,e,t,s,m=>this.na(m));return this.zc.push(c),c}Zc(){this.Wc&&Nn()}verifyOperationInProgress(){}sa(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function wl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(i)}class u{constructor(){this._progressObserver={},this._taskCompletionResolver=new as,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const o=-1;class a extends Bf{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new Ec,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||L(this),this._firestoreClient.terminate()}}function w(i){return i._firestoreClient||L(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function L(i){var e,t,s;const c=i._freezeSettings(),m=(k=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Sc(i._databaseId,k,i._persistenceKey,(ne=c).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,Jg(ne.experimentalLongPollingOptions),ne.useFetchStreams));var k,ne;i._firestoreClient=new z_(i._authCredentials,i._appCheckCredentials,i._queue,m),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=c.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}function K(i,e){vr(i=nr(i,a));const t=w(i);if(t._uninitializedComponentsProvider)throw new En(qt.FAILED_PRECONDITION,"SDK cache is already specified.");pr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),c=new jh;return Ie(t,c,new zh(c,s.cacheSizeBytes,e?.forceOwnership))}function ue(i){vr(i=nr(i,a));const e=w(i);if(e._uninitializedComponentsProvider)throw new En(qt.FAILED_PRECONDITION,"SDK cache is already specified.");pr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new jh;return Ie(e,s,new Gg(s,t.cacheSizeBytes))}function Ie(i,e,t){const s=new as;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield Ff(i,t),yield Um(i,e),s.resolve()}catch(c){const m=c;if(!Yg(m))throw m;pr("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function It(i){if(i._initialized&&!i._terminated)throw new En(qt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new as;return i._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(t=(0,f.Z)(function*(s){if(!Pi.D())return Promise.resolve();const c=s+"main";yield Pi.delete(c)}),function(s){return t.apply(this,arguments)})(Cm(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Nt(i){return function(e){const t=new as;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Pf(i,e){return ed.apply(this,arguments)}(yield qg(e),t)})),t.promise}(w(i=nr(i,a)))}function an(i){return function Qg(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Zg(i),t=yield td(i);return e.setNetworkEnabled(!0),function(s){const c=Rn(s);return c.vu.delete(0),bf(c)}(t)}))}(w(i=nr(i,a)))}function Dn(i){return function yy(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Zg(i),t=yield td(i);return e.setNetworkEnabled(!1),(s=(0,f.Z)(function*(c){const m=Rn(c);m.vu.add(0),yield Ph(m),m.bu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(w(i=nr(i,a)))}function qn(i,e){const t=w(i=nr(i,a)),s=new u;return function $_(i,e,t,s){const c=function(m,v){let k;return k="string"==typeof m?fh().encode(m):m,G=function(G,ne){if(G instanceof Uint8Array)return Kg(G,void 0);if(G instanceof ArrayBuffer)return Kg(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new V_(G,v);var G}(t,yf(e));i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Wg(i,e,t){const s=Rn(i);var c;(c=(0,f.Z)(function*(m,v,k){try{const G=yield v.getMetadata();if(yield function(Zt,yn){const kn=Rn(Zt),Jn=qi(yn.createTime);return kn.persistence.runTransaction("hasNewerBundle","readonly",ti=>kn.qs.getBundleMetadata(ti,yn.id)).then(ti=>!!ti&&ti.createTime.compareTo(Jn)>=0)}(m.localStore,G))return yield v.close(),k._completeWith({taskState:"Success",documentsLoaded:(Zt=G).totalDocuments,bytesLoaded:Zt.totalBytes,totalDocuments:Zt.totalDocuments,totalBytes:Zt.totalBytes}),Promise.resolve(new Set);k._updateProgress(R_(G));const ne=new hy(G,m.localStore,v.serializer);let Ce=yield v.bc();for(;Ce;){const Zt=yield ne.zu(Ce);Zt&&k._updateProgress(Zt),Ce=yield v.bc()}const at=yield ne.complete();return yield Gc(m,at.Ju,void 0),yield function(Zt,yn){const kn=Rn(Zt);return kn.persistence.runTransaction("Save bundle","readwrite",Jn=>kn.qs.saveBundleMetadata(Jn,yn))}(m.localStore,G),k._completeWith(at.progress),Promise.resolve(at.Hu)}catch(G){return pr("SyncEngine",`Loading bundle failed with ${G}`),k._failWith(G),Promise.resolve(new Set)}var Zt}),function(m,v,k){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield qg(i),c,s)}))}(t,i._databaseId,e,s),s}function Ri(i,e){return function Ey(i,e){return i.asyncQueue.enqueue((0,f.Z)(function*(){return function(t,s){const c=Rn(t);return c.persistence.runTransaction("Get named query","readonly",m=>c.qs.getNamedQuery(m,s))}(yield Hh(i),e)}))}(w(i=nr(i,a)),e).then(t=>t?new Fa(i,null,t.query):null)}function vr(i){if(i._initialized||i._terminated)throw new En(qt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jr(ls.fromBase64String(e))}catch(t){throw new En(qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jr(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new En(qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zs{constructor(e){this._methodName=e}}class Cl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new En(qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new En(qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vi(this._lat,e._lat)||vi(this._long,e._long)}}const Yc=/^__.*__$/;class Zc{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class Up{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $h(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nn()}}class wc{constructor(e,t,s,c,m,v){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:s,la:!1});return c.fa(e),c}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:s,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ym(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($h(this.ca)&&Yc.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class s_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||yf(e)}ya(e,t,s,c=!1){return new wc({ca:e,methodName:t,ga:s,path:xi.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function id(i){const e=i._freezeSettings(),t=yf(i._databaseId);return new s_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function oi(i,e,t,s,c,m={}){const v=i.ya(m.merge||m.mergeFields?2:0,e,t,c);Xa("Data must be an object, but it was:",v,s);const k=ta(s,v);let G,ne;if(m.merge)G=new so(v.fieldMask),ne=v.fieldTransforms;else if(m.mergeFields){const Ce=[];for(const at of m.mergeFields){const Zt=Du(e,at,t);if(!v.contains(Zt))throw new En(qt.INVALID_ARGUMENT,`Field '${Zt}' is specified in your field mask but missing from your input data.`);q_(Ce,Zt)||Ce.push(Zt)}G=new so(Ce),ne=v.fieldTransforms.filter(at=>G.covers(at.field))}else G=null,ne=v.fieldTransforms;return new Zc(new $r(k),G,ne)}class _i extends zs{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _i}}function Ai(i,e,t){return new wc({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class br extends zs{_toFieldTransform(e){return new ch(e.path,new yd)}isEqual(e){return e instanceof br}}class Vo extends zs{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Ai(this,e,!0),s=this.pa.map(m=>Yd(m,t)),c=new Nu(s);return new ch(e.path,c)}isEqual(e){return this===e}}class qc extends zs{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Ai(this,e,!0),s=this.pa.map(m=>Yd(m,t)),c=new Pc(s);return new ch(e.path,c)}isEqual(e){return this===e}}class Il extends zs{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new cc(e.serializer,_d(e.serializer,this.Ia));return new ch(e.path,t)}isEqual(e){return this===e}}function Qc(i,e,t,s){const c=i.ya(1,e,t);Xa("Data must be an object, but it was:",c,s);const m=[],v=$r.empty();Co(s,(G,ne)=>{const Ce=Km(e,G,t);ne=(0,ae.m9)(ne);const at=c.da(Ce);if(ne instanceof _i)m.push(Ce);else{const Zt=Yd(ne,at);null!=Zt&&(m.push(Ce),v.set(Ce,Zt))}});const k=new so(m);return new Up(v,k,c.fieldTransforms)}function _s(i,e,t,s,c,m){const v=i.ya(1,e,t),k=[Du(e,s,t)],G=[c];if(m.length%2!=0)throw new En(qt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Zt=0;Zt<m.length;Zt+=2)k.push(Du(e,m[Zt])),G.push(m[Zt+1]);const ne=[],Ce=$r.empty();for(let Zt=k.length-1;Zt>=0;--Zt)if(!q_(ne,k[Zt])){const yn=k[Zt];let kn=G[Zt];kn=(0,ae.m9)(kn);const Jn=v.da(yn);if(kn instanceof _i)ne.push(yn);else{const ti=Yd(kn,Jn);null!=ti&&(ne.push(yn),Ce.set(yn,ti))}}const at=new so(ne);return new Up(Ce,at,v.fieldTransforms)}function Gm(i,e,t,s=!1){return Yd(t,i.ya(s?4:3,e))}function Yd(i,e){if(rd(i=(0,ae.m9)(i)))return Xa("Unsupported field value:",e,i),ta(i,e);if(i instanceof zs)return function(t,s){if(!$h(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const c=[];let m=0;for(const v of t){let k=Yd(v,s.wa(m));null==k&&(k={nullValue:"NULL_VALUE"}),c.push(k),m++}return{arrayValue:{values:c}}}(i,e)}return function(t,s){if(null===(t=(0,ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _d(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Rr.fromDate(t);return{timestampValue:pl(s.serializer,c)}}if(t instanceof Rr){const c=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pl(s.serializer,c)}}if(t instanceof Cl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jr)return{bytesValue:fu(s.serializer,t._byteString)};if(t instanceof Vs){const c=s.databaseId,m=t.firestore._databaseId;if(!m.isEqual(c))throw s._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:nm(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Vp(t)}`)}(i,e)}function ta(i,e){const t={};return th(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(i,(s,c)=>{const m=Yd(c,e.ha(s));null!=m&&(t[s]=m)}),{mapValue:{fields:t}}}function rd(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Rr||i instanceof Cl||i instanceof Jr||i instanceof Vs||i instanceof zs)}function Xa(i,e,t){if(!rd(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Vp(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Du(i,e,t){if((e=(0,ae.m9)(e))instanceof Qa)return e._internalPath;if("string"==typeof e)return Km(i,e);throw Ym("Field path arguments must be of type string or ",i,!1,void 0,t)}const zp=new RegExp("[~\\*/\\[\\]]");function Km(i,e,t){if(e.search(zp)>=0)throw Ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Qa(...e.split("."))._internalPath}catch{throw Ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ym(i,e,t,s,c){const m=s&&!s.isEmpty(),v=void 0!==c;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let G="";return(m||v)&&(G+=" (found",m&&(G+=` in field ${s}`),v&&(G+=` in document ${c}`),G+=")"),new En(qt.INVALID_ARGUMENT,k+i+G)}function q_(i,e){return i.some(t=>t.isEqual(e))}class jp{constructor(e,t,s,c,m){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wy extends jp{data(){return super.data()}}function Zm(i,e){return"string"==typeof e?Km(i,e):e instanceof Qa?e._internalPath:e._delegate._internalPath}function Q_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new En(qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class Vf extends qm{}function Uf(i,e,...t){let s=[];e instanceof qm&&s.push(e),s=s.concat(t),function(c){const m=c.filter(k=>k instanceof xu).length,v=c.filter(k=>k instanceof Qm).length;if(m>1||m>0&&v>0)throw new En(qt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)i=c._apply(i);return i}class Qm extends Vf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Qm(e,t,s)}_apply(e){const t=this._parse(e);return X_(e._query,t),new Fa(e.firestore,e.converter,se(e._query,t))}_parse(e){const t=id(e.firestore);return function(c,m,v,k,G,ne,Ce){let at;if(G.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new En(qt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){tv(Ce,ne);const Zt=[];for(const yn of Ce)Zt.push(Ys(k,c,yn));at={arrayValue:{values:Zt}}}else at=Ys(k,c,Ce)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||tv(Ce,ne),at=Gm(v,"where",Ce,"in"===ne||"not-in"===ne);return Oe.create(G,ne,at)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Qy(i,e,t){const s=e,c=Zm("where",i);return Qm._create(c,s,t)}class xu extends qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xu(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:ut.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let m=s;const v=c.getFlattenedFilters();for(const k of v)X_(m,k),m=se(m,k)}(e._query,t),new Fa(e.firestore,e.converter,se(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Iy extends Vf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Iy(e,t)}_apply(e){const t=function(s,c,m){if(null!==s.startAt)throw new En(qt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new En(qt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new S(c,m);return function(k,G){if(null===Yh(k)){const ne=D(k);null!==ne&&J_(0,ne,G.field)}}(s,v),v}(e._query,this._field,this._direction);return new Fa(e.firestore,e.converter,function(s,c){const m=s.explicitOrderBy.concat([c]);return new zl(s.path,s.collectionGroup,m,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Dy(i,e="asc"){const t=e,s=Zm("orderBy",i);return Iy._create(s,t)}class Xm extends Vf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Xm(e,t,s)}_apply(e){return new Fa(e.firestore,e.converter,De(e._query,this._limit,this._limitType))}}function Qv(i){return K_("limit",i),Xm._create("limit",i,"F")}function Mi(i){return K_("limitToLast",i),Xm._create("limitToLast",i,"L")}class o_ extends Vf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new o_(e,t,s)}_apply(e){const t=Jm(e,this.type,this._docOrFields,this._inclusive);return new Fa(e.firestore,e.converter,(c=t,new zl((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}function Xy(...i){return o_._create("startAt",i,!0)}function Jy(...i){return o_._create("startAfter",i,!1)}class Zd extends Vf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Zd(e,t,s)}_apply(e){const t=Jm(e,this.type,this._docOrFields,this._inclusive);return new Fa(e.firestore,e.converter,(c=t,new zl((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function ev(...i){return Zd._create("endBefore",i,!1)}function a_(...i){return Zd._create("endAt",i,!0)}function Jm(i,e,t,s){if(t[0]=(0,ae.m9)(t[0]),t[0]instanceof jp)return function(c,m,v,k,G){if(!k)throw new En(qt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const ne=[];for(const Ce of b(c))if(Ce.field.isKeyField())ne.push(Ac(m,k.key));else{const at=k.data.field(Ce.field);if(su(at))throw new En(qt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===at){const Zt=Ce.field.canonicalString();throw new En(qt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Zt}' (used as the orderBy) does not exist.`)}ne.push(at)}return new Vl(ne,G)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const c=id(i.firestore);return function(m,v,k,G,ne,Ce){const at=m.explicitOrderBy;if(ne.length>at.length)throw new En(qt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Zt=[];for(let yn=0;yn<ne.length;yn++){const kn=ne[yn];if(at[yn].field.isKeyField()){if("string"!=typeof kn)throw new En(qt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof kn}`);if(!g(m)&&-1!==kn.indexOf("/"))throw new En(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${kn}' contains a slash.`);const Jn=m.path.child(bi.fromString(kn));if(!zn.isDocumentKey(Jn))throw new En(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Jn}' is not because it contains an odd number of segments.`);const ti=new zn(Jn);Zt.push(Ac(v,ti))}else{const Jn=Gm(k,G,kn);Zt.push(Jn)}}return new Vl(Zt,Ce)}(i._query,i.firestore._databaseId,c,e,t,s)}}function Ys(i,e,t){if("string"==typeof(t=(0,ae.m9)(t))){if(""===t)throw new En(qt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g(e)&&-1!==t.indexOf("/"))throw new En(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(bi.fromString(t));if(!zn.isDocumentKey(s))throw new En(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ac(i,new zn(s))}if(t instanceof Vs)return Ac(i,t._key);throw new En(qt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vp(t)}.`)}function tv(i,e){if(!Array.isArray(i)||0===i.length)throw new En(qt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X_(i,e){if(e.isInequality()){const s=D(i),c=e.field;if(null!==s&&!s.isEqual(c))throw new En(qt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const m=Yh(i);null!==m&&J_(0,c,m)}const t=function(s,c){for(const m of s)for(const v of m.getFlattenedFilters())if(c.indexOf(v.op)>=0)return v.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new En(qt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function J_(i,e,t){if(!t.isEqual(e))throw new En(qt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class l_{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Co(e,(c,m)=>{s[c]=this.convertValue(m,t)}),s}convertGeoPoint(e){return new Cl(Ar(e.latitude),Ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Nl(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=al(e);return new Rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=bi.fromString(e);Zn(Hu(s));const c=new ll(s.get(1),s.get(3)),m=new zn(s.popFirst(5));return c.isEqual(t)||mi(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function eg(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Ty extends l_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vs(this.firestore,null,t)}}class zf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jf extends jp{constructor(e,t,s,c,m,v){super(e,t,s,c,v),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Zm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class tg extends jf{data(e={}){return super.data(e)}}class sd{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new zf(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new tg(this._firestore,this._userDataWriter,s.key,s,new zf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new En(qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let m=0;return s._snapshot.docChanges.map(v=>({type:"added",doc:new tg(s._firestore,s._userDataWriter,v.doc.key,v.doc,new zf(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:m++}))}{let m=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(v=>c||3!==v.type).map(v=>{const k=new tg(s._firestore,s._userDataWriter,v.doc.key,v.doc,new zf(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter);let G=-1,ne=-1;return 0!==v.type&&(G=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),1!==v.type&&(m=m.add(v.doc),ne=m.indexOf(v.doc.key)),{type:Sy(v.type),doc:k,oldIndex:G,newIndex:ne}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nn()}}function Ay(i,e){return i instanceof jf&&e instanceof jf?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof sd&&e instanceof sd&&i._firestore===e._firestore&&Kl(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function My(i){i=nr(i,Vs);const e=nr(i.firestore,a);return vy(w(e),i._key).then(t=>Ny(e,i,t))}class Wh extends l_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vs(this.firestore,null,t)}}function ng(i){i=nr(i,Vs);const e=nr(i.firestore,a),t=w(e),s=new Wh(e);return function Xg(i,e){const t=new as;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(c,m,v){try{const k=yield function(G,ne){const Ce=Rn(G);return Ce.persistence.runTransaction("read document","readonly",at=>Ce.localDocuments.getDocument(at,ne))}(c,m);k.isFoundDocument()?v.resolve(k):k.isNoDocument()?v.resolve(null):v.reject(new En(qt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const G=vc(k,`Failed to get document '${m} from cache`);v.reject(G)}}),function(c,m,v){return s.apply(this,arguments)})(yield Hh(i),e,t);var s})),t.promise}(t,i._key).then(c=>new jf(e,s,i._key,c,new zf(null!==c&&c.hasLocalMutations,!0),i.converter))}function ig(i){i=nr(i,Vs);const e=nr(i.firestore,a);return vy(w(e),i._key,{source:"server"}).then(t=>Ny(e,i,t))}function rv(i){i=nr(i,Fa);const e=nr(i.firestore,a),t=w(e),s=new Wh(e);return Q_(i._query),H_(t,i._query).then(c=>new sd(e,s,i,c))}function sv(i){i=nr(i,Fa);const e=nr(i.firestore,a),t=w(e),s=new Wh(e);return function qy(i,e){const t=new as;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(c,m,v){try{const k=yield gf(c,m,!0),G=new Ng(m,k.ir),ne=G.sc(k.documents),Ce=G.applyChanges(ne,!1);v.resolve(Ce.snapshot)}catch(k){const G=vc(k,`Failed to execute query '${m} against cache`);v.reject(G)}}),function(c,m,v){return s.apply(this,arguments)})(yield Hh(i),e,t);var s})),t.promise}(t,i._query).then(c=>new sd(e,s,i,c))}function ov(i){i=nr(i,Fa);const e=nr(i.firestore,a),t=w(e),s=new Wh(e);return H_(t,i._query,{source:"server"}).then(c=>new sd(e,s,i,c))}function Oy(i,e,t){i=nr(i,Vs);const s=nr(i.firestore,a),c=eg(i.converter,e,t);return Hp(s,[oi(id(s),"setDoc",i._key,c,null!==i.converter,t).toMutation(i._key,Qr.none())])}function Py(i,e,t,...s){i=nr(i,Vs);const c=nr(i.firestore,a),m=id(c);let v;return v="string"==typeof(e=(0,ae.m9)(e))||e instanceof Qa?_s(m,"updateDoc",i._key,e,t,s):Qc(m,"updateDoc",i._key,e),Hp(c,[v.toMutation(i._key,Qr.exists(!0))])}function Ry(i){return Hp(nr(i.firestore,a),[new Za(i._key,Qr.none())])}function av(i,e){const t=nr(i.firestore,a),s=i_(i),c=eg(i.converter,e);return Hp(t,[oi(id(i.firestore),"addDoc",s._key,c,null!==i.converter,{}).toMutation(s._key,Qr.exists(!1))]).then(()=>s)}function ky(i,...e){var t,s,c;i=(0,ae.m9)(i);let m={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||wl(e[v])||(m=e[v],v++);const k={includeMetadataChanges:m.includeMetadataChanges};if(wl(e[v])){const at=e[v];e[v]=null===(t=at.next)||void 0===t?void 0:t.bind(at),e[v+1]=null===(s=at.error)||void 0===s?void 0:s.bind(at),e[v+2]=null===(c=at.complete)||void 0===c?void 0:c.bind(at)}let G,ne,Ce;if(i instanceof Vs)ne=nr(i.firestore,a),Ce=Fi(i._key.path),G={next:at=>{e[v]&&e[v](Ny(ne,i,at))},error:e[v+1],complete:e[v+2]};else{const at=nr(i,Fa);ne=nr(at.firestore,a),Ce=at._query;const Zt=new Wh(ne);G={next:yn=>{e[v]&&e[v](new sd(ne,Zt,at,yn))},error:e[v+1],complete:e[v+2]},Q_(i._query)}return function(at,Zt,yn,kn){const Jn=new Lp(kn),ti=new kg(Zt,Jn,yn);return at.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Og(yield Kd(at),ti)})),()=>{Jn.Dc(),at.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Rg(yield Kd(at),ti)}))}}(w(ne),Ce,k,G)}function lv(i,e){return function by(i,e){const t=new Lp(e);return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return s=yield Kd(i),c=t,Rn(s).ku.add(c),void c.next();var s,c})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return s=yield Kd(i),c=t,void Rn(s).ku.delete(c);var s,c}))}}(w(i=nr(i,a)),wl(e)?e:{next:e})}function Hp(i,e){return function(t,s){const c=new as;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function my(i,e,t){return Wl.apply(this,arguments)}(yield qg(t),s,c)})),c.promise}(w(i),e)}function Ny(i,e,t){const s=t.docs.get(e._key),c=new Wh(i);return new jf(i,c,e._key,s,new zf(t.hasPendingWrites,t.fromCache),e.converter)}const pv={maxAttempts:5};class ey{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=id(e)}set(e,t,s){this._verifyNotCommitted();const c=Gh(e,this._firestore),m=eg(c.converter,t,s),v=oi(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,s);return this._mutations.push(v.toMutation(c._key,Qr.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const m=Gh(e,this._firestore);let v;return v="string"==typeof(t=(0,ae.m9)(t))||t instanceof Qa?_s(this._dataReader,"WriteBatch.update",m._key,t,s,c):Qc(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(v.toMutation(m._key,Qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gh(e,this._firestore);return this._mutations=this._mutations.concat(new Za(t._key,Qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new En(qt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(i,e){if((i=(0,ae.m9)(i)).firestore!==e)throw new En(qt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=id(e)}get(e){const t=Gh(e,this._firestore),s=new Ty(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return Nn();const m=c[0];if(m.isFoundDocument())return new jp(this._firestore,s,m.key,m,t.converter);if(m.isNoDocument())return new jp(this._firestore,s,t._key,null,t.converter);throw Nn()})}set(e,t,s){const c=Gh(e,this._firestore),m=eg(c.converter,t,s),v=oi(this._dataReader,"Transaction.set",c._key,m,null!==c.converter,s);return this._transaction.set(c._key,v),this}update(e,t,s,...c){const m=Gh(e,this._firestore);let v;return v="string"==typeof(t=(0,ae.m9)(t))||t instanceof Qa?_s(this._dataReader,"Transaction.update",m._key,t,s,c):Qc(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,v),this}delete(e){const t=Gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gh(e,this._firestore),s=new Wh(this._firestore);return super.get(e).then(c=>new jf(this._firestore,s,t._key,c._document,new zf(!1,!1),t.converter))}}function rg(i,e,t){i=nr(i,a);const s=Object.assign(Object.assign({},pv),t);return function(c){if(c.maxAttempts<1)throw new En(qt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,m,v){const k=new as;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const G=yield function j_(i){return Bp(i).then(e=>e.datastore)}(c);new U_(c.asyncQueue,G,v,m,k).run()})),k.promise}(w(i),c=>e(new mv(i,c)),s)}function gv(){return new _i("deleteField")}function Ly(){return new br("serverTimestamp")}function _v(...i){return new Vo("arrayUnion",i)}function By(...i){return new qc("arrayRemove",i)}function yv(i){return new Il("increment",i)}!function(i,e=!0){er=O.SDK_VERSION,(0,O._registerComponent)(new P.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const m=t.getProvider("app").getImmediate(),v=new a(new Tu(t.getProvider("auth-internal")),new Su(t.getProvider("app-check-internal")),function(k,G){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new En(qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(k.options.projectId,G)}(m,s),m);return c=Object.assign({useFetchStreams:e},c),v._setSettings(c),v},"PUBLIC").setMultipleInstances(!0)),(0,O.registerVersion)(bn,"3.12.1",i),(0,O.registerVersion)(bn,"3.12.1","esm2017")}()},2090:(vn,ot,x)=>{x.d(ot,{$s:()=>X,BH:()=>tt,DV:()=>wt,G6:()=>Bt,GJ:()=>In,L:()=>Ge,LL:()=>ht,P0:()=>Ft,Pz:()=>Re,Sg:()=>lt,UG:()=>Ut,UI:()=>Ct,US:()=>Pe,Wl:()=>gt,Yr:()=>Mt,ZB:()=>le,ZR:()=>Ne,aH:()=>Ye,b$:()=>nn,cI:()=>mt,dS:()=>ii,eu:()=>Ot,g5:()=>P,gK:()=>ze,gQ:()=>_t,h$:()=>ye,hl:()=>Vt,hu:()=>O,jU:()=>hn,m9:()=>Jt,ne:()=>Yt,p$:()=>ge,pd:()=>Ht,q4:()=>Me,r3:()=>Xn,ru:()=>Kt,tV:()=>ie,uI:()=>Ze,ug:()=>Dt,vZ:()=>xe,w1:()=>ai,w9:()=>ln,xO:()=>ft,xb:()=>ct,z$:()=>nt,zI:()=>rt,zd:()=>Rt});const f={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},O=function(Ue,Le){if(!Ue)throw P(Le)},P=function(Ue){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ue)},R=function(Ue){const Le=[];let de=0;for(let pe=0;pe<Ue.length;pe++){let fe=Ue.charCodeAt(pe);fe<128?Le[de++]=fe:fe<2048?(Le[de++]=fe>>6|192,Le[de++]=63&fe|128):55296==(64512&fe)&&pe+1<Ue.length&&56320==(64512&Ue.charCodeAt(pe+1))?(fe=65536+((1023&fe)<<10)+(1023&Ue.charCodeAt(++pe)),Le[de++]=fe>>18|240,Le[de++]=fe>>12&63|128,Le[de++]=fe>>6&63|128,Le[de++]=63&fe|128):(Le[de++]=fe>>12|224,Le[de++]=fe>>6&63|128,Le[de++]=63&fe|128)}return Le},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ue,Le){if(!Array.isArray(Ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=Le?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let fe=0;fe<Ue.length;fe+=3){const pt=Ue[fe],Fe=fe+1<Ue.length,We=Fe?Ue[fe+1]:0,be=fe+2<Ue.length,Xe=be?Ue[fe+2]:0;let xn=(15&We)<<2|Xe>>6,Ln=63&Xe;be||(Ln=64,Fe||(xn=64)),pe.push(de[pt>>2],de[(3&pt)<<4|We>>4],de[xn],de[Ln])}return pe.join("")},encodeString(Ue,Le){return this.HAS_NATIVE_SUPPORT&&!Le?btoa(Ue):this.encodeByteArray(R(Ue),Le)},decodeString(Ue,Le){return this.HAS_NATIVE_SUPPORT&&!Le?atob(Ue):function(Ue){const Le=[];let de=0,pe=0;for(;de<Ue.length;){const fe=Ue[de++];if(fe<128)Le[pe++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const pt=Ue[de++];Le[pe++]=String.fromCharCode((31&fe)<<6|63&pt)}else if(fe>239&&fe<365){const be=((7&fe)<<18|(63&Ue[de++])<<12|(63&Ue[de++])<<6|63&Ue[de++])-65536;Le[pe++]=String.fromCharCode(55296+(be>>10)),Le[pe++]=String.fromCharCode(56320+(1023&be))}else{const pt=Ue[de++],Fe=Ue[de++];Le[pe++]=String.fromCharCode((15&fe)<<12|(63&pt)<<6|63&Fe)}}return Le.join("")}(this.decodeStringToByteArray(Ue,Le))},decodeStringToByteArray(Ue,Le){this.init_();const de=Le?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let fe=0;fe<Ue.length;){const pt=de[Ue.charAt(fe++)],We=fe<Ue.length?de[Ue.charAt(fe)]:0;++fe;const Xe=fe<Ue.length?de[Ue.charAt(fe)]:64;++fe;const fn=fe<Ue.length?de[Ue.charAt(fe)]:64;if(++fe,null==pt||null==We||null==Xe||null==fn)throw new je;pe.push(pt<<2|We>>4),64!==Xe&&(pe.push(We<<4&240|Xe>>2),64!==fn&&pe.push(Xe<<6&192|fn))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ue=0;Ue<this.ENCODED_VALS.length;Ue++)this.byteToCharMap_[Ue]=this.ENCODED_VALS.charAt(Ue),this.charToByteMap_[this.byteToCharMap_[Ue]]=Ue,this.byteToCharMapWebSafe_[Ue]=this.ENCODED_VALS_WEBSAFE.charAt(Ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ue]]=Ue,Ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ue)]=Ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ue)]=Ue)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(Ue){const Le=R(Ue);return Pe.encodeByteArray(Le,!0)},Ge=function(Ue){return ye(Ue).replace(/\./g,"")},ie=function(Ue){try{return Pe.decodeString(Ue,!0)}catch(Le){console.error("base64Decode failed: ",Le)}return null};function ge(Ue){return le(void 0,Ue)}function le(Ue,Le){if(!(Le instanceof Object))return Le;switch(Le.constructor){case Date:return new Date(Le.getTime());case Object:void 0===Ue&&(Ue={});break;case Array:Ue=[];break;default:return Le}for(const de in Le)!Le.hasOwnProperty(de)||!ke(de)||(Ue[de]=le(Ue[de],Le[de]));return Ue}function ke(Ue){return"__proto__"!==Ue}const Ve=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ue=process.env.__FIREBASE_DEFAULTS__;return Ue?JSON.parse(Ue):void 0})()||(()=>{if(typeof document>"u")return;let Ue;try{Ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Le=Ue&&ie(Ue[1]);return Le&&JSON.parse(Le)})()}catch(Ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ue}`)}},Me=Ue=>{var Le,de;return null===(de=null===(Le=Ve())||void 0===Le?void 0:Le.emulatorHosts)||void 0===de?void 0:de[Ue]},Ft=Ue=>{const Le=Me(Ue);if(!Le)return;const de=Le.lastIndexOf(":");if(de<=0||de+1===Le.length)throw new Error(`Invalid host ${Le} with no separate hostname and port!`);const pe=parseInt(Le.substring(de+1),10);return"["===Le[0]?[Le.substring(1,de-1),pe]:[Le.substring(0,de),pe]},Ye=()=>{var Ue;return null===(Ue=Ve())||void 0===Ue?void 0:Ue.config},Re=Ue=>{var Le;return null===(Le=Ve())||void 0===Le?void 0:Le[`_${Ue}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Le,de)=>{this.resolve=Le,this.reject=de})}wrapCallback(Le){return(de,pe)=>{de?this.reject(de):this.resolve(pe),"function"==typeof Le&&(this.promise.catch(()=>{}),1===Le.length?Le(de):Le(de,pe))}}}function lt(Ue,Le){if(Ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=Le||"demo-project",fe=Ue.iat||0,pt=Ue.sub||Ue.user_id;if(!pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:fe,exp:fe+3600,auth_time:fe,sub:pt,user_id:pt,firebase:{sign_in_provider:"custom",identities:{}}},Ue);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(Fe)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function Ut(){var Ue;const Le=null===(Ue=Ve())||void 0===Ue?void 0:Ue.forceEnvironment;if("node"===Le)return!0;if("browser"===Le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hn(){return"object"==typeof self&&self.self===self}function Kt(){const Ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ue&&void 0!==Ue.id}function nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ai(){const Ue=nt();return Ue.indexOf("MSIE ")>=0||Ue.indexOf("Trident/")>=0}function Mt(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN}function Bt(){return!Ut()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vt(){try{return"object"==typeof indexedDB}catch{return!1}}function Ot(){return new Promise((Ue,Le)=>{try{let de=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(pe);fe.onsuccess=()=>{fe.result.close(),de||self.indexedDB.deleteDatabase(pe),Ue(!0)},fe.onupgradeneeded=()=>{de=!1},fe.onerror=()=>{var pt;Le((null===(pt=fe.error)||void 0===pt?void 0:pt.message)||"")}}catch(de){Le(de)}})}function rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(Le,de,pe){super(de),this.code=Le,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ht.prototype.create)}}class ht{constructor(Le,de,pe){this.service=Le,this.serviceName=de,this.errors=pe}create(Le,...de){const pe=de[0]||{},fe=`${this.service}/${Le}`,pt=this.errors[Le],Fe=pt?function it(Ue,Le){return Ue.replace(He,(de,pe)=>{const fe=Le[pe];return null!=fe?String(fe):`<${pe}?>`})}(pt,pe):"Error";return new Ne(fe,`${this.serviceName}: ${Fe} (${fe}).`,pe)}}const He=/\{\$([^}]+)}/g;function mt(Ue){return JSON.parse(Ue)}function gt(Ue){return JSON.stringify(Ue)}const Gt=function(Ue){let Le={},de={},pe={},fe="";try{const pt=Ue.split(".");Le=mt(ie(pt[0])||""),de=mt(ie(pt[1])||""),fe=pt[2],pe=de.d||{},delete de.d}catch{}return{header:Le,claims:de,data:pe,signature:fe}},ln=function(Ue){const de=Gt(Ue).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},In=function(Ue){const Le=Gt(Ue).claims;return"object"==typeof Le&&!0===Le.admin};function Xn(Ue,Le){return Object.prototype.hasOwnProperty.call(Ue,Le)}function wt(Ue,Le){if(Object.prototype.hasOwnProperty.call(Ue,Le))return Ue[Le]}function ct(Ue){for(const Le in Ue)if(Object.prototype.hasOwnProperty.call(Ue,Le))return!1;return!0}function Ct(Ue,Le,de){const pe={};for(const fe in Ue)Object.prototype.hasOwnProperty.call(Ue,fe)&&(pe[fe]=Le.call(de,Ue[fe],fe,Ue));return pe}function xe(Ue,Le){if(Ue===Le)return!0;const de=Object.keys(Ue),pe=Object.keys(Le);for(const fe of de){if(!pe.includes(fe))return!1;const pt=Ue[fe],Fe=Le[fe];if(J(pt)&&J(Fe)){if(!xe(pt,Fe))return!1}else if(pt!==Fe)return!1}for(const fe of pe)if(!de.includes(fe))return!1;return!0}function J(Ue){return null!==Ue&&"object"==typeof Ue}function ft(Ue){const Le=[];for(const[de,pe]of Object.entries(Ue))Array.isArray(pe)?pe.forEach(fe=>{Le.push(encodeURIComponent(de)+"="+encodeURIComponent(fe))}):Le.push(encodeURIComponent(de)+"="+encodeURIComponent(pe));return Le.length?"&"+Le.join("&"):""}function Rt(Ue){const Le={};return Ue.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[fe,pt]=pe.split("=");Le[decodeURIComponent(fe)]=decodeURIComponent(pt)}}),Le}function Ht(Ue){const Le=Ue.indexOf("?");if(!Le)return"";const de=Ue.indexOf("#",Le);return Ue.substring(Le,de>0?de:void 0)}class _t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Le=1;Le<this.blockSize;++Le)this.pad_[Le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Le,de){de||(de=0);const pe=this.W_;if("string"==typeof Le)for(let fn=0;fn<16;fn++)pe[fn]=Le.charCodeAt(de)<<24|Le.charCodeAt(de+1)<<16|Le.charCodeAt(de+2)<<8|Le.charCodeAt(de+3),de+=4;else for(let fn=0;fn<16;fn++)pe[fn]=Le[de]<<24|Le[de+1]<<16|Le[de+2]<<8|Le[de+3],de+=4;for(let fn=16;fn<80;fn++){const xn=pe[fn-3]^pe[fn-8]^pe[fn-14]^pe[fn-16];pe[fn]=4294967295&(xn<<1|xn>>>31)}let Xe,jt,fe=this.chain_[0],pt=this.chain_[1],Fe=this.chain_[2],We=this.chain_[3],be=this.chain_[4];for(let fn=0;fn<80;fn++){fn<40?fn<20?(Xe=We^pt&(Fe^We),jt=1518500249):(Xe=pt^Fe^We,jt=1859775393):fn<60?(Xe=pt&Fe|We&(pt|Fe),jt=2400959708):(Xe=pt^Fe^We,jt=3395469782);const xn=(fe<<5|fe>>>27)+Xe+be+jt+pe[fn]&4294967295;be=We,We=Fe,Fe=4294967295&(pt<<30|pt>>>2),pt=fe,fe=xn}this.chain_[0]=this.chain_[0]+fe&4294967295,this.chain_[1]=this.chain_[1]+pt&4294967295,this.chain_[2]=this.chain_[2]+Fe&4294967295,this.chain_[3]=this.chain_[3]+We&4294967295,this.chain_[4]=this.chain_[4]+be&4294967295}update(Le,de){if(null==Le)return;void 0===de&&(de=Le.length);const pe=de-this.blockSize;let fe=0;const pt=this.buf_;let Fe=this.inbuf_;for(;fe<de;){if(0===Fe)for(;fe<=pe;)this.compress_(Le,fe),fe+=this.blockSize;if("string"==typeof Le){for(;fe<de;)if(pt[Fe]=Le.charCodeAt(fe),++Fe,++fe,Fe===this.blockSize){this.compress_(pt),Fe=0;break}}else for(;fe<de;)if(pt[Fe]=Le[fe],++Fe,++fe,Fe===this.blockSize){this.compress_(pt),Fe=0;break}}this.inbuf_=Fe,this.total_+=de}digest(){const Le=[];let de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&de,de/=256;this.compress_(this.buf_);let pe=0;for(let fe=0;fe<5;fe++)for(let pt=24;pt>=0;pt-=8)Le[pe]=this.chain_[fe]>>pt&255,++pe;return Le}}function Yt(Ue,Le){const de=new Te(Ue,Le);return de.subscribe.bind(de)}class Te{constructor(Le,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{Le(this)}).catch(pe=>{this.error(pe)})}next(Le){this.forEachObserver(de=>{de.next(Le)})}error(Le){this.forEachObserver(de=>{de.error(Le)}),this.close(Le)}complete(){this.forEachObserver(Le=>{Le.complete()}),this.close()}subscribe(Le,de,pe){let fe;if(void 0===Le&&void 0===de&&void 0===pe)throw new Error("Missing Observer.");fe=function ce(Ue,Le){if("object"!=typeof Ue||null===Ue)return!1;for(const de of Le)if(de in Ue&&"function"==typeof Ue[de])return!0;return!1}(Le,["next","error","complete"])?Le:{next:Le,error:de,complete:pe},void 0===fe.next&&(fe.next=me),void 0===fe.error&&(fe.error=me),void 0===fe.complete&&(fe.complete=me);const pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),pt}unsubscribeOne(Le){void 0===this.observers||void 0===this.observers[Le]||(delete this.observers[Le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Le){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,Le)}sendOne(Le,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Le])try{de(this.observers[Le])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(Le){this.finalized||(this.finalized=!0,void 0!==Le&&(this.finalError=Le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function me(){}function ze(Ue,Le){return`${Ue} failed: ${Le} argument `}const ii=function(Ue){const Le=[];let de=0;for(let pe=0;pe<Ue.length;pe++){let fe=Ue.charCodeAt(pe);if(fe>=55296&&fe<=56319){const pt=fe-55296;pe++,O(pe<Ue.length,"Surrogate pair missing trail surrogate."),fe=65536+(pt<<10)+(Ue.charCodeAt(pe)-56320)}fe<128?Le[de++]=fe:fe<2048?(Le[de++]=fe>>6|192,Le[de++]=63&fe|128):fe<65536?(Le[de++]=fe>>12|224,Le[de++]=fe>>6&63|128,Le[de++]=63&fe|128):(Le[de++]=fe>>18|240,Le[de++]=fe>>12&63|128,Le[de++]=fe>>6&63|128,Le[de++]=63&fe|128)}return Le},Dt=function(Ue){let Le=0;for(let de=0;de<Ue.length;de++){const pe=Ue.charCodeAt(de);pe<128?Le++:pe<2048?Le+=2:pe>=55296&&pe<=56319?(Le+=4,de++):Le+=3}return Le},oe=1e3,q=2,N=144e5,$=.5;function X(Ue,Le=oe,de=q){const pe=Le*Math.pow(de,Ue),fe=Math.round($*pe*(Math.random()-.5)*2);return Math.min(N,pe+fe)}function Jt(Ue){return Ue&&Ue._delegate?Ue._delegate:Ue}},1933:(vn,ot,x)=>{x.d(ot,{q:()=>Ht});var f=x(7392),O=x(266),P=x(3162),R=x(3683),ae=x(6895),Pe=x(4650),je=x(7579),ye=x(9101),Ge=x(8184),ie=x(3238),ge=x(9549),le=x(8605);x(7340);const mn={provide:new Pe.OlP("mat-select-scroll-strategy"),deps:[Ge.aV],useFactory:function Kt(_t){return()=>_t.scrollStrategies.reposition()}};let rt=(()=>{class _t{}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275mod=Pe.oAB({type:_t}),_t.\u0275inj=Pe.cJS({providers:[mn],imports:[ae.ez,Ge.U8,ie.Ng,ie.BQ,le.ZD,ge.lN,ie.Ng,ie.BQ]}),_t})(),gt=(()=>{class _t{constructor(){this.changes=new je.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(Te,$e,ce)=>{if(0==ce||0==$e)return`0 of ${ce}`;const me=Te*$e;return`${me+1} \u2013 ${me<(ce=Math.max(ce,0))?Math.min(me+$e,ce):me+$e} of ${ce}`}}}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275prov=Pe.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();const Ke={provide:gt,deps:[[new Pe.FiY,new Pe.tp0,gt]],useFactory:function Gt(_t){return _t||new gt}};let xe=(()=>{class _t{}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275mod=Pe.oAB({type:_t}),_t.\u0275inj=Pe.cJS({providers:[Ke],imports:[ae.ez,ye.ot,rt,O.AV]}),_t})();var J=x(284),Ae=x(1572),ft=x(3267);const Rt=[f.Ps,O.AV,ye.ot,P.Cv,R.g0,xe,ge.lN,J.c,Ae.Cq,P.Cv,ft.SJ];let Ht=(()=>{class _t{}return _t.\u0275fac=function(Te){return new(Te||_t)},_t.\u0275mod=Pe.oAB({type:_t}),_t.\u0275inj=Pe.cJS({imports:[Rt,f.Ps,O.AV,ye.ot,P.Cv,R.g0,xe,ge.lN,J.c,Ae.Cq,P.Cv,ft.SJ]}),_t})()},3602:(vn,ot,x)=>{x.d(ot,{Z:()=>P});var f=x(1135),O=x(4650);let P=(()=>{class R{constructor(){this.$sidenavStatus=new f.X("closed")}openSidenav(){this.$sidenavStatus.next("open")}closeSidenav(){this.$sidenavStatus.next("closed")}}return R.\u0275fac=function(Pe){return new(Pe||R)},R.\u0275prov=O.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},4672:(vn,ot,x)=>{x.d(ot,{e:()=>Ge});var f=x(5861),O=(()=>{return(ie=O||(O={})).EMAIlL_ALREADY_IN_USE="auth/email-already-in-use",ie.EMAIL_INVALID="auth/invalid-email",ie.WEAK_PASSWORD="auth/weak-password",ie.WRONG_PASSWORD="auth/wrong-password",ie.INVALID_EMAIL="auth/invalid-email",ie.USER_NOT_FOUND="auth/user-not-found",O;var ie})(),P=x(1135),R=x(4650),ae=x(1205),Pe=x(7977),je=x(1779),ye=x(3602);let Ge=(()=>{class ie{constructor(le,ke,Be,Qe){this.afAuth=le,this.db=ke,this.router=Be,this.sidenavService=Qe,this.currentUser$=new P.X(null)}registerUser(le){var ke=this;return(0,f.Z)(function*(){try{const Be=yield ke.afAuth.createUserWithEmailAndPassword(le.email,le.password).then(Qe=>(Qe.user?.updateProfile({displayName:le.name}),Qe));return Be.user&&(yield ke.db.collection("users").doc(Be?.user.uid).set({name:le.name,email:le.email})),Be}catch(Be){const Qe=Be.code;return Qe===O.EMAIL_INVALID?{errorType:"email",message:"The email format is invalid. Please try another one."}:Qe===O.EMAIlL_ALREADY_IN_USE?{errorType:"email",message:"This email is already being used. Please try another one."}:Qe===O.WEAK_PASSWORD?{errorType:"password",message:"Weak password. Please try another one."}:{errorType:"generic",message:"Invalid credentials. Please try again."}}})()}login(le){var ke=this;return(0,f.Z)(function*(){try{const Be=yield ke.afAuth.signInWithEmailAndPassword(le.email,le.password);return Be.user&&(ke.afAuth.setPersistence("local").then(()=>console.log("persistence setted")),ke.setCurrentUser(Be.user)),Be}catch(Be){const Qe=Be.code;return console.log(Qe),Qe===O.EMAIL_INVALID?{errorType:"email",message:"The email is invalid. Please try again."}:Qe===O.USER_NOT_FOUND?{errorType:"email",message:"User not found. Please try again."}:Qe===O.WRONG_PASSWORD?{errorType:"password",message:"Wrong password. Please try again."}:{errorType:"generic",message:"Invalid credentials. Please try again."}}})()}updateUserData(le){var ke=this;return(0,f.Z)(function*(){const Be=yield ke.afAuth.currentUser,Qe=Be?.uid;yield Be?.updateEmail(le.email),yield Be?.updatePassword(le.password),yield ke.db.collection("users").doc(Qe).update({name:le.name,email:le.email}),ke.afAuth.signInWithEmailAndPassword(le.email,le.password)})()}sendPasswordResetEmail(le){var ke=this;return(0,f.Z)(function*(){return ke.afAuth.sendPasswordResetEmail(le).catch(Be=>Be.code===O.EMAIL_INVALID?{hasError:!0,error:"The email is invalid. Please try again."}:Be.code===O.USER_NOT_FOUND?{hasError:!0,error:"User not found. Please try again."}:{hasError:!1})})()}getAuthenticated(){return this.afAuth.user}subscribeToUserChange(){this.afAuth.authState.subscribe(le=>{this.setCurrentUser(le)})}setCurrentUser(le){this.currentUser$.next(le)}logout(){this.afAuth.signOut(),this.router.navigate(["/login"]),this.currentUser$.next(null),this.sidenavService.closeSidenav()}}return ie.\u0275fac=function(le){return new(le||ie)(R.LFG(ae.zQ),R.LFG(Pe.ST),R.LFG(je.F0),R.LFG(ye.Z))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},1261:(vn,ot,x)=>{x.d(ot,{N:()=>f});const f={apiUrls:{moviesUrl:"https://api.themoviedb.org/3/movie",seriesUrl:"https://api.themoviedb.org/3/tv"},apiKey:"17acd9c39b103a235bc6dcaa22e3957a",production:!1,firebase:{apiKey:"AIzaSyD0I49OsQmZR5Czg_10tgs5BDAUY9K8K0o",authDomain:"movies-project-764fe.firebaseapp.com",databaseURL:"https://movies-project-764fe-default-rtdb.firebaseio.com",projectId:"movies-project-764fe",storageBucket:"movies-project-764fe.appspot.com",messagingSenderId:"240134275038",appId:"1:240134275038:web:016155843bc10fbd45e74f",measurementId:"G-KBMNJBCPZM"}}},9336:(vn,ot,x)=>{var f=x(1481),O=x(1779),P=x(4004),R=x(4650),ae=x(4672);let Pe=(()=>{class u{constructor(a,h){this.authService=a,this.router=h}canActivate(a,h){return this.authService.getAuthenticated().pipe((0,P.U)(y=>(this.authService.setCurrentUser(y),!!y||(this.router.navigate(["login"]),!1))))}}return u.\u0275fac=function(a){return new(a||u)(R.LFG(ae.e),R.LFG(O.F0))},u.\u0275prov=R.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),je=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({imports:[O.Bz.forRoot([{path:"home",loadChildren:()=>Promise.all([x.e(111),x.e(453)]).then(x.bind(x,2453)).then(o=>o.HomeModule),canActivate:[Pe]},{path:"programs",loadChildren:()=>x.e(111).then(x.bind(x,4111)).then(o=>o.ProgramsModule),canActivate:[Pe]},{path:"login",loadChildren:()=>Promise.all([x.e(9),x.e(907)]).then(x.bind(x,1907)).then(o=>o.AuthModule)},{path:"account",loadChildren:()=>Promise.all([x.e(9),x.e(544)]).then(x.bind(x,6544)).then(o=>o.AccountModule),canActivate:[Pe]},{path:"**",redirectTo:"home"}],{onSameUrlNavigation:"reload",scrollPositionRestoration:"enabled"}),O.Bz]}),u})();var ye=x(2289),Ge=x(3602),ie=x(6895),ge=x(7392),le=x(3267);function ke(u,o){if(1&u&&(R.TgZ(0,"span",13),R._uU(1),R.qZA()),2&u){const a=R.oxw().ngIf;R.xp6(1),R.hij("Hey ",a.displayName,"!")}}function Be(u,o){if(1&u){const a=R.EpF();R.ynx(0),R.TgZ(1,"li",14),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("popular"))}),R.TgZ(2,"mat-icon"),R._uU(3,"whatshot"),R.qZA(),R.TgZ(4,"span"),R._uU(5,"Popular Movies"),R.qZA()(),R.TgZ(6,"li",14),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("top_rated"))}),R.TgZ(7,"mat-icon"),R._uU(8,"stars"),R.qZA(),R.TgZ(9,"span"),R._uU(10,"Top Rated Movies"),R.qZA()(),R.TgZ(11,"li",14),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("upcoming"))}),R.TgZ(12,"mat-icon"),R._uU(13,"timelapse"),R.qZA(),R.TgZ(14,"span"),R._uU(15,"Upcoming Movies"),R.qZA()(),R.TgZ(16,"li",14),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("now_playing"))}),R.TgZ(17,"mat-icon"),R._uU(18,"movies"),R.qZA(),R.TgZ(19,"span"),R._uU(20,"Now Playing Movies"),R.qZA()(),R.BQk()}if(2&u){const a=R.oxw(2);R.xp6(1),R.MGl("routerLink","/programs/",a.currentCategory,"/popular/1"),R.xp6(5),R.MGl("routerLink","/programs/",a.currentCategory,"/top_rated/1"),R.xp6(5),R.MGl("routerLink","/programs/",a.currentCategory,"/upcoming/1"),R.xp6(5),R.MGl("routerLink","/programs/",a.currentCategory,"/now_playing/1")}}const Qe=function(){return{color:"white"}};function bt(u,o){if(1&u){const a=R.EpF();R.TgZ(0,"mat-sidenav-container",1),R.ALo(1,"async"),R.ALo(2,"async"),R.TgZ(3,"mat-sidenav-content",2)(4,"mat-icon",3),R.NdJ("click",function(){R.CHM(a);const y=R.oxw();return R.KtG(y.closeSidenav())}),R._uU(5,"close"),R.qZA(),R.TgZ(6,"div",4)(7,"mat-icon"),R._uU(8,"person"),R.qZA(),R.YNc(9,ke,2,1,"span",5),R.qZA(),R.TgZ(10,"ul",6)(11,"li",7)(12,"mat-icon"),R._uU(13,"person"),R.qZA(),R.TgZ(14,"span"),R._uU(15,"My Profile"),R.qZA()(),R.TgZ(16,"li",8)(17,"mat-icon"),R._uU(18,"favorite"),R.qZA(),R.TgZ(19,"span"),R._uU(20,"Favorite Movies"),R.qZA()(),R.YNc(21,Be,21,4,"ng-container",9),R.ALo(22,"async"),R.qZA(),R.TgZ(23,"div",10),R.NdJ("click",function(){R.CHM(a);const y=R.oxw();return R.KtG(y.logout())}),R.TgZ(24,"mat-icon",11),R._uU(25,"keyboard_return"),R.qZA(),R.TgZ(26,"span",12),R._uU(27,"Logout"),R.qZA()()()()}if(2&u){const a=o.ngIf,h=R.oxw();let y,w;R.ekj("active","open"===R.lcZ(1,7,h.sidenavStatus))("is-mobile",null==(y=R.lcZ(2,9,h.isMobile$))?null:y.matches),R.xp6(9),R.Q6J("ngIf",a),R.xp6(12),R.Q6J("ngIf",null==(w=R.lcZ(22,11,h.isMobile$))?null:w.matches),R.xp6(3),R.Q6J("ngStyle",R.DdM(13,Qe))}}let et=(()=>{class u{constructor(a,h,y,w){this.sidenavService=a,this.authService=h,this.breakpointObserver=y,this.router=w,this.sidenavStatus=this.sidenavService.$sidenavStatus,this.currentUser$=this.authService.currentUser$,this.isMobile$=this.breakpointObserver.observe(ye.u3.Handset),this.currentCategory="movies"}logout(){this.authService.logout()}closeSidenav(){this.sidenavService.closeSidenav()}navigate(a){this.currentCategory=this.router.url.includes("tv")?"tv":"movies",this.router.navigate(["/programs",this.currentCategory,a,1])}}return u.\u0275fac=function(a){return new(a||u)(R.Y36(Ge.Z),R.Y36(ae.e),R.Y36(ye.Yg),R.Y36(O.F0))},u.\u0275cmp=R.Xpm({type:u,selectors:[["app-sidenav"]],decls:2,vars:3,consts:[["class","sidenav-container",3,"active","is-mobile",4,"ngIf"],[1,"sidenav-container"],[1,"flex","flex-col"],[1,"close-icon",3,"click"],[1,"user-info-wrapper"],["class","text-[16px] text-center text-white",4,"ngIf"],[1,"options-list"],["routerLinkActive","link-active","routerLink","/account",1,"li"],["routerLink","/programs/favorites/1","routerLinkActive","link-active",1,"li"],[4,"ngIf"],[1,"hover:-translate-y-[0.1rem]","transition-all","d-flex","mt-auto","mb-2","gap-2","cursor-pointer",3,"click"],[3,"ngStyle"],[1,"text-white"],[1,"text-[16px]","text-center","text-white"],["routerLinkActive","link-active",1,"li",3,"routerLink","click"]],template:function(a,h){1&a&&(R.YNc(0,bt,28,14,"mat-sidenav-container",0),R.ALo(1,"async")),2&a&&R.Q6J("ngIf",R.lcZ(1,1,h.currentUser$))},dependencies:[ie.O5,ie.PC,ge.Hw,le.TM,le.Rh,O.rH,O.Od,ie.Ov],styles:[".sidenav-container[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;width:0;background-color:#0f2027;transition:.4s ease;z-index:1000;padding-block:2em}.sidenav-container.active[_ngcontent-%COMP%]{padding:1em;width:10vw}.sidenav-container.active.is-mobile[_ngcontent-%COMP%]{width:50vw}.sidenav-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{color:#fff;position:absolute;top:2px;right:2px;cursor:pointer}.sidenav-container[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1em}.sidenav-container[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;align-items:center;font-size:40px;border:1px solid white;padding:.8em;overflow:visible;border-radius:100%}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{margin-top:2em;padding:0;list-style:none;display:flex;flex-direction:column;gap:1em}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;padding-bottom:.5em;margin:0;display:flex;gap:1em;align-items:center;border-bottom:1px solid rgba(255,255,255,.3);transition:.4s ease}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;transition:.3s ease}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{overflow:visible;color:#fff}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{transform:translateY(-1px)}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li.link-active[_ngcontent-%COMP%]{border-bottom:1px solid white}"]}),u})();var Ve=x(266),Me=x(9101),Ft=x(3683);const Ye=function(){return{color:"white"}};function Re(u,o){if(1&u){const a=R.EpF();R.TgZ(0,"button",4),R.NdJ("click",function(){R.CHM(a);const y=R.oxw();return R.MAs(2).value="",R.KtG(y.setValue(""))}),R.TgZ(1,"mat-icon",5),R._uU(2,"close"),R.qZA()()}2&u&&(R.xp6(1),R.Q6J("ngStyle",R.DdM(1,Ye)))}let tt=(()=>{class u{constructor(a){this.router=a}search(a){this.searchValue=a,this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["programs/search"],{queryParams:{q:a}}))}setValue(a){this.searchValue=a}}return u.\u0275fac=function(a){return new(a||u)(R.Y36(O.F0))},u.\u0275cmp=R.Xpm({type:u,selectors:[["search-bar"]],decls:4,vars:1,consts:[[1,"flex","items-center","mr-2","shadow-lg","justify-between"],["type","text","placeholder","Search",1,"w-full","text-[16px]","flex","justify-center","items-center",3,"keyup.enter","keydown"],["searchbar",""],["class","z-50","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",1,"z-50",3,"click"],[3,"ngStyle"]],template:function(a,h){if(1&a){const y=R.EpF();R.TgZ(0,"div",0)(1,"input",1,2),R.NdJ("keyup.enter",function(){R.CHM(y);const L=R.MAs(2);return R.KtG(h.search(L.value))})("keydown",function(){R.CHM(y);const L=R.MAs(2);return R.KtG(h.setValue(L.value))}),R.qZA(),R.YNc(3,Re,3,2,"button",3),R.qZA()}2&a&&(R.xp6(3),R.Q6J("ngIf",h.searchValue))},dependencies:[ie.O5,ie.PC,ge.Hw,Me.RK],styles:["input[_ngcontent-%COMP%]{background-color:transparent;padding:.5em 1em;color:#fff;position:relative}input[_ngcontent-%COMP%]::placeholder{padding-left:.5em}input[_ngcontent-%COMP%]:focus-visible{outline:none}"]}),u})();function lt(u,o){if(1&u){const a=R.EpF();R.TgZ(0,"div",9)(1,"button",10),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("popular"))}),R._uU(2,"Popular "),R.qZA(),R.TgZ(3,"button",10),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("now_playing"))}),R._uU(4,"Now Playing "),R.qZA(),R.TgZ(5,"button",10),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("top_rated"))}),R._uU(6,"Top Rated "),R.qZA(),R.TgZ(7,"button",10),R.NdJ("click",function(){R.CHM(a);const y=R.oxw(2);return R.KtG(y.navigate("upcoming"))}),R._uU(8,"Upcoming "),R.qZA()()}if(2&u){const a=R.oxw(2);R.xp6(1),R.MGl("routerLink","/programs/",a.currentCategory,"/popular/1"),R.xp6(2),R.MGl("routerLink","/programs/",a.currentCategory,"/now_playing/1"),R.xp6(2),R.MGl("routerLink","/programs/",a.currentCategory,"/top_rated/1"),R.xp6(2),R.MGl("routerLink","/programs/",a.currentCategory,"/upcoming/1")}}const nt=function(){return{color:"white"}};function Ze(u,o){if(1&u){const a=R.EpF();R.ynx(0),R.TgZ(1,"mat-toolbar",1),R.ALo(2,"async"),R.ALo(3,"async"),R.TgZ(4,"div",2)(5,"div",3)(6,"button",4),R.NdJ("click",function(){R.CHM(a);const y=R.oxw();return R.KtG(y.openSidenav())}),R.TgZ(7,"mat-icon",5),R._uU(8,"menu"),R.qZA()(),R.TgZ(9,"button",6)(10,"mat-icon",5),R._uU(11,"home"),R.qZA()()(),R._UZ(12,"search-bar",7),R.YNc(13,lt,9,4,"div",8),R.ALo(14,"async"),R.qZA()(),R.BQk()}if(2&u){const a=R.oxw();let h,y;R.xp6(1),R.ekj("sidenav-active","open"===R.lcZ(2,5,a.$sidenavStatus)&&!(null!=(h=R.lcZ(3,7,a.isMobile$))&&h.matches)),R.xp6(6),R.Q6J("ngStyle",R.DdM(11,nt)),R.xp6(3),R.Q6J("ngStyle",R.DdM(12,nt)),R.xp6(3),R.Q6J("ngIf",!(null!=(y=R.lcZ(14,9,a.isMobile$))&&y.matches))}}let Ut=(()=>{class u{constructor(a,h,y,w){this.authService=a,this.sidenavService=h,this.router=y,this.breakpointObserver=w,this.currentUser$=this.authService.currentUser$,this.currentCategory="movies",this.isMobile$=this.breakpointObserver.observe(ye.u3.Handset)}ngOnInit(){this.$sidenavStatus=this.sidenavService.$sidenavStatus}openSidenav(){this.sidenavService.openSidenav()}navigate(a){this.currentCategory=this.router.url.includes("tv")?"tv":"movies",this.router.navigate(["/programs",this.currentCategory,a,1])}}return u.\u0275fac=function(a){return new(a||u)(R.Y36(ae.e),R.Y36(Ge.Z),R.Y36(O.F0),R.Y36(ye.Yg))},u.\u0275cmp=R.Xpm({type:u,selectors:[["app-header"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"dashboard"],[1,"dashboard-inner"],[1,"dashboard-left"],["matTooltip","Menu","mat-icon-button","",3,"click"],[3,"ngStyle"],["matTooltip","Home","mat-icon-button","","routerLink","/home"],[1,"w-full"],["class","dashboard-right",4,"ngIf"],[1,"dashboard-right"],["mat-flat-button","","routerLinkActive","link-active",1,"bg-transparent","text-white",3,"routerLink","click"]],template:function(a,h){1&a&&(R.YNc(0,Ze,15,13,"ng-container",0),R.ALo(1,"async")),2&a&&R.Q6J("ngIf",R.lcZ(1,1,h.currentUser$))},dependencies:[ie.O5,ie.PC,ge.Hw,Ve.gM,Me.lW,Me.RK,Ft.Ye,tt,O.rH,O.Od,ie.Ov],styles:[".dashboard[_ngcontent-%COMP%]{min-height:20px;position:fixed;z-index:999;top:0;left:0;right:0;padding-block:1em;align-items:center;background-color:#0f2027;transition:.4s ease;display:flex;justify-content:center}.dashboard.sidenav-active[_ngcontent-%COMP%]   .dashboard-inner[_ngcontent-%COMP%]{padding-left:10vw;width:90vw}.dashboard[_ngcontent-%COMP%]   app-search-bar[_ngcontent-%COMP%]{width:80%}.dashboard[_ngcontent-%COMP%]   .dashboard-inner[_ngcontent-%COMP%]{display:flex;width:95vw;justify-content:space-between;transition:.4s ease}.dashboard[_ngcontent-%COMP%]   .dashboard-left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1em}.dashboard[_ngcontent-%COMP%]   .dashboard-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:auto;gap:1em}.dashboard[_ngcontent-%COMP%]   .dashboard-right[_ngcontent-%COMP%]   button.link-active[_ngcontent-%COMP%]{background-color:#0f2027!important}.dashboard[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{cursor:pointer;margin:0;color:#fff}"]}),u})(),hn=(()=>{class u{constructor(a,h,y){this.authService=a,this.sidenavService=h,this.breakpointObserver=y,this.$sidenavStatus=this.sidenavService.$sidenavStatus,this.$userStatus=this.authService.currentUser$,this.isMobile$=this.breakpointObserver.observe(ye.u3.Handset)}ngOnInit(){this.authService.subscribeToUserChange()}}return u.\u0275fac=function(a){return new(a||u)(R.Y36(ae.e),R.Y36(Ge.Z),R.Y36(ye.Yg))},u.\u0275cmp=R.Xpm({type:u,selectors:[["app-root"]],decls:9,vars:14,consts:[[1,"app-container"],[1,"content-container"]],template:function(a,h){if(1&a&&(R.TgZ(0,"div",0),R.ALo(1,"async"),R._UZ(2,"app-sidenav"),R.TgZ(3,"div",1),R.ALo(4,"async"),R.ALo(5,"async"),R.ALo(6,"async"),R._UZ(7,"app-header")(8,"router-outlet"),R.qZA()()),2&a){let y;R.ekj("linear-bg",R.lcZ(1,6,h.$userStatus)),R.xp6(3),R.ekj("login-view",!R.lcZ(4,8,h.$userStatus))("sidenav-open","open"===R.lcZ(5,10,h.$sidenavStatus)&&!(null!=(y=R.lcZ(6,12,h.isMobile$))&&y.matches))}},dependencies:[O.lC,et,Ut,ie.Ov],styles:[".app-container.linear-bg[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0e1111,#16222A)}.content-container[_ngcontent-%COMP%]{max-width:95vw;padding:0 0 2em;margin-top:6em;transition:.4s ease;margin-inline:auto}.content-container.sidenav-open[_ngcontent-%COMP%]{padding-left:10vw;max-width:90vw}.content-container.login-view[_ngcontent-%COMP%]{margin-top:0}"]}),u})();var Kt=x(529),nn=x(7340);function ai(u){return new R.vHH(3e3,!1)}function Tt(){return typeof window<"u"&&typeof window.document<"u"}function Sn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function dn(u){switch(u.length){case 0:return new nn.ZN;case 1:return u[0];default:return new nn.ZE(u)}}function ii(u,o,a,h,y=new Map,w=new Map){const L=[],K=[];let ue=-1,Ie=null;if(h.forEach(It=>{const Nt=It.get("offset"),an=Nt==ue,Dn=an&&Ie||new Map;It.forEach((An,qn)=>{let Ri=qn,vr=An;if("offset"!==qn)switch(Ri=o.normalizePropertyName(Ri,L),vr){case nn.k1:vr=y.get(qn);break;case nn.l3:vr=w.get(qn);break;default:vr=o.normalizeStyleValue(qn,Ri,vr,L)}Dn.set(Ri,vr)}),an||K.push(Dn),Ie=Dn,ue=Nt}),L.length)throw function J(u){return new R.vHH(3502,!1)}();return K}function Dt(u,o,a,h){switch(o){case"start":u.onStart(()=>h(a&&st(a,"start",u)));break;case"done":u.onDone(()=>h(a&&st(a,"done",u)));break;case"destroy":u.onDestroy(()=>h(a&&st(a,"destroy",u)))}}function st(u,o,a){const w=oe(u.element,u.triggerName,u.fromState,u.toState,o||u.phaseName,a.totalTime??u.totalTime,!!a.disabled),L=u._data;return null!=L&&(w._data=L),w}function oe(u,o,a,h,y="",w=0,L){return{element:u,triggerName:o,fromState:a,toState:h,phaseName:y,totalTime:w,disabled:!!L}}function q(u,o,a){let h=u.get(o);return h||u.set(o,h=a),h}function N(u){const o=u.indexOf(":");return[u.substring(1,o),u.slice(o+1)]}let $=(u,o)=>!1,X=(u,o,a)=>[],Se=null;function Wt(u){const o=u.parentNode||u.host;return o===Se?null:o}(Sn()||typeof Element<"u")&&(Tt()?(Se=(()=>document.documentElement)(),$=(u,o)=>{for(;o;){if(o===u)return!0;o=Wt(o)}return!1}):$=(u,o)=>u.contains(o),X=(u,o,a)=>{if(a)return Array.from(u.querySelectorAll(o));const h=u.querySelector(o);return h?[h]:[]});let Le=null,de=!1;const Fe=$,We=X;let Xe=(()=>{class u{validateStyleProperty(a){return function pe(u){Le||(Le=function pt(){return typeof document<"u"?document.body:null}()||{},de=!!Le.style&&"WebkitAppearance"in Le.style);let o=!0;return Le.style&&!function Ue(u){return"ebkit"==u.substring(1,6)}(u)&&(o=u in Le.style,!o&&de&&(o="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Le.style)),o}(a)}matchesElement(a,h){return!1}containsElement(a,h){return Fe(a,h)}getParentElement(a){return Wt(a)}query(a,h,y){return We(a,h,y)}computeStyle(a,h,y){return y||""}animate(a,h,y,w,L,K=[],ue){return new nn.ZN(y,w)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=R.Yz7({token:u,factory:u.\u0275fac}),u})(),jt=(()=>{class u{}return u.NOOP=new Xe,u})();const fn=1e3,yi="ng-enter",rr="ng-leave",tn="ng-trigger",$t=".ng-trigger",Cn="ng-animating",Un=".ng-animating";function Qn(u){if("number"==typeof u)return u;const o=u.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:gi(parseFloat(o[1]),o[2])}function gi(u,o){return"s"===o?u*fn:u}function Wn(u,o,a){return u.hasOwnProperty("duration")?u:function Vi(u,o,a){let y,w=0,L="";if("string"==typeof u){const K=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===K)return o.push(ai()),{duration:0,delay:0,easing:""};y=gi(parseFloat(K[1]),K[2]);const ue=K[3];null!=ue&&(w=gi(parseFloat(ue),K[4]));const Ie=K[5];Ie&&(L=Ie)}else y=u;if(!a){let K=!1,ue=o.length;y<0&&(o.push(function zt(){return new R.vHH(3100,!1)}()),K=!0),w<0&&(o.push(function Mt(){return new R.vHH(3101,!1)}()),K=!0),K&&o.splice(ue,0,ai())}return{duration:y,delay:w,easing:L}}(u,o,a)}function fi(u,o={}){return Object.keys(u).forEach(a=>{o[a]=u[a]}),o}function _r(u){const o=new Map;return Object.keys(u).forEach(a=>{o.set(a,u[a])}),o}function dr(u,o=new Map,a){if(a)for(let[h,y]of a)o.set(h,y);for(let[h,y]of u)o.set(h,y);return o}function ys(u,o,a){return a?o+":"+a+";":""}function Ki(u){let o="";for(let a=0;a<u.style.length;a++){const h=u.style.item(a);o+=ys(0,h,u.style.getPropertyValue(h))}for(const a in u.style)u.style.hasOwnProperty(a)&&!a.startsWith("_")&&(o+=ys(0,Et(a),u.style[a]));u.setAttribute("style",o)}function On(u,o,a){u.style&&(o.forEach((h,y)=>{const w=vt(y);a&&!a.has(y)&&a.set(y,u.style[w]),u.style[w]=h}),Sn()&&Ki(u))}function ci(u,o){u.style&&(o.forEach((a,h)=>{const y=vt(h);u.style[y]=""}),Sn()&&Ki(u))}function Yi(u){return Array.isArray(u)?1==u.length?u[0]:(0,nn.vP)(u):u}const Yr=new RegExp("{{\\s*(.+?)\\s*}}","g");function $i(u){let o=[];if("string"==typeof u){let a;for(;a=Yr.exec(u);)o.push(a[1]);Yr.lastIndex=0}return o}function hr(u,o,a){const h=u.toString(),y=h.replace(Yr,(w,L)=>{let K=o[L];return null==K&&(a.push(function Vt(u){return new R.vHH(3003,!1)}()),K=""),K.toString()});return y==h?u:y}function ki(u){const o=[];let a=u.next();for(;!a.done;)o.push(a.value),a=u.next();return o}const xt=/-+([a-z0-9])/g;function vt(u){return u.replace(xt,(...o)=>o[1].toUpperCase())}function Et(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yn(u,o,a){switch(o.type){case 7:return u.visitTrigger(o,a);case 0:return u.visitState(o,a);case 1:return u.visitTransition(o,a);case 2:return u.visitSequence(o,a);case 3:return u.visitGroup(o,a);case 4:return u.visitAnimate(o,a);case 5:return u.visitKeyframes(o,a);case 6:return u.visitStyle(o,a);case 8:return u.visitReference(o,a);case 9:return u.visitAnimateChild(o,a);case 10:return u.visitAnimateRef(o,a);case 11:return u.visitQuery(o,a);case 12:return u.visitStagger(o,a);default:throw function Ot(u){return new R.vHH(3004,!1)}()}}function wi(u,o){return window.getComputedStyle(u)[o]}const Zr="*";function fo(u,o){const a=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(h=>function js(u,o,a){if(":"==u[0]){const ue=function Uo(u,o){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,h)=>parseFloat(h)>parseFloat(a);case":decrement":return(a,h)=>parseFloat(h)<parseFloat(a);default:return o.push(function wt(u){return new R.vHH(3016,!1)}()),"* => *"}}(u,a);if("function"==typeof ue)return void o.push(ue);u=ue}const h=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return a.push(function Xn(u){return new R.vHH(3015,!1)}()),o;const y=h[1],w=h[2],L=h[3];o.push(Fr(y,L));"<"==w[0]&&!(y==Zr&&L==Zr)&&o.push(Fr(L,y))}(h,a,o)):a.push(u),a}const Ms=new Set(["true","1"]),Hs=new Set(["false","0"]);function Fr(u,o){const a=Ms.has(u)||Hs.has(u),h=Ms.has(o)||Hs.has(o);return(y,w)=>{let L=u==Zr||u==y,K=o==Zr||o==w;return!L&&a&&"boolean"==typeof y&&(L=y?Ms.has(u):Hs.has(u)),!K&&h&&"boolean"==typeof w&&(K=w?Ms.has(o):Hs.has(o)),L&&K}}const zr=new RegExp("s*:selfs*,?","g");function xr(u,o,a,h){return new vs(u).build(o,a,h)}class vs{constructor(o){this._driver=o}build(o,a,h){const y=new Zi(a);return this._resetContextStyleTimingState(y),Yn(this,Yi(o),y)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,a){let h=a.queryCount=0,y=a.depCount=0;const w=[],L=[];return"@"==o.name.charAt(0)&&a.errors.push(function dt(){return new R.vHH(3006,!1)}()),o.definitions.forEach(K=>{if(this._resetContextStyleTimingState(a),0==K.type){const ue=K,Ie=ue.name;Ie.toString().split(/\s*,\s*/).forEach(It=>{ue.name=It,w.push(this.visitState(ue,a))}),ue.name=Ie}else if(1==K.type){const ue=this.visitTransition(K,a);h+=ue.queryCount,y+=ue.depCount,L.push(ue)}else a.errors.push(function Ne(){return new R.vHH(3007,!1)}())}),{type:7,name:o.name,states:w,transitions:L,queryCount:h,depCount:y,options:null}}visitState(o,a){const h=this.visitStyle(o.styles,a),y=o.options&&o.options.params||null;if(h.containsDynamicStyles){const w=new Set,L=y||{};h.styles.forEach(K=>{K instanceof Map&&K.forEach(ue=>{$i(ue).forEach(Ie=>{L.hasOwnProperty(Ie)||w.add(Ie)})})}),w.size&&(ki(w.values()),a.errors.push(function ht(u,o){return new R.vHH(3008,!1)}()))}return{type:0,name:o.name,style:h,options:y?{params:y}:null}}visitTransition(o,a){a.queryCount=0,a.depCount=0;const h=Yn(this,Yi(o.animation),a);return{type:1,matchers:fo(o.expr,a.errors),animation:h,queryCount:a.queryCount,depCount:a.depCount,options:Pr(o.options)}}visitSequence(o,a){return{type:2,steps:o.steps.map(h=>Yn(this,h,a)),options:Pr(o.options)}}visitGroup(o,a){const h=a.currentTime;let y=0;const w=o.steps.map(L=>{a.currentTime=h;const K=Yn(this,L,a);return y=Math.max(y,a.currentTime),K});return a.currentTime=y,{type:3,steps:w,options:Pr(o.options)}}visitAnimate(o,a){const h=function Ca(u,o){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return ra(Wn(u,o).duration,0,"");const a=u;if(a.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=ra(0,0,"");return w.dynamic=!0,w.strValue=a,w}const y=Wn(a,o);return ra(y.duration,y.delay,y.easing)}(o.timings,a.errors);a.currentAnimateTimings=h;let y,w=o.styles?o.styles:(0,nn.oB)({});if(5==w.type)y=this.visitKeyframes(w,a);else{let L=o.styles,K=!1;if(!L){K=!0;const Ie={};h.easing&&(Ie.easing=h.easing),L=(0,nn.oB)(Ie)}a.currentTime+=h.duration+h.delay;const ue=this.visitStyle(L,a);ue.isEmptyStep=K,y=ue}return a.currentAnimateTimings=null,{type:4,timings:h,style:y,options:null}}visitStyle(o,a){const h=this._makeStyleAst(o,a);return this._validateStyleAst(h,a),h}_makeStyleAst(o,a){const h=[],y=Array.isArray(o.styles)?o.styles:[o.styles];for(let K of y)"string"==typeof K?K===nn.l3?h.push(K):a.errors.push(new R.vHH(3002,!1)):h.push(_r(K));let w=!1,L=null;return h.forEach(K=>{if(K instanceof Map&&(K.has("easing")&&(L=K.get("easing"),K.delete("easing")),!w))for(let ue of K.values())if(ue.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:h,easing:L,offset:o.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(o,a){const h=a.currentAnimateTimings;let y=a.currentTime,w=a.currentTime;h&&w>0&&(w-=h.duration+h.delay),o.styles.forEach(L=>{"string"!=typeof L&&L.forEach((K,ue)=>{const Ie=a.collectedStyles.get(a.currentQuerySelector),It=Ie.get(ue);let Nt=!0;It&&(w!=y&&w>=It.startTime&&y<=It.endTime&&(a.errors.push(function mt(u,o,a,h,y){return new R.vHH(3010,!1)}()),Nt=!1),w=It.startTime),Nt&&Ie.set(ue,{startTime:w,endTime:y}),a.options&&function ji(u,o,a){const h=o.params||{},y=$i(u);y.length&&y.forEach(w=>{h.hasOwnProperty(w)||a.push(function Bt(u){return new R.vHH(3001,!1)}())})}(K,a.options,a.errors)})})}visitKeyframes(o,a){const h={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function gt(){return new R.vHH(3011,!1)}()),h;let w=0;const L=[];let K=!1,ue=!1,Ie=0;const It=o.steps.map(vr=>{const Kr=this._makeStyleAst(vr,a);let Us=null!=Kr.offset?Kr.offset:function rs(u){if("string"==typeof u)return null;let o=null;if(Array.isArray(u))u.forEach(a=>{if(a instanceof Map&&a.has("offset")){const h=a;o=parseFloat(h.get("offset")),h.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const a=u;o=parseFloat(a.get("offset")),a.delete("offset")}return o}(Kr.styles),Jr=0;return null!=Us&&(w++,Jr=Kr.offset=Us),ue=ue||Jr<0||Jr>1,K=K||Jr<Ie,Ie=Jr,L.push(Jr),Kr});ue&&a.errors.push(function Gt(){return new R.vHH(3012,!1)}()),K&&a.errors.push(function Ke(){return new R.vHH(3200,!1)}());const Nt=o.steps.length;let an=0;w>0&&w<Nt?a.errors.push(function Pt(){return new R.vHH(3202,!1)}()):0==w&&(an=1/(Nt-1));const Dn=Nt-1,An=a.currentTime,qn=a.currentAnimateTimings,Ri=qn.duration;return It.forEach((vr,Kr)=>{const Us=an>0?Kr==Dn?1:an*Kr:L[Kr],Jr=Us*Ri;a.currentTime=An+qn.delay+Jr,qn.duration=Jr,this._validateStyleAst(vr,a),vr.offset=Us,h.styles.push(vr)}),h}visitReference(o,a){return{type:8,animation:Yn(this,Yi(o.animation),a),options:Pr(o.options)}}visitAnimateChild(o,a){return a.depCount++,{type:9,options:Pr(o.options)}}visitAnimateRef(o,a){return{type:10,animation:this.visitReference(o.animation,a),options:Pr(o.options)}}visitQuery(o,a){const h=a.currentQuerySelector,y=o.options||{};a.queryCount++,a.currentQuery=o;const[w,L]=function po(u){const o=!!u.split(/\s*,\s*/).find(a=>":self"==a);return o&&(u=u.replace(zr,"")),u=u.replace(/@\*/g,$t).replace(/@\w+/g,a=>$t+"-"+a.slice(1)).replace(/:animating/g,Un),[u,o]}(o.selector);a.currentQuerySelector=h.length?h+" "+w:w,q(a.collectedStyles,a.currentQuerySelector,new Map);const K=Yn(this,Yi(o.animation),a);return a.currentQuery=null,a.currentQuerySelector=h,{type:11,selector:w,limit:y.limit||0,optional:!!y.optional,includeSelf:L,animation:K,originalSelector:o.selector,options:Pr(o.options)}}visitStagger(o,a){a.currentQuery||a.errors.push(function ln(){return new R.vHH(3013,!1)}());const h="full"===o.timings?{duration:0,delay:0,easing:"full"}:Wn(o.timings,a.errors,!0);return{type:12,animation:Yn(this,Yi(o.animation),a),timings:h,options:null}}}class Zi{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pr(u){return u?(u=fi(u)).params&&(u.params=function jr(u){return u?fi(u):null}(u.params)):u={},u}function ra(u,o,a){return{duration:u,delay:o,easing:a}}function sa(u,o,a,h,y,w,L=null,K=!1){return{type:1,element:u,keyframes:o,preStyleProps:a,postStyleProps:h,duration:y,delay:w,totalTime:y+w,easing:L,subTimeline:K}}class xo{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,a){let h=this._map.get(o);h||this._map.set(o,h=[]),h.push(...a)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const Ba=new RegExp(":enter","g"),Is=new RegExp(":leave","g");function Va(u,o,a,h,y,w=new Map,L=new Map,K,ue,Ie=[]){return(new Zs).buildKeyframes(u,o,a,h,y,w,L,K,ue,Ie)}class Zs{buildKeyframes(o,a,h,y,w,L,K,ue,Ie,It=[]){Ie=Ie||new xo;const Nt=new So(o,a,Ie,y,w,It,[]);Nt.options=ue;const an=ue.delay?Qn(ue.delay):0;Nt.currentTimeline.delayNextStep(an),Nt.currentTimeline.setStyles([L],null,Nt.errors,ue),Yn(this,h,Nt);const Dn=Nt.timelines.filter(An=>An.containsAnimation());if(Dn.length&&K.size){let An;for(let qn=Dn.length-1;qn>=0;qn--){const Ri=Dn[qn];if(Ri.element===a){An=Ri;break}}An&&!An.allowOnlyTimelineStyles()&&An.setStyles([K],null,Nt.errors,ue)}return Dn.length?Dn.map(An=>An.buildKeyframes()):[sa(a,[],[],[],0,an,"",!1)]}visitTrigger(o,a){}visitState(o,a){}visitTransition(o,a){}visitAnimateChild(o,a){const h=a.subInstructions.get(a.element);if(h){const y=a.createSubContext(o.options),w=a.currentTimeline.currentTime,L=this._visitSubInstructions(h,y,y.options);w!=L&&a.transformIntoNewTimeline(L)}a.previousNode=o}visitAnimateRef(o,a){const h=a.createSubContext(o.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],a,h),this.visitReference(o.animation,h),a.transformIntoNewTimeline(h.currentTimeline.currentTime),a.previousNode=o}_applyAnimationRefDelays(o,a,h){for(const y of o){const w=y?.delay;if(w){const L="number"==typeof w?w:Qn(hr(w,y?.params??{},a.errors));h.delayNextStep(L)}}}_visitSubInstructions(o,a,h){let w=a.currentTimeline.currentTime;const L=null!=h.duration?Qn(h.duration):null,K=null!=h.delay?Qn(h.delay):null;return 0!==L&&o.forEach(ue=>{const Ie=a.appendInstructionToTimeline(ue,L,K);w=Math.max(w,Ie.duration+Ie.delay)}),w}visitReference(o,a){a.updateOptions(o.options,!0),Yn(this,o.animation,a),a.previousNode=o}visitSequence(o,a){const h=a.subContextCount;let y=a;const w=o.options;if(w&&(w.params||w.delay)&&(y=a.createSubContext(w),y.transformIntoNewTimeline(),null!=w.delay)){6==y.previousNode.type&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Os);const L=Qn(w.delay);y.delayNextStep(L)}o.steps.length&&(o.steps.forEach(L=>Yn(this,L,y)),y.currentTimeline.applyStylesToKeyframe(),y.subContextCount>h&&y.transformIntoNewTimeline()),a.previousNode=o}visitGroup(o,a){const h=[];let y=a.currentTimeline.currentTime;const w=o.options&&o.options.delay?Qn(o.options.delay):0;o.steps.forEach(L=>{const K=a.createSubContext(o.options);w&&K.delayNextStep(w),Yn(this,L,K),y=Math.max(y,K.currentTimeline.currentTime),h.push(K.currentTimeline)}),h.forEach(L=>a.currentTimeline.mergeTimelineCollectedStyles(L)),a.transformIntoNewTimeline(y),a.previousNode=o}_visitTiming(o,a){if(o.dynamic){const h=o.strValue;return Wn(a.params?hr(h,a.params,a.errors):h,a.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,a){const h=a.currentAnimateTimings=this._visitTiming(o.timings,a),y=a.currentTimeline;h.delay&&(a.incrementTime(h.delay),y.snapshotCurrentStyles());const w=o.style;5==w.type?this.visitKeyframes(w,a):(a.incrementTime(h.duration),this.visitStyle(w,a),y.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=o}visitStyle(o,a){const h=a.currentTimeline,y=a.currentAnimateTimings;!y&&h.hasCurrentStyleProperties()&&h.forwardFrame();const w=y&&y.easing||o.easing;o.isEmptyStep?h.applyEmptyStep(w):h.setStyles(o.styles,w,a.errors,a.options),a.previousNode=o}visitKeyframes(o,a){const h=a.currentAnimateTimings,y=a.currentTimeline.duration,w=h.duration,K=a.createSubContext().currentTimeline;K.easing=h.easing,o.styles.forEach(ue=>{K.forwardTime((ue.offset||0)*w),K.setStyles(ue.styles,ue.easing,a.errors,a.options),K.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(K),a.transformIntoNewTimeline(y+w),a.previousNode=o}visitQuery(o,a){const h=a.currentTimeline.currentTime,y=o.options||{},w=y.delay?Qn(y.delay):0;w&&(6===a.previousNode.type||0==h&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Os);let L=h;const K=a.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!y.optional,a.errors);a.currentQueryTotal=K.length;let ue=null;K.forEach((Ie,It)=>{a.currentQueryIndex=It;const Nt=a.createSubContext(o.options,Ie);w&&Nt.delayNextStep(w),Ie===a.element&&(ue=Nt.currentTimeline),Yn(this,o.animation,Nt),Nt.currentTimeline.applyStylesToKeyframe(),L=Math.max(L,Nt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(L),ue&&(a.currentTimeline.mergeTimelineCollectedStyles(ue),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=o}visitStagger(o,a){const h=a.parentContext,y=a.currentTimeline,w=o.timings,L=Math.abs(w.duration),K=L*(a.currentQueryTotal-1);let ue=L*a.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":ue=K-ue;break;case"full":ue=h.currentStaggerTime}const It=a.currentTimeline;ue&&It.delayNextStep(ue);const Nt=It.currentTime;Yn(this,o.animation,a),a.previousNode=o,h.currentStaggerTime=y.currentTime-Nt+(y.startTime-h.currentTimeline.startTime)}}const Os={};class So{constructor(o,a,h,y,w,L,K,ue){this._driver=o,this.element=a,this.subInstructions=h,this._enterClassName=y,this._leaveClassName=w,this.errors=L,this.timelines=K,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Os,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new Ps(this._driver,a,0),K.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,a){if(!o)return;const h=o;let y=this.options;null!=h.duration&&(y.duration=Qn(h.duration)),null!=h.delay&&(y.delay=Qn(h.delay));const w=h.params;if(w){let L=y.params;L||(L=this.options.params={}),Object.keys(w).forEach(K=>{(!a||!L.hasOwnProperty(K))&&(L[K]=hr(w[K],L,this.errors))})}}_copyOptions(){const o={};if(this.options){const a=this.options.params;if(a){const h=o.params={};Object.keys(a).forEach(y=>{h[y]=a[y]})}}return o}createSubContext(o=null,a,h){const y=a||this.element,w=new So(this._driver,y,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(y,h||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(o),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(o){return this.previousNode=Os,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,a,h){const y={duration:a??o.duration,delay:this.currentTimeline.currentTime+(h??0)+o.delay,easing:""},w=new Dl(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,y,o.stretchStartingKeyframe);return this.timelines.push(w),y}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,a,h,y,w,L){let K=[];if(y&&K.push(this.element),o.length>0){o=(o=o.replace(Ba,"."+this._enterClassName)).replace(Is,"."+this._leaveClassName);let Ie=this._driver.query(this.element,o,1!=h);0!==h&&(Ie=h<0?Ie.slice(Ie.length+h,Ie.length):Ie.slice(0,h)),K.push(...Ie)}return!w&&0==K.length&&L.push(function In(u){return new R.vHH(3014,!1)}()),K}}class Ps{constructor(o,a,h,y){this._driver=o,this.element=a,this.startTime=h,this._elementTimelineStylesLookup=y,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+o),a&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,a){return this.applyStylesToKeyframe(),new Ps(this._driver,o,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,a){this._localTimelineStyles.set(o,a),this._globalTimelineStyles.set(o,a),this._styleSummary.set(o,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[a,h]of this._globalTimelineStyles)this._backFill.set(a,h||nn.l3),this._currentKeyframe.set(a,nn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,a,h,y){a&&this._previousKeyframe.set("easing",a);const w=y&&y.params||{},L=function mo(u,o){const a=new Map;let h;return u.forEach(y=>{if("*"===y){h=h||o.keys();for(let w of h)a.set(w,nn.l3)}else dr(y,a)}),a}(o,this._globalTimelineStyles);for(let[K,ue]of L){const Ie=hr(ue,w,h);this._pendingStyles.set(K,Ie),this._localTimelineStyles.has(K)||this._backFill.set(K,this._globalTimelineStyles.get(K)??nn.l3),this._updateStyle(K,Ie)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,a)=>{this._currentKeyframe.set(a,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,o)}))}snapshotCurrentStyles(){for(let[o,a]of this._localTimelineStyles)this._pendingStyles.set(o,a),this._updateStyle(o,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let a in this._currentKeyframe)o.push(a);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((a,h)=>{const y=this._styleSummary.get(h);(!y||a.time>y.time)&&this._updateStyle(h,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,a=new Set,h=1===this._keyframes.size&&0===this.duration;let y=[];this._keyframes.forEach((K,ue)=>{const Ie=dr(K,new Map,this._backFill);Ie.forEach((It,Nt)=>{It===nn.k1?o.add(Nt):It===nn.l3&&a.add(Nt)}),h||Ie.set("offset",ue/this.duration),y.push(Ie)});const w=o.size?ki(o.values()):[],L=a.size?ki(a.values()):[];if(h){const K=y[0],ue=new Map(K);K.set("offset",0),ue.set("offset",1),y=[K,ue]}return sa(this.element,y,w,L,this.duration,this.startTime,this.easing,!1)}}class Dl extends Ps{constructor(o,a,h,y,w,L,K=!1){super(o,a,L.delay),this.keyframes=h,this.preStyleProps=y,this.postStyleProps=w,this._stretchStartingKeyframe=K,this.timings={duration:L.duration,delay:L.delay,easing:L.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:a,duration:h,easing:y}=this.timings;if(this._stretchStartingKeyframe&&a){const w=[],L=h+a,K=a/L,ue=dr(o[0]);ue.set("offset",0),w.push(ue);const Ie=dr(o[0]);Ie.set("offset",oa(K)),w.push(Ie);const It=o.length-1;for(let Nt=1;Nt<=It;Nt++){let an=dr(o[Nt]);const Dn=an.get("offset");an.set("offset",oa((a+Dn*h)/L)),w.push(an)}h=L,a=0,y="",o=w}return sa(this.element,o,this.preStyleProps,this.postStyleProps,h,a,y,!0)}}function oa(u,o=3){const a=Math.pow(10,o-1);return Math.round(u*a)/a}class ds{}const Ua=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class la extends ds{normalizePropertyName(o,a){return vt(o)}normalizeStyleValue(o,a,h,y){let w="";const L=h.toString().trim();if(Ua.has(a)&&0!==h&&"0"!==h)if("number"==typeof h)w="px";else{const K=h.match(/^[+-]?[\d\.]+([a-z]*)$/);K&&0==K[1].length&&y.push(function rt(u,o){return new R.vHH(3005,!1)}())}return L+w}}function Ia(u,o,a,h,y,w,L,K,ue,Ie,It,Nt,an){return{type:0,element:u,triggerName:o,isRemovalTransition:y,fromState:a,fromStyles:w,toState:h,toStyles:L,timelines:K,queriedElements:ue,preStyleProps:Ie,postStyleProps:It,totalTime:Nt,errors:an}}const $s={};class Da{constructor(o,a,h){this._triggerName=o,this.ast=a,this._stateStyles=h}match(o,a,h,y){return function Ic(u,o,a,h,y){return u.some(w=>w(o,a,h,y))}(this.ast.matchers,o,a,h,y)}buildStyles(o,a,h){let y=this._stateStyles.get("*");return void 0!==o&&(y=this._stateStyles.get(o?.toString())||y),y?y.buildStyles(a,h):new Map}build(o,a,h,y,w,L,K,ue,Ie,It){const Nt=[],an=this.ast.options&&this.ast.options.params||$s,An=this.buildStyles(h,K&&K.params||$s,Nt),qn=ue&&ue.params||$s,Ri=this.buildStyles(y,qn,Nt),vr=new Set,Kr=new Map,Us=new Map,Jr="void"===y,Qa={params:go(qn,an),delay:this.ast.options?.delay},Kc=It?[]:Va(o,a,this.ast.animation,w,L,An,Ri,Qa,Ie,Nt);let zs=0;if(Kc.forEach(Yc=>{zs=Math.max(Yc.duration+Yc.delay,zs)}),Nt.length)return Ia(a,this._triggerName,h,y,Jr,An,Ri,[],[],Kr,Us,zs,Nt);Kc.forEach(Yc=>{const Zc=Yc.element,Up=q(Kr,Zc,new Set);Yc.preStyleProps.forEach(wc=>Up.add(wc));const $h=q(Us,Zc,new Set);Yc.postStyleProps.forEach(wc=>$h.add(wc)),Zc!==a&&vr.add(Zc)});const Cl=ki(vr.values());return Ia(a,this._triggerName,h,y,Jr,An,Ri,Kc,Cl,Kr,Us,zs)}}function go(u,o){const a=fi(o);for(const h in u)u.hasOwnProperty(h)&&null!=u[h]&&(a[h]=u[h]);return a}class Ds{constructor(o,a,h){this.styles=o,this.defaultParams=a,this.normalizer=h}buildStyles(o,a){const h=new Map,y=fi(this.defaultParams);return Object.keys(o).forEach(w=>{const L=o[w];null!==L&&(y[w]=L)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((L,K)=>{L&&(L=hr(L,y,a));const ue=this.normalizer.normalizePropertyName(K,a);L=this.normalizer.normalizeStyleValue(K,ue,L,a),h.set(K,L)})}),h}}class zo{constructor(o,a,h){this.name=o,this.ast=a,this._normalizer=h,this.transitionFactories=[],this.states=new Map,a.states.forEach(y=>{this.states.set(y.name,new Ds(y.style,y.options&&y.options.params||{},h))}),fr(this.states,"true","1"),fr(this.states,"false","0"),a.transitions.forEach(y=>{this.transitionFactories.push(new Da(o,y,this.states))}),this.fallbackTransition=function ca(u,o,a){return new Da(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(L,K)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,a,h,y){return this.transitionFactories.find(L=>L.match(o,a,h,y))||null}matchStyles(o,a,h){return this.fallbackTransition.buildStyles(o,a,h)}}function fr(u,o,a){u.has(o)?u.has(a)||u.set(a,u.get(o)):u.has(a)&&u.set(o,u.get(a))}const Tr=new xo;class jo{constructor(o,a,h){this.bodyNode=o,this._driver=a,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,a){const h=[],y=[],w=xr(this._driver,a,h,y);if(h.length)throw function Ae(u){return new R.vHH(3503,!1)}();this._animations.set(o,w)}_buildPlayer(o,a,h){const y=o.element,w=ii(0,this._normalizer,0,o.keyframes,a,h);return this._driver.animate(y,w,o.duration,o.delay,o.easing,[],!0)}create(o,a,h={}){const y=[],w=this._animations.get(o);let L;const K=new Map;if(w?(L=Va(this._driver,a,w,yi,rr,new Map,new Map,h,Tr,y),L.forEach(It=>{const Nt=q(K,It.element,new Map);It.postStyleProps.forEach(an=>Nt.set(an,null))})):(y.push(function ft(){return new R.vHH(3300,!1)}()),L=[]),y.length)throw function Rt(u){return new R.vHH(3504,!1)}();K.forEach((It,Nt)=>{It.forEach((an,Dn)=>{It.set(Dn,this._driver.computeStyle(Nt,Dn,nn.l3))})});const Ie=dn(L.map(It=>{const Nt=K.get(It.element);return this._buildPlayer(It,new Map,Nt)}));return this._playersById.set(o,Ie),Ie.onDestroy(()=>this.destroy(o)),this.players.push(Ie),Ie}destroy(o){const a=this._getPlayer(o);a.destroy(),this._playersById.delete(o);const h=this.players.indexOf(a);h>=0&&this.players.splice(h,1)}_getPlayer(o){const a=this._playersById.get(o);if(!a)throw function Ht(u){return new R.vHH(3301,!1)}();return a}listen(o,a,h,y){const w=oe(a,"","","");return Dt(this._getPlayer(o),h,w,y),()=>{}}command(o,a,h,y){if("register"==h)return void this.register(o,y[0]);if("create"==h)return void this.create(o,a,y[0]||{});const w=this._getPlayer(o);switch(h){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(y[0]));break;case"destroy":this.destroy(o)}}}const Di="ng-animate-queued",ua="ng-animate-disabled",qs=[],_o={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ss="__ng_removed";class os{get params(){return this.options.params}constructor(o,a=""){this.namespaceId=a;const h=o&&o.hasOwnProperty("value");if(this.value=function sn(u){return u??null}(h?o.value:o),h){const w=fi(o);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const a=o.params;if(a){const h=this.options.params;Object.keys(a).forEach(y=>{null==h[y]&&(h[y]=a[y])})}}}const si="void",Qs=new os(si);class Q{constructor(o,a,h){this.id=o,this.hostElement=a,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,Sr(a,this._hostClassName)}listen(o,a,h,y){if(!this._triggers.has(a))throw function _t(u,o){return new R.vHH(3302,!1)}();if(null==h||0==h.length)throw function Yt(u){return new R.vHH(3303,!1)}();if(!function qr(u){return"start"==u||"done"==u}(h))throw function Te(u,o){return new R.vHH(3400,!1)}();const w=q(this._elementListeners,o,[]),L={name:a,phase:h,callback:y};w.push(L);const K=q(this._engine.statesByElement,o,new Map);return K.has(a)||(Sr(o,tn),Sr(o,tn+"-"+a),K.set(a,Qs)),()=>{this._engine.afterFlush(()=>{const ue=w.indexOf(L);ue>=0&&w.splice(ue,1),this._triggers.has(a)||K.delete(a)})}}register(o,a){return!this._triggers.has(o)&&(this._triggers.set(o,a),!0)}_getTrigger(o){const a=this._triggers.get(o);if(!a)throw function $e(u){return new R.vHH(3401,!1)}();return a}trigger(o,a,h,y=!0){const w=this._getTrigger(a),L=new z(this.id,a,o);let K=this._engine.statesByElement.get(o);K||(Sr(o,tn),Sr(o,tn+"-"+a),this._engine.statesByElement.set(o,K=new Map));let ue=K.get(a);const Ie=new os(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&ue&&Ie.absorbOptions(ue.options),K.set(a,Ie),ue||(ue=Qs),Ie.value!==si&&ue.value===Ie.value){if(!function tl(u,o){const a=Object.keys(u),h=Object.keys(o);if(a.length!=h.length)return!1;for(let y=0;y<a.length;y++){const w=a[y];if(!o.hasOwnProperty(w)||u[w]!==o[w])return!1}return!0}(ue.params,Ie.params)){const qn=[],Ri=w.matchStyles(ue.value,ue.params,qn),vr=w.matchStyles(Ie.value,Ie.params,qn);qn.length?this._engine.reportError(qn):this._engine.afterFlush(()=>{ci(o,Ri),On(o,vr)})}return}const an=q(this._engine.playersByElement,o,[]);an.forEach(qn=>{qn.namespaceId==this.id&&qn.triggerName==a&&qn.queued&&qn.destroy()});let Dn=w.matchTransition(ue.value,Ie.value,o,Ie.params),An=!1;if(!Dn){if(!y)return;Dn=w.fallbackTransition,An=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:a,transition:Dn,fromState:ue,toState:Ie,player:L,isFallbackTransition:An}),An||(Sr(o,Di),L.onStart(()=>{yr(o,Di)})),L.onDone(()=>{let qn=this.players.indexOf(L);qn>=0&&this.players.splice(qn,1);const Ri=this._engine.playersByElement.get(o);if(Ri){let vr=Ri.indexOf(L);vr>=0&&Ri.splice(vr,1)}}),this.players.push(L),an.push(L),L}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(a=>a.delete(o)),this._elementListeners.forEach((a,h)=>{this._elementListeners.set(h,a.filter(y=>y.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const a=this._engine.playersByElement.get(o);a&&(a.forEach(h=>h.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,a){const h=this._engine.driver.query(o,$t,!0);h.forEach(y=>{if(y[ss])return;const w=this._engine.fetchNamespacesByElement(y);w.size?w.forEach(L=>L.triggerLeaveAnimation(y,a,!1,!0)):this.clearElementCache(y)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(y=>this.clearElementCache(y)))}triggerLeaveAnimation(o,a,h,y){const w=this._engine.statesByElement.get(o),L=new Map;if(w){const K=[];if(w.forEach((ue,Ie)=>{if(L.set(Ie,ue.value),this._triggers.has(Ie)){const It=this.trigger(o,Ie,si,y);It&&K.push(It)}}),K.length)return this._engine.markElementAsRemoved(this.id,o,!0,a,L),h&&dn(K).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const a=this._elementListeners.get(o),h=this._engine.statesByElement.get(o);if(a&&h){const y=new Set;a.forEach(w=>{const L=w.name;if(y.has(L))return;y.add(L);const ue=this._triggers.get(L).fallbackTransition,Ie=h.get(L)||Qs,It=new os(si),Nt=new z(this.id,L,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:L,transition:ue,fromState:Ie,toState:It,player:Nt,isFallbackTransition:!0})})}}removeNode(o,a){const h=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,a),this.triggerLeaveAnimation(o,a,!0))return;let y=!1;if(h.totalAnimations){const w=h.players.length?h.playersByQueriedElement.get(o):[];if(w&&w.length)y=!0;else{let L=o;for(;L=L.parentNode;)if(h.statesByElement.get(L)){y=!0;break}}}if(this.prepareLeaveAnimationListeners(o),y)h.markElementAsRemoved(this.id,o,!1,a);else{const w=o[ss];(!w||w===_o)&&(h.afterFlush(()=>this.clearElementCache(o)),h.destroyInnerAnimations(o),h._onRemovalComplete(o,a))}}insertNode(o,a){Sr(o,this._hostClassName)}drainQueuedTransitions(o){const a=[];return this._queue.forEach(h=>{const y=h.player;if(y.destroyed)return;const w=h.element,L=this._elementListeners.get(w);L&&L.forEach(K=>{if(K.name==h.triggerName){const ue=oe(w,h.triggerName,h.fromState.value,h.toState.value);ue._data=o,Dt(h.player,K.phase,ue,K.callback)}}),y.markedForDestroy?this._engine.afterFlush(()=>{y.destroy()}):a.push(h)}),this._queue=[],a.sort((h,y)=>{const w=h.transition.ast.depCount,L=y.transition.ast.depCount;return 0==w||0==L?w-L:this._engine.driver.containsElement(h.element,y.element)?1:-1})}destroy(o){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}elementContainsData(o){let a=!1;return this._elementListeners.has(o)&&(a=!0),a=!!this._queue.find(h=>h.element===o)||a,a}}class W{_onRemovalComplete(o,a){this.onRemovalComplete(o,a)}constructor(o,a,h){this.bodyNode=o,this.driver=a,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(y,w)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(a=>{a.players.forEach(h=>{h.queued&&o.push(h)})}),o}createNamespace(o,a){const h=new Q(o,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(h,a):(this.newHostElements.set(a,h),this.collectEnterElement(a)),this._namespaceLookup[o]=h}_balanceNamespaceList(o,a){const h=this._namespaceList,y=this.namespacesByHostElement;if(h.length-1>=0){let L=!1,K=this.driver.getParentElement(a);for(;K;){const ue=y.get(K);if(ue){const Ie=h.indexOf(ue);h.splice(Ie+1,0,o),L=!0;break}K=this.driver.getParentElement(K)}L||h.unshift(o)}else h.push(o);return y.set(a,o),o}register(o,a){let h=this._namespaceLookup[o];return h||(h=this.createNamespace(o,a)),h}registerTrigger(o,a,h){let y=this._namespaceLookup[o];y&&y.register(a,h)&&this.totalAnimations++}destroy(o,a){if(!o)return;const h=this._fetchNamespace(o);this.afterFlush(()=>{this.namespacesByHostElement.delete(h.hostElement),delete this._namespaceLookup[o];const y=this._namespaceList.indexOf(h);y>=0&&this._namespaceList.splice(y,1)}),this.afterFlushAnimationsDone(()=>h.destroy(a))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const a=new Set,h=this.statesByElement.get(o);if(h)for(let y of h.values())if(y.namespaceId){const w=this._fetchNamespace(y.namespaceId);w&&a.add(w)}return a}trigger(o,a,h,y){if(Kn(a)){const w=this._fetchNamespace(o);if(w)return w.trigger(a,h,y),!0}return!1}insertNode(o,a,h,y){if(!Kn(a))return;const w=a[ss];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const L=this.collectedLeaveElements.indexOf(a);L>=0&&this.collectedLeaveElements.splice(L,1)}if(o){const L=this._fetchNamespace(o);L&&L.insertNode(a,h)}y&&this.collectEnterElement(a)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,a){a?this.disabledNodes.has(o)||(this.disabledNodes.add(o),Sr(o,ua)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),yr(o,ua))}removeNode(o,a,h,y){if(Kn(a)){const w=o?this._fetchNamespace(o):null;if(w?w.removeNode(a,y):this.markElementAsRemoved(o,a,!1,y),h){const L=this.namespacesByHostElement.get(a);L&&L.id!==o&&L.removeNode(a,y)}}else this._onRemovalComplete(a,y)}markElementAsRemoved(o,a,h,y,w){this.collectedLeaveElements.push(a),a[ss]={namespaceId:o,setForRemoval:y,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:w}}listen(o,a,h,y,w){return Kn(a)?this._fetchNamespace(o).listen(a,h,y,w):()=>{}}_buildInstruction(o,a,h,y,w){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,h,y,o.fromState.options,o.toState.options,a,w)}destroyInnerAnimations(o){let a=this.driver.query(o,$t,!0);a.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(o,Un,!0),a.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(o){const a=this.playersByElement.get(o);a&&a.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(o){const a=this.playersByQueriedElement.get(o);a&&a.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return dn(this.players).onDone(()=>o());o()})}processLeaveNode(o){const a=o[ss];if(a&&a.setForRemoval){if(o[ss]=_o,a.namespaceId){this.destroyInnerAnimations(o);const h=this._fetchNamespace(a.namespaceId);h&&h.clearElementCache(o)}this._onRemovalComplete(o,a.setForRemoval)}o.classList?.contains(ua)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(o=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,y)=>this._balanceNamespaceList(h,y)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Sr(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{a=this._flushAnimations(h,o)}finally{for(let y=0;y<h.length;y++)h[y]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],a.length?dn(a).onDone(()=>{h.forEach(y=>y())}):h.forEach(y=>y())}}reportError(o){throw function ce(u){return new R.vHH(3402,!1)}()}_flushAnimations(o,a){const h=new xo,y=[],w=new Map,L=[],K=new Map,ue=new Map,Ie=new Map,It=new Set;this.disabledNodes.forEach(oi=>{It.add(oi);const _i=this.driver.query(oi,".ng-animate-queued",!0);for(let Ai=0;Ai<_i.length;Ai++)It.add(_i[Ai])});const Nt=this.bodyNode,an=Array.from(this.statesByElement.keys()),Dn=Xs(an,this.collectedEnterElements),An=new Map;let qn=0;Dn.forEach((oi,_i)=>{const Ai=yi+qn++;An.set(_i,Ai),oi.forEach(br=>Sr(br,Ai))});const Ri=[],vr=new Set,Kr=new Set;for(let oi=0;oi<this.collectedLeaveElements.length;oi++){const _i=this.collectedLeaveElements[oi],Ai=_i[ss];Ai&&Ai.setForRemoval&&(Ri.push(_i),vr.add(_i),Ai.hasAnimation?this.driver.query(_i,".ng-star-inserted",!0).forEach(br=>vr.add(br)):Kr.add(_i))}const Us=new Map,Jr=Xs(an,Array.from(vr));Jr.forEach((oi,_i)=>{const Ai=rr+qn++;Us.set(_i,Ai),oi.forEach(br=>Sr(br,Ai))}),o.push(()=>{Dn.forEach((oi,_i)=>{const Ai=An.get(_i);oi.forEach(br=>yr(br,Ai))}),Jr.forEach((oi,_i)=>{const Ai=Us.get(_i);oi.forEach(br=>yr(br,Ai))}),Ri.forEach(oi=>{this.processLeaveNode(oi)})});const Qa=[],Kc=[];for(let oi=this._namespaceList.length-1;oi>=0;oi--)this._namespaceList[oi].drainQueuedTransitions(a).forEach(Ai=>{const br=Ai.player,Vo=Ai.element;if(Qa.push(br),this.collectedEnterElements.length){const ta=Vo[ss];if(ta&&ta.setForMove){if(ta.previousTriggersValues&&ta.previousTriggersValues.has(Ai.triggerName)){const rd=ta.previousTriggersValues.get(Ai.triggerName),Xa=this.statesByElement.get(Ai.element);if(Xa&&Xa.has(Ai.triggerName)){const Du=Xa.get(Ai.triggerName);Du.value=rd,Xa.set(Ai.triggerName,Du)}}return void br.destroy()}}const qc=!Nt||!this.driver.containsElement(Nt,Vo),Il=Us.get(Vo),Qc=An.get(Vo),_s=this._buildInstruction(Ai,h,Qc,Il,qc);if(_s.errors&&_s.errors.length)return void Kc.push(_s);if(qc)return br.onStart(()=>ci(Vo,_s.fromStyles)),br.onDestroy(()=>On(Vo,_s.toStyles)),void y.push(br);if(Ai.isFallbackTransition)return br.onStart(()=>ci(Vo,_s.fromStyles)),br.onDestroy(()=>On(Vo,_s.toStyles)),void y.push(br);const Gm=[];_s.timelines.forEach(ta=>{ta.stretchStartingKeyframe=!0,this.disabledNodes.has(ta.element)||Gm.push(ta)}),_s.timelines=Gm,h.append(Vo,_s.timelines),L.push({instruction:_s,player:br,element:Vo}),_s.queriedElements.forEach(ta=>q(K,ta,[]).push(br)),_s.preStyleProps.forEach((ta,rd)=>{if(ta.size){let Xa=ue.get(rd);Xa||ue.set(rd,Xa=new Set),ta.forEach((Du,zp)=>Xa.add(zp))}}),_s.postStyleProps.forEach((ta,rd)=>{let Xa=Ie.get(rd);Xa||Ie.set(rd,Xa=new Set),ta.forEach((Du,zp)=>Xa.add(zp))})});if(Kc.length){const oi=[];Kc.forEach(_i=>{oi.push(function yt(u,o){return new R.vHH(3505,!1)}())}),Qa.forEach(_i=>_i.destroy()),this.reportError(oi)}const zs=new Map,Cl=new Map;L.forEach(oi=>{const _i=oi.element;h.has(_i)&&(Cl.set(_i,_i),this._beforeAnimationBuild(oi.player.namespaceId,oi.instruction,zs))}),y.forEach(oi=>{const _i=oi.element;this._getPreviousPlayers(_i,!1,oi.namespaceId,oi.triggerName,null).forEach(br=>{q(zs,_i,[]).push(br),br.destroy()})});const Yc=Ri.filter(oi=>za(oi,ue,Ie)),Zc=new Map;di(Zc,this.driver,Kr,Ie,nn.l3).forEach(oi=>{za(oi,ue,Ie)&&Yc.push(oi)});const $h=new Map;Dn.forEach((oi,_i)=>{di($h,this.driver,new Set(oi),ue,nn.k1)}),Yc.forEach(oi=>{const _i=Zc.get(oi),Ai=$h.get(oi);Zc.set(oi,new Map([...Array.from(_i?.entries()??[]),...Array.from(Ai?.entries()??[])]))});const wc=[],s_=[],id={};L.forEach(oi=>{const{element:_i,player:Ai,instruction:br}=oi;if(h.has(_i)){if(It.has(_i))return Ai.onDestroy(()=>On(_i,br.toStyles)),Ai.disabled=!0,Ai.overrideTotalTime(br.totalTime),void y.push(Ai);let Vo=id;if(Cl.size>1){let Il=_i;const Qc=[];for(;Il=Il.parentNode;){const _s=Cl.get(Il);if(_s){Vo=_s;break}Qc.push(Il)}Qc.forEach(_s=>Cl.set(_s,Vo))}const qc=this._buildAnimation(Ai.namespaceId,br,zs,w,$h,Zc);if(Ai.setRealPlayer(qc),Vo===id)wc.push(Ai);else{const Il=this.playersByElement.get(Vo);Il&&Il.length&&(Ai.parentPlayer=dn(Il)),y.push(Ai)}}else ci(_i,br.fromStyles),Ai.onDestroy(()=>On(_i,br.toStyles)),s_.push(Ai),It.has(_i)&&y.push(Ai)}),s_.forEach(oi=>{const _i=w.get(oi.element);if(_i&&_i.length){const Ai=dn(_i);oi.setRealPlayer(Ai)}}),y.forEach(oi=>{oi.parentPlayer?oi.syncPlayerEvents(oi.parentPlayer):oi.destroy()});for(let oi=0;oi<Ri.length;oi++){const _i=Ri[oi],Ai=_i[ss];if(yr(_i,rr),Ai&&Ai.hasAnimation)continue;let br=[];if(K.size){let qc=K.get(_i);qc&&qc.length&&br.push(...qc);let Il=this.driver.query(_i,Un,!0);for(let Qc=0;Qc<Il.length;Qc++){let _s=K.get(Il[Qc]);_s&&_s.length&&br.push(..._s)}}const Vo=br.filter(qc=>!qc.destroyed);Vo.length?ql(this,_i,Vo):this.processLeaveNode(_i)}return Ri.length=0,wc.forEach(oi=>{this.players.push(oi),oi.onDone(()=>{oi.destroy();const _i=this.players.indexOf(oi);this.players.splice(_i,1)}),oi.play()}),wc}elementContainsData(o,a){let h=!1;const y=a[ss];return y&&y.setForRemoval&&(h=!0),this.playersByElement.has(a)&&(h=!0),this.playersByQueriedElement.has(a)&&(h=!0),this.statesByElement.has(a)&&(h=!0),this._fetchNamespace(o).elementContainsData(a)||h}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,a,h,y,w){let L=[];if(a){const K=this.playersByQueriedElement.get(o);K&&(L=K)}else{const K=this.playersByElement.get(o);if(K){const ue=!w||w==si;K.forEach(Ie=>{Ie.queued||!ue&&Ie.triggerName!=y||L.push(Ie)})}}return(h||y)&&(L=L.filter(K=>!(h&&h!=K.namespaceId||y&&y!=K.triggerName))),L}_beforeAnimationBuild(o,a,h){const w=a.element,L=a.isRemovalTransition?void 0:o,K=a.isRemovalTransition?void 0:a.triggerName;for(const ue of a.timelines){const Ie=ue.element,It=Ie!==w,Nt=q(h,Ie,[]);this._getPreviousPlayers(Ie,It,L,K,a.toState).forEach(Dn=>{const An=Dn.getRealPlayer();An.beforeDestroy&&An.beforeDestroy(),Dn.destroy(),Nt.push(Dn)})}ci(w,a.fromStyles)}_buildAnimation(o,a,h,y,w,L){const K=a.triggerName,ue=a.element,Ie=[],It=new Set,Nt=new Set,an=a.timelines.map(An=>{const qn=An.element;It.add(qn);const Ri=qn[ss];if(Ri&&Ri.removedBeforeQueried)return new nn.ZN(An.duration,An.delay);const vr=qn!==ue,Kr=function da(u){const o=[];return xs(u,o),o}((h.get(qn)||qs).map(zs=>zs.getRealPlayer())).filter(zs=>!!zs.element&&zs.element===qn),Us=w.get(qn),Jr=L.get(qn),Qa=ii(0,this._normalizer,0,An.keyframes,Us,Jr),Kc=this._buildPlayer(An,Qa,Kr);if(An.subTimeline&&y&&Nt.add(qn),vr){const zs=new z(o,K,qn);zs.setRealPlayer(Kc),Ie.push(zs)}return Kc});Ie.forEach(An=>{q(this.playersByQueriedElement,An.element,[]).push(An),An.onDone(()=>function Ee(u,o,a){let h=u.get(o);if(h){if(h.length){const y=h.indexOf(a);h.splice(y,1)}0==h.length&&u.delete(o)}return h}(this.playersByQueriedElement,An.element,An))}),It.forEach(An=>Sr(An,Cn));const Dn=dn(an);return Dn.onDestroy(()=>{It.forEach(An=>yr(An,Cn)),On(ue,a.toStyles)}),Nt.forEach(An=>{q(y,An,[]).push(Dn)}),Dn}_buildPlayer(o,a,h){return a.length>0?this.driver.animate(o.element,a,o.duration,o.delay,o.easing,h):new nn.ZN(o.duration,o.delay)}}class z{constructor(o,a,h){this.namespaceId=o,this.triggerName=a,this.element=h,this._player=new nn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((a,h)=>{a.forEach(y=>Dt(o,h,void 0,y))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const a=this._player;a.triggerCallback&&o.onStart(()=>a.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,a){q(this._queuedCallbacks,o,[]).push(a)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const a=this._player;a.triggerCallback&&a.triggerCallback(o)}}function Kn(u){return u&&1===u.nodeType}function on(u,o){const a=u.style.display;return u.style.display=o??"none",a}function di(u,o,a,h,y){const w=[];a.forEach(ue=>w.push(on(ue)));const L=[];h.forEach((ue,Ie)=>{const It=new Map;ue.forEach(Nt=>{const an=o.computeStyle(Ie,Nt,y);It.set(Nt,an),(!an||0==an.length)&&(Ie[ss]=hs,L.push(Ie))}),u.set(Ie,It)});let K=0;return a.forEach(ue=>on(ue,w[K++])),L}function Xs(u,o){const a=new Map;if(u.forEach(K=>a.set(K,[])),0==o.length)return a;const h=1,y=new Set(o),w=new Map;function L(K){if(!K)return h;let ue=w.get(K);if(ue)return ue;const Ie=K.parentNode;return ue=a.has(Ie)?Ie:y.has(Ie)?h:L(Ie),w.set(K,ue),ue}return o.forEach(K=>{const ue=L(K);ue!==h&&a.get(ue).push(K)}),a}function Sr(u,o){u.classList?.add(o)}function yr(u,o){u.classList?.remove(o)}function ql(u,o,a){dn(a).onDone(()=>u.processLeaveNode(o))}function xs(u,o){for(let a=0;a<u.length;a++){const h=u[a];h instanceof nn.ZE?xs(h.players,o):o.push(h)}}function za(u,o,a){const h=a.get(u);if(!h)return!1;let y=o.get(u);return y?h.forEach(w=>y.add(w)):o.set(u,h),a.delete(u),!0}class ja{constructor(o,a,h){this.bodyNode=o,this._driver=a,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(y,w)=>{},this._transitionEngine=new W(o,a,h),this._timelineEngine=new jo(o,a,h),this._transitionEngine.onRemovalComplete=(y,w)=>this.onRemovalComplete(y,w)}registerTrigger(o,a,h,y,w){const L=o+"-"+y;let K=this._triggerCache[L];if(!K){const ue=[],Ie=[],It=xr(this._driver,w,ue,Ie);if(ue.length)throw function xe(u,o){return new R.vHH(3404,!1)}();K=function lr(u,o,a){return new zo(u,o,a)}(y,It,this._normalizer),this._triggerCache[L]=K}this._transitionEngine.registerTrigger(a,y,K)}register(o,a){this._transitionEngine.register(o,a)}destroy(o,a){this._transitionEngine.destroy(o,a)}onInsert(o,a,h,y){this._transitionEngine.insertNode(o,a,h,y)}onRemove(o,a,h,y){this._transitionEngine.removeNode(o,a,y||!1,h)}disableAnimations(o,a){this._transitionEngine.markElementAsDisabled(o,a)}process(o,a,h,y){if("@"==h.charAt(0)){const[w,L]=N(h);this._timelineEngine.command(w,a,L,y)}else this._transitionEngine.trigger(o,a,h,y)}listen(o,a,h,y,w){if("@"==h.charAt(0)){const[L,K]=N(h);return this._timelineEngine.listen(L,a,K,w)}return this._transitionEngine.listen(o,a,h,y,w)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Js=(()=>{class u{constructor(a,h,y){this._element=a,this._startStyles=h,this._endStyles=y,this._state=0;let w=u.initialStylesByElement.get(a);w||u.initialStylesByElement.set(a,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&On(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(On(this._element,this._initialStyles),this._endStyles&&(On(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(ci(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),On(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function Hr(u){let o=null;return u.forEach((a,h)=>{(function Ts(u){return"display"===u||"position"===u})(h)&&(o=o||new Map,o.set(h,a))}),o}class eo{constructor(o,a,h,y){this.element=o,this.keyframes=a,this.options=h,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const a=[];return o.forEach(h=>{a.push(Object.fromEntries(h))}),a}_triggerWebAnimation(o,a,h){return o.animate(this._convertKeyframesToObject(a),h)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,y)=>{"offset"!==y&&o.set(y,this._finished?h:wi(this.element,y))}),this.currentSnapshot=o}triggerCallback(o){const a="start"===o?this._onStartFns:this._onDoneFns;a.forEach(h=>h()),a.length=0}}class yo{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,a){return!1}containsElement(o,a){return Fe(o,a)}getParentElement(o){return Wt(o)}query(o,a,h){return We(o,a,h)}computeStyle(o,a,h){return window.getComputedStyle(o)[a]}animate(o,a,h,y,w,L=[]){const ue={duration:h,delay:y,fill:0==y?"both":"forwards"};w&&(ue.easing=w);const Ie=new Map,It=L.filter(Dn=>Dn instanceof eo);(function pn(u,o){return 0===u||0===o})(h,y)&&It.forEach(Dn=>{Dn.currentSnapshot.forEach((An,qn)=>Ie.set(qn,An))});let Nt=function Dr(u){return u.length?u[0]instanceof Map?u:u.map(o=>_r(o)):[]}(a).map(Dn=>dr(Dn));Nt=function Tn(u,o,a){if(a.size&&o.length){let h=o[0],y=[];if(a.forEach((w,L)=>{h.has(L)||y.push(L),h.set(L,w)}),y.length)for(let w=1;w<o.length;w++){let L=o[w];y.forEach(K=>L.set(K,wi(u,K)))}}return o}(o,Nt,Ie);const an=function Ho(u,o){let a=null,h=null;return Array.isArray(o)&&o.length?(a=Hr(o[0]),o.length>1&&(h=Hr(o[o.length-1]))):o instanceof Map&&(a=Hr(o)),a||h?new Js(u,a,h):null}(o,Nt);return new eo(o,Nt,ue,an)}}let Ss=(()=>{class u extends nn._j{constructor(a,h){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(h.body,{id:"0",encapsulation:R.ifc.None,styles:[],data:{animation:[]}})}build(a){const h=this._nextAnimationId.toString();this._nextAnimationId++;const y=Array.isArray(a)?(0,nn.vP)(a):a;return xl(this._renderer,null,h,"register",[y]),new fs(h,this._renderer)}}return u.\u0275fac=function(a){return new(a||u)(R.LFG(R.FYo),R.LFG(ie.K0))},u.\u0275prov=R.Yz7({token:u,factory:u.\u0275fac}),u})();class fs extends nn.LC{constructor(o,a){super(),this._id=o,this._renderer=a}create(o,a){return new ha(this._id,o,a||{},this._renderer)}}class ha{constructor(o,a,h,y){this.id=o,this.element=a,this._renderer=y,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(o,a){return this._renderer.listen(this.element,`@@${this.id}:${o}`,a)}_command(o,...a){return xl(this._renderer,this.element,this.id,o,a)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xl(u,o,a,h,y){return u.setProperty(o,`@@${a}:${h}`,y)}const Br="@.disabled";let ps=(()=>{class u{constructor(a,h,y){this.delegate=a,this.engine=h,this._zone=y,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),h.onRemovalComplete=(w,L)=>{const K=L?.parentNode(w);K&&L.removeChild(K,w)}}createRenderer(a,h){const w=this.delegate.createRenderer(a,h);if(!(a&&h&&h.data&&h.data.animation)){let It=this._rendererCache.get(w);return It||(It=new $o("",w,this.engine,()=>this._rendererCache.delete(w)),this._rendererCache.set(w,It)),It}const L=h.id,K=h.id+"-"+this._currentId;this._currentId++,this.engine.register(K,a);const ue=It=>{Array.isArray(It)?It.forEach(ue):this.engine.registerTrigger(L,K,a,It.name,It)};return h.data.animation.forEach(ue),new ir(this,K,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,h,y){a>=0&&a<this._microtaskId?this._zone.run(()=>h(y)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(w=>{const[L,K]=w;L(K)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,y]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(a){return new(a||u)(R.LFG(R.FYo),R.LFG(ja),R.LFG(R.R0b))},u.\u0275prov=R.Yz7({token:u,factory:u.\u0275fac}),u})();class $o{constructor(o,a,h,y){this.namespaceId=o,this.delegate=a,this.engine=h,this._onDestroy=y,this.destroyNode=this.delegate.destroyNode?w=>a.destroyNode(w):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(o,a){return this.delegate.createElement(o,a)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,a){this.delegate.appendChild(o,a),this.engine.onInsert(this.namespaceId,a,o,!1)}insertBefore(o,a,h,y=!0){this.delegate.insertBefore(o,a,h),this.engine.onInsert(this.namespaceId,a,o,y)}removeChild(o,a,h){this.engine.onRemove(this.namespaceId,a,this.delegate,h)}selectRootElement(o,a){return this.delegate.selectRootElement(o,a)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,a,h,y){this.delegate.setAttribute(o,a,h,y)}removeAttribute(o,a,h){this.delegate.removeAttribute(o,a,h)}addClass(o,a){this.delegate.addClass(o,a)}removeClass(o,a){this.delegate.removeClass(o,a)}setStyle(o,a,h,y){this.delegate.setStyle(o,a,h,y)}removeStyle(o,a,h){this.delegate.removeStyle(o,a,h)}setProperty(o,a,h){"@"==a.charAt(0)&&a==Br?this.disableAnimations(o,!!h):this.delegate.setProperty(o,a,h)}setValue(o,a){this.delegate.setValue(o,a)}listen(o,a,h){return this.delegate.listen(o,a,h)}disableAnimations(o,a){this.engine.disableAnimations(o,a)}}class ir extends $o{constructor(o,a,h,y,w){super(a,h,y,w),this.factory=o,this.namespaceId=a}setProperty(o,a,h){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Br?this.disableAnimations(o,h=void 0===h||!!h):this.engine.process(this.namespaceId,o,a.slice(1),h):this.delegate.setProperty(o,a,h)}listen(o,a,h){if("@"==a.charAt(0)){const y=function Ta(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(o);let w=a.slice(1),L="";return"@"!=w.charAt(0)&&([w,L]=function Sa(u){const o=u.indexOf(".");return[u.substring(0,o),u.slice(o+1)]}(w)),this.engine.listen(this.namespaceId,y,w,L,K=>{this.factory.scheduleListenerCallback(K._data||-1,h,K)})}return this.delegate.listen(o,a,h)}}const Wo=[{provide:nn._j,useClass:Ss},{provide:ds,useFactory:function pa(){return new la}},{provide:ja,useClass:(()=>{class u extends ja{constructor(a,h,y,w){super(a.body,h,y)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(a){return new(a||u)(R.LFG(ie.K0),R.LFG(jt),R.LFG(ds),R.LFG(R.z2F))},u.\u0275prov=R.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:R.FYo,useFactory:function ma(u,o,a){return new ps(u,o,a)},deps:[f.se,ja,R.R0b]}],ga=[{provide:jt,useFactory:()=>new yo},{provide:R.QbO,useValue:"BrowserAnimations"},...Wo],Tl=[{provide:jt,useClass:Xe},{provide:R.QbO,useValue:"NoopAnimations"},...Wo];let vo=(()=>{class u{static withConfig(a){return{ngModule:u,providers:a.disableAnimations?Tl:ga}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({providers:ga,imports:[f.b2]}),u})();var Wi=x(4976),io=x(3692),Ao=x(259),Ha=x(2313),nl=x(4322);class Xl{constructor(o){return o}}class Aa{constructor(){return(0,Wi.vb)("auth")}}const il=new R.OlP("angularfire2.auth-instances");function ee(u){return(o,a)=>{const h=o.runOutsideAngular(()=>u(a));return new Xl(h)}}const H={provide:Aa,deps:[[new R.FiY,il]]},_e={provide:Xl,useFactory:function V(u,o){const a=(0,Wi.JM)("auth",u,o);return a&&new Xl(a)},deps:[[new R.FiY,il],io.Ot]};let Je=(()=>{class u{constructor(){(0,Ao.KN)("angularfire",Wi.q4.full,"auth")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({providers:[_e,H]}),u})();function rn(u,...o){return{ngModule:Je,providers:[{provide:il,useFactory:ee(u),multi:!0,deps:[R.R0b,R.zs3,Wi.HU,io.z6,[new R.FiY,Ha.nm],...o]}]}}const ms=(0,Wi.u3)(nl.v0,!0);var nc=x(5861),Pi=x(6881),Au=x(4859),Xt=x(2090),Ga=x(1877);const sl="@firebase/database";let xc="";class ol{constructor(o){this.domStorage_=o,this.prefix_="firebase:"}set(o,a){null==a?this.domStorage_.removeItem(this.prefixedName_(o)):this.domStorage_.setItem(this.prefixedName_(o),(0,Xt.Wl)(a))}get(o){const a=this.domStorage_.getItem(this.prefixedName_(o));return null==a?null:(0,Xt.cI)(a)}remove(o){this.domStorage_.removeItem(this.prefixedName_(o))}prefixedName_(o){return this.prefix_+o}toString(){return this.domStorage_.toString()}}class eh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(o,a){null==a?delete this.cache_[o]:this.cache_[o]=a}get(o){return(0,Xt.r3)(this.cache_,o)?this.cache_[o]:null}remove(o){delete this.cache_[o]}}const Gs=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const o=window[u];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new ol(o)}}catch{}return new eh},mr=Gs("localStorage"),Go=Gs("sessionStorage"),Ko=new Ga.Yd("@firebase/database"),gs=function(){let u=1;return function(){return u++}}(),Ns=function(u){const o=(0,Xt.dS)(u),a=new Xt.gQ;a.update(o);const h=a.digest();return Xt.US.encodeByteArray(h)},ro=function(...u){let o="";for(let a=0;a<u.length;a++){const h=u[a];Array.isArray(h)||h&&"object"==typeof h&&"number"==typeof h.length?o+=ro.apply(null,h):o+="object"==typeof h?(0,Xt.Wl)(h):h,o+=" "}return o};let Es=null,I=!0;const E=function(...u){if(!0===I&&(I=!1,null===Es&&!0===Go.get("logging_enabled")&&function(u,o){(0,Xt.hu)(!o||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Ko.logLevel=Ga.in.VERBOSE,Es=Ko.log.bind(Ko),o&&Go.set("logging_enabled",!0)):"function"==typeof u?Es=u:(Es=null,Go.remove("logging_enabled"))}(!0)),Es){const o=ro.apply(null,u);Es(o)}},B=function(u){return function(...o){E(u,...o)}},Y=function(...u){const o="FIREBASE INTERNAL ERROR: "+ro(...u);Ko.error(o)},he=function(...u){const o=`FIREBASE FATAL ERROR: ${ro(...u)}`;throw Ko.error(o),new Error(o)},ve=function(...u){const o="FIREBASE WARNING: "+ro(...u);Ko.warn(o)},_n=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Hn="[MIN_NAME]",Ei="[MAX_NAME]",kr=function(u,o){if(u===o)return 0;if(u===Hn||o===Ei)return-1;if(o===Hn||u===Ei)return 1;{const a=Zo(u),h=Zo(o);return null!==a?null!==h?a-h==0?u.length-o.length:a-h:-1:null!==h?1:u<o?-1:1}},Oa=function(u,o){return u===o?0:u<o?-1:1},ws=function(u,o){if(o&&u in o)return o[u];throw new Error("Missing required key ("+u+") in object: "+(0,Xt.Wl)(o))},Yo=function(u){if("object"!=typeof u||null===u)return(0,Xt.Wl)(u);const o=[];for(const h in u)o.push(h);o.sort();let a="{";for(let h=0;h<o.length;h++)0!==h&&(a+=","),a+=(0,Xt.Wl)(o[h]),a+=":",a+=Yo(u[o[h]]);return a+="}",a},wo=function(u,o){const a=u.length;if(a<=o)return[u];const h=[];for(let y=0;y<a;y+=o)h.push(u.substring(y,y+o>a?a:y+o));return h};function wr(u,o){for(const a in u)u.hasOwnProperty(a)&&o(a,u[a])}const Mo=function(u){(0,Xt.hu)(!_n(u),"Invalid JSON number");const h=1023;let y,w,L,K,ue;0===u?(w=0,L=0,y=1/u==-1/0?1:0):(y=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(K=Math.min(Math.floor(Math.log(u)/Math.LN2),h),w=K+h,L=Math.round(u*Math.pow(2,52-K)-Math.pow(2,52))):(w=0,L=Math.round(u/Math.pow(2,-1074))));const Ie=[];for(ue=52;ue;ue-=1)Ie.push(L%2?1:0),L=Math.floor(L/2);for(ue=11;ue;ue-=1)Ie.push(w%2?1:0),w=Math.floor(w/2);Ie.push(y?1:0),Ie.reverse();const It=Ie.join("");let Nt="";for(ue=0;ue<64;ue+=8){let an=parseInt(It.substr(ue,8),2).toString(16);1===an.length&&(an="0"+an),Nt+=an}return Nt.toLowerCase()},Tc=new RegExp("^-?(0*)\\d{1,10}$"),Zo=function(u){if(Tc.test(u)){const o=Number(u);if(o>=-2147483648&&o<=2147483647)return o}return null},Co=function(u){try{u()}catch(o){setTimeout(()=>{throw ve("Exception was thrown by user callback.",o.stack||""),o},Math.floor(0))}},th=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},or=function(u,o){const a=setTimeout(u,o);return"number"==typeof a&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):"object"==typeof a&&a.unref&&a.unref(),a};class iu{constructor(o,a){this.appName_=o,this.appCheckProvider=a,this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(h=>this.appCheck=h)}getToken(o){return this.appCheck?this.appCheck.getToken(o):new Promise((a,h)=>{setTimeout(()=>{this.appCheck?this.getToken(o).then(a,h):a(null)},0)})}addTokenChangeListener(o){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(h=>h.addTokenListener(o))}notifyForInvalidToken(){ve(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class is{constructor(o,a,h){this.appName_=o,this.firebaseOptions_=a,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(y=>this.auth_=y)}getToken(o){return this.auth_?this.auth_.getToken(o).catch(a=>a&&"auth/token-not-initialized"===a.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,h)=>{setTimeout(()=>{this.auth_?this.getToken(o).then(a,h):a(null)},0)})}addTokenChangeListener(o){this.auth_?this.auth_.addAuthTokenListener(o):this.authProvider_.get().then(a=>a.addAuthTokenListener(o))}removeTokenChangeListener(o){this.authProvider_.get().then(a=>a.removeAuthTokenListener(o))}notifyForInvalidToken(){let o='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';o+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ve(o)}}let gr=(()=>{class u{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const ls=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pa="websocket",su="long_polling";class Nl{constructor(o,a,h,y,w=!1,L="",K=!1,ue=!1){this.secure=a,this.namespace=h,this.webSocketOnly=y,this.nodeAdmin=w,this.persistenceKey=L,this.includeNamespaceInQueryParams=K,this.isUsingEmulator=ue,this._host=o.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mr.get("host:"+o)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(o){o!==this.internalHost&&(this.internalHost=o,this.isCacheableHost()&&mr.set("host:"+this._host,this.internalHost))}toString(){let o=this.toURLString();return this.persistenceKey&&(o+="<"+this.persistenceKey+">"),o}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Sc(u,o,a){let h;if((0,Xt.hu)("string"==typeof o,"typeof type must == string"),(0,Xt.hu)("object"==typeof a,"typeof params must == object"),o===Pa)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(o!==su)throw new Error("Unknown connection type: "+o);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function Pu(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(a.ns=u.namespace);const y=[];return wr(a,(w,L)=>{y.push(w+"="+L)}),h+y.join("&")}class ll{constructor(){this.counters_={}}incrementCounter(o,a=1){(0,Xt.r3)(this.counters_,o)||(this.counters_[o]=0),this.counters_[o]+=a}get(){return(0,Xt.p$)(this.counters_)}}const qo={},Fl={};function Oo(u){const o=u.toString();return qo[o]||(qo[o]=new ll),qo[o]}class rc{constructor(o){this.onMessage_=o,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(o,a){this.closeAfterResponse=o,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(o,a){for(this.pendingResponses[o]=a;this.pendingResponses[this.currentResponseNum];){const h=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let y=0;y<h.length;++y)h[y]&&Co(()=>{this.onMessage_(h[y])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class $r{constructor(o,a,h,y,w,L,K){this.connId=o,this.repoInfo=a,this.applicationId=h,this.appCheckToken=y,this.authToken=w,this.transportSessionId=L,this.lastSessionId=K,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=B(o),this.stats_=Oo(a),this.urlFn=ue=>(this.appCheckToken&&(ue.ac=this.appCheckToken),Sc(a,su,ue))}open(o,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new rc(o),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Xt.Yr)()||"complete"===document.readyState)u();else{let o=!1;const a=function(){document.body?o||(o=!0,u()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hd((...w)=>{const[L,K,ue,Ie,It]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===L)this.id=K,this.password=ue;else{if("close"!==L)throw new Error("Unrecognized command received: "+L);K?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(K,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[L,K]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(L,K)},()=>{this.onClosed_()},this.urlFn);const h={start:"t"};h.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(h.cb=this.scriptTagHolder.uniqueCallbackIdentifier),h.v="5",this.transportSessionId&&(h.s=this.transportSessionId),this.lastSessionId&&(h.ls=this.lastSessionId),this.applicationId&&(h.p=this.applicationId),this.appCheckToken&&(h.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ls.test(location.hostname)&&(h.r="f");const y=this.urlFn(h);this.log_("Connecting via long-poll to "+y),this.scriptTagHolder.addTag(y,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$r.forceAllow_=!0}static forceDisallow(){$r.forceDisallow_=!0}static isAvailable(){return!((0,Xt.Yr)()||!$r.forceAllow_&&($r.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(o){const a=(0,Xt.Wl)(o);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const h=(0,Xt.h$)(a),y=wo(h,1840);for(let w=0;w<y.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,y.length,y[w]),this.curSegmentNum++}addDisconnectPingFrame(o,a){if((0,Xt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const h={dframe:"t"};h.id=o,h.pw=a,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(o){const a=(0,Xt.Wl)(o).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class hd{constructor(o,a,h,y){if(this.onDisconnect=h,this.urlFn=y,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Xt.Yr)())this.commandCB=o,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=gs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=o,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=hd.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const L="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(L),this.myIFrame.doc.close()}catch(K){E("frame writing exception"),K.stack&&E(K.stack),E(K)}}}static createIFrame_(){const o=document.createElement("iframe");if(o.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(o);try{o.contentWindow.document||E("No IE domain setting required")}catch{const h=document.domain;o.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return o.contentDocument?o.doc=o.contentDocument:o.contentWindow?o.doc=o.contentWindow.document:o.document&&(o.doc=o.document),o}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const o=this.onDisconnect;o&&(this.onDisconnect=null,o())}startLongPoll(o,a){for(this.myID=o,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const o={};o.id=this.myID,o.pw=this.myPW,o.ser=this.currentSerial;let a=this.urlFn(o),h="",y=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){const L=this.pendingSegs.shift();h=h+"&seg"+y+"="+L.seg+"&ts"+y+"="+L.ts+"&d"+y+"="+L.d,y++}return a+=h,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(o,a,h){this.pendingSegs.push({seg:o,ts:a,d:h}),this.alive&&this.newRequest_()}addLongPollTag_(o,a){this.outstandingRequests.add(a);const h=()=>{this.outstandingRequests.delete(a),this.newRequest_()},y=setTimeout(h,Math.floor(25e3));this.addTag(o,()=>{clearTimeout(y),h()})}addTag(o,a){(0,Xt.Yr)()?this.doNodeLongPoll(o,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const h=this.myIFrame.doc.createElement("script");h.type="text/javascript",h.async=!0,h.src=o,h.onload=h.onreadystatechange=function(){const y=h.readyState;(!y||"loaded"===y||"complete"===y)&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),a())},h.onerror=()=>{E("Long-poll script failed to load: "+o),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(h)}catch{}},Math.floor(1))}}let Oc=null;typeof MozWebSocket<"u"?Oc=MozWebSocket:typeof WebSocket<"u"&&(Oc=WebSocket);let ul=(()=>{class u{constructor(a,h,y,w,L,K,ue){this.connId=a,this.applicationId=y,this.appCheckToken=w,this.authToken=L,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=B(this.connId),this.stats_=Oo(h),this.connURL=u.connectionURL_(h,K,ue,w,y),this.nodeAdmin=h.nodeAdmin}static connectionURL_(a,h,y,w,L){const K={v:"5"};return!(0,Xt.Yr)()&&typeof location<"u"&&location.hostname&&ls.test(location.hostname)&&(K.r="f"),h&&(K.s=h),y&&(K.ls=y),w&&(K.ac=w),L&&(K.p=L),Sc(a,Pa,K)}open(a,h){this.onDisconnect=h,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mr.set("previous_websocket_failure",!0);try{let y;if((0,Xt.Yr)()){y={headers:{"User-Agent":`Firebase/5/${xc}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(y.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(y.headers["X-Firebase-AppCheck"]=this.appCheckToken);const L=process.env,K=0===this.connURL.indexOf("wss://")?L.HTTPS_PROXY||L.https_proxy:L.HTTP_PROXY||L.http_proxy;K&&(y.proxy={origin:K})}this.mySock=new Oc(this.connURL,[],y)}catch(y){this.log_("Error instantiating WebSocket.");const w=y.message||y.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=y=>{this.handleIncomingFrame(y)},this.mySock.onerror=y=>{this.log_("WebSocket error.  Closing connection.");const w=y.message||y.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let a=!1;if(typeof navigator<"u"&&navigator.userAgent){const y=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);y&&y.length>1&&parseFloat(y[1])<4.4&&(a=!0)}return!a&&null!==Oc&&!u.forceDisallow_}static previouslyFailed(){return mr.isInMemoryStorage||!0===mr.get("previous_websocket_failure")}markConnectionHealthy(){mr.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const h=this.frames.join("");this.frames=null;const y=(0,Xt.cI)(h);this.onMessage(y)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,Xt.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const h=Number(a);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const h=a.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{const y=this.extractFrameCount_(h);null!==y&&this.appendFrame_(y)}}send(a){this.resetKeepAlive();const h=(0,Xt.Wl)(a);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const y=wo(h,16384);y.length>1&&this.sendString_(String(y.length));for(let w=0;w<y.length;w++)this.sendString_(y[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),S=(()=>{class u{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[$r,ul]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const h=ul&&ul.isAvailable();let y=h&&!ul.previouslyFailed();if(a.webSocketOnly&&(h||ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),y=!0),y)this.transports_=[ul];else{const w=this.transports_=[];for(const L of u.ALL_TRANSPORTS)L&&L.isAvailable()&&w.push(L);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class ku{constructor(o,a,h,y,w,L,K,ue,Ie,It){this.id=o,this.repoInfo_=a,this.applicationId_=h,this.appCheckToken_=y,this.authToken_=w,this.onMessage_=L,this.onReady_=K,this.onDisconnect_=ue,this.onKill_=Ie,this.lastSessionId=It,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=B("c:"+this.id+":"),this.transportManager_=new S(a),this.log_("Connection created"),this.start_()}start_(){const o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),h=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,h)},Math.floor(0));const y=o.healthyTimeout||0;y>0&&(this.healthyTimeout_=or(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(y)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(o){return a=>{o===this.conn_?this.onConnectionLost_(a):o===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(o){return a=>{2!==this.state_&&(o===this.rx_?this.onPrimaryMessageReceived_(a):o===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(o){this.sendData_({t:"d",d:o})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(o){if("t"in o){const a=o.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(o){const a=ws("t",o),h=ws("d",o);if("c"===a)this.onSecondaryControl_(h);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(h)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(o){const a=ws("t",o),h=ws("d",o);"c"===a?this.onControl_(h):"d"===a&&this.onDataMessage_(h)}onDataMessage_(o){this.onPrimaryResponse_(),this.onMessage_(o)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(o){const a=ws("t",o);if("d"in o){const h=o.d;if("h"===a){const y=Object.assign({},h);this.repoInfo_.isUsingEmulator&&(y.h=this.repoInfo_.host),this.onHandshake_(y)}else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let y=0;y<this.pendingDataMessages.length;++y)this.onDataMessage_(this.pendingDataMessages[y]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(h):"r"===a?this.onReset_(h):"e"===a?Y("Server Error: "+h):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Y("Unknown control packet command: "+a)}}onHandshake_(o){const a=o.ts,h=o.v,y=o.h;this.sessionId=o.s,this.repoInfo_.host=y,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==h&&ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const o=this.transportManager_.upgradeTransport();o&&this.startUpgrade_(o)}startUpgrade_(o){this.secondaryConn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),h=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,h),or(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(o){this.log_("Reset packet received.  New host: "+o),this.repoInfo_.host=o,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(o,a){this.log_("Realtime connection established."),this.conn_=o,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):or(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const o=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===o||this.rx_===o)&&this.close()}onConnectionLost_(o){this.conn_=null,o||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(o){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(o),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(o){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(o)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ul{put(o,a,h,y){}merge(o,a,h,y){}refreshAuthToken(o){}refreshAppCheckToken(o){}onDisconnectPut(o,a,h){}onDisconnectMerge(o,a,h){}onDisconnectCancel(o,a){}reportStats(o){}}class Ro{constructor(o){this.allowedEvents_=o,this.listeners_={},(0,Xt.hu)(Array.isArray(o)&&o.length>0,"Requires a non-empty array")}trigger(o,...a){if(Array.isArray(this.listeners_[o])){const h=[...this.listeners_[o]];for(let y=0;y<h.length;y++)h[y].callback.apply(h[y].context,a)}}on(o,a,h){this.validateEventType_(o),this.listeners_[o]=this.listeners_[o]||[],this.listeners_[o].push({callback:a,context:h});const y=this.getInitialEvent(o);y&&a.apply(h,y)}off(o,a,h){this.validateEventType_(o);const y=this.listeners_[o]||[];for(let w=0;w<y.length;w++)if(y[w].callback===a&&(!h||h===y[w].context))return void y.splice(w,1)}validateEventType_(o){(0,Xt.hu)(this.allowedEvents_.find(a=>a===o),"Unknown event: "+o)}}class oo extends Ro{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Xt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oo}getInitialEvent(o){return(0,Xt.hu)("online"===o,"Unknown event type: "+o),[this.online_]}currentlyOnline(){return this.online_}}const fd=32,pd=768;class Cr{constructor(o,a){if(void 0===a){this.pieces_=o.split("/");let h=0;for(let y=0;y<this.pieces_.length;y++)this.pieces_[y].length>0&&(this.pieces_[h]=this.pieces_[y],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=o,this.pieceNum_=a}toString(){let o="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(o+="/"+this.pieces_[a]);return o||"/"}}function cr(){return new Cr("")}function Ti(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Qo(u){return u.pieces_.length-u.pieceNum_}function Ir(u){let o=u.pieceNum_;return o<u.pieces_.length&&o++,new Cr(u.pieces_,o)}function dl(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function cu(u,o=0){return u.pieces_.slice(u.pieceNum_+o)}function zl(u){if(u.pieceNum_>=u.pieces_.length)return null;const o=[];for(let a=u.pieceNum_;a<u.pieces_.length-1;a++)o.push(u.pieces_[a]);return new Cr(o,0)}function Wr(u,o){const a=[];for(let h=u.pieceNum_;h<u.pieces_.length;h++)a.push(u.pieces_[h]);if(o instanceof Cr)for(let h=o.pieceNum_;h<o.pieces_.length;h++)a.push(o.pieces_[h]);else{const h=o.split("/");for(let y=0;y<h.length;y++)h[y].length>0&&a.push(h[y])}return new Cr(a,0)}function Fi(u){return u.pieceNum_>=u.pieces_.length}function ko(u,o){const a=Ti(u),h=Ti(o);if(null===a)return o;if(a===h)return ko(Ir(u),Ir(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+u+")")}function D(u,o){if(Qo(u)!==Qo(o))return!1;for(let a=u.pieceNum_,h=o.pieceNum_;a<=u.pieces_.length;a++,h++)if(u.pieces_[a]!==o.pieces_[h])return!1;return!0}function g(u,o){let a=u.pieceNum_,h=o.pieceNum_;if(Qo(u)>Qo(o))return!1;for(;a<u.pieces_.length;){if(u.pieces_[a]!==o.pieces_[h])return!1;++a,++h}return!0}class b{constructor(o,a){this.errorPrefix_=a,this.parts_=cu(o,0),this.byteLength_=Math.max(1,this.parts_.length);for(let h=0;h<this.parts_.length;h++)this.byteLength_+=(0,Xt.ug)(this.parts_[h]);De(this)}}function De(u){if(u.byteLength_>pd)throw new Error(u.errorPrefix_+"has a key path longer than "+pd+" bytes ("+u.byteLength_+").");if(u.parts_.length>fd)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fd+") or object contains a cycle "+St(u))}function St(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class cn extends Ro{constructor(){let o,a;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",o="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",o="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",o="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",o="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const h=!document[o];h!==this.visible_&&(this.visible_=h,this.trigger("visible",h))},!1)}static getInstance(){return new cn}getInitialEvent(o){return(0,Xt.hu)("visible"===o,"Unknown event type: "+o),[this.visible_]}}const Pn=1e3;let uu,Ls=(()=>{class u extends Ul{constructor(a,h,y,w,L,K,ue,Ie){if(super(),this.repoInfo_=a,this.applicationId_=h,this.onDataUpdate_=y,this.onConnectStatus_=w,this.onServerInfoUpdate_=L,this.authTokenProvider_=K,this.appCheckTokenProvider_=ue,this.authOverride_=Ie,this.id=u.nextPersistentConnectionId_++,this.log_=B("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ie&&!(0,Xt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cn.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(a,h,y){const w=++this.requestNumber_,L={r:w,a,b:h};this.log_((0,Xt.Wl)(L)),(0,Xt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(L),y&&(this.requestCBHash_[w]=y)}get(a){this.initConnection_();const h=new Xt.BH,w={action:"g",request:{p:a._path.toString(),q:a._queryObject},onComplete:K=>{const ue=K.d;"ok"===K.s?h.resolve(ue):h.reject(ue)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),h.promise}listen(a,h,y,w){this.initConnection_();const L=a._queryIdentifier,K=a._path.toString();this.log_("Listen called for "+K+" "+L),this.listens.has(K)||this.listens.set(K,new Map),(0,Xt.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Xt.hu)(!this.listens.get(K).has(L),"listen() called twice for same path/queryId.");const ue={onComplete:w,hashFn:h,query:a,tag:y};this.listens.get(K).set(L,ue),this.connected_&&this.sendListen_(ue)}sendGet_(a){const h=this.outstandingGets_[a];this.sendRequest("g",h.request,y=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),h.onComplete&&h.onComplete(y)})}sendListen_(a){const h=a.query,y=h._path.toString(),w=h._queryIdentifier;this.log_("Listen on "+y+" for "+w);const L={p:y};a.tag&&(L.q=h._queryObject,L.t=a.tag),L.h=a.hashFn(),this.sendRequest("q",L,ue=>{const Ie=ue.d,It=ue.s;u.warnOnListenWarnings_(Ie,h),(this.listens.get(y)&&this.listens.get(y).get(w))===a&&(this.log_("listen response",ue),"ok"!==It&&this.removeListen_(y,w),a.onComplete&&a.onComplete(It,Ie))})}static warnOnListenWarnings_(a,h){if(a&&"object"==typeof a&&(0,Xt.r3)(a,"w")){const y=(0,Xt.DV)(a,"w");if(Array.isArray(y)&&~y.indexOf("no_index")){const w='".indexOn": "'+h._queryParams.getIndex().toString()+'"',L=h._path.toString();ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${L} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,Xt.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,h=(0,Xt.w9)(a)?"auth":"gauth",y={cred:a};null===this.authOverride_?y.noauth=!0:"object"==typeof this.authOverride_&&(y.authvar=this.authOverride_),this.sendRequest(h,y,w=>{const L=w.s,K=w.d||"error";this.authToken_===a&&("ok"===L?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(L,K))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const h=a.s,y=a.d||"error";"ok"===h?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(h,y)})}unlisten(a,h){const y=a._path.toString(),w=a._queryIdentifier;this.log_("Unlisten called for "+y+" "+w),(0,Xt.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(y,w)&&this.connected_&&this.sendUnlisten_(y,w,a._queryObject,h)}sendUnlisten_(a,h,y,w){this.log_("Unlisten on "+a+" for "+h);const L={p:a};w&&(L.q=y,L.t=w),this.sendRequest("n",L)}onDisconnectPut(a,h,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,h,y):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:h,onComplete:y})}onDisconnectMerge(a,h,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,h,y):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:h,onComplete:y})}onDisconnectCancel(a,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,h):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:h})}sendOnDisconnect_(a,h,y,w){const L={p:h,d:y};this.log_("onDisconnect "+a,L),this.sendRequest(a,L,K=>{w&&setTimeout(()=>{w(K.s,K.d)},Math.floor(0))})}put(a,h,y,w){this.putInternal("p",a,h,y,w)}merge(a,h,y,w){this.putInternal("m",a,h,y,w)}putInternal(a,h,y,w,L){this.initConnection_();const K={p:h,d:y};void 0!==L&&(K.h=L),this.outstandingPuts_.push({action:a,request:K,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)}sendPut_(a){const h=this.outstandingPuts_[a].action,y=this.outstandingPuts_[a].request,w=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(h,y,L=>{this.log_(h+" response",L),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(L.s,L.d)})}reportStats(a){if(this.connected_){const h={c:a};this.log_("reportStats",h),this.sendRequest("s",h,y=>{"ok"!==y.s&&this.log_("reportStats","Error sending stats: "+y.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,Xt.Wl)(a));const h=a.r,y=this.requestCBHash_[h];y&&(delete this.requestCBHash_[h],y(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,h){this.log_("handleServerMessage",a,h),"d"===a?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===a?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===a?this.onListenRevoked_(h.p,h.q):"ac"===a?this.onAuthRevoked_(h.s,h.d):"apc"===a?this.onAppCheckRevoked_(h.s,h.d):"sd"===a?this.onSecurityDebugPacket_(h):Y("Unrecognized action received from server: "+(0,Xt.Wl)(a)+"\nAre you using the latest client?")}onReady_(a,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,Xt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pn,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=Pn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let h=Math.max(0,this.reconnectDelay_-a);h=Math.random()*h,this.log_("Trying to reconnect in "+h+"ms"),this.scheduleConnect_(h),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,nc.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const h=a.onDataMessage_.bind(a),y=a.onReady_.bind(a),w=a.onRealtimeDisconnect_.bind(a),L=a.id+":"+u.nextConnectionId_++,K=a.lastSessionId;let ue=!1,Ie=null;const It=function(){Ie?Ie.close():(ue=!0,w())};a.realtime_={close:It,sendRequest:function(Dn){(0,Xt.hu)(Ie,"sendRequest call when we're not connected not allowed."),Ie.sendRequest(Dn)}};const an=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[Dn,An]=yield Promise.all([a.authTokenProvider_.getToken(an),a.appCheckTokenProvider_.getToken(an)]);ue?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),a.authToken_=Dn&&Dn.accessToken,a.appCheckToken_=An&&An.token,Ie=new ku(L,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,h,y,w,qn=>{ve(qn+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},K))}catch(Dn){a.log_("Failed to get token: "+Dn),ue||(a.repoInfo_.nodeAdmin&&ve(Dn),It())}}})()}interrupt(a){E("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){E("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,Xt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const h=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const h=this.outstandingPuts_[a];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,h){let y;y=h?h.map(L=>Yo(L)).join("$"):"default";const w=this.removeListen_(a,y);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(a,h){const y=new Cr(a).toString();let w;if(this.listens.has(y)){const L=this.listens.get(y);w=L.get(h),L.delete(h),0===L.size&&this.listens.delete(y)}else w=void 0;return w}onAuthRevoked_(a,h){E("Auth token revoked: "+a+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,h){E("App check token revoked: "+a+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const h of a.values())this.sendListen_(h);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let h="js";(0,Xt.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+h+"."+xc.replace(/\./g,"-")]=1,(0,Xt.uI)()?a["framework.cordova"]=1:(0,Xt.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=oo.getInstance().currentlyOnline();return(0,Xt.xb)(this.interruptReasons_)&&a}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class zi{constructor(o,a){this.name=o,this.node=a}static Wrap(o,a){return new zi(o,a)}}class lc{getCompare(){return this.compare.bind(this)}indexedValueChanged(o,a){const h=new zi(Hn,o),y=new zi(Hn,a);return 0!==this.compare(h,y)}minPost(){return zi.MIN}}class va extends lc{static get __EMPTY_NODE(){return uu}static set __EMPTY_NODE(o){uu=o}compare(o,a){return kr(o.name,a.name)}isDefinedOn(o){throw(0,Xt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(o,a){return!1}minPost(){return zi.MIN}maxPost(){return new zi(Ei,uu)}makePost(o,a){return(0,Xt.hu)("string"==typeof o,"KeyIndex indexValue must always be a string."),new zi(o,uu)}toString(){return".key"}}const ka=new va;class hl{constructor(o,a,h,y,w=null){this.isReverse_=y,this.resultGenerator_=w,this.nodeStack_=[];let L=1;for(;!o.isEmpty();)if(L=a?h(o.key,a):1,y&&(L*=-1),L<0)o=this.isReverse_?o.left:o.right;else{if(0===L){this.nodeStack_.push(o);break}this.nodeStack_.push(o),o=this.isReverse_?o.right:o.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,o=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value},this.isReverse_)for(o=o.left;!o.isEmpty();)this.nodeStack_.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack_.push(o),o=o.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const o=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value}}}let ah,ba=(()=>{class u{constructor(a,h,y,w,L){this.key=a,this.value=h,this.color=y??u.RED,this.left=w??pi.EMPTY_NODE,this.right=L??pi.EMPTY_NODE}copy(a,h,y,w,L){return new u(a??this.key,h??this.value,y??this.color,w??this.left,L??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,h,y){let w=this;const L=y(a,w.key);return w=L<0?w.copy(null,null,null,w.left.insert(a,h,y),null):0===L?w.copy(null,h,null,null,null):w.copy(null,null,null,null,w.right.insert(a,h,y)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return pi.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,h){let y,w;if(y=this,h(a,y.key)<0)!y.left.isEmpty()&&!y.left.isRed_()&&!y.left.left.isRed_()&&(y=y.moveRedLeft_()),y=y.copy(null,null,null,y.left.remove(a,h),null);else{if(y.left.isRed_()&&(y=y.rotateRight_()),!y.right.isEmpty()&&!y.right.isRed_()&&!y.right.left.isRed_()&&(y=y.moveRedRight_()),0===h(a,y.key)){if(y.right.isEmpty())return pi.EMPTY_NODE;w=y.right.min_(),y=y.copy(w.key,w.value,null,null,y.right.removeMin_())}y=y.copy(null,null,null,null,y.right.remove(a,h))}return y.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,h)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class pi{constructor(o,a=pi.EMPTY_NODE){this.comparator_=o,this.root_=a}insert(o,a){return new pi(this.comparator_,this.root_.insert(o,a,this.comparator_).copy(null,null,ba.BLACK,null,null))}remove(o){return new pi(this.comparator_,this.root_.remove(o,this.comparator_).copy(null,null,ba.BLACK,null,null))}get(o){let a,h=this.root_;for(;!h.isEmpty();){if(a=this.comparator_(o,h.key),0===a)return h.value;a<0?h=h.left:a>0&&(h=h.right)}return null}getPredecessorKey(o){let a,h=this.root_,y=null;for(;!h.isEmpty();){if(a=this.comparator_(o,h.key),0===a){if(h.left.isEmpty())return y?y.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}a<0?h=h.left:a>0&&(y=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(o){return this.root_.inorderTraversal(o)}reverseTraversal(o){return this.root_.reverseTraversal(o)}getIterator(o){return new hl(this.root_,null,this.comparator_,!1,o)}getIteratorFrom(o,a){return new hl(this.root_,o,this.comparator_,!1,a)}getReverseIteratorFrom(o,a){return new hl(this.root_,o,this.comparator_,!0,a)}getReverseIterator(o){return new hl(this.root_,null,this.comparator_,!0,o)}}function oh(u,o){return kr(u.name,o.name)}function du(u,o){return kr(u,o)}pi.EMPTY_NODE=new class gd{copy(o,a,h,y,w){return this}insert(o,a,h){return new ba(o,a,null)}remove(o,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _d=function(u){return"number"==typeof u?"number:"+Mo(u):"string:"+u},Zh=function(u){if(u.isLeafNode()){const o=u.val();(0,Xt.hu)("string"==typeof o||"number"==typeof o||"object"==typeof o&&(0,Xt.r3)(o,".sv"),"Priority must be a string or number.")}else(0,Xt.hu)(u===ah||u.isEmpty(),"priority of unexpected type.");(0,Xt.hu)(u===ah||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Wp,Gp,yd,lh=(()=>{class u{constructor(a,h=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=h,this.lazyHash_=null,(0,Xt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Zh(this.priorityNode_)}static set __childrenNodeConstructor(a){Wp=a}static get __childrenNodeConstructor(){return Wp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new u(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return Fi(a)?this:".priority"===Ti(a)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,h){return null}updateImmediateChild(a,h){return".priority"===a?this.updatePriority(h):h.isEmpty()&&".priority"!==a?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,h).updatePriority(this.priorityNode_)}updateChild(a,h){const y=Ti(a);return null===y?h:h.isEmpty()&&".priority"!==y?this:((0,Xt.hu)(".priority"!==y||1===Qo(a),".priority must be the last token in a path"),this.updateImmediateChild(y,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ir(a),h)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,h){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+_d(this.priorityNode_.val())+":");const h=typeof this.value_;a+=h+":",a+="number"===h?Mo(this.value_):this.value_,this.lazyHash_=Ns(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===u.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof u.__childrenNodeConstructor?-1:((0,Xt.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const h=typeof a.value_,y=typeof this.value_,w=u.VALUE_TYPE_ORDER.indexOf(h),L=u.VALUE_TYPE_ORDER.indexOf(y);return(0,Xt.hu)(w>=0,"Unknown leaf type: "+h),(0,Xt.hu)(L>=0,"Unknown leaf type: "+y),w===L?"object"===y?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:L-w}withIndex(){return this}isIndexed(){return!0}equals(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Gr=new class Pc extends lc{compare(o,a){const h=o.node.getPriority(),y=a.node.getPriority(),w=h.compareTo(y);return 0===w?kr(o.name,a.name):w}isDefinedOn(o){return!o.getPriority().isEmpty()}indexedValueChanged(o,a){return!o.getPriority().equals(a.getPriority())}minPost(){return zi.MIN}maxPost(){return new zi(Ei,new lh("[PRIORITY-POST]",yd))}makePost(o,a){const h=Gp(o);return new zi(a,new lh("[PRIORITY-POST]",h))}toString(){return".priority"}},cc=Math.log(2);class og{constructor(o){this.count=parseInt(Math.log(o+1)/cc,10),this.current_=this.count-1;const y=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=o+1&y}nextBitIsOne(){const o=!(this.bits_&1<<this.current_);return this.current_--,o}}const qh=function(u,o,a,h){u.sort(o);const y=function(ue,Ie){const It=Ie-ue;let Nt,an;if(0===It)return null;if(1===It)return Nt=u[ue],an=a?a(Nt):Nt,new ba(an,Nt.node,ba.BLACK,null,null);{const Dn=parseInt(It/2,10)+ue,An=y(ue,Dn),qn=y(Dn+1,Ie);return Nt=u[Dn],an=a?a(Nt):Nt,new ba(an,Nt.node,ba.BLACK,An,qn)}},K=function(ue){let Ie=null,It=null,Nt=u.length;const an=function(An,qn){const Ri=Nt-An,vr=Nt;Nt-=An;const Kr=y(Ri+1,vr),Us=u[Ri],Jr=a?a(Us):Us;Dn(new ba(Jr,Us.node,qn,null,Kr))},Dn=function(An){Ie?(Ie.left=An,Ie=An):(It=An,Ie=An)};for(let An=0;An<ue.count;++An){const qn=ue.nextBitIsOne(),Ri=Math.pow(2,ue.count-(An+1));qn?an(Ri,ba.BLACK):(an(Ri,ba.BLACK),an(Ri,ba.RED))}return It}(new og(u.length));return new pi(h||o,K)};let ch;const uh={};class uc{constructor(o,a){this.indexes_=o,this.indexSet_=a}static get Default(){return(0,Xt.hu)(uh&&Gr,"ChildrenNode.ts has not been loaded"),ch=ch||new uc({".priority":uh},{".priority":Gr}),ch}get(o){const a=(0,Xt.DV)(this.indexes_,o);if(!a)throw new Error("No index defined for "+o);return a instanceof pi?a:null}hasIndex(o){return(0,Xt.r3)(this.indexSet_,o.toString())}addIndex(o,a){(0,Xt.hu)(o!==ka,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const h=[];let y=!1;const w=a.getIterator(zi.Wrap);let K,L=w.getNext();for(;L;)y=y||o.isDefinedOn(L.node),h.push(L),L=w.getNext();K=y?qh(h,o.getCompare()):uh;const ue=o.toString(),Ie=Object.assign({},this.indexSet_);Ie[ue]=o;const It=Object.assign({},this.indexes_);return It[ue]=K,new uc(It,Ie)}addToIndexes(o,a){const h=(0,Xt.UI)(this.indexes_,(y,w)=>{const L=(0,Xt.DV)(this.indexSet_,w);if((0,Xt.hu)(L,"Missing index implementation for "+w),y===uh){if(L.isDefinedOn(o.node)){const K=[],ue=a.getIterator(zi.Wrap);let Ie=ue.getNext();for(;Ie;)Ie.name!==o.name&&K.push(Ie),Ie=ue.getNext();return K.push(o),qh(K,L.getCompare())}return uh}{const K=a.get(o.name);let ue=y;return K&&(ue=ue.remove(new zi(o.name,K))),ue.insert(o,o.node)}});return new uc(h,this.indexSet_)}removeFromIndexes(o,a){const h=(0,Xt.UI)(this.indexes_,y=>{if(y===uh)return y;{const w=a.get(o.name);return w?y.remove(new zi(o.name,w)):y}});return new uc(h,this.indexSet_)}}let Qr,Li=(()=>{class u{constructor(a,h,y){this.children_=a,this.priorityNode_=h,this.indexMap_=y,this.lazyHash_=null,this.priorityNode_&&Zh(this.priorityNode_),this.children_.isEmpty()&&(0,Xt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qr||(Qr=new u(new pi(du),null,uc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qr}updatePriority(a){return this.children_.isEmpty()?this:new u(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const h=this.children_.get(a);return null===h?Qr:h}}getChild(a){const h=Ti(a);return null===h?this:this.getImmediateChild(h).getChild(Ir(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,h){if((0,Xt.hu)(h,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(h);{const y=new zi(a,h);let w,L;h.isEmpty()?(w=this.children_.remove(a),L=this.indexMap_.removeFromIndexes(y,this.children_)):(w=this.children_.insert(a,h),L=this.indexMap_.addToIndexes(y,this.children_));const K=w.isEmpty()?Qr:this.priorityNode_;return new u(w,K,L)}}updateChild(a,h){const y=Ti(a);if(null===y)return h;{(0,Xt.hu)(".priority"!==Ti(a)||1===Qo(a),".priority must be the last token in a path");const w=this.getImmediateChild(y).updateChild(Ir(a),h);return this.updateImmediateChild(y,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const h={};let y=0,w=0,L=!0;if(this.forEachChild(Gr,(K,ue)=>{h[K]=ue.val(a),y++,L&&u.INTEGER_REGEXP_.test(K)?w=Math.max(w,Number(K)):L=!1}),!a&&L&&w<2*y){const K=[];for(const ue in h)K[ue]=h[ue];return K}return a&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+_d(this.getPriority().val())+":"),this.forEachChild(Gr,(h,y)=>{const w=y.hash();""!==w&&(a+=":"+h+":"+w)}),this.lazyHash_=""===a?"":Ns(a)}return this.lazyHash_}getPredecessorChildName(a,h,y){const w=this.resolveIndex_(y);if(w){const L=w.getPredecessorKey(new zi(a,h));return L?L.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const h=this.resolveIndex_(a);if(h){const y=h.minKey();return y&&y.name}return this.children_.minKey()}getFirstChild(a){const h=this.getFirstChildName(a);return h?new zi(h,this.children_.get(h)):null}getLastChildName(a){const h=this.resolveIndex_(a);if(h){const y=h.maxKey();return y&&y.name}return this.children_.maxKey()}getLastChild(a){const h=this.getLastChildName(a);return h?new zi(h,this.children_.get(h)):null}forEachChild(a,h){const y=this.resolveIndex_(a);return y?y.inorderTraversal(w=>h(w.name,w.node)):this.children_.inorderTraversal(h)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,h){const y=this.resolveIndex_(h);if(y)return y.getIteratorFrom(a,w=>w);{const w=this.children_.getIteratorFrom(a.name,zi.Wrap);let L=w.peek();for(;null!=L&&h.compare(L,a)<0;)w.getNext(),L=w.peek();return w}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,h){const y=this.resolveIndex_(h);if(y)return y.getReverseIteratorFrom(a,w=>w);{const w=this.children_.getReverseIteratorFrom(a.name,zi.Wrap);let L=w.peek();for(;null!=L&&h.compare(L,a)>0;)w.getNext(),L=w.peek();return w}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===Fu?-1:0}withIndex(a){if(a===ka||this.indexMap_.hasIndex(a))return this;{const h=this.indexMap_.addIndex(a,this.children_);return new u(this.children_,this.priorityNode_,h)}}isIndexed(a){return a===ka||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const h=a;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){const y=this.getIterator(Gr),w=h.getIterator(Gr);let L=y.getNext(),K=w.getNext();for(;L&&K;){if(L.name!==K.name||!L.node.equals(K.node))return!1;L=y.getNext(),K=w.getNext()}return null===L&&null===K}return!1}return!1}}resolveIndex_(a){return a===ka?null:this.indexMap_.get(a.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const Fu=new class vd extends Li{constructor(){super(new pi(du),Li.EMPTY_NODE,uc.Default)}compareTo(o){return o===this?0:1}equals(o){return o===this}getPriority(){return this}getImmediateChild(o){return Li.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(zi,{MIN:{value:new zi(Hn,Li.EMPTY_NODE)},MAX:{value:new zi(Ei,Fu)}}),va.__EMPTY_NODE=Li.EMPTY_NODE,lh.__childrenNodeConstructor=Li,function Wf(u){ah=u}(Fu),function Kp(u){yd=u}(Fu);const ag=!0;function Xr(u,o=null){if(null===u)return Li.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(o=u[".priority"]),(0,Xt.hu)(null===o||"string"==typeof o||"number"==typeof o||"object"==typeof o&&".sv"in o,"Invalid priority type found: "+typeof o),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new lh(u,Xr(o));if(u instanceof Array||!ag){let a=Li.EMPTY_NODE;return wr(u,(h,y)=>{if((0,Xt.r3)(u,h)&&"."!==h.substring(0,1)){const w=Xr(y);(w.isLeafNode()||!w.isEmpty())&&(a=a.updateImmediateChild(h,w))}}),a.updatePriority(Xr(o))}{const a=[];let h=!1;if(wr(u,(L,K)=>{if("."!==L.substring(0,1)){const ue=Xr(K);ue.isEmpty()||(h=h||!ue.getPriority().isEmpty(),a.push(new zi(L,ue)))}}),0===a.length)return Li.EMPTY_NODE;const w=qh(a,oh,L=>L.name,du);if(h){const L=qh(a,Gr.getCompare());return new Li(w,Xr(o),new uc({".priority":L},{".priority":Gr}))}return new Li(w,Xr(o),uc.Default)}}!function Nu(u){Gp=u}(Xr);class Gf extends lc{constructor(o){super(),this.indexPath_=o,(0,Xt.hu)(!Fi(o)&&".priority"!==Ti(o),"Can't create PathIndex with empty path or .priority key")}extractChild(o){return o.getChild(this.indexPath_)}isDefinedOn(o){return!o.getChild(this.indexPath_).isEmpty()}compare(o,a){const h=this.extractChild(o.node),y=this.extractChild(a.node),w=h.compareTo(y);return 0===w?kr(o.name,a.name):w}makePost(o,a){const h=Xr(o),y=Li.EMPTY_NODE.updateChild(this.indexPath_,h);return new zi(a,y)}maxPost(){const o=Li.EMPTY_NODE.updateChild(this.indexPath_,Fu);return new zi(Ei,o)}toString(){return cu(this.indexPath_,0).join("/")}}const Bu=new class Lu extends lc{compare(o,a){const h=o.node.compareTo(a.node);return 0===h?kr(o.name,a.name):h}isDefinedOn(o){return!0}indexedValueChanged(o,a){return!o.equals(a)}minPost(){return zi.MIN}maxPost(){return zi.MAX}makePost(o,a){const h=Xr(o);return new zi(a,h)}toString(){return".value"}};function hh(u,o,a){return{type:"child_changed",snapshotNode:o,childName:u,oldSnap:a}}class Qh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Xt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Xt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Xt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Xt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Xt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gr}copy(){const o=new Qh;return o.limitSet_=this.limitSet_,o.limit_=this.limit_,o.startSet_=this.startSet_,o.startAfterSet_=this.startAfterSet_,o.indexStartValue_=this.indexStartValue_,o.startNameSet_=this.startNameSet_,o.indexStartName_=this.indexStartName_,o.endSet_=this.endSet_,o.endBeforeSet_=this.endBeforeSet_,o.indexEndValue_=this.indexEndValue_,o.endNameSet_=this.endNameSet_,o.indexEndName_=this.indexEndName_,o.index_=this.index_,o.viewFrom_=this.viewFrom_,o}}function fh(u){const o={};if(u.isDefault())return o;let a;if(u.index_===Gr?a="$priority":u.index_===Bu?a="$value":u.index_===ka?a="$key":((0,Xt.hu)(u.index_ instanceof Gf,"Unrecognized index type!"),a=u.index_.toString()),o.orderBy=(0,Xt.Wl)(a),u.startSet_){const h=u.startAfterSet_?"startAfter":"startAt";o[h]=(0,Xt.Wl)(u.indexStartValue_),u.startNameSet_&&(o[h]+=","+(0,Xt.Wl)(u.indexStartName_))}if(u.endSet_){const h=u.endBeforeSet_?"endBefore":"endAt";o[h]=(0,Xt.Wl)(u.indexEndValue_),u.endNameSet_&&(o[h]+=","+(0,Xt.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?o.limitToFirst=u.limit_:o.limitToLast=u.limit_),o}function Nc(u){const o={};if(u.startSet_&&(o.sp=u.indexStartValue_,u.startNameSet_&&(o.sn=u.indexStartName_),o.sin=!u.startAfterSet_),u.endSet_&&(o.ep=u.indexEndValue_,u.endNameSet_&&(o.en=u.indexEndName_),o.ein=!u.endBeforeSet_),u.limitSet_){o.l=u.limit_;let a=u.viewFrom_;""===a&&(a=u.isViewFromLeft()?"l":"r"),o.vf=a}return u.index_!==Gr&&(o.i=u.index_.toString()),o}class hu extends Ul{constructor(o,a,h,y){super(),this.repoInfo_=o,this.onDataUpdate_=a,this.authTokenProvider_=h,this.appCheckTokenProvider_=y,this.log_=B("p:rest:"),this.listens_={}}reportStats(o){throw new Error("Method not implemented.")}static getListenId_(o,a){return void 0!==a?"tag$"+a:((0,Xt.hu)(o._queryParams.isDefault(),"should have a tag if it's not a default query."),o._path.toString())}listen(o,a,h,y){const w=o._path.toString();this.log_("Listen called for "+w+" "+o._queryIdentifier);const L=hu.getListenId_(o,h),K={};this.listens_[L]=K;const ue=fh(o._queryParams);this.restRequest_(w+".json",ue,(Ie,It)=>{let Nt=It;if(404===Ie&&(Nt=null,Ie=null),null===Ie&&this.onDataUpdate_(w,Nt,!1,h),(0,Xt.DV)(this.listens_,L)===K){let an;an=Ie?401===Ie?"permission_denied":"rest_error:"+Ie:"ok",y(an,null)}})}unlisten(o,a){const h=hu.getListenId_(o,a);delete this.listens_[h]}get(o){const a=fh(o._queryParams),h=o._path.toString(),y=new Xt.BH;return this.restRequest_(h+".json",a,(w,L)=>{let K=L;404===w&&(K=null,w=null),null===w?(this.onDataUpdate_(h,K,!1,null),y.resolve(K)):y.reject(new Error(K))}),y.promise}refreshAuthToken(o){}restRequest_(o,a={},h){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([y,w])=>{y&&y.accessToken&&(a.auth=y.accessToken),w&&w.token&&(a.ac=w.token);const L=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+o+"?ns="+this.repoInfo_.namespace+(0,Xt.xO)(a);this.log_("Sending REST request for "+L);const K=new XMLHttpRequest;K.onreadystatechange=()=>{if(h&&4===K.readyState){this.log_("REST Response for "+L+" received. status:",K.status,"response:",K.responseText);let ue=null;if(K.status>=200&&K.status<300){try{ue=(0,Xt.cI)(K.responseText)}catch{ve("Failed to parse JSON response for "+L+": "+K.responseText)}h(null,ue)}else 401!==K.status&&404!==K.status&&ve("Got unsuccessful REST response for "+L+" Status: "+K.status),h(K.status);h=null}},K.open("GET",L,!0),K.send()})}}class qp{constructor(){this.rootNode_=Li.EMPTY_NODE}getNode(o){return this.rootNode_.getChild(o)}updateSnapshot(o,a){this.rootNode_=this.rootNode_.updateChild(o,a)}}function Cd(){return{value:null,children:new Map}}function dc(u,o,a){if(Fi(o))u.value=a,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(o,a);else{const h=Ti(o);u.children.has(h)||u.children.set(h,Cd()),dc(u.children.get(h),o=Ir(o),a)}}function mh(u,o,a){null!==u.value?a(o,u.value):function Qp(u,o){u.children.forEach((a,h)=>{o(h,a)})}(u,(h,y)=>{mh(y,new Cr(o.toString()+"/"+h),a)})}class Yf{constructor(o){this.collection_=o,this.last_=null}get(){const o=this.collection_.get(),a=Object.assign({},o);return this.last_&&wr(this.last_,(h,y)=>{a[h]=a[h]-y}),this.last_=o,a}}class Xp{constructor(o,a){this.server_=a,this.statsToReport_={},this.statsListener_=new Yf(o);const h=1e4+2e4*Math.random();or(this.reportStats_.bind(this),Math.floor(h))}reportStats_(){const o=this.statsListener_.get(),a={};let h=!1;wr(o,(y,w)=>{w>0&&(0,Xt.r3)(this.statsToReport_,y)&&(a[y]=w,h=!0)}),h&&this.server_.reportStats(a),or(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fl=(()=>{return(u=fl||(fl={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",fl;var u})();function tm(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Jh{constructor(o,a,h){this.path=o,this.affectedTree=a,this.revert=h,this.type=fl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(o){if(Fi(this.path)){if(null!=this.affectedTree.value)return(0,Xt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new Cr(o));return new Jh(cr(),a,this.revert)}}return(0,Xt.hu)(Ti(this.path)===o,"operationForChild called for unrelated child."),new Jh(Ir(this.path),this.affectedTree,this.revert)}}class pl{constructor(o,a,h){this.source=o,this.path=a,this.snap=h,this.type=fl.OVERWRITE}operationForChild(o){return Fi(this.path)?new pl(this.source,cr(),this.snap.getImmediateChild(o)):new pl(this.source,Ir(this.path),this.snap)}}class fu{constructor(o,a,h){this.source=o,this.path=a,this.children=h,this.type=fl.MERGE}operationForChild(o){if(Fi(this.path)){const a=this.children.subtree(new Cr(o));return a.isEmpty()?null:a.value?new pl(this.source,cr(),a.value):new fu(this.source,cr(),a)}return(0,Xt.hu)(Ti(this.path)===o,"Can't get a merge for a child not on the path of the operation"),new fu(this.source,Ir(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vu{constructor(o,a,h){this.node_=o,this.fullyInitialized_=a,this.filtered_=h}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(o){if(Fi(o))return this.isFullyInitialized()&&!this.filtered_;const a=Ti(o);return this.isCompleteForChild(a)}isCompleteForChild(o){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(o)}getNode(){return this.node_}}function gh(u,o,a,h,y,w){const L=h.filter(K=>K.type===a);L.sort((K,ue)=>function jl(u,o,a){if(null==o.childName||null==a.childName)throw(0,Xt.g5)("Should only compare child_ events.");const h=new zi(o.childName,o.snapshotNode),y=new zi(a.childName,a.snapshotNode);return u.index_.compare(h,y)}(u,K,ue)),L.forEach(K=>{const ue=function Id(u,o,a){return"value"===o.type||"child_removed"===o.type||(o.prevName=a.getPredecessorChildName(o.childName,o.snapshotNode,u.index_)),o}(u,K,w);y.forEach(Ie=>{Ie.respondsTo(K.type)&&o.push(Ie.createEvent(ue,u.query_))})})}function _h(u,o){return{eventCache:u,serverCache:o}}function yh(u,o,a,h){return _h(new Vu(o,a,h),u.serverCache)}function vh(u,o,a,h){return _h(u.eventCache,new Vu(o,a,h))}function ef(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function pu(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let im;class Ur{constructor(o,a=(()=>(im||(im=new pi(Oa)),im))()){this.value=o,this.children=a}static fromObject(o){let a=new Ur(null);return wr(o,(h,y)=>{a=a.set(new Cr(h),y)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(o,a){if(null!=this.value&&a(this.value))return{path:cr(),value:this.value};if(Fi(o))return null;{const h=Ti(o),y=this.children.get(h);if(null!==y){const w=y.findRootMostMatchingPathAndValue(Ir(o),a);return null!=w?{path:Wr(new Cr(h),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(o){return this.findRootMostMatchingPathAndValue(o,()=>!0)}subtree(o){if(Fi(o))return this;{const a=Ti(o),h=this.children.get(a);return null!==h?h.subtree(Ir(o)):new Ur(null)}}set(o,a){if(Fi(o))return new Ur(a,this.children);{const h=Ti(o),w=(this.children.get(h)||new Ur(null)).set(Ir(o),a),L=this.children.insert(h,w);return new Ur(this.value,L)}}remove(o){if(Fi(o))return this.children.isEmpty()?new Ur(null):new Ur(null,this.children);{const a=Ti(o),h=this.children.get(a);if(h){const y=h.remove(Ir(o));let w;return w=y.isEmpty()?this.children.remove(a):this.children.insert(a,y),null===this.value&&w.isEmpty()?new Ur(null):new Ur(this.value,w)}return this}}get(o){if(Fi(o))return this.value;{const a=Ti(o),h=this.children.get(a);return h?h.get(Ir(o)):null}}setTree(o,a){if(Fi(o))return a;{const h=Ti(o),w=(this.children.get(h)||new Ur(null)).setTree(Ir(o),a);let L;return L=w.isEmpty()?this.children.remove(h):this.children.insert(h,w),new Ur(this.value,L)}}fold(o){return this.fold_(cr(),o)}fold_(o,a){const h={};return this.children.inorderTraversal((y,w)=>{h[y]=w.fold_(Wr(o,y),a)}),a(o,this.value,h)}findOnPath(o,a){return this.findOnPath_(o,cr(),a)}findOnPath_(o,a,h){const y=!!this.value&&h(a,this.value);if(y)return y;if(Fi(o))return null;{const w=Ti(o),L=this.children.get(w);return L?L.findOnPath_(Ir(o),Wr(a,w),h):null}}foreachOnPath(o,a){return this.foreachOnPath_(o,cr(),a)}foreachOnPath_(o,a,h){if(Fi(o))return this;{this.value&&h(a,this.value);const y=Ti(o),w=this.children.get(y);return w?w.foreachOnPath_(Ir(o),Wr(a,y),h):new Ur(null)}}foreach(o){this.foreach_(cr(),o)}foreach_(o,a){this.children.inorderTraversal((h,y)=>{y.foreach_(Wr(o,h),a)}),this.value&&a(o,this.value)}foreachChild(o){this.children.inorderTraversal((a,h)=>{h.value&&o(a,h.value)})}}class Jo{constructor(o){this.writeTree_=o}static empty(){return new Jo(new Ur(null))}}function Uu(u,o,a){if(Fi(o))return new Jo(new Ur(a));{const h=u.writeTree_.findRootMostValueAndPath(o);if(null!=h){const y=h.path;let w=h.value;const L=ko(y,o);return w=w.updateChild(L,a),new Jo(u.writeTree_.set(y,w))}{const y=new Ur(a),w=u.writeTree_.setTree(o,y);return new Jo(w)}}}function Zf(u,o,a){let h=u;return wr(a,(y,w)=>{h=Uu(h,Wr(o,y),w)}),h}function qf(u,o){if(Fi(o))return Jo.empty();{const a=u.writeTree_.setTree(o,new Ur(null));return new Jo(a)}}function tf(u,o){return null!=zu(u,o)}function zu(u,o){const a=u.writeTree_.findRootMostValueAndPath(o);return null!=a?u.writeTree_.get(a.path).getChild(ko(a.path,o)):null}function rm(u){const o=[],a=u.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(Gr,(h,y)=>{o.push(new zi(h,y))}):u.writeTree_.children.inorderTraversal((h,y)=>{null!=y.value&&o.push(new zi(h,y.value))}),o}function Lc(u,o){if(Fi(o))return u;{const a=zu(u,o);return new Jo(null!=a?new Ur(a):u.writeTree_.subtree(o))}}function nf(u){return u.writeTree_.isEmpty()}function rf(u,o){return Qf(cr(),u.writeTree_,o)}function Qf(u,o,a){if(null!=o.value)return a.updateChild(u,o.value);{let h=null;return o.children.inorderTraversal((y,w)=>{".priority"===y?((0,Xt.hu)(null!==w.value,"Priority writes must always be leaf nodes"),h=w.value):a=Qf(Wr(u,y),w,a)}),!a.getChild(u).isEmpty()&&null!==h&&(a=a.updateChild(Wr(u,".priority"),h)),a}}function hc(u,o){return Sd(o,u)}function mu(u,o){if(u.snap)return g(u.path,o);for(const a in u.children)if(u.children.hasOwnProperty(a)&&g(Wr(u.path,a),o))return!0;return!1}function Jf(u){return u.visible}function om(u,o,a){let h=Jo.empty();for(let y=0;y<u.length;++y){const w=u[y];if(o(w)){const L=w.path;let K;if(w.snap)g(a,L)?(K=ko(a,L),h=Uu(h,K,w.snap)):g(L,a)&&(K=ko(L,a),h=Uu(h,cr(),w.snap.getChild(K)));else{if(!w.children)throw(0,Xt.g5)("WriteRecord should have .snap or .children");if(g(a,L))K=ko(a,L),h=Zf(h,K,w.children);else if(g(L,a))if(K=ko(L,a),Fi(K))h=Zf(h,cr(),w.children);else{const ue=(0,Xt.DV)(w.children,Ti(K));if(ue){const Ie=ue.getChild(Ir(K));h=Uu(h,cr(),Ie)}}}}}return h}function Dd(u,o,a,h,y){if(h||y){const w=Lc(u.visibleWrites,o);return!y&&nf(w)?a:y||null!=a||tf(w,cr())?rf(om(u.allWrites,function(Ie){return(Ie.visible||y)&&(!h||!~h.indexOf(Ie.writeId))&&(g(Ie.path,o)||g(o,Ie.path))},o),a||Li.EMPTY_NODE):null}{const w=zu(u.visibleWrites,o);if(null!=w)return w;{const L=Lc(u.visibleWrites,o);return nf(L)?a:null!=a||tf(L,cr())?rf(L,a||Li.EMPTY_NODE):null}}}function Td(u,o,a,h){return Dd(u.writeTree,u.treePath,o,a,h)}function gu(u,o){return function Bc(u,o,a){let h=Li.EMPTY_NODE;const y=zu(u.visibleWrites,o);if(y)return y.isLeafNode()||y.forEachChild(Gr,(w,L)=>{h=h.updateImmediateChild(w,L)}),h;if(a){const w=Lc(u.visibleWrites,o);return a.forEachChild(Gr,(L,K)=>{const ue=rf(Lc(w,new Cr(L)),K);h=h.updateImmediateChild(L,ue)}),rm(w).forEach(L=>{h=h.updateImmediateChild(L.name,L.node)}),h}return rm(Lc(u.visibleWrites,o)).forEach(L=>{h=h.updateImmediateChild(L.name,L.node)}),h}(u.writeTree,u.treePath,o)}function lm(u,o,a,h){return function ml(u,o,a,h,y){(0,Xt.hu)(h||y,"Either existingEventSnap or existingServerSnap must exist");const w=Wr(o,a);if(tf(u.visibleWrites,w))return null;{const L=Lc(u.visibleWrites,w);return nf(L)?y.getChild(a):rf(L,y.getChild(a))}}(u.writeTree,u.treePath,o,a,h)}function ep(u,o){return function xd(u,o){return zu(u.visibleWrites,o)}(u.writeTree,Wr(u.treePath,o))}function bh(u,o,a){return function $u(u,o,a,h){const y=Wr(o,a),w=zu(u.visibleWrites,y);return null!=w?w:h.isCompleteForChild(a)?rf(Lc(u.visibleWrites,y),h.getNode().getImmediateChild(a)):null}(u.writeTree,u.treePath,o,a)}function sf(u,o){return Sd(Wr(u.treePath,o),u.writeTree)}function Sd(u,o){return{treePath:u,writeTree:o}}class Ad{constructor(){this.changeMap=new Map}trackChildChange(o){const a=o.type,h=o.childName;(0,Xt.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,Xt.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");const y=this.changeMap.get(h);if(y){const w=y.type;if("child_added"===a&&"child_removed"===w)this.changeMap.set(h,hh(h,o.snapshotNode,y.snapshotNode));else if("child_removed"===a&&"child_added"===w)this.changeMap.delete(h);else if("child_removed"===a&&"child_changed"===w)this.changeMap.set(h,function dh(u,o){return{type:"child_removed",snapshotNode:o,childName:u}}(h,y.oldSnap));else if("child_changed"===a&&"child_added"===w)this.changeMap.set(h,function bd(u,o){return{type:"child_added",snapshotNode:o,childName:u}}(h,o.snapshotNode));else{if("child_changed"!==a||"child_changed"!==w)throw(0,Xt.g5)("Illegal combination of changes: "+o+" occurred after "+y);this.changeMap.set(h,hh(h,o.snapshotNode,y.oldSnap))}}else this.changeMap.set(h,o)}getChanges(){return Array.from(this.changeMap.values())}}const fg=new class hg{getCompleteChild(o){return null}getChildAfterChild(o,a,h){return null}};class cm{constructor(o,a,h=null){this.writes_=o,this.viewCache_=a,this.optCompleteServerCache_=h}getCompleteChild(o){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(o))return a.getNode().getImmediateChild(o);{const h=null!=this.optCompleteServerCache_?new Vu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bh(this.writes_,o,h)}}getChildAfterChild(o,a,h){const y=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:pu(this.viewCache_),w=function dg(u,o,a,h,y,w){return function ug(u,o,a,h,y,w,L){let K;const ue=Lc(u.visibleWrites,o),Ie=zu(ue,cr());if(null!=Ie)K=Ie;else{if(null==a)return[];K=rf(ue,a)}if(K=K.withIndex(L),K.isEmpty()||K.isLeafNode())return[];{const It=[],Nt=L.getCompare(),an=w?K.getReverseIteratorFrom(h,L):K.getIteratorFrom(h,L);let Dn=an.getNext();for(;Dn&&It.length<y;)0!==Nt(Dn,h)&&It.push(Dn),Dn=an.getNext();return It}}(u.writeTree,u.treePath,o,a,h,y,w)}(this.writes_,y,a,1,h,o);return 0===w.length?null:w[0]}}function _u(u,o,a,h,y,w){const L=o.eventCache;if(null!=ep(h,a))return o;{let K,ue;if(Fi(a))if((0,Xt.hu)(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()){const Ie=pu(o),Nt=gu(h,Ie instanceof Li?Ie:Li.EMPTY_NODE);K=u.filter.updateFullNode(o.eventCache.getNode(),Nt,w)}else{const Ie=Td(h,pu(o));K=u.filter.updateFullNode(o.eventCache.getNode(),Ie,w)}else{const Ie=Ti(a);if(".priority"===Ie){(0,Xt.hu)(1===Qo(a),"Can't have a priority with additional path components");const It=L.getNode();ue=o.serverCache.getNode();const Nt=lm(h,a,It,ue);K=null!=Nt?u.filter.updatePriority(It,Nt):L.getNode()}else{const It=Ir(a);let Nt;if(L.isCompleteForChild(Ie)){ue=o.serverCache.getNode();const an=lm(h,a,L.getNode(),ue);Nt=null!=an?L.getNode().getImmediateChild(Ie).updateChild(It,an):L.getNode().getImmediateChild(Ie)}else Nt=bh(h,Ie,o.serverCache);K=null!=Nt?u.filter.updateChild(L.getNode(),Ie,Nt,It,y,w):L.getNode()}}return yh(o,K,L.isFullyInitialized()||Fi(a),u.filter.filtersNodes())}}function Eh(u,o,a,h,y,w,L,K){const ue=o.serverCache;let Ie;const It=L?u.filter:u.filter.getIndexedFilter();if(Fi(a))Ie=It.updateFullNode(ue.getNode(),h,null);else if(It.filtersNodes()&&!ue.isFiltered()){const Dn=ue.getNode().updateChild(a,h);Ie=It.updateFullNode(ue.getNode(),Dn,null)}else{const Dn=Ti(a);if(!ue.isCompleteForPath(a)&&Qo(a)>1)return o;const An=Ir(a),Ri=ue.getNode().getImmediateChild(Dn).updateChild(An,h);Ie=".priority"===Dn?It.updatePriority(ue.getNode(),Ri):It.updateChild(ue.getNode(),Dn,Ri,An,fg,null)}const Nt=vh(o,Ie,ue.isFullyInitialized()||Fi(a),It.filtersNodes());return _u(u,Nt,a,y,new cm(y,Nt,w),K)}function um(u,o,a,h,y,w,L){const K=o.eventCache;let ue,Ie;const It=new cm(y,o,w);if(Fi(a))Ie=u.filter.updateFullNode(o.eventCache.getNode(),h,L),ue=yh(o,Ie,!0,u.filter.filtersNodes());else{const Nt=Ti(a);if(".priority"===Nt)Ie=u.filter.updatePriority(o.eventCache.getNode(),h),ue=yh(o,Ie,K.isFullyInitialized(),K.isFiltered());else{const an=Ir(a),Dn=K.getNode().getImmediateChild(Nt);let An;if(Fi(an))An=h;else{const qn=It.getCompleteChild(Nt);An=null!=qn?".priority"===dl(an)&&qn.getChild(zl(an)).isEmpty()?qn:qn.updateChild(an,h):Li.EMPTY_NODE}ue=Dn.equals(An)?o:yh(o,u.filter.updateChild(K.getNode(),Nt,An,an,It,L),K.isFullyInitialized(),u.filter.filtersNodes())}}return ue}function dm(u,o){return u.eventCache.isCompleteForChild(o)}function lf(u,o,a){return a.foreach((h,y)=>{o=o.updateChild(h,y)}),o}function wh(u,o,a,h,y,w,L,K){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;let Ie,ue=o;Ie=Fi(a)?h:new Ur(null).setTree(a,h);const It=o.serverCache.getNode();return Ie.children.inorderTraversal((Nt,an)=>{if(It.hasChild(Nt)){const An=lf(0,o.serverCache.getNode().getImmediateChild(Nt),an);ue=Eh(u,ue,new Cr(Nt),An,y,w,L,K)}}),Ie.children.inorderTraversal((Nt,an)=>{const Dn=!o.serverCache.isCompleteForChild(Nt)&&null===an.value;if(!It.hasChild(Nt)&&!Dn){const qn=lf(0,o.serverCache.getNode().getImmediateChild(Nt),an);ue=Eh(u,ue,new Cr(Nt),qn,y,w,L,K)}}),ue}function fm(u,o){const a=pu(u.viewCache_);return a&&(u.query._queryParams.loadsAllData()||!Fi(o)&&!a.getImmediateChild(Ti(o)).isEmpty())?a.getChild(o):null}function Md(u,o,a,h){o.type===fl.MERGE&&null!==o.source.queryId&&((0,Xt.hu)(pu(u.viewCache_),"We should always have a full cache before handling merges"),(0,Xt.hu)(ef(u.viewCache_),"Missing event cache, even though we have a server cache"));const y=u.viewCache_,w=function Vc(u,o,a,h,y){const w=new Ad;let L,K;if(a.type===fl.OVERWRITE){const Ie=a;Ie.source.fromUser?L=um(u,o,Ie.path,Ie.snap,h,y,w):((0,Xt.hu)(Ie.source.fromServer,"Unknown source."),K=Ie.source.tagged||o.serverCache.isFiltered()&&!Fi(Ie.path),L=Eh(u,o,Ie.path,Ie.snap,h,y,K,w))}else if(a.type===fl.MERGE){const Ie=a;Ie.source.fromUser?L=function E_(u,o,a,h,y,w,L){let K=o;return h.foreach((ue,Ie)=>{const It=Wr(a,ue);dm(o,Ti(It))&&(K=um(u,K,It,Ie,y,w,L))}),h.foreach((ue,Ie)=>{const It=Wr(a,ue);dm(o,Ti(It))||(K=um(u,K,It,Ie,y,w,L))}),K}(u,o,Ie.path,Ie.children,h,y,w):((0,Xt.hu)(Ie.source.fromServer,"Unknown source."),K=Ie.source.tagged||o.serverCache.isFiltered(),L=wh(u,o,Ie.path,Ie.children,h,y,K,w))}else if(a.type===fl.ACK_USER_WRITE){const Ie=a;L=Ie.revert?function hm(u,o,a,h,y,w){let L;if(null!=ep(h,a))return o;{const K=new cm(h,o,y),ue=o.eventCache.getNode();let Ie;if(Fi(a)||".priority"===Ti(a)){let It;if(o.serverCache.isFullyInitialized())It=Td(h,pu(o));else{const Nt=o.serverCache.getNode();(0,Xt.hu)(Nt instanceof Li,"serverChildren would be complete if leaf node"),It=gu(h,Nt)}Ie=u.filter.updateFullNode(ue,It,w)}else{const It=Ti(a);let Nt=bh(h,It,o.serverCache);null==Nt&&o.serverCache.isCompleteForChild(It)&&(Nt=ue.getImmediateChild(It)),Ie=null!=Nt?u.filter.updateChild(ue,It,Nt,Ir(a),K,w):o.eventCache.getNode().hasChild(It)?u.filter.updateChild(ue,It,Li.EMPTY_NODE,Ir(a),K,w):ue,Ie.isEmpty()&&o.serverCache.isFullyInitialized()&&(L=Td(h,pu(o)),L.isLeafNode()&&(Ie=u.filter.updateFullNode(Ie,L,w)))}return L=o.serverCache.isFullyInitialized()||null!=ep(h,cr()),yh(o,Ie,L,u.filter.filtersNodes())}}(u,o,Ie.path,h,y,w):function tp(u,o,a,h,y,w,L){if(null!=ep(y,a))return o;const K=o.serverCache.isFiltered(),ue=o.serverCache;if(null!=h.value){if(Fi(a)&&ue.isFullyInitialized()||ue.isCompleteForPath(a))return Eh(u,o,a,ue.getNode().getChild(a),y,w,K,L);if(Fi(a)){let Ie=new Ur(null);return ue.getNode().forEachChild(ka,(It,Nt)=>{Ie=Ie.set(new Cr(It),Nt)}),wh(u,o,a,Ie,y,w,K,L)}return o}{let Ie=new Ur(null);return h.foreach((It,Nt)=>{const an=Wr(a,It);ue.isCompleteForPath(an)&&(Ie=Ie.set(It,ue.getNode().getChild(an)))}),wh(u,o,a,Ie,y,w,K,L)}}(u,o,Ie.path,Ie.affectedTree,h,y,w)}else{if(a.type!==fl.LISTEN_COMPLETE)throw(0,Xt.g5)("Unknown operation type: "+a.type);L=function cf(u,o,a,h,y){const w=o.serverCache;return _u(u,vh(o,w.getNode(),w.isFullyInitialized()||Fi(a),w.isFiltered()),a,h,fg,y)}(u,o,a.path,h,w)}const ue=w.getChanges();return function fc(u,o,a){const h=o.eventCache;if(h.isFullyInitialized()){const y=h.getNode().isLeafNode()||h.getNode().isEmpty(),w=ef(u);(a.length>0||!u.eventCache.isFullyInitialized()||y&&!h.getNode().equals(w)||!h.getNode().getPriority().equals(w.getPriority()))&&a.push(function Rc(u){return{type:"value",snapshotNode:u}}(ef(o)))}}(o,L,ue),{viewCache:L,changes:ue}}(u.processor_,y,o,a,h);return function b_(u,o){(0,Xt.hu)(o.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Xt.hu)(o.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,w.viewCache),(0,Xt.hu)(w.viewCache.serverCache.isFullyInitialized()||!y.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=w.viewCache,function pc(u,o,a,h){return function nm(u,o,a,h){const y=[],w=[];return o.forEach(L=>{"child_changed"===L.type&&u.index_.indexedValueChanged(L.oldSnap,L.snapshotNode)&&w.push(function Za(u,o){return{type:"child_moved",snapshotNode:o,childName:u}}(L.childName,L.snapshotNode))}),gh(u,y,"child_removed",o,h,a),gh(u,y,"child_added",o,h,a),gh(u,y,"child_moved",w,h,a),gh(u,y,"child_changed",o,h,a),gh(u,y,"value",o,h,a),y}(u.eventGenerator_,o,a,h?[h]:u.eventRegistrations_)}(u,w.changes,w.viewCache.eventCache.getNode(),null)}let gl,Ch;function Od(u,o,a,h){const y=o.source.queryId;if(null!==y){const w=u.views.get(y);return(0,Xt.hu)(null!=w,"SyncTree gave us an op for an invalid query."),Md(w,o,a,h)}{let w=[];for(const L of u.views.values())w=w.concat(Md(L,o,a,h));return w}}function Na(u,o){let a=null;for(const h of u.views.values())a=a||fm(h,o);return a}class _m{constructor(o){this.listenProvider_=o,this.syncPointTree_=new Ur(null),this.pendingWriteTree_=function am(){return{visibleWrites:Jo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sp(u,o,a,h,y){return function ju(u,o,a,h,y){(0,Xt.hu)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===y&&(y=!0),u.allWrites.push({path:o,snap:a,writeId:h,visible:y}),y&&(u.visibleWrites=Uu(u.visibleWrites,o,a)),u.lastWriteId=h}(u.pendingWriteTree_,o,a,h,y),y?Dh(u,new pl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,a)):[]}function vu(u,o,a=!1){const h=function cg(u,o){for(let a=0;a<u.allWrites.length;a++){const h=u.allWrites[a];if(h.writeId===o)return h}return null}(u.pendingWriteTree_,o);if(function Hu(u,o){const a=u.allWrites.findIndex(K=>K.writeId===o);(0,Xt.hu)(a>=0,"removeWrite called with nonexistent writeId.");const h=u.allWrites[a];u.allWrites.splice(a,1);let y=h.visible,w=!1,L=u.allWrites.length-1;for(;y&&L>=0;){const K=u.allWrites[L];K.visible&&(L>=a&&mu(K,h.path)?y=!1:g(h.path,K.path)&&(w=!0)),L--}return!!y&&(w?(function Xf(u){u.visibleWrites=om(u.allWrites,Jf,cr()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=qf(u.visibleWrites,h.path):wr(h.children,ue=>{u.visibleWrites=qf(u.visibleWrites,Wr(h.path,ue))}),!0))}(u.pendingWriteTree_,o)){let w=new Ur(null);return null!=h.snap?w=w.set(cr(),!0):wr(h.children,L=>{w=w.set(new Cr(L),!0)}),Dh(u,new Jh(h.path,w,a))}return[]}function df(u,o,a){return Dh(u,new pl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,a))}function ap(u,o,a){const y=u.pendingWriteTree_,w=u.syncPointTree_.findOnPath(o,(L,K)=>{const Ie=Na(K,ko(L,o));if(Ie)return Ie});return Dd(y,o,w,a,!0)}function Dh(u,o){return vg(o,u.syncPointTree_,null,hc(u.pendingWriteTree_,cr()))}function vg(u,o,a,h){if(Fi(u.path))return bm(u,o,a,h);{const y=o.get(cr());null==a&&null!=y&&(a=Na(y,cr()));let w=[];const L=Ti(u.path),K=u.operationForChild(L),ue=o.children.get(L);if(ue&&K){const Ie=a?a.getImmediateChild(L):null,It=sf(h,L);w=w.concat(vg(K,ue,Ie,It))}return y&&(w=w.concat(Od(y,u,h,a))),w}}function bm(u,o,a,h){const y=o.get(cr());null==a&&null!=y&&(a=Na(y,cr()));let w=[];return o.children.inorderTraversal((L,K)=>{const ue=a?a.getImmediateChild(L):null,Ie=sf(h,L),It=u.operationForChild(L);It&&(w=w.concat(bm(It,K,ue,Ie)))}),y&&(w=w.concat(Od(y,u,h,a))),w}function Em(u,o){return u.tagToQueryMap.get(o)}function ff(u){const o=u.indexOf("$");return(0,Xt.hu)(-1!==o&&o<u.length-1,"Bad queryKey."),{queryId:u.substr(o+1),path:new Cr(u.substr(0,o))}}function kd(u,o,a){const h=u.syncPointTree_.get(o);return(0,Xt.hu)(h,"Missing sync point for query tag that we're tracking"),Od(h,a,hc(u.pendingWriteTree_,o),null)}class Th{constructor(o){this.node_=o}getImmediateChild(o){const a=this.node_.getImmediateChild(o);return new Th(a)}node(){return this.node_}}class lp{constructor(o,a){this.syncTree_=o,this.path_=a}getImmediateChild(o){const a=Wr(this.path_,o);return new lp(this.syncTree_,a)}node(){return ap(this.syncTree_,this.path_)}}const pf=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},zc=function(u,o,a){return u&&"object"==typeof u?((0,Xt.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Cm(u[".sv"],o,a):"object"==typeof u[".sv"]?cp(u[".sv"],o):void(0,Xt.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Cm=function(u,o,a){if("timestamp"===u)return a.timestamp;(0,Xt.hu)(!1,"Unexpected server value: "+u)},cp=function(u,o,a){u.hasOwnProperty("increment")||(0,Xt.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const h=u.increment;"number"!=typeof h&&(0,Xt.hu)(!1,"Unexpected increment value: "+h);const y=o.node();if((0,Xt.hu)(null!==y&&typeof y<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!y.isLeafNode())return h;const L=y.getValue();return"number"!=typeof L?h:L+h},Sh=function(u,o,a,h){return mf(o,new lp(a,u),h)},Im=function(u,o,a){return mf(u,new Th(o),a)};function mf(u,o,a){const h=u.getPriority().val(),y=zc(h,o.getImmediateChild(".priority"),a);let w;if(u.isLeafNode()){const L=u,K=zc(L.getValue(),o,a);return K!==L.getValue()||y!==L.getPriority().val()?new lh(K,Xr(y)):u}{const L=u;return w=L,y!==L.getPriority().val()&&(w=w.updatePriority(new lh(y))),L.forEachChild(Gr,(K,ue)=>{const Ie=mf(ue,o.getImmediateChild(K),a);Ie!==ue&&(w=w.updateImmediateChild(K,Ie))}),w}}class up{constructor(o="",a=null,h={children:{},childCount:0}){this.name=o,this.parent=a,this.node=h}}function Ah(u,o){let a=o instanceof Cr?o:new Cr(o),h=u,y=Ti(a);for(;null!==y;){const w=(0,Xt.DV)(h.node.children,y)||{children:{},childCount:0};h=new up(y,h,w),a=Ir(a),y=Ti(a)}return h}function Fd(u){return u.node.value}function dp(u,o){u.node.value=o,gf(u)}function Eg(u){return u.node.childCount>0}function hp(u,o){wr(u.node.children,(a,h)=>{o(new up(a,u,h))})}function Gu(u,o,a,h){a&&!h&&o(u),hp(u,y=>{Gu(y,o,!0,h)}),a&&h&&o(u)}function bu(u){return new Cr(null===u.parent?u.name:bu(u.parent)+"/"+u.name)}function gf(u){null!==u.parent&&function fp(u,o,a){const h=function Dm(u){return void 0===Fd(u)&&!Eg(u)}(a),y=(0,Xt.r3)(u.node.children,o);h&&y?(delete u.node.children[o],u.node.childCount--,gf(u)):!h&&!y&&(u.node.children[o]=a.node,u.node.childCount++,gf(u))}(u.parent,u.name,u)}const wg=/[\[\].#$\/\u0000-\u001F\u007F]/,S_=/[\[\].#$\u0000-\u001F\u007F]/,Ku=10485760,Bd=function(u){return"string"==typeof u&&0!==u.length&&!wg.test(u)},jc=function(u,o,a){const h=a instanceof Cr?new b(a,u):a;if(void 0===o)throw new Error(u+"contains undefined "+St(h));if("function"==typeof o)throw new Error(u+"contains a function "+St(h)+" with contents = "+o.toString());if(_n(o))throw new Error(u+"contains "+o.toString()+" "+St(h));if("string"==typeof o&&o.length>Ku/3&&(0,Xt.ug)(o)>Ku)throw new Error(u+"contains a string greater than "+Ku+" utf8 bytes "+St(h)+" ('"+o.substring(0,50)+"...')");if(o&&"object"==typeof o){let y=!1,w=!1;if(wr(o,(L,K)=>{if(".value"===L)y=!0;else if(".priority"!==L&&".sv"!==L&&(w=!0,!Bd(L)))throw new Error(u+" contains an invalid key ("+L+") "+St(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function M(u,o){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(o),u.byteLength_+=(0,Xt.ug)(o),De(u)})(h,L),jc(u,K,h),function se(u){const o=u.parts_.pop();u.byteLength_-=(0,Xt.ug)(o),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),y&&w)throw new Error(u+' contains ".value" child '+St(h)+" in addition to actual children.")}},gp=function(u,o){const a=o.path.toString();if("string"!=typeof o.repoInfo.host||0===o.repoInfo.host.length||!Bd(o.repoInfo.namespace)&&"localhost"!==o.repoInfo.host.split(":")[0]||0!==a.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),function(u){return"string"==typeof u&&0!==u.length&&!S_.test(u)}(u)}(a))throw new Error((0,Xt.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _p{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yl(u,o,a){(function qu(u,o){let a=null;for(let h=0;h<o.length;h++){const y=o[h],w=y.getPath();null!==a&&!D(w,a.path)&&(u.eventLists_.push(a),a=null),null===a&&(a={events:[],path:w}),a.events.push(y)}a&&u.eventLists_.push(a)})(u,a),function Ig(u,o){u.recursionDepth_++;let a=!0;for(let h=0;h<u.eventLists_.length;h++){const y=u.eventLists_[h];y&&(o(y.path)?(ea(u.eventLists_[h]),u.eventLists_[h]=null):a=!1)}a&&(u.eventLists_=[]),u.recursionDepth_--}(u,h=>g(h,o)||g(o,h))}function ea(u){for(let o=0;o<u.events.length;o++){const a=u.events[o];if(null!==a){u.events[o]=null;const h=a.getEventRunner();Es&&E("event: "+a.toString()),Co(h)}}}const Dg="repo_interrupt",xm=25;class _f{constructor(o,a,h,y){this.repoInfo_=o,this.forceRestClient_=a,this.authTokenProvider_=h,this.appCheckProvider_=y,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _p,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cd(),this.transactionQueueTree_=new up,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yp(u){const a=u.infoData_.getNode(new Cr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function No(u){return pf({timestamp:yp(u)})}function xg(u,o,a,h,y){u.dataUpdateCount++;const w=new Cr(o);a=u.interceptServerDataCallback_?u.interceptServerDataCallback_(o,a):a;let L=[];if(y)if(h){const ue=(0,Xt.UI)(a,Ie=>Xr(Ie));L=function yg(u,o,a,h){const y=Em(u,h);if(y){const w=ff(y),L=w.path,K=w.queryId,ue=ko(L,o),Ie=Ur.fromObject(a);return kd(u,L,new fu(tm(K),ue,Ie))}return[]}(u.serverSyncTree_,w,ue,y)}else{const ue=Xr(a);L=function Ih(u,o,a,h){const y=Em(u,h);if(null!=y){const w=ff(y),L=w.path,K=w.queryId,ue=ko(L,o);return kd(u,L,new pl(tm(K),ue,a))}return[]}(u.serverSyncTree_,w,ue,y)}else if(h){const ue=(0,Xt.UI)(a,Ie=>Xr(Ie));L=function Hi(u,o,a){const h=Ur.fromObject(a);return Dh(u,new fu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,h))}(u.serverSyncTree_,w,ue)}else{const ue=Xr(a);L=df(u.serverSyncTree_,w,ue)}let K=w;L.length>0&&(K=kh(u,w)),yl(u.eventQueue_,K,L)}function Tg(u,o){vf(u,"connected",o),!1===o&&function vp(u){Bs(u,"onDisconnectEvents");const o=No(u),a=Cd();mh(u.onDisconnect_,cr(),(y,w)=>{const L=Sh(y,w,u.serverSyncTree_,o);dc(a,y,L)});let h=[];mh(a,cr(),(y,w)=>{h=h.concat(df(u.serverSyncTree_,y,w));const L=function Qu(u,o){const a=bu(Ud(u,o)),h=Ah(u.transactionQueueTree_,o);return function Ld(u,o,a){let h=a?u:u.parent;for(;null!==h;){if(o(h))return!0;h=h.parent}}(h,y=>{Nh(u,y)}),Nh(u,h),Gu(h,y=>{Nh(u,y)}),a}(u,y);kh(u,L)}),u.onDisconnect_=Cd(),yl(u.eventQueue_,cr(),h)}(u)}function vf(u,o,a){const h=new Cr("/.info/"+o),y=Xr(a);u.infoData_.updateSnapshot(h,y);const w=df(u.infoSyncTree_,h,y);yl(u.eventQueue_,h,w)}function Vd(u){return u.nextWriteId_++}function Bs(u,...o){let a="";u.persistentConnection_&&(a=u.persistentConnection_.id+":"),E(a,...o)}function wf(u,o,a){return ap(u.serverSyncTree_,o,a)||Li.EMPTY_NODE}function Cf(u,o=u.transactionQueueTree_){if(o||Hl(u,o),Fd(o)){const a=Cp(u,o);(0,Xt.hu)(a.length>0,"Sending zero length transaction queue"),a.every(y=>0===y.status)&&function Mm(u,o,a){const h=a.map(Ie=>Ie.currentWriteId),y=wf(u,o,h);let w=y;const L=y.hash();for(let Ie=0;Ie<a.length;Ie++){const It=a[Ie];(0,Xt.hu)(0===It.status,"tryToSendTransactionQueue_: items in queue should all be run."),It.status=1,It.retryCount++;const Nt=ko(o,It.path);w=w.updateChild(Nt,It.currentOutputSnapshotRaw)}const K=w.val(!0),ue=o;u.server_.put(ue.toString(),K,Ie=>{Bs(u,"transaction put response",{path:ue.toString(),status:Ie});let It=[];if("ok"===Ie){const Nt=[];for(let an=0;an<a.length;an++)a[an].status=2,It=It.concat(vu(u.serverSyncTree_,a[an].currentWriteId)),a[an].onComplete&&Nt.push(()=>a[an].onComplete(null,!0,a[an].currentOutputSnapshotResolved)),a[an].unwatcher();Hl(u,Ah(u.transactionQueueTree_,o)),Cf(u,u.transactionQueueTree_),yl(u.eventQueue_,o,It);for(let an=0;an<Nt.length;an++)Co(Nt[an])}else{if("datastale"===Ie)for(let Nt=0;Nt<a.length;Nt++)a[Nt].status=3===a[Nt].status?4:0;else{ve("transaction at "+ue.toString()+" failed: "+Ie);for(let Nt=0;Nt<a.length;Nt++)a[Nt].status=4,a[Nt].abortReason=Ie}kh(u,o)}},L)}(u,bu(o),a)}else Eg(o)&&hp(o,a=>{Cf(u,a)})}function kh(u,o){const a=Ud(u,o),h=bu(a);return function Om(u,o,a){if(0===o.length)return;const h=[];let y=[];const L=o.filter(K=>0===K.status).map(K=>K.currentWriteId);for(let K=0;K<o.length;K++){const ue=o[K],Ie=ko(a,ue.path);let Nt,It=!1;if((0,Xt.hu)(null!==Ie,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ue.status)It=!0,Nt=ue.abortReason,y=y.concat(vu(u.serverSyncTree_,ue.currentWriteId,!0));else if(0===ue.status)if(ue.retryCount>=xm)It=!0,Nt="maxretry",y=y.concat(vu(u.serverSyncTree_,ue.currentWriteId,!0));else{const an=wf(u,ue.path,L);ue.currentInputSnapshot=an;const Dn=o[K].update(an.val());if(void 0!==Dn){jc("transaction failed: Data returned ",Dn,ue.path);let An=Xr(Dn);"object"==typeof Dn&&null!=Dn&&(0,Xt.r3)(Dn,".priority")||(An=An.updatePriority(an.getPriority()));const Ri=ue.currentWriteId,vr=No(u),Kr=Im(An,an,vr);ue.currentOutputSnapshotRaw=An,ue.currentOutputSnapshotResolved=Kr,ue.currentWriteId=Vd(u),L.splice(L.indexOf(Ri),1),y=y.concat(sp(u.serverSyncTree_,ue.path,Kr,ue.currentWriteId,ue.applyLocally)),y=y.concat(vu(u.serverSyncTree_,Ri,!0))}else It=!0,Nt="nodata",y=y.concat(vu(u.serverSyncTree_,ue.currentWriteId,!0))}yl(u.eventQueue_,a,y),y=[],It&&(o[K].status=2,setTimeout(o[K].unwatcher,Math.floor(0)),o[K].onComplete&&h.push("nodata"===Nt?()=>o[K].onComplete(null,!1,o[K].currentInputSnapshot):()=>o[K].onComplete(new Error(Nt),!1,null)))}Hl(u,u.transactionQueueTree_);for(let K=0;K<h.length;K++)Co(h[K]);Cf(u,u.transactionQueueTree_)}(u,Cp(u,a),h),h}function Ud(u,o){let a,h=u.transactionQueueTree_;for(a=Ti(o);null!==a&&void 0===Fd(h);)h=Ah(h,a),a=Ti(o=Ir(o));return h}function Cp(u,o){const a=[];return Pm(u,o,a),a.sort((h,y)=>h.order-y.order),a}function Pm(u,o,a){const h=Fd(o);if(h)for(let y=0;y<h.length;y++)a.push(h[y]);hp(o,y=>{Pm(u,y,a)})}function Hl(u,o){const a=Fd(o);if(a){let h=0;for(let y=0;y<a.length;y++)2!==a[y].status&&(a[h]=a[y],h++);a.length=h,dp(o,a.length>0?a:void 0)}hp(o,h=>{Hl(u,h)})}function Nh(u,o){const a=Fd(o);if(a){const h=[];let y=[],w=-1;for(let L=0;L<a.length;L++)3===a[L].status||(1===a[L].status?((0,Xt.hu)(w===L-1,"All SENT items should be at beginning of queue."),w=L,a[L].status=3,a[L].abortReason="set"):((0,Xt.hu)(0===a[L].status,"Unexpected transaction status in abort"),a[L].unwatcher(),y=y.concat(vu(u.serverSyncTree_,a[L].currentWriteId,!0)),a[L].onComplete&&h.push(a[L].onComplete.bind(null,new Error("set"),!1,null))));-1===w?dp(o,void 0):a.length=w+1,yl(u.eventQueue_,bu(o),y);for(let L=0;L<h.length;L++)Co(h[L])}}const Rm=function(u,o){const a=Sg(u),h=a.namespace;return"firebase.com"===a.domain&&he(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==a.domain&&he("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Nl(a.host,a.secure,h,"ws"===a.scheme||"wss"===a.scheme,o,"",h!==a.subdomain),path:new Cr(a.pathString)}},Sg=function(u){let o="",a="",h="",y="",w="",L=!0,K="https",ue=443;if("string"==typeof u){let Ie=u.indexOf("//");Ie>=0&&(K=u.substring(0,Ie-1),u=u.substring(Ie+2));let It=u.indexOf("/");-1===It&&(It=u.length);let Nt=u.indexOf("?");-1===Nt&&(Nt=u.length),o=u.substring(0,Math.min(It,Nt)),It<Nt&&(y=function cy(u){let o="";const a=u.split("/");for(let h=0;h<a.length;h++)if(a[h].length>0){let y=a[h];try{y=decodeURIComponent(y.replace(/\+/g," "))}catch{}o+="/"+y}return o}(u.substring(It,Nt)));const an=function Ip(u){const o={};"?"===u.charAt(0)&&(u=u.substring(1));for(const a of u.split("&")){if(0===a.length)continue;const h=a.split("=");2===h.length?o[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):ve(`Invalid query segment '${a}' in query '${u}'`)}return o}(u.substring(Math.min(u.length,Nt)));Ie=o.indexOf(":"),Ie>=0?(L="https"===K||"wss"===K,ue=parseInt(o.substring(Ie+1),10)):Ie=o.length;const Dn=o.slice(0,Ie);if("localhost"===Dn.toLowerCase())a="localhost";else if(Dn.split(".").length<=2)a=Dn;else{const An=o.indexOf(".");h=o.substring(0,An).toLowerCase(),a=o.substring(An+1),w=h}"ns"in an&&(w=an.ns)}return{host:o,port:ue,domain:a,subdomain:h,secure:L,scheme:K,pathString:y,namespace:w}};class Fo{constructor(o,a,h,y){this._repo=o,this._path=a,this._queryParams=h,this._orderByCalled=y}get key(){return Fi(this._path)?null:dl(this._path)}get ref(){return new qa(this._repo,this._path)}get _queryIdentifier(){const o=Nc(this._queryParams),a=Yo(o);return"{}"===a?"default":a}get _queryObject(){return Nc(this._queryParams)}isEqual(o){if(!((o=(0,Xt.m9)(o))instanceof Fo))return!1;const a=this._repo===o._repo,h=D(this._path,o._path);return a&&h&&this._queryIdentifier===o._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function sh(u){let o="";for(let a=u.pieceNum_;a<u.pieces_.length;a++)""!==u.pieces_[a]&&(o+="/"+encodeURIComponent(String(u.pieces_[a])));return o||"/"}(this._path)}}class qa extends Fo{constructor(o,a){super(o,a,new Qh,!1)}get parent(){const o=zl(this._path);return null===o?null:new qa(this._repo,o)}get root(){let o=this;for(;null!==o.parent;)o=o.parent;return o}}(function Ea(u){(0,Xt.hu)(!gl,"__referenceConstructor has already been defined"),gl=u})(qa),function D_(u){(0,Xt.hu)(!Ch,"__referenceConstructor has already been defined"),Ch=u}(qa);const ed="FIREBASE_DATABASE_EMULATOR_HOST",Wc={};let Iu=!1;class Gc{constructor(o,a){this._repoInternal=o,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yf(u,o,a){if(u.stats_=Oo(u.repoInfo_),u.forceRestClient_||th())u.server_=new hu(u.repoInfo_,(h,y,w,L)=>{xg(u,h,y,w,L)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Tg(u,!0),0);else{if(typeof a<"u"&&null!==a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Xt.Wl)(a)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new Ls(u.repoInfo_,o,(h,y,w,L)=>{xg(u,h,y,w,L)},h=>{Tg(u,h)},h=>{!function ly(u,o){wr(o,(a,h)=>{vf(u,a,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,a),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(h=>{u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(h=>{u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function Ra(u,o){const a=u.toString();return Fl[a]||(Fl[a]=o()),Fl[a]}(u.repoInfo_,()=>new Xp(u.stats_,u.server_)),u.infoData_=new qp,u.infoSyncTree_=new _m({startListening:(h,y,w,L)=>{let K=[];const ue=u.infoData_.getNode(h._path);return ue.isEmpty()||(K=df(u.infoSyncTree_,h._path,ue),setTimeout(()=>{L("ok")},0)),K},stopListening:()=>{}}),vf(u,"connected",!1),u.serverSyncTree_=new _m({startListening:(h,y,w,L)=>(u.server_.listen(h,w,y,(K,ue)=>{const Ie=L(K,ue);yl(u.eventQueue_,h._path,Ie)}),[]),stopListening:(h,y)=>{u.server_.unlisten(h,y)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qa(this._repo,cr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Mp(u,o){const a=Wc[o];(!a||a[u.key]!==u)&&he(`Database ${o}(${u.repoInfo_}) has already been deleted.`),function wp(u){u.persistentConnection_&&u.persistentConnection_.interrupt(Dg)}(u),delete a[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(o){null===this._rootInternal&&he("Cannot call "+o+" on a deleted database.")}}Ls.prototype.simpleListen=function(u,o){this.sendRequest("q",{p:u},o)},Ls.prototype.echo=function(u,o){this.sendRequest("echo",{d:u},o)},function B_(u){(function Mu(u){xc=u})(Pi.SDK_VERSION),(0,Pi._registerComponent)(new Au.wA("database",(o,{instanceIdentifier:a})=>function Wd(u,o,a,h,y){let w=h||u.options.databaseURL;void 0===w&&(u.options.projectId||he("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",u.options.projectId),w=`${u.options.projectId}-default-rtdb.firebaseio.com`);let ue,Ie,L=Rm(w,y),K=L.repoInfo;typeof process<"u"&&process.env&&(Ie=process.env[ed]),Ie?(ue=!0,w=`http://${Ie}?ns=${K.namespace}`,L=Rm(w,y),K=L.repoInfo):ue=!L.repoInfo.secure;const It=y&&ue?new gr(gr.OWNER):new is(u.name,u.options,o);gp("Invalid Firebase Database URL",L),Fi(L.path)||he("Database URL must point to the root of a Firebase Database (not including a child path).");const Nt=function Bg(u,o,a,h){let y=Wc[o.name];y||(y={},Wc[o.name]=y);let w=y[u.toURLString()];return w&&he("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new _f(u,Iu,a,h),y[u.toURLString()]=w,w}(K,u,It,new iu(u.name,a));return new Gc(Nt,u)}(o.getProvider("app").getImmediate(),o.getProvider("auth-internal"),o.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,Pi.registerVersion)(sl,"0.14.4",u),(0,Pi.registerVersion)(sl,"0.14.4","esm2017")}();class Bm{constructor(o){return o}}const Gd="database",Vh=new R.OlP("angularfire2.database-instances");function Wg(u){return(o,a)=>{const h=o.runOutsideAngular(()=>u(a));return new Bm(h)}}const Uh={provide:class Np{constructor(){return(0,Wi.vb)(Gd)}},deps:[[new R.FiY,Vh]]},Vm={provide:Bm,useFactory:function Nf(u,o){const a=(0,Wi.JM)(Gd,u,o);return a&&new Bm(a)},deps:[[new R.FiY,Vh],io.Ot]};let zh=(()=>{class u{constructor(){(0,Ao.KN)("angularfire",Wi.q4.full,"rtdb")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({providers:[Vm,Uh]}),u})();function Gg(u,...o){return{ngModule:zh,providers:[{provide:Vh,useFactory:Wg(u),multi:!0,deps:[R.R0b,R.zs3,Wi.HU,io.z6,[new R.FiY,Aa],[new R.FiY,Ha.nm],...o]}]}}var El=x(1261),Wm=x(2011),Gl=x(1933);let i_=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({imports:[ie.ez,Gl.q,O.Bz]}),u})(),r_=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({imports:[ie.ez]}),u})(),Kl=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({imports:[ie.ez,Gl.q]}),u})(),Ec=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u}),u.\u0275inj=R.cJS({imports:[ie.ez,Gl.q,Kl,O.Bz]}),u})(),wl=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=R.oAB({type:u,bootstrap:[hn]}),u.\u0275inj=R.cJS({imports:[f.b2,Kt.JF,je,vo,zh,i_,r_,Ec,(0,io.hX)(()=>(0,io.ZF)(El.N.firebase)),Gg(()=>function Vg(u=(0,Pi.getApp)(),o){const a=(0,Pi._getProvider)(u,"database").getImmediate({identifier:o});if(!a._instanceStarted){const h=(0,Xt.P0)("database");h&&function Ug(u,o,a,h={}){(u=(0,Xt.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&he("Cannot call useEmulator() after instance has already been initialized.");const y=u._repoInternal;let w;if(y.repoInfo_.nodeAdmin)h.mockUserToken&&he('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new gr(gr.OWNER);else if(h.mockUserToken){const L="string"==typeof h.mockUserToken?h.mockUserToken:(0,Xt.Sg)(h.mockUserToken,u.app.options.projectId);w=new gr(L)}!function bc(u,o,a,h){u.repoInfo_=new Nl(`${o}:${a}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),h&&(u.authTokenProvider_=h)}(y,o,a,w)}(a,...h)}return a}()),rn(()=>ms()),Wm.hO.initializeApp(El.N.firebase)]}),u})();f.q6().bootstrapModule(wl).catch(u=>console.error(u))},1135:(vn,ot,x)=>{x.d(ot,{X:()=>O});var f=x(7579);class O extends f.x{constructor(R){super(),this._value=R}get value(){return this.getValue()}_subscribe(R){const ae=super._subscribe(R);return!ae.closed&&R.next(this._value),ae}getValue(){const{hasError:R,thrownError:ae,_value:Pe}=this;if(R)throw ae;return this._throwIfClosed(),Pe}next(R){super.next(this._value=R)}}},9751:(vn,ot,x)=>{x.d(ot,{y:()=>ye});var f=x(930),O=x(727),P=x(8822),R=x(9635),ae=x(2416),Pe=x(576),je=x(2806);let ye=(()=>{class le{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const Qe=new le;return Qe.source=this,Qe.operator=Be,Qe}subscribe(Be,Qe,bt){const et=function ge(le){return le&&le instanceof f.Lv||function ie(le){return le&&(0,Pe.m)(le.next)&&(0,Pe.m)(le.error)&&(0,Pe.m)(le.complete)}(le)&&(0,O.Nn)(le)}(Be)?Be:new f.Hp(Be,Qe,bt);return(0,je.x)(()=>{const{operator:Ve,source:Me}=this;et.add(Ve?Ve.call(et,Me):Me?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(Be){try{return this._subscribe(Be)}catch(Qe){Be.error(Qe)}}forEach(Be,Qe){return new(Qe=Ge(Qe))((bt,et)=>{const Ve=new f.Hp({next:Me=>{try{Be(Me)}catch(Ft){et(Ft),Ve.unsubscribe()}},error:et,complete:bt});this.subscribe(Ve)})}_subscribe(Be){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Be)}[P.L](){return this}pipe(...Be){return(0,R.U)(Be)(this)}toPromise(Be){return new(Be=Ge(Be))((Qe,bt)=>{let et;this.subscribe(Ve=>et=Ve,Ve=>bt(Ve),()=>Qe(et))})}}return le.create=ke=>new le(ke),le})();function Ge(le){var ke;return null!==(ke=le??ae.v.Promise)&&void 0!==ke?ke:Promise}},7579:(vn,ot,x)=>{x.d(ot,{x:()=>je});var f=x(9751),O=x(727);const R=(0,x(3888).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=x(8737),Pe=x(2806);let je=(()=>{class Ge extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const le=new ye(this,this);return le.operator=ge,le}_throwIfClosed(){if(this.closed)throw new R}next(ge){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const le of this.currentObservers)le.next(ge)}})}error(ge){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:le}=this;for(;le.length;)le.shift().error(ge)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:le,isStopped:ke,observers:Be}=this;return le||ke?O.Lc:(this.currentObservers=null,Be.push(ge),new O.w0(()=>{this.currentObservers=null,(0,ae.P)(Be,ge)}))}_checkFinalizedStatuses(ge){const{hasError:le,thrownError:ke,isStopped:Be}=this;le?ge.error(ke):Be&&ge.complete()}asObservable(){const ge=new f.y;return ge.source=this,ge}}return Ge.create=(ie,ge)=>new ye(ie,ge),Ge})();class ye extends je{constructor(ie,ge){super(),this.destination=ie,this.source=ge}next(ie){var ge,le;null===(le=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===le||le.call(ge,ie)}error(ie){var ge,le;null===(le=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===le||le.call(ge,ie)}complete(){var ie,ge;null===(ge=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===ge||ge.call(ie)}_subscribe(ie){var ge,le;return null!==(le=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(ie))&&void 0!==le?le:O.Lc}}},930:(vn,ot,x)=>{x.d(ot,{Hp:()=>bt,Lv:()=>le});var f=x(576),O=x(727),P=x(2416),R=x(7849),ae=x(5032);const Pe=Ge("C",void 0,void 0);function Ge(Ye,Re,tt){return{kind:Ye,value:Re,error:tt}}var ie=x(3410),ge=x(2806);class le extends O.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,O.Nn)(Re)&&Re.add(this)):this.destination=Ft}static create(Re,tt,lt){return new bt(Re,tt,lt)}next(Re){this.isStopped?Me(function ye(Ye){return Ge("N",Ye,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Me(function je(Ye){return Ge("E",void 0,Ye)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Me(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Be(Ye,Re){return ke.call(Ye,Re)}class Qe{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:tt}=this;if(tt.next)try{tt.next(Re)}catch(lt){et(lt)}}error(Re){const{partialObserver:tt}=this;if(tt.error)try{tt.error(Re)}catch(lt){et(lt)}else et(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(tt){et(tt)}}}class bt extends le{constructor(Re,tt,lt){let nt;if(super(),(0,f.m)(Re)||!Re)nt={next:Re??void 0,error:tt??void 0,complete:lt??void 0};else{let Ze;this&&P.v.useDeprecatedNextContext?(Ze=Object.create(Re),Ze.unsubscribe=()=>this.unsubscribe(),nt={next:Re.next&&Be(Re.next,Ze),error:Re.error&&Be(Re.error,Ze),complete:Re.complete&&Be(Re.complete,Ze)}):nt=Re}this.destination=new Qe(nt)}}function et(Ye){P.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Ye):(0,R.h)(Ye)}function Me(Ye,Re){const{onStoppedNotification:tt}=P.v;tt&&ie.z.setTimeout(()=>tt(Ye,Re))}const Ft={closed:!0,next:ae.Z,error:function Ve(Ye){throw Ye},complete:ae.Z}},727:(vn,ot,x)=>{x.d(ot,{Lc:()=>Pe,w0:()=>ae,Nn:()=>je});var f=x(576);const P=(0,x(3888).d)(Ge=>function(ge){Ge(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((le,ke)=>`${ke+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var R=x(8737);class ae{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const Be of ge)Be.remove(this);else ge.remove(this);const{initialTeardown:le}=this;if((0,f.m)(le))try{le()}catch(Be){ie=Be instanceof P?Be.errors:[Be]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Be of ke)try{ye(Be)}catch(Qe){ie=ie??[],Qe instanceof P?ie=[...ie,...Qe.errors]:ie.push(Qe)}}if(ie)throw new P(ie)}}add(ie){var ge;if(ie&&ie!==this)if(this.closed)ye(ie);else{if(ie instanceof ae){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(ie)}}_hasParent(ie){const{_parentage:ge}=this;return ge===ie||Array.isArray(ge)&&ge.includes(ie)}_addParent(ie){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(ie),ge):ge?[ge,ie]:ie}_removeParent(ie){const{_parentage:ge}=this;ge===ie?this._parentage=null:Array.isArray(ge)&&(0,R.P)(ge,ie)}remove(ie){const{_finalizers:ge}=this;ge&&(0,R.P)(ge,ie),ie instanceof ae&&ie._removeParent(this)}}ae.EMPTY=(()=>{const Ge=new ae;return Ge.closed=!0,Ge})();const Pe=ae.EMPTY;function je(Ge){return Ge instanceof ae||Ge&&"closed"in Ge&&(0,f.m)(Ge.remove)&&(0,f.m)(Ge.add)&&(0,f.m)(Ge.unsubscribe)}function ye(Ge){(0,f.m)(Ge)?Ge():Ge.unsubscribe()}},2416:(vn,ot,x)=>{x.d(ot,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(vn,ot,x)=>{x.d(ot,{a:()=>ie});var f=x(9751),O=x(4742),P=x(8996),R=x(4671),ae=x(3268),Pe=x(3269),je=x(1810),ye=x(5403),Ge=x(9672);function ie(...ke){const Be=(0,Pe.yG)(ke),Qe=(0,Pe.jO)(ke),{args:bt,keys:et}=(0,O.D)(ke);if(0===bt.length)return(0,P.D)([],Be);const Ve=new f.y(function ge(ke,Be,Qe=R.y){return bt=>{le(Be,()=>{const{length:et}=ke,Ve=new Array(et);let Me=et,Ft=et;for(let Ye=0;Ye<et;Ye++)le(Be,()=>{const Re=(0,P.D)(ke[Ye],Be);let tt=!1;Re.subscribe((0,ye.x)(bt,lt=>{Ve[Ye]=lt,tt||(tt=!0,Ft--),Ft||bt.next(Qe(Ve.slice()))},()=>{--Me||bt.complete()}))},bt)},bt)}}(bt,Be,et?Me=>(0,je.n)(et,Me):R.y));return Qe?Ve.pipe((0,ae.Z)(Qe)):Ve}function le(ke,Be,Qe){ke?(0,Ge.f)(Qe,ke,Be):Be()}},7272:(vn,ot,x)=>{x.d(ot,{z:()=>ae});var f=x(8189),P=x(3269),R=x(8996);function ae(...Pe){return function O(){return(0,f.J)(1)}()((0,R.D)(Pe,(0,P.yG)(Pe)))}},515:(vn,ot,x)=>{x.d(ot,{E:()=>O});const O=new(x(9751).y)(ae=>ae.complete())},4128:(vn,ot,x)=>{x.d(ot,{D:()=>ye});var f=x(9751),O=x(4742),P=x(8421),R=x(3269),ae=x(5403),Pe=x(3268),je=x(1810);function ye(...Ge){const ie=(0,R.jO)(Ge),{args:ge,keys:le}=(0,O.D)(Ge),ke=new f.y(Be=>{const{length:Qe}=ge;if(!Qe)return void Be.complete();const bt=new Array(Qe);let et=Qe,Ve=Qe;for(let Me=0;Me<Qe;Me++){let Ft=!1;(0,P.Xf)(ge[Me]).subscribe((0,ae.x)(Be,Ye=>{Ft||(Ft=!0,Ve--),bt[Me]=Ye},()=>et--,void 0,()=>{(!et||!Ft)&&(Ve||Be.next(le?(0,je.n)(le,bt):bt),Be.complete())}))}});return ie?ke.pipe((0,Pe.Z)(ie)):ke}},8996:(vn,ot,x)=>{x.d(ot,{D:()=>Re});var f=x(8421),O=x(5363),P=x(9468),Pe=x(9751),ye=x(2202),Ge=x(576),ie=x(9672);function le(tt,lt){if(!tt)throw new Error("Iterable cannot be null");return new Pe.y(nt=>{(0,ie.f)(nt,lt,()=>{const Ze=tt[Symbol.asyncIterator]();(0,ie.f)(nt,lt,()=>{Ze.next().then(Ut=>{Ut.done?nt.complete():nt.next(Ut.value)})},0,!0)})})}var ke=x(3670),Be=x(8239),Qe=x(1144),bt=x(6495),et=x(2206),Ve=x(4532),Me=x(3260);function Re(tt,lt){return lt?function Ye(tt,lt){if(null!=tt){if((0,ke.c)(tt))return function R(tt,lt){return(0,f.Xf)(tt).pipe((0,P.R)(lt),(0,O.Q)(lt))}(tt,lt);if((0,Qe.z)(tt))return function je(tt,lt){return new Pe.y(nt=>{let Ze=0;return lt.schedule(function(){Ze===tt.length?nt.complete():(nt.next(tt[Ze++]),nt.closed||this.schedule())})})}(tt,lt);if((0,Be.t)(tt))return function ae(tt,lt){return(0,f.Xf)(tt).pipe((0,P.R)(lt),(0,O.Q)(lt))}(tt,lt);if((0,et.D)(tt))return le(tt,lt);if((0,bt.T)(tt))return function ge(tt,lt){return new Pe.y(nt=>{let Ze;return(0,ie.f)(nt,lt,()=>{Ze=tt[ye.h](),(0,ie.f)(nt,lt,()=>{let Ut,hn;try{({value:Ut,done:hn}=Ze.next())}catch(Kt){return void nt.error(Kt)}hn?nt.complete():nt.next(Ut)},0,!0)}),()=>(0,Ge.m)(Ze?.return)&&Ze.return()})}(tt,lt);if((0,Me.L)(tt))return function Ft(tt,lt){return le((0,Me.Q)(tt),lt)}(tt,lt)}throw(0,Ve.z)(tt)}(tt,lt):(0,f.Xf)(tt)}},4968:(vn,ot,x)=>{x.d(ot,{R:()=>ie});var f=x(8421),O=x(9751),P=x(5577),R=x(1144),ae=x(576),Pe=x(3268);const je=["addListener","removeListener"],ye=["addEventListener","removeEventListener"],Ge=["on","off"];function ie(Qe,bt,et,Ve){if((0,ae.m)(et)&&(Ve=et,et=void 0),Ve)return ie(Qe,bt,et).pipe((0,Pe.Z)(Ve));const[Me,Ft]=function Be(Qe){return(0,ae.m)(Qe.addEventListener)&&(0,ae.m)(Qe.removeEventListener)}(Qe)?ye.map(Ye=>Re=>Qe[Ye](bt,Re,et)):function le(Qe){return(0,ae.m)(Qe.addListener)&&(0,ae.m)(Qe.removeListener)}(Qe)?je.map(ge(Qe,bt)):function ke(Qe){return(0,ae.m)(Qe.on)&&(0,ae.m)(Qe.off)}(Qe)?Ge.map(ge(Qe,bt)):[];if(!Me&&(0,R.z)(Qe))return(0,P.z)(Ye=>ie(Ye,bt,et))((0,f.Xf)(Qe));if(!Me)throw new TypeError("Invalid event target");return new O.y(Ye=>{const Re=(...tt)=>Ye.next(1<tt.length?tt:tt[0]);return Me(Re),()=>Ft(Re)})}function ge(Qe,bt){return et=>Ve=>Qe[et](bt,Ve)}},8421:(vn,ot,x)=>{x.d(ot,{Xf:()=>ke});var f=x(7582),O=x(1144),P=x(8239),R=x(9751),ae=x(3670),Pe=x(2206),je=x(4532),ye=x(6495),Ge=x(3260),ie=x(576),ge=x(7849),le=x(8822);function ke(Ye){if(Ye instanceof R.y)return Ye;if(null!=Ye){if((0,ae.c)(Ye))return function Be(Ye){return new R.y(Re=>{const tt=Ye[le.L]();if((0,ie.m)(tt.subscribe))return tt.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ye);if((0,O.z)(Ye))return function Qe(Ye){return new R.y(Re=>{for(let tt=0;tt<Ye.length&&!Re.closed;tt++)Re.next(Ye[tt]);Re.complete()})}(Ye);if((0,P.t)(Ye))return function bt(Ye){return new R.y(Re=>{Ye.then(tt=>{Re.closed||(Re.next(tt),Re.complete())},tt=>Re.error(tt)).then(null,ge.h)})}(Ye);if((0,Pe.D)(Ye))return Ve(Ye);if((0,ye.T)(Ye))return function et(Ye){return new R.y(Re=>{for(const tt of Ye)if(Re.next(tt),Re.closed)return;Re.complete()})}(Ye);if((0,Ge.L)(Ye))return function Me(Ye){return Ve((0,Ge.Q)(Ye))}(Ye)}throw(0,je.z)(Ye)}function Ve(Ye){return new R.y(Re=>{(function Ft(Ye,Re){var tt,lt,nt,Ze;return(0,f.mG)(this,void 0,void 0,function*(){try{for(tt=(0,f.KL)(Ye);!(lt=yield tt.next()).done;)if(Re.next(lt.value),Re.closed)return}catch(Ut){nt={error:Ut}}finally{try{lt&&!lt.done&&(Ze=tt.return)&&(yield Ze.call(tt))}finally{if(nt)throw nt.error}}Re.complete()})})(Ye,Re).catch(tt=>Re.error(tt))})}},6451:(vn,ot,x)=>{x.d(ot,{T:()=>Pe});var f=x(8189),O=x(8421),P=x(515),R=x(3269),ae=x(8996);function Pe(...je){const ye=(0,R.yG)(je),Ge=(0,R._6)(je,1/0),ie=je;return ie.length?1===ie.length?(0,O.Xf)(ie[0]):(0,f.J)(Ge)((0,ae.D)(ie,ye)):P.E}},9646:(vn,ot,x)=>{x.d(ot,{of:()=>P});var f=x(3269),O=x(8996);function P(...R){const ae=(0,f.yG)(R);return(0,O.D)(R,ae)}},2843:(vn,ot,x)=>{x.d(ot,{_:()=>P});var f=x(9751),O=x(576);function P(R,ae){const Pe=(0,O.m)(R)?R:()=>R,je=ye=>ye.error(Pe());return new f.y(ae?ye=>ae.schedule(je,0,ye):je)}},5963:(vn,ot,x)=>{x.d(ot,{H:()=>ae});var f=x(9751),O=x(4986),P=x(3532);function ae(Pe=0,je,ye=O.P){let Ge=-1;return null!=je&&((0,P.K)(je)?ye=je:Ge=je),new f.y(ie=>{let ge=function R(Pe){return Pe instanceof Date&&!isNaN(Pe)}(Pe)?+Pe-ye.now():Pe;ge<0&&(ge=0);let le=0;return ye.schedule(function(){ie.closed||(ie.next(le++),0<=Ge?this.schedule(void 0,Ge):ie.complete())},ge)})}},5403:(vn,ot,x)=>{x.d(ot,{x:()=>O});var f=x(930);function O(R,ae,Pe,je,ye){return new P(R,ae,Pe,je,ye)}class P extends f.Lv{constructor(ae,Pe,je,ye,Ge,ie){super(ae),this.onFinalize=Ge,this.shouldUnsubscribe=ie,this._next=Pe?function(ge){try{Pe(ge)}catch(le){ae.error(le)}}:super._next,this._error=ye?function(ge){try{ye(ge)}catch(le){ae.error(le)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(ge){ae.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},262:(vn,ot,x)=>{x.d(ot,{K:()=>R});var f=x(8421),O=x(5403),P=x(4482);function R(ae){return(0,P.e)((Pe,je)=>{let ie,ye=null,Ge=!1;ye=Pe.subscribe((0,O.x)(je,void 0,void 0,ge=>{ie=(0,f.Xf)(ae(ge,R(ae)(Pe))),ye?(ye.unsubscribe(),ye=null,ie.subscribe(je)):Ge=!0})),Ge&&(ye.unsubscribe(),ye=null,ie.subscribe(je))})}},4351:(vn,ot,x)=>{x.d(ot,{b:()=>P});var f=x(5577),O=x(576);function P(R,ae){return(0,O.m)(ae)?(0,f.z)(R,ae,1):(0,f.z)(R,1)}},8372:(vn,ot,x)=>{x.d(ot,{b:()=>R});var f=x(4986),O=x(4482),P=x(5403);function R(ae,Pe=f.z){return(0,O.e)((je,ye)=>{let Ge=null,ie=null,ge=null;const le=()=>{if(Ge){Ge.unsubscribe(),Ge=null;const Be=ie;ie=null,ye.next(Be)}};function ke(){const Be=ge+ae,Qe=Pe.now();if(Qe<Be)return Ge=this.schedule(void 0,Be-Qe),void ye.add(Ge);le()}je.subscribe((0,P.x)(ye,Be=>{ie=Be,ge=Pe.now(),Ge||(Ge=Pe.schedule(ke,ae),ye.add(Ge))},()=>{le(),ye.complete()},void 0,()=>{ie=Ge=null}))})}},6590:(vn,ot,x)=>{x.d(ot,{d:()=>P});var f=x(4482),O=x(5403);function P(R){return(0,f.e)((ae,Pe)=>{let je=!1;ae.subscribe((0,O.x)(Pe,ye=>{je=!0,Pe.next(ye)},()=>{je||Pe.next(R),Pe.complete()}))})}},1884:(vn,ot,x)=>{x.d(ot,{x:()=>R});var f=x(4671),O=x(4482),P=x(5403);function R(Pe,je=f.y){return Pe=Pe??ae,(0,O.e)((ye,Ge)=>{let ie,ge=!0;ye.subscribe((0,P.x)(Ge,le=>{const ke=je(le);(ge||!Pe(ie,ke))&&(ge=!1,ie=ke,Ge.next(le))}))})}function ae(Pe,je){return Pe===je}},9300:(vn,ot,x)=>{x.d(ot,{h:()=>P});var f=x(4482),O=x(5403);function P(R,ae){return(0,f.e)((Pe,je)=>{let ye=0;Pe.subscribe((0,O.x)(je,Ge=>R.call(ae,Ge,ye++)&&je.next(Ge)))})}},8746:(vn,ot,x)=>{x.d(ot,{x:()=>O});var f=x(4482);function O(P){return(0,f.e)((R,ae)=>{try{R.subscribe(ae)}finally{ae.add(P)}})}},590:(vn,ot,x)=>{x.d(ot,{P:()=>je});var f=x(6805),O=x(9300),P=x(5698),R=x(6590),ae=x(8068),Pe=x(4671);function je(ye,Ge){const ie=arguments.length>=2;return ge=>ge.pipe(ye?(0,O.h)((le,ke)=>ye(le,ke,ge)):Pe.y,(0,P.q)(1),ie?(0,R.d)(Ge):(0,ae.T)(()=>new f.K))}},4004:(vn,ot,x)=>{x.d(ot,{U:()=>P});var f=x(4482),O=x(5403);function P(R,ae){return(0,f.e)((Pe,je)=>{let ye=0;Pe.subscribe((0,O.x)(je,Ge=>{je.next(R.call(ae,Ge,ye++))}))})}},9718:(vn,ot,x)=>{x.d(ot,{h:()=>O});var f=x(4004);function O(P){return(0,f.U)(()=>P)}},8189:(vn,ot,x)=>{x.d(ot,{J:()=>P});var f=x(5577),O=x(4671);function P(R=1/0){return(0,f.z)(O.y,R)}},5577:(vn,ot,x)=>{x.d(ot,{z:()=>ye});var f=x(4004),O=x(8421),P=x(4482),R=x(9672),ae=x(5403),je=x(576);function ye(Ge,ie,ge=1/0){return(0,je.m)(ie)?ye((le,ke)=>(0,f.U)((Be,Qe)=>ie(le,Be,ke,Qe))((0,O.Xf)(Ge(le,ke))),ge):("number"==typeof ie&&(ge=ie),(0,P.e)((le,ke)=>function Pe(Ge,ie,ge,le,ke,Be,Qe,bt){const et=[];let Ve=0,Me=0,Ft=!1;const Ye=()=>{Ft&&!et.length&&!Ve&&ie.complete()},Re=lt=>Ve<le?tt(lt):et.push(lt),tt=lt=>{Be&&ie.next(lt),Ve++;let nt=!1;(0,O.Xf)(ge(lt,Me++)).subscribe((0,ae.x)(ie,Ze=>{ke?.(Ze),Be?Re(Ze):ie.next(Ze)},()=>{nt=!0},void 0,()=>{if(nt)try{for(Ve--;et.length&&Ve<le;){const Ze=et.shift();Qe?(0,R.f)(ie,Qe,()=>tt(Ze)):tt(Ze)}Ye()}catch(Ze){ie.error(Ze)}}))};return Ge.subscribe((0,ae.x)(ie,Re,()=>{Ft=!0,Ye()})),()=>{bt?.()}}(le,ke,Ge,ge)))}},5363:(vn,ot,x)=>{x.d(ot,{Q:()=>R});var f=x(9672),O=x(4482),P=x(5403);function R(ae,Pe=0){return(0,O.e)((je,ye)=>{je.subscribe((0,P.x)(ye,Ge=>(0,f.f)(ye,ae,()=>ye.next(Ge),Pe),()=>(0,f.f)(ye,ae,()=>ye.complete(),Pe),Ge=>(0,f.f)(ye,ae,()=>ye.error(Ge),Pe)))})}},5026:(vn,ot,x)=>{x.d(ot,{R:()=>R});var f=x(4482),O=x(5403);function R(ae,Pe){return(0,f.e)(function P(ae,Pe,je,ye,Ge){return(ie,ge)=>{let le=je,ke=Pe,Be=0;ie.subscribe((0,O.x)(ge,Qe=>{const bt=Be++;ke=le?ae(ke,Qe,bt):(le=!0,Qe),ye&&ge.next(ke)},Ge&&(()=>{le&&ge.next(ke),ge.complete()})))}}(ae,Pe,arguments.length>=2,!0))}},3099:(vn,ot,x)=>{x.d(ot,{B:()=>ae});var f=x(8421),O=x(7579),P=x(930),R=x(4482);function ae(je={}){const{connector:ye=(()=>new O.x),resetOnError:Ge=!0,resetOnComplete:ie=!0,resetOnRefCountZero:ge=!0}=je;return le=>{let ke,Be,Qe,bt=0,et=!1,Ve=!1;const Me=()=>{Be?.unsubscribe(),Be=void 0},Ft=()=>{Me(),ke=Qe=void 0,et=Ve=!1},Ye=()=>{const Re=ke;Ft(),Re?.unsubscribe()};return(0,R.e)((Re,tt)=>{bt++,!Ve&&!et&&Me();const lt=Qe=Qe??ye();tt.add(()=>{bt--,0===bt&&!Ve&&!et&&(Be=Pe(Ye,ge))}),lt.subscribe(tt),!ke&&bt>0&&(ke=new P.Hp({next:nt=>lt.next(nt),error:nt=>{Ve=!0,Me(),Be=Pe(Ft,Ge,nt),lt.error(nt)},complete:()=>{et=!0,Me(),Be=Pe(Ft,ie),lt.complete()}}),(0,f.Xf)(Re).subscribe(ke))})(le)}}function Pe(je,ye,...Ge){if(!0===ye)return void je();if(!1===ye)return;const ie=new P.Hp({next:()=>{ie.unsubscribe(),je()}});return(0,f.Xf)(ye(...Ge)).subscribe(ie)}},5684:(vn,ot,x)=>{x.d(ot,{T:()=>O});var f=x(9300);function O(P){return(0,f.h)((R,ae)=>P<=ae)}},8675:(vn,ot,x)=>{x.d(ot,{O:()=>R});var f=x(7272),O=x(3269),P=x(4482);function R(...ae){const Pe=(0,O.yG)(ae);return(0,P.e)((je,ye)=>{(Pe?(0,f.z)(ae,je,Pe):(0,f.z)(ae,je)).subscribe(ye)})}},9468:(vn,ot,x)=>{x.d(ot,{R:()=>O});var f=x(4482);function O(P,R=0){return(0,f.e)((ae,Pe)=>{Pe.add(P.schedule(()=>ae.subscribe(Pe),R))})}},3900:(vn,ot,x)=>{x.d(ot,{w:()=>R});var f=x(8421),O=x(4482),P=x(5403);function R(ae,Pe){return(0,O.e)((je,ye)=>{let Ge=null,ie=0,ge=!1;const le=()=>ge&&!Ge&&ye.complete();je.subscribe((0,P.x)(ye,ke=>{Ge?.unsubscribe();let Be=0;const Qe=ie++;(0,f.Xf)(ae(ke,Qe)).subscribe(Ge=(0,P.x)(ye,bt=>ye.next(Pe?Pe(ke,bt,Qe,Be++):bt),()=>{Ge=null,le()}))},()=>{ge=!0,le()}))})}},5698:(vn,ot,x)=>{x.d(ot,{q:()=>R});var f=x(515),O=x(4482),P=x(5403);function R(ae){return ae<=0?()=>f.E:(0,O.e)((Pe,je)=>{let ye=0;Pe.subscribe((0,P.x)(je,Ge=>{++ye<=ae&&(je.next(Ge),ae<=ye&&je.complete())}))})}},2722:(vn,ot,x)=>{x.d(ot,{R:()=>ae});var f=x(4482),O=x(5403),P=x(8421),R=x(5032);function ae(Pe){return(0,f.e)((je,ye)=>{(0,P.Xf)(Pe).subscribe((0,O.x)(ye,()=>ye.complete(),R.Z)),!ye.closed&&je.subscribe(ye)})}},8505:(vn,ot,x)=>{x.d(ot,{b:()=>ae});var f=x(576),O=x(4482),P=x(5403),R=x(4671);function ae(Pe,je,ye){const Ge=(0,f.m)(Pe)||je||ye?{next:Pe,error:je,complete:ye}:Pe;return Ge?(0,O.e)((ie,ge)=>{var le;null===(le=Ge.subscribe)||void 0===le||le.call(Ge);let ke=!0;ie.subscribe((0,P.x)(ge,Be=>{var Qe;null===(Qe=Ge.next)||void 0===Qe||Qe.call(Ge,Be),ge.next(Be)},()=>{var Be;ke=!1,null===(Be=Ge.complete)||void 0===Be||Be.call(Ge),ge.complete()},Be=>{var Qe;ke=!1,null===(Qe=Ge.error)||void 0===Qe||Qe.call(Ge,Be),ge.error(Be)},()=>{var Be,Qe;ke&&(null===(Be=Ge.unsubscribe)||void 0===Be||Be.call(Ge)),null===(Qe=Ge.finalize)||void 0===Qe||Qe.call(Ge)}))}):R.y}},8068:(vn,ot,x)=>{x.d(ot,{T:()=>R});var f=x(6805),O=x(4482),P=x(5403);function R(Pe=ae){return(0,O.e)((je,ye)=>{let Ge=!1;je.subscribe((0,P.x)(ye,ie=>{Ge=!0,ye.next(ie)},()=>Ge?ye.complete():ye.error(Pe())))})}function ae(){return new f.K}},4408:(vn,ot,x)=>{x.d(ot,{o:()=>ae});var f=x(727);class O extends f.w0{constructor(je,ye){super()}schedule(je,ye=0){return this}}const P={setInterval(Pe,je,...ye){const{delegate:Ge}=P;return Ge?.setInterval?Ge.setInterval(Pe,je,...ye):setInterval(Pe,je,...ye)},clearInterval(Pe){const{delegate:je}=P;return(je?.clearInterval||clearInterval)(Pe)},delegate:void 0};var R=x(8737);class ae extends O{constructor(je,ye){super(je,ye),this.scheduler=je,this.work=ye,this.pending=!1}schedule(je,ye=0){var Ge;if(this.closed)return this;this.state=je;const ie=this.id,ge=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(ge,ie,ye)),this.pending=!0,this.delay=ye,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(ge,this.id,ye),this}requestAsyncId(je,ye,Ge=0){return P.setInterval(je.flush.bind(je,this),Ge)}recycleAsyncId(je,ye,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return ye;null!=ye&&P.clearInterval(ye)}execute(je,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(je,ye);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,ye){let ie,Ge=!1;try{this.work(je)}catch(ge){Ge=!0,ie=ge||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:je,scheduler:ye}=this,{actions:Ge}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,R.P)(Ge,this),null!=je&&(this.id=this.recycleAsyncId(ye,je,null)),this.delay=null,super.unsubscribe()}}}},7565:(vn,ot,x)=>{x.d(ot,{v:()=>P});var f=x(6063);class O{constructor(ae,Pe=O.now){this.schedulerActionCtor=ae,this.now=Pe}schedule(ae,Pe=0,je){return new this.schedulerActionCtor(this,ae).schedule(je,Pe)}}O.now=f.l.now;class P extends O{constructor(ae,Pe=O.now){super(ae,Pe),this.actions=[],this._active=!1}flush(ae){const{actions:Pe}=this;if(this._active)return void Pe.push(ae);let je;this._active=!0;do{if(je=ae.execute(ae.state,ae.delay))break}while(ae=Pe.shift());if(this._active=!1,je){for(;ae=Pe.shift();)ae.unsubscribe();throw je}}}},4986:(vn,ot,x)=>{x.d(ot,{P:()=>R,z:()=>P});var f=x(4408);const P=new(x(7565).v)(f.o),R=P},6063:(vn,ot,x)=>{x.d(ot,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(vn,ot,x)=>{x.d(ot,{z:()=>f});const f={setTimeout(O,P,...R){const{delegate:ae}=f;return ae?.setTimeout?ae.setTimeout(O,P,...R):setTimeout(O,P,...R)},clearTimeout(O){const{delegate:P}=f;return(P?.clearTimeout||clearTimeout)(O)},delegate:void 0}},2202:(vn,ot,x)=>{x.d(ot,{h:()=>O});const O=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vn,ot,x)=>{x.d(ot,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(vn,ot,x)=>{x.d(ot,{K:()=>O});const O=(0,x(3888).d)(P=>function(){P(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(vn,ot,x)=>{x.d(ot,{_6:()=>Pe,jO:()=>R,yG:()=>ae});var f=x(576),O=x(3532);function P(je){return je[je.length-1]}function R(je){return(0,f.m)(P(je))?je.pop():void 0}function ae(je){return(0,O.K)(P(je))?je.pop():void 0}function Pe(je,ye){return"number"==typeof P(je)?je.pop():ye}},4742:(vn,ot,x)=>{x.d(ot,{D:()=>ae});const{isArray:f}=Array,{getPrototypeOf:O,prototype:P,keys:R}=Object;function ae(je){if(1===je.length){const ye=je[0];if(f(ye))return{args:ye,keys:null};if(function Pe(je){return je&&"object"==typeof je&&O(je)===P}(ye)){const Ge=R(ye);return{args:Ge.map(ie=>ye[ie]),keys:Ge}}}return{args:je,keys:null}}},8737:(vn,ot,x)=>{function f(O,P){if(O){const R=O.indexOf(P);0<=R&&O.splice(R,1)}}x.d(ot,{P:()=>f})},3888:(vn,ot,x)=>{function f(O){const R=O(ae=>{Error.call(ae),ae.stack=(new Error).stack});return R.prototype=Object.create(Error.prototype),R.prototype.constructor=R,R}x.d(ot,{d:()=>f})},1810:(vn,ot,x)=>{function f(O,P){return O.reduce((R,ae,Pe)=>(R[ae]=P[Pe],R),{})}x.d(ot,{n:()=>f})},2806:(vn,ot,x)=>{x.d(ot,{O:()=>R,x:()=>P});var f=x(2416);let O=null;function P(ae){if(f.v.useDeprecatedSynchronousErrorHandling){const Pe=!O;if(Pe&&(O={errorThrown:!1,error:null}),ae(),Pe){const{errorThrown:je,error:ye}=O;if(O=null,je)throw ye}}else ae()}function R(ae){f.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=ae)}},9672:(vn,ot,x)=>{function f(O,P,R,ae=0,Pe=!1){const je=P.schedule(function(){R(),Pe?O.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(O.add(je),!Pe)return je}x.d(ot,{f:()=>f})},4671:(vn,ot,x)=>{function f(O){return O}x.d(ot,{y:()=>f})},1144:(vn,ot,x)=>{x.d(ot,{z:()=>f});const f=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(vn,ot,x)=>{x.d(ot,{D:()=>O});var f=x(576);function O(P){return Symbol.asyncIterator&&(0,f.m)(P?.[Symbol.asyncIterator])}},576:(vn,ot,x)=>{function f(O){return"function"==typeof O}x.d(ot,{m:()=>f})},3670:(vn,ot,x)=>{x.d(ot,{c:()=>P});var f=x(8822),O=x(576);function P(R){return(0,O.m)(R[f.L])}},6495:(vn,ot,x)=>{x.d(ot,{T:()=>P});var f=x(2202),O=x(576);function P(R){return(0,O.m)(R?.[f.h])}},8239:(vn,ot,x)=>{x.d(ot,{t:()=>O});var f=x(576);function O(P){return(0,f.m)(P?.then)}},3260:(vn,ot,x)=>{x.d(ot,{L:()=>R,Q:()=>P});var f=x(7582),O=x(576);function P(ae){return(0,f.FC)(this,arguments,function*(){const je=ae.getReader();try{for(;;){const{value:ye,done:Ge}=yield(0,f.qq)(je.read());if(Ge)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ye)}}finally{je.releaseLock()}})}function R(ae){return(0,O.m)(ae?.getReader)}},3532:(vn,ot,x)=>{x.d(ot,{K:()=>O});var f=x(576);function O(P){return P&&(0,f.m)(P.schedule)}},4482:(vn,ot,x)=>{x.d(ot,{A:()=>O,e:()=>P});var f=x(576);function O(R){return(0,f.m)(R?.lift)}function P(R){return ae=>{if(O(ae))return ae.lift(function(Pe){try{return R(Pe,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vn,ot,x)=>{x.d(ot,{Z:()=>R});var f=x(4004);const{isArray:O}=Array;function R(ae){return(0,f.U)(Pe=>function P(ae,Pe){return O(Pe)?ae(...Pe):ae(Pe)}(ae,Pe))}},5032:(vn,ot,x)=>{function f(){}x.d(ot,{Z:()=>f})},9635:(vn,ot,x)=>{x.d(ot,{U:()=>P,z:()=>O});var f=x(4671);function O(...R){return P(R)}function P(R){return 0===R.length?f.y:1===R.length?R[0]:function(Pe){return R.reduce((je,ye)=>ye(je),Pe)}}},7849:(vn,ot,x)=>{x.d(ot,{h:()=>P});var f=x(2416),O=x(3410);function P(R){O.z.setTimeout(()=>{const{onUnhandledError:ae}=f.v;if(!ae)throw R;ae(R)})}},4532:(vn,ot,x)=>{function f(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(ot,{z:()=>f})},7340:(vn,ot,x)=>{x.d(ot,{IO:()=>Qe,LC:()=>O,SB:()=>Ge,X$:()=>R,ZE:()=>Me,ZN:()=>Ve,_j:()=>f,eR:()=>ge,jt:()=>ae,k1:()=>Ft,l3:()=>P,oB:()=>ye,pV:()=>ke,vP:()=>je});class f{}class O{}const P="*";function R(Ye,Re){return{type:7,name:Ye,definitions:Re,options:{}}}function ae(Ye,Re=null){return{type:4,styles:Re,timings:Ye}}function je(Ye,Re=null){return{type:2,steps:Ye,options:Re}}function ye(Ye){return{type:6,styles:Ye,offset:null}}function Ge(Ye,Re,tt){return{type:0,name:Ye,styles:Re,options:tt}}function ge(Ye,Re,tt=null){return{type:1,expr:Ye,animation:Re,options:tt}}function ke(Ye=null){return{type:9,options:Ye}}function Qe(Ye,Re,tt=null){return{type:11,selector:Ye,animation:Re,options:tt}}function et(Ye){Promise.resolve().then(Ye)}class Ve{constructor(Re=0,tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Re+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}onStart(Re){this._originalOnStartFns.push(Re),this._onStartFns.push(Re)}onDone(Re){this._originalOnDoneFns.push(Re),this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){et(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Re=>Re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Re){this._position=this.totalTime?Re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Re){const tt="start"==Re?this._onStartFns:this._onDoneFns;tt.forEach(lt=>lt()),tt.length=0}}class Me{constructor(Re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Re;let tt=0,lt=0,nt=0;const Ze=this.players.length;0==Ze?et(()=>this._onFinish()):this.players.forEach(Ut=>{Ut.onDone(()=>{++tt==Ze&&this._onFinish()}),Ut.onDestroy(()=>{++lt==Ze&&this._onDestroy()}),Ut.onStart(()=>{++nt==Ze&&this._onStart()})}),this.totalTime=this.players.reduce((Ut,hn)=>Math.max(Ut,hn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}init(){this.players.forEach(Re=>Re.init())}onStart(Re){this._onStartFns.push(Re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Re=>Re()),this._onStartFns=[])}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Re=>Re.play())}pause(){this.players.forEach(Re=>Re.pause())}restart(){this.players.forEach(Re=>Re.restart())}finish(){this._onFinish(),this.players.forEach(Re=>Re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Re=>Re.destroy()),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this.players.forEach(Re=>Re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Re){const tt=Re*this.totalTime;this.players.forEach(lt=>{const nt=lt.totalTime?Math.min(1,tt/lt.totalTime):1;lt.setPosition(nt)})}getPosition(){const Re=this.players.reduce((tt,lt)=>null===tt||lt.totalTime>tt.totalTime?lt:tt,null);return null!=Re?Re.getPosition():0}beforeDestroy(){this.players.forEach(Re=>{Re.beforeDestroy&&Re.beforeDestroy()})}triggerCallback(Re){const tt="start"==Re?this._onStartFns:this._onDoneFns;tt.forEach(lt=>lt()),tt.length=0}}const Ft="!"},2687:(vn,ot,x)=>{x.d(ot,{$s:()=>tt,Kd:()=>Yt,X6:()=>Xn,ic:()=>nn,qV:()=>mt,qm:()=>dn,rt:()=>ii,tE:()=>me,yG:()=>wt});var f=x(6895),O=x(4650),P=x(3353),R=x(1135),ae=x(7579),Pe=x(9646),je=x(9521),ye=x(5698),Ge=x(5684),ie=x(1884),ge=x(2722),le=x(1281),ke=x(9643),Be=x(2289);function Ve(Dt,st){return(Dt.getAttribute(st)||"").match(/\S+/g)||[]}const Ft="cdk-describedby-message",Ye="cdk-describedby-host";let Re=0,tt=(()=>{class Dt{constructor(oe,q){this._platform=q,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Re++,this._document=oe,this._id=(0,O.f3M)(O.AFp)+"-"+Re++}describe(oe,q,N){if(!this._canBeDescribed(oe,q))return;const $=lt(q,N);"string"!=typeof q?(nt(q,this._id),this._messageRegistry.set($,{messageElement:q,referenceCount:0})):this._messageRegistry.has($)||this._createMessageElement(q,N),this._isElementDescribedByMessage(oe,$)||this._addMessageReference(oe,$)}removeDescription(oe,q,N){if(!q||!this._isElementNode(oe))return;const $=lt(q,N);if(this._isElementDescribedByMessage(oe,$)&&this._removeMessageReference(oe,$),"string"==typeof q){const X=this._messageRegistry.get($);X&&0===X.referenceCount&&this._deleteMessageElement($)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const oe=this._document.querySelectorAll(`[${Ye}="${this._id}"]`);for(let q=0;q<oe.length;q++)this._removeCdkDescribedByReferenceIds(oe[q]),oe[q].removeAttribute(Ye);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(oe,q){const N=this._document.createElement("div");nt(N,this._id),N.textContent=oe,q&&N.setAttribute("role",q),this._createMessagesContainer(),this._messagesContainer.appendChild(N),this._messageRegistry.set(lt(oe,q),{messageElement:N,referenceCount:0})}_deleteMessageElement(oe){this._messageRegistry.get(oe)?.messageElement?.remove(),this._messageRegistry.delete(oe)}_createMessagesContainer(){if(this._messagesContainer)return;const oe="cdk-describedby-message-container",q=this._document.querySelectorAll(`.${oe}[platform="server"]`);for(let $=0;$<q.length;$++)q[$].remove();const N=this._document.createElement("div");N.style.visibility="hidden",N.classList.add(oe),N.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&N.setAttribute("platform","server"),this._document.body.appendChild(N),this._messagesContainer=N}_removeCdkDescribedByReferenceIds(oe){const q=Ve(oe,"aria-describedby").filter(N=>0!=N.indexOf(Ft));oe.setAttribute("aria-describedby",q.join(" "))}_addMessageReference(oe,q){const N=this._messageRegistry.get(q);(function bt(Dt,st,oe){const q=Ve(Dt,st);q.some(N=>N.trim()==oe.trim())||(q.push(oe.trim()),Dt.setAttribute(st,q.join(" ")))})(oe,"aria-describedby",N.messageElement.id),oe.setAttribute(Ye,this._id),N.referenceCount++}_removeMessageReference(oe,q){const N=this._messageRegistry.get(q);N.referenceCount--,function et(Dt,st,oe){const N=Ve(Dt,st).filter($=>$!=oe.trim());N.length?Dt.setAttribute(st,N.join(" ")):Dt.removeAttribute(st)}(oe,"aria-describedby",N.messageElement.id),oe.removeAttribute(Ye)}_isElementDescribedByMessage(oe,q){const N=Ve(oe,"aria-describedby"),$=this._messageRegistry.get(q),X=$&&$.messageElement.id;return!!X&&-1!=N.indexOf(X)}_canBeDescribed(oe,q){if(!this._isElementNode(oe))return!1;if(q&&"object"==typeof q)return!0;const N=null==q?"":`${q}`.trim(),$=oe.getAttribute("aria-label");return!(!N||$&&$.trim()===N)}_isElementNode(oe){return oe.nodeType===this._document.ELEMENT_NODE}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(f.K0),O.LFG(P.t4))},Dt.\u0275prov=O.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();function lt(Dt,st){return"string"==typeof Dt?`${st||""}/${Dt}`:Dt}function nt(Dt,st){Dt.id||(Dt.id=`${Ft}-${st}-${Re++}`)}let nn=(()=>{class Dt{constructor(oe){this._platform=oe}isDisabled(oe){return oe.hasAttribute("disabled")}isVisible(oe){return function ai(Dt){return!!(Dt.offsetWidth||Dt.offsetHeight||"function"==typeof Dt.getClientRects&&Dt.getClientRects().length)}(oe)&&"visible"===getComputedStyle(oe).visibility}isTabbable(oe){if(!this._platform.isBrowser)return!1;const q=function mn(Dt){try{return Dt.frameElement}catch{return null}}(function it(Dt){return Dt.ownerDocument&&Dt.ownerDocument.defaultView||window}(oe));if(q&&(-1===dt(q)||!this.isVisible(q)))return!1;let N=oe.nodeName.toLowerCase(),$=dt(oe);return oe.hasAttribute("contenteditable")?-1!==$:!("iframe"===N||"object"===N||this._platform.WEBKIT&&this._platform.IOS&&!function Ne(Dt){let st=Dt.nodeName.toLowerCase(),oe="input"===st&&Dt.type;return"text"===oe||"password"===oe||"select"===st||"textarea"===st}(oe))&&("audio"===N?!!oe.hasAttribute("controls")&&-1!==$:"video"===N?-1!==$&&(null!==$||this._platform.FIREFOX||oe.hasAttribute("controls")):oe.tabIndex>=0)}isFocusable(oe,q){return function ht(Dt){return!function Mt(Dt){return function Vt(Dt){return"input"==Dt.nodeName.toLowerCase()}(Dt)&&"hidden"==Dt.type}(Dt)&&(function zt(Dt){let st=Dt.nodeName.toLowerCase();return"input"===st||"select"===st||"button"===st||"textarea"===st}(Dt)||function Bt(Dt){return function Ot(Dt){return"a"==Dt.nodeName.toLowerCase()}(Dt)&&Dt.hasAttribute("href")}(Dt)||Dt.hasAttribute("contenteditable")||rt(Dt))}(oe)&&!this.isDisabled(oe)&&(q?.ignoreVisibility||this.isVisible(oe))}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(P.t4))},Dt.\u0275prov=O.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();function rt(Dt){if(!Dt.hasAttribute("tabindex")||void 0===Dt.tabIndex)return!1;let st=Dt.getAttribute("tabindex");return!(!st||isNaN(parseInt(st,10)))}function dt(Dt){if(!rt(Dt))return null;const st=parseInt(Dt.getAttribute("tabindex")||"",10);return isNaN(st)?-1:st}class He{get enabled(){return this._enabled}set enabled(st){this._enabled=st,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(st,this._startAnchor),this._toggleAnchorTabIndex(st,this._endAnchor))}constructor(st,oe,q,N,$=!1){this._element=st,this._checker=oe,this._ngZone=q,this._document=N,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,$||this.attachAnchors()}destroy(){const st=this._startAnchor,oe=this._endAnchor;st&&(st.removeEventListener("focus",this.startAnchorListener),st.remove()),oe&&(oe.removeEventListener("focus",this.endAnchorListener),oe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(st){return new Promise(oe=>{this._executeOnStable(()=>oe(this.focusInitialElement(st)))})}focusFirstTabbableElementWhenReady(st){return new Promise(oe=>{this._executeOnStable(()=>oe(this.focusFirstTabbableElement(st)))})}focusLastTabbableElementWhenReady(st){return new Promise(oe=>{this._executeOnStable(()=>oe(this.focusLastTabbableElement(st)))})}_getRegionBoundary(st){const oe=this._element.querySelectorAll(`[cdk-focus-region-${st}], [cdkFocusRegion${st}], [cdk-focus-${st}]`);return"start"==st?oe.length?oe[0]:this._getFirstTabbableElement(this._element):oe.length?oe[oe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(st){const oe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(oe){if(!this._checker.isFocusable(oe)){const q=this._getFirstTabbableElement(oe);return q?.focus(st),!!q}return oe.focus(st),!0}return this.focusFirstTabbableElement(st)}focusFirstTabbableElement(st){const oe=this._getRegionBoundary("start");return oe&&oe.focus(st),!!oe}focusLastTabbableElement(st){const oe=this._getRegionBoundary("end");return oe&&oe.focus(st),!!oe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(st){if(this._checker.isFocusable(st)&&this._checker.isTabbable(st))return st;const oe=st.children;for(let q=0;q<oe.length;q++){const N=oe[q].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(oe[q]):null;if(N)return N}return null}_getLastTabbableElement(st){if(this._checker.isFocusable(st)&&this._checker.isTabbable(st))return st;const oe=st.children;for(let q=oe.length-1;q>=0;q--){const N=oe[q].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(oe[q]):null;if(N)return N}return null}_createAnchor(){const st=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,st),st.classList.add("cdk-visually-hidden"),st.classList.add("cdk-focus-trap-anchor"),st.setAttribute("aria-hidden","true"),st}_toggleAnchorTabIndex(st,oe){st?oe.setAttribute("tabindex","0"):oe.removeAttribute("tabindex")}toggleAnchors(st){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(st,this._startAnchor),this._toggleAnchorTabIndex(st,this._endAnchor))}_executeOnStable(st){this._ngZone.isStable?st():this._ngZone.onStable.pipe((0,ye.q)(1)).subscribe(st)}}let mt=(()=>{class Dt{constructor(oe,q,N){this._checker=oe,this._ngZone=q,this._document=N}create(oe,q=!1){return new He(oe,this._checker,this._ngZone,this._document,q)}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(nn),O.LFG(O.R0b),O.LFG(f.K0))},Dt.\u0275prov=O.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();function Xn(Dt){return 0===Dt.buttons||0===Dt.offsetX&&0===Dt.offsetY}function wt(Dt){const st=Dt.touches&&Dt.touches[0]||Dt.changedTouches&&Dt.changedTouches[0];return!(!st||-1!==st.identifier||null!=st.radiusX&&1!==st.radiusX||null!=st.radiusY&&1!==st.radiusY)}const ct=new O.OlP("cdk-input-modality-detector-options"),Ct={ignoreKeys:[je.zL,je.jx,je.b2,je.MW,je.JU]},J=(0,P.i$)({passive:!0,capture:!0});let Ae=(()=>{class Dt{get mostRecentModality(){return this._modality.value}constructor(oe,q,N,$){this._platform=oe,this._mostRecentTarget=null,this._modality=new R.X(null),this._lastTouchMs=0,this._onKeydown=X=>{this._options?.ignoreKeys?.some(Se=>Se===X.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,P.sA)(X))},this._onMousedown=X=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xn(X)?"keyboard":"mouse"),this._mostRecentTarget=(0,P.sA)(X))},this._onTouchstart=X=>{wt(X)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,P.sA)(X))},this._options={...Ct,...$},this.modalityDetected=this._modality.pipe((0,Ge.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ie.x)()),oe.isBrowser&&q.runOutsideAngular(()=>{N.addEventListener("keydown",this._onKeydown,J),N.addEventListener("mousedown",this._onMousedown,J),N.addEventListener("touchstart",this._onTouchstart,J)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,J),document.removeEventListener("mousedown",this._onMousedown,J),document.removeEventListener("touchstart",this._onTouchstart,J))}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(P.t4),O.LFG(O.R0b),O.LFG(f.K0),O.LFG(ct,8))},Dt.\u0275prov=O.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();const ft=new O.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Rt(){return null}}),Ht=new O.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let _t=0,Yt=(()=>{class Dt{constructor(oe,q,N,$){this._ngZone=q,this._defaultOptions=$,this._document=N,this._liveElement=oe||this._createLiveElement()}announce(oe,...q){const N=this._defaultOptions;let $,X;return 1===q.length&&"number"==typeof q[0]?X=q[0]:[$,X]=q,this.clear(),clearTimeout(this._previousTimeout),$||($=N&&N.politeness?N.politeness:"polite"),null==X&&N&&(X=N.duration),this._liveElement.setAttribute("aria-live",$),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Se=>this._currentResolve=Se)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=oe,"number"==typeof X&&(this._previousTimeout=setTimeout(()=>this.clear(),X)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const oe="cdk-live-announcer-element",q=this._document.getElementsByClassName(oe),N=this._document.createElement("div");for(let $=0;$<q.length;$++)q[$].remove();return N.classList.add(oe),N.classList.add("cdk-visually-hidden"),N.setAttribute("aria-atomic","true"),N.setAttribute("aria-live","polite"),N.id="cdk-live-announcer-"+_t++,this._document.body.appendChild(N),N}_exposeAnnouncerToModals(oe){const q=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let N=0;N<q.length;N++){const $=q[N],X=$.getAttribute("aria-owns");X?-1===X.indexOf(oe)&&$.setAttribute("aria-owns",X+" "+oe):$.setAttribute("aria-owns",oe)}}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(ft,8),O.LFG(O.R0b),O.LFG(f.K0),O.LFG(Ht,8))},Dt.\u0275prov=O.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();const $e=new O.OlP("cdk-focus-monitor-default-options"),ce=(0,P.i$)({passive:!0,capture:!0});let me=(()=>{class Dt{constructor(oe,q,N,$,X){this._ngZone=oe,this._platform=q,this._inputModalityDetector=N,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ae.x,this._rootNodeFocusAndBlurListener=Se=>{for(let Jt=(0,P.sA)(Se);Jt;Jt=Jt.parentElement)"focus"===Se.type?this._onFocus(Se,Jt):this._onBlur(Se,Jt)},this._document=$,this._detectionMode=X?.detectionMode||0}monitor(oe,q=!1){const N=(0,le.fI)(oe);if(!this._platform.isBrowser||1!==N.nodeType)return(0,Pe.of)(null);const $=(0,P.kV)(N)||this._getDocument(),X=this._elementInfo.get(N);if(X)return q&&(X.checkChildren=!0),X.subject;const Se={checkChildren:q,subject:new ae.x,rootNode:$};return this._elementInfo.set(N,Se),this._registerGlobalListeners(Se),Se.subject}stopMonitoring(oe){const q=(0,le.fI)(oe),N=this._elementInfo.get(q);N&&(N.subject.complete(),this._setClasses(q),this._elementInfo.delete(q),this._removeGlobalListeners(N))}focusVia(oe,q,N){const $=(0,le.fI)(oe);$===this._getDocument().activeElement?this._getClosestElementsInfo($).forEach(([Se,Wt])=>this._originChanged(Se,q,Wt)):(this._setOrigin(q),"function"==typeof $.focus&&$.focus(N))}ngOnDestroy(){this._elementInfo.forEach((oe,q)=>this.stopMonitoring(q))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(oe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(oe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:oe&&this._isLastInteractionFromInputLabel(oe)?"mouse":"program"}_shouldBeAttributedToTouch(oe){return 1===this._detectionMode||!!oe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(oe,q){oe.classList.toggle("cdk-focused",!!q),oe.classList.toggle("cdk-touch-focused","touch"===q),oe.classList.toggle("cdk-keyboard-focused","keyboard"===q),oe.classList.toggle("cdk-mouse-focused","mouse"===q),oe.classList.toggle("cdk-program-focused","program"===q)}_setOrigin(oe,q=!1){this._ngZone.runOutsideAngular(()=>{this._origin=oe,this._originFromTouchInteraction="touch"===oe&&q,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(oe,q){const N=this._elementInfo.get(q),$=(0,P.sA)(oe);!N||!N.checkChildren&&q!==$||this._originChanged(q,this._getFocusOrigin($),N)}_onBlur(oe,q){const N=this._elementInfo.get(q);!N||N.checkChildren&&oe.relatedTarget instanceof Node&&q.contains(oe.relatedTarget)||(this._setClasses(q),this._emitOrigin(N,null))}_emitOrigin(oe,q){oe.subject.observers.length&&this._ngZone.run(()=>oe.subject.next(q))}_registerGlobalListeners(oe){if(!this._platform.isBrowser)return;const q=oe.rootNode,N=this._rootNodeFocusListenerCount.get(q)||0;N||this._ngZone.runOutsideAngular(()=>{q.addEventListener("focus",this._rootNodeFocusAndBlurListener,ce),q.addEventListener("blur",this._rootNodeFocusAndBlurListener,ce)}),this._rootNodeFocusListenerCount.set(q,N+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ge.R)(this._stopInputModalityDetector)).subscribe($=>{this._setOrigin($,!0)}))}_removeGlobalListeners(oe){const q=oe.rootNode;if(this._rootNodeFocusListenerCount.has(q)){const N=this._rootNodeFocusListenerCount.get(q);N>1?this._rootNodeFocusListenerCount.set(q,N-1):(q.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ce),q.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ce),this._rootNodeFocusListenerCount.delete(q))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(oe,q,N){this._setClasses(oe,q),this._emitOrigin(N,q),this._lastFocusOrigin=q}_getClosestElementsInfo(oe){const q=[];return this._elementInfo.forEach((N,$)=>{($===oe||N.checkChildren&&$.contains(oe))&&q.push([$,N])}),q}_isLastInteractionFromInputLabel(oe){const{_mostRecentTarget:q,mostRecentModality:N}=this._inputModalityDetector;if("mouse"!==N||!q||q===oe||"INPUT"!==oe.nodeName&&"TEXTAREA"!==oe.nodeName||oe.disabled)return!1;const $=oe.labels;if($)for(let X=0;X<$.length;X++)if($[X].contains(q))return!0;return!1}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(O.R0b),O.LFG(P.t4),O.LFG(Ae),O.LFG(f.K0,8),O.LFG($e,8))},Dt.\u0275prov=O.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})();const ze="cdk-high-contrast-black-on-white",Tt="cdk-high-contrast-white-on-black",Sn="cdk-high-contrast-active";let dn=(()=>{class Dt{constructor(oe,q){this._platform=oe,this._document=q,this._breakpointSubscription=(0,O.f3M)(Be.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const oe=this._document.createElement("div");oe.style.backgroundColor="rgb(1,2,3)",oe.style.position="absolute",this._document.body.appendChild(oe);const q=this._document.defaultView||window,N=q&&q.getComputedStyle?q.getComputedStyle(oe):null,$=(N&&N.backgroundColor||"").replace(/ /g,"");switch(oe.remove(),$){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const oe=this._document.body.classList;oe.remove(Sn,ze,Tt),this._hasCheckedHighContrastMode=!0;const q=this.getHighContrastMode();1===q?oe.add(Sn,ze):2===q&&oe.add(Sn,Tt)}}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(P.t4),O.LFG(f.K0))},Dt.\u0275prov=O.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt})(),ii=(()=>{class Dt{constructor(oe){oe._applyBodyHighContrastModeCssClasses()}}return Dt.\u0275fac=function(oe){return new(oe||Dt)(O.LFG(dn))},Dt.\u0275mod=O.oAB({type:Dt}),Dt.\u0275inj=O.cJS({imports:[ke.Q8]}),Dt})()},445:(vn,ot,x)=>{x.d(ot,{Is:()=>je,vT:()=>Ge});var f=x(4650),O=x(6895);const P=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function R(){return(0,f.f3M)(O.K0)}}),ae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let je=(()=>{class ie{constructor(le){this.value="ltr",this.change=new f.vpe,le&&(this.value=function Pe(ie){const ge=ie?.toLowerCase()||"";return"auto"===ge&&typeof navigator<"u"&&navigator?.language?ae.test(navigator.language)?"rtl":"ltr":"rtl"===ge?"rtl":"ltr"}((le.body?le.body.dir:null)||(le.documentElement?le.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return ie.\u0275fac=function(le){return new(le||ie)(f.LFG(P,8))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),Ge=(()=>{class ie{}return ie.\u0275fac=function(le){return new(le||ie)},ie.\u0275mod=f.oAB({type:ie}),ie.\u0275inj=f.cJS({}),ie})()},1281:(vn,ot,x)=>{x.d(ot,{Eq:()=>ae,HM:()=>Pe,Ig:()=>O,fI:()=>je,su:()=>P});var f=x(4650);function O(Ge){return null!=Ge&&"false"!=`${Ge}`}function P(Ge,ie=0){return function R(Ge){return!isNaN(parseFloat(Ge))&&!isNaN(Number(Ge))}(Ge)?Number(Ge):ie}function ae(Ge){return Array.isArray(Ge)?Ge:[Ge]}function Pe(Ge){return null==Ge?"":"string"==typeof Ge?Ge:`${Ge}px`}function je(Ge){return Ge instanceof f.SBq?Ge.nativeElement:Ge}},9521:(vn,ot,x)=>{x.d(ot,{JU:()=>Pe,MW:()=>ce,Vb:()=>hr,b2:()=>$i,hY:()=>ge,jx:()=>je,zL:()=>ye});const Pe=16,je=17,ye=18,ge=27,ce=91,$i=224;function hr(ki,...xt){return xt.length?xt.some(vt=>ki[vt]):ki.altKey||ki.shiftKey||ki.ctrlKey||ki.metaKey}},2289:(vn,ot,x)=>{x.d(ot,{Yg:()=>Ft,u3:()=>Re});var f=x(4650),O=x(1281),P=x(7579),R=x(9841),ae=x(7272),Pe=x(9751),je=x(5698),ye=x(5684),Ge=x(8372),ie=x(4004),ge=x(8675),le=x(2722),ke=x(3353);const Qe=new Set;let bt,et=(()=>{class tt{constructor(nt){this._platform=nt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Me}matchMedia(nt){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ve(tt){if(!Qe.has(tt))try{bt||(bt=document.createElement("style"),bt.setAttribute("type","text/css"),document.head.appendChild(bt)),bt.sheet&&(bt.sheet.insertRule(`@media ${tt} {body{ }}`,0),Qe.add(tt))}catch(lt){console.error(lt)}}(nt),this._matchMedia(nt)}}return tt.\u0275fac=function(nt){return new(nt||tt)(f.LFG(ke.t4))},tt.\u0275prov=f.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();function Me(tt){return{matches:"all"===tt||""===tt,media:tt,addListener:()=>{},removeListener:()=>{}}}let Ft=(()=>{class tt{constructor(nt,Ze){this._mediaMatcher=nt,this._zone=Ze,this._queries=new Map,this._destroySubject=new P.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(nt){return Ye((0,O.Eq)(nt)).some(Ut=>this._registerQuery(Ut).mql.matches)}observe(nt){const Ut=Ye((0,O.Eq)(nt)).map(Kt=>this._registerQuery(Kt).observable);let hn=(0,R.a)(Ut);return hn=(0,ae.z)(hn.pipe((0,je.q)(1)),hn.pipe((0,ye.T)(1),(0,Ge.b)(0))),hn.pipe((0,ie.U)(Kt=>{const nn={matches:!1,breakpoints:{}};return Kt.forEach(({matches:mn,query:ai})=>{nn.matches=nn.matches||mn,nn.breakpoints[ai]=mn}),nn}))}_registerQuery(nt){if(this._queries.has(nt))return this._queries.get(nt);const Ze=this._mediaMatcher.matchMedia(nt),hn={observable:new Pe.y(Kt=>{const nn=mn=>this._zone.run(()=>Kt.next(mn));return Ze.addListener(nn),()=>{Ze.removeListener(nn)}}).pipe((0,ge.O)(Ze),(0,ie.U)(({matches:Kt})=>({query:nt,matches:Kt})),(0,le.R)(this._destroySubject)),mql:Ze};return this._queries.set(nt,hn),hn}}return tt.\u0275fac=function(nt){return new(nt||tt)(f.LFG(et),f.LFG(f.R0b))},tt.\u0275prov=f.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();function Ye(tt){return tt.map(lt=>lt.split(",")).reduce((lt,nt)=>lt.concat(nt)).map(lt=>lt.trim())}const Re={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(vn,ot,x)=>{x.d(ot,{Q8:()=>Ge,wD:()=>ye});var f=x(1281),O=x(4650),P=x(9751),R=x(7579),ae=x(8372);let Pe=(()=>{class ie{create(le){return typeof MutationObserver>"u"?null:new MutationObserver(le)}}return ie.\u0275fac=function(le){return new(le||ie)},ie.\u0275prov=O.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),je=(()=>{class ie{constructor(le){this._mutationObserverFactory=le,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((le,ke)=>this._cleanupObserver(ke))}observe(le){const ke=(0,f.fI)(le);return new P.y(Be=>{const bt=this._observeElement(ke).subscribe(Be);return()=>{bt.unsubscribe(),this._unobserveElement(ke)}})}_observeElement(le){if(this._observedElements.has(le))this._observedElements.get(le).count++;else{const ke=new R.x,Be=this._mutationObserverFactory.create(Qe=>ke.next(Qe));Be&&Be.observe(le,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(le,{observer:Be,stream:ke,count:1})}return this._observedElements.get(le).stream}_unobserveElement(le){this._observedElements.has(le)&&(this._observedElements.get(le).count--,this._observedElements.get(le).count||this._cleanupObserver(le))}_cleanupObserver(le){if(this._observedElements.has(le)){const{observer:ke,stream:Be}=this._observedElements.get(le);ke&&ke.disconnect(),Be.complete(),this._observedElements.delete(le)}}}return ie.\u0275fac=function(le){return new(le||ie)(O.LFG(Pe))},ie.\u0275prov=O.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),ye=(()=>{class ie{get disabled(){return this._disabled}set disabled(le){this._disabled=(0,f.Ig)(le),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(le){this._debounce=(0,f.su)(le),this._subscribe()}constructor(le,ke,Be){this._contentObserver=le,this._elementRef=ke,this._ngZone=Be,this.event=new O.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const le=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?le.pipe((0,ae.b)(this.debounce)):le).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return ie.\u0275fac=function(le){return new(le||ie)(O.Y36(je),O.Y36(O.SBq),O.Y36(O.R0b))},ie.\u0275dir=O.lG2({type:ie,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ie})(),Ge=(()=>{class ie{}return ie.\u0275fac=function(le){return new(le||ie)},ie.\u0275mod=O.oAB({type:ie}),ie.\u0275inj=O.cJS({providers:[Pe]}),ie})()},8184:(vn,ot,x)=>{x.d(ot,{U8:()=>ct,X_:()=>tt,aV:()=>Gt});var f=x(8605),O=x(6895),P=x(4650),R=x(1281),ae=x(3353),Pe=x(9300),je=x(5698),ye=x(2722),Ge=x(445),ie=x(4080),ge=x(7579),le=x(727),ke=x(6451);const Be=(0,ae.Mq)();class Qe{constructor(J,Ae){this._viewportRuler=J,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ae}attach(){}enable(){if(this._canBeEnabled()){const J=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=J.style.left||"",this._previousHTMLStyles.top=J.style.top||"",J.style.left=(0,R.HM)(-this._previousScrollPosition.left),J.style.top=(0,R.HM)(-this._previousScrollPosition.top),J.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const J=this._document.documentElement,ft=J.style,Rt=this._document.body.style,Ht=ft.scrollBehavior||"",_t=Rt.scrollBehavior||"";this._isEnabled=!1,ft.left=this._previousHTMLStyles.left,ft.top=this._previousHTMLStyles.top,J.classList.remove("cdk-global-scrollblock"),Be&&(ft.scrollBehavior=Rt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Be&&(ft.scrollBehavior=Ht,Rt.scrollBehavior=_t)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ae=this._document.body,ft=this._viewportRuler.getViewportSize();return Ae.scrollHeight>ft.height||Ae.scrollWidth>ft.width}}class et{constructor(J,Ae,ft,Rt){this._scrollDispatcher=J,this._ngZone=Ae,this._viewportRuler=ft,this._config=Rt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(J){this._overlayRef=J}enable(){if(this._scrollSubscription)return;const J=this._scrollDispatcher.scrolled(0).pipe((0,Pe.h)(Ae=>!Ae||!this._overlayRef.overlayElement.contains(Ae.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=J.subscribe(()=>{const Ae=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ae-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=J.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ve{enable(){}disable(){}attach(){}}function Me(xe,J){return J.some(Ae=>xe.bottom<Ae.top||xe.top>Ae.bottom||xe.right<Ae.left||xe.left>Ae.right)}function Ft(xe,J){return J.some(Ae=>xe.top<Ae.top||xe.bottom>Ae.bottom||xe.left<Ae.left||xe.right>Ae.right)}class Ye{constructor(J,Ae,ft,Rt){this._scrollDispatcher=J,this._viewportRuler=Ae,this._ngZone=ft,this._config=Rt,this._scrollSubscription=null}attach(J){this._overlayRef=J}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ae=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ft,height:Rt}=this._viewportRuler.getViewportSize();Me(Ae,[{width:ft,height:Rt,bottom:Rt,right:ft,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Re=(()=>{class xe{constructor(Ae,ft,Rt,Ht){this._scrollDispatcher=Ae,this._viewportRuler=ft,this._ngZone=Rt,this.noop=()=>new Ve,this.close=_t=>new et(this._scrollDispatcher,this._ngZone,this._viewportRuler,_t),this.block=()=>new Qe(this._viewportRuler,this._document),this.reposition=_t=>new Ye(this._scrollDispatcher,this._viewportRuler,this._ngZone,_t),this._document=Ht}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(P.LFG(f.mF),P.LFG(f.rL),P.LFG(P.R0b),P.LFG(O.K0))},xe.\u0275prov=P.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();class tt{constructor(J){if(this.scrollStrategy=new Ve,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,J){const Ae=Object.keys(J);for(const ft of Ae)void 0!==J[ft]&&(this[ft]=J[ft])}}}class Ze{constructor(J,Ae){this.connectionPair=J,this.scrollableViewProperties=Ae}}let Kt=(()=>{class xe{constructor(Ae){this._attachedOverlays=[],this._document=Ae}ngOnDestroy(){this.detach()}add(Ae){this.remove(Ae),this._attachedOverlays.push(Ae)}remove(Ae){const ft=this._attachedOverlays.indexOf(Ae);ft>-1&&this._attachedOverlays.splice(ft,1),0===this._attachedOverlays.length&&this.detach()}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(P.LFG(O.K0))},xe.\u0275prov=P.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),nn=(()=>{class xe extends Kt{constructor(Ae,ft){super(Ae),this._ngZone=ft,this._keydownListener=Rt=>{const Ht=this._attachedOverlays;for(let _t=Ht.length-1;_t>-1;_t--)if(Ht[_t]._keydownEvents.observers.length>0){const Yt=Ht[_t]._keydownEvents;this._ngZone?this._ngZone.run(()=>Yt.next(Rt)):Yt.next(Rt);break}}}add(Ae){super.add(Ae),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(P.LFG(O.K0),P.LFG(P.R0b,8))},xe.\u0275prov=P.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),mn=(()=>{class xe extends Kt{constructor(Ae,ft,Rt){super(Ae),this._platform=ft,this._ngZone=Rt,this._cursorStyleIsSet=!1,this._pointerDownListener=Ht=>{this._pointerDownEventTarget=(0,ae.sA)(Ht)},this._clickListener=Ht=>{const _t=(0,ae.sA)(Ht),Yt="click"===Ht.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:_t;this._pointerDownEventTarget=null;const Te=this._attachedOverlays.slice();for(let $e=Te.length-1;$e>-1;$e--){const ce=Te[$e];if(ce._outsidePointerEvents.observers.length<1||!ce.hasAttached())continue;if(ce.overlayElement.contains(_t)||ce.overlayElement.contains(Yt))break;const me=ce._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>me.next(Ht)):me.next(Ht)}}}add(Ae){if(super.add(Ae),!this._isAttached){const ft=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ft)):this._addEventListeners(ft),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ft.style.cursor,ft.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ae=this._document.body;Ae.removeEventListener("pointerdown",this._pointerDownListener,!0),Ae.removeEventListener("click",this._clickListener,!0),Ae.removeEventListener("auxclick",this._clickListener,!0),Ae.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ae.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ae){Ae.addEventListener("pointerdown",this._pointerDownListener,!0),Ae.addEventListener("click",this._clickListener,!0),Ae.addEventListener("auxclick",this._clickListener,!0),Ae.addEventListener("contextmenu",this._clickListener,!0)}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(P.LFG(O.K0),P.LFG(ae.t4),P.LFG(P.R0b,8))},xe.\u0275prov=P.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),ai=(()=>{class xe{constructor(Ae,ft){this._platform=ft,this._document=Ae}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ae="cdk-overlay-container";if(this._platform.isBrowser||(0,ae.Oy)()){const Rt=this._document.querySelectorAll(`.${Ae}[platform="server"], .${Ae}[platform="test"]`);for(let Ht=0;Ht<Rt.length;Ht++)Rt[Ht].remove()}const ft=this._document.createElement("div");ft.classList.add(Ae),(0,ae.Oy)()?ft.setAttribute("platform","test"):this._platform.isBrowser||ft.setAttribute("platform","server"),this._document.body.appendChild(ft),this._containerElement=ft}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(P.LFG(O.K0),P.LFG(ae.t4))},xe.\u0275prov=P.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();class zt{constructor(J,Ae,ft,Rt,Ht,_t,Yt,Te,$e,ce=!1){this._portalOutlet=J,this._host=Ae,this._pane=ft,this._config=Rt,this._ngZone=Ht,this._keyboardDispatcher=_t,this._document=Yt,this._location=Te,this._outsideClickDispatcher=$e,this._animationsDisabled=ce,this._backdropElement=null,this._backdropClick=new ge.x,this._attachments=new ge.x,this._detachments=new ge.x,this._locationChanges=le.w0.EMPTY,this._backdropClickHandler=me=>this._backdropClick.next(me),this._backdropTransitionendHandler=me=>{this._disposeBackdrop(me.target)},this._keydownEvents=new ge.x,this._outsidePointerEvents=new ge.x,Rt.scrollStrategy&&(this._scrollStrategy=Rt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Rt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(J){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ae=this._portalOutlet.attach(J);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,je.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ae?.onDestroy&&Ae.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ae}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const J=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),J}dispose(){const J=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,J&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(J){J!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=J,this.hasAttached()&&(J.attach(this),this.updatePosition()))}updateSize(J){this._config={...this._config,...J},this._updateElementSize()}setDirection(J){this._config={...this._config,direction:J},this._updateElementDirection()}addPanelClass(J){this._pane&&this._toggleClasses(this._pane,J,!0)}removePanelClass(J){this._pane&&this._toggleClasses(this._pane,J,!1)}getDirection(){const J=this._config.direction;return J?"string"==typeof J?J:J.value:"ltr"}updateScrollStrategy(J){J!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=J,this.hasAttached()&&(J.attach(this),J.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const J=this._pane.style;J.width=(0,R.HM)(this._config.width),J.height=(0,R.HM)(this._config.height),J.minWidth=(0,R.HM)(this._config.minWidth),J.minHeight=(0,R.HM)(this._config.minHeight),J.maxWidth=(0,R.HM)(this._config.maxWidth),J.maxHeight=(0,R.HM)(this._config.maxHeight)}_togglePointerEvents(J){this._pane.style.pointerEvents=J?"":"none"}_attachBackdrop(){const J="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(J)})}):this._backdropElement.classList.add(J)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const J=this._backdropElement;if(J){if(this._animationsDisabled)return void this._disposeBackdrop(J);J.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{J.addEventListener("transitionend",this._backdropTransitionendHandler)}),J.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(J)},500))}}_toggleClasses(J,Ae,ft){const Rt=(0,R.Eq)(Ae||[]).filter(Ht=>!!Ht);Rt.length&&(ft?J.classList.add(...Rt):J.classList.remove(...Rt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const J=this._ngZone.onStable.pipe((0,ye.R)((0,ke.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),J.unsubscribe())})})}_disposeScrollStrategy(){const J=this._scrollStrategy;J&&(J.disable(),J.detach&&J.detach())}_disposeBackdrop(J){J&&(J.removeEventListener("click",this._backdropClickHandler),J.removeEventListener("transitionend",this._backdropTransitionendHandler),J.remove(),this._backdropElement===J&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Mt="cdk-overlay-connected-position-bounding-box",Bt=/([A-Za-z%]+)$/;class Vt{get positions(){return this._preferredPositions}constructor(J,Ae,ft,Rt,Ht){this._viewportRuler=Ae,this._document=ft,this._platform=Rt,this._overlayContainer=Ht,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ge.x,this._resizeSubscription=le.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(J)}attach(J){this._validatePositions(),J.hostElement.classList.add(Mt),this._overlayRef=J,this._boundingBox=J.hostElement,this._pane=J.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const J=this._originRect,Ae=this._overlayRect,ft=this._viewportRect,Rt=this._containerRect,Ht=[];let _t;for(let Yt of this._preferredPositions){let Te=this._getOriginPoint(J,Rt,Yt),$e=this._getOverlayPoint(Te,Ae,Yt),ce=this._getOverlayFit($e,Ae,ft,Yt);if(ce.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Yt,Te);this._canFitWithFlexibleDimensions(ce,$e,ft)?Ht.push({position:Yt,origin:Te,overlayRect:Ae,boundingBoxRect:this._calculateBoundingBoxRect(Te,Yt)}):(!_t||_t.overlayFit.visibleArea<ce.visibleArea)&&(_t={overlayFit:ce,overlayPoint:$e,originPoint:Te,position:Yt,overlayRect:Ae})}if(Ht.length){let Yt=null,Te=-1;for(const $e of Ht){const ce=$e.boundingBoxRect.width*$e.boundingBoxRect.height*($e.position.weight||1);ce>Te&&(Te=ce,Yt=$e)}return this._isPushed=!1,void this._applyPosition(Yt.position,Yt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(_t.position,_t.originPoint);this._applyPosition(_t.position,_t.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ot(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const J=this._lastPosition;if(J){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ae=this._getOriginPoint(this._originRect,this._containerRect,J);this._applyPosition(J,Ae)}else this.apply()}withScrollableContainers(J){return this._scrollables=J,this}withPositions(J){return this._preferredPositions=J,-1===J.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(J){return this._viewportMargin=J,this}withFlexibleDimensions(J=!0){return this._hasFlexibleDimensions=J,this}withGrowAfterOpen(J=!0){return this._growAfterOpen=J,this}withPush(J=!0){return this._canPush=J,this}withLockedPosition(J=!0){return this._positionLocked=J,this}setOrigin(J){return this._origin=J,this}withDefaultOffsetX(J){return this._offsetX=J,this}withDefaultOffsetY(J){return this._offsetY=J,this}withTransformOriginOn(J){return this._transformOriginSelector=J,this}_getOriginPoint(J,Ae,ft){let Rt,Ht;if("center"==ft.originX)Rt=J.left+J.width/2;else{const _t=this._isRtl()?J.right:J.left,Yt=this._isRtl()?J.left:J.right;Rt="start"==ft.originX?_t:Yt}return Ae.left<0&&(Rt-=Ae.left),Ht="center"==ft.originY?J.top+J.height/2:"top"==ft.originY?J.top:J.bottom,Ae.top<0&&(Ht-=Ae.top),{x:Rt,y:Ht}}_getOverlayPoint(J,Ae,ft){let Rt,Ht;return Rt="center"==ft.overlayX?-Ae.width/2:"start"===ft.overlayX?this._isRtl()?-Ae.width:0:this._isRtl()?0:-Ae.width,Ht="center"==ft.overlayY?-Ae.height/2:"top"==ft.overlayY?0:-Ae.height,{x:J.x+Rt,y:J.y+Ht}}_getOverlayFit(J,Ae,ft,Rt){const Ht=dt(Ae);let{x:_t,y:Yt}=J,Te=this._getOffset(Rt,"x"),$e=this._getOffset(Rt,"y");Te&&(_t+=Te),$e&&(Yt+=$e);let yt=0-Yt,ze=Yt+Ht.height-ft.height,Tt=this._subtractOverflows(Ht.width,0-_t,_t+Ht.width-ft.width),Sn=this._subtractOverflows(Ht.height,yt,ze),dn=Tt*Sn;return{visibleArea:dn,isCompletelyWithinViewport:Ht.width*Ht.height===dn,fitsInViewportVertically:Sn===Ht.height,fitsInViewportHorizontally:Tt==Ht.width}}_canFitWithFlexibleDimensions(J,Ae,ft){if(this._hasFlexibleDimensions){const Rt=ft.bottom-Ae.y,Ht=ft.right-Ae.x,_t=rt(this._overlayRef.getConfig().minHeight),Yt=rt(this._overlayRef.getConfig().minWidth);return(J.fitsInViewportVertically||null!=_t&&_t<=Rt)&&(J.fitsInViewportHorizontally||null!=Yt&&Yt<=Ht)}return!1}_pushOverlayOnScreen(J,Ae,ft){if(this._previousPushAmount&&this._positionLocked)return{x:J.x+this._previousPushAmount.x,y:J.y+this._previousPushAmount.y};const Rt=dt(Ae),Ht=this._viewportRect,_t=Math.max(J.x+Rt.width-Ht.width,0),Yt=Math.max(J.y+Rt.height-Ht.height,0),Te=Math.max(Ht.top-ft.top-J.y,0),$e=Math.max(Ht.left-ft.left-J.x,0);let ce=0,me=0;return ce=Rt.width<=Ht.width?$e||-_t:J.x<this._viewportMargin?Ht.left-ft.left-J.x:0,me=Rt.height<=Ht.height?Te||-Yt:J.y<this._viewportMargin?Ht.top-ft.top-J.y:0,this._previousPushAmount={x:ce,y:me},{x:J.x+ce,y:J.y+me}}_applyPosition(J,Ae){if(this._setTransformOrigin(J),this._setOverlayElementStyles(Ae,J),this._setBoundingBoxStyles(Ae,J),J.panelClass&&this._addPanelClasses(J.panelClass),this._lastPosition=J,this._positionChanges.observers.length){const ft=this._getScrollVisibility(),Rt=new Ze(J,ft);this._positionChanges.next(Rt)}this._isInitialRender=!1}_setTransformOrigin(J){if(!this._transformOriginSelector)return;const Ae=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ft,Rt=J.overlayY;ft="center"===J.overlayX?"center":this._isRtl()?"start"===J.overlayX?"right":"left":"start"===J.overlayX?"left":"right";for(let Ht=0;Ht<Ae.length;Ht++)Ae[Ht].style.transformOrigin=`${ft} ${Rt}`}_calculateBoundingBoxRect(J,Ae){const ft=this._viewportRect,Rt=this._isRtl();let Ht,_t,Yt,ce,me,yt;if("top"===Ae.overlayY)_t=J.y,Ht=ft.height-_t+this._viewportMargin;else if("bottom"===Ae.overlayY)Yt=ft.height-J.y+2*this._viewportMargin,Ht=ft.height-Yt+this._viewportMargin;else{const ze=Math.min(ft.bottom-J.y+ft.top,J.y),Tt=this._lastBoundingBoxSize.height;Ht=2*ze,_t=J.y-ze,Ht>Tt&&!this._isInitialRender&&!this._growAfterOpen&&(_t=J.y-Tt/2)}if("end"===Ae.overlayX&&!Rt||"start"===Ae.overlayX&&Rt)yt=ft.width-J.x+this._viewportMargin,ce=J.x-this._viewportMargin;else if("start"===Ae.overlayX&&!Rt||"end"===Ae.overlayX&&Rt)me=J.x,ce=ft.right-J.x;else{const ze=Math.min(ft.right-J.x+ft.left,J.x),Tt=this._lastBoundingBoxSize.width;ce=2*ze,me=J.x-ze,ce>Tt&&!this._isInitialRender&&!this._growAfterOpen&&(me=J.x-Tt/2)}return{top:_t,left:me,bottom:Yt,right:yt,width:ce,height:Ht}}_setBoundingBoxStyles(J,Ae){const ft=this._calculateBoundingBoxRect(J,Ae);!this._isInitialRender&&!this._growAfterOpen&&(ft.height=Math.min(ft.height,this._lastBoundingBoxSize.height),ft.width=Math.min(ft.width,this._lastBoundingBoxSize.width));const Rt={};if(this._hasExactPosition())Rt.top=Rt.left="0",Rt.bottom=Rt.right=Rt.maxHeight=Rt.maxWidth="",Rt.width=Rt.height="100%";else{const Ht=this._overlayRef.getConfig().maxHeight,_t=this._overlayRef.getConfig().maxWidth;Rt.height=(0,R.HM)(ft.height),Rt.top=(0,R.HM)(ft.top),Rt.bottom=(0,R.HM)(ft.bottom),Rt.width=(0,R.HM)(ft.width),Rt.left=(0,R.HM)(ft.left),Rt.right=(0,R.HM)(ft.right),Rt.alignItems="center"===Ae.overlayX?"center":"end"===Ae.overlayX?"flex-end":"flex-start",Rt.justifyContent="center"===Ae.overlayY?"center":"bottom"===Ae.overlayY?"flex-end":"flex-start",Ht&&(Rt.maxHeight=(0,R.HM)(Ht)),_t&&(Rt.maxWidth=(0,R.HM)(_t))}this._lastBoundingBoxSize=ft,Ot(this._boundingBox.style,Rt)}_resetBoundingBoxStyles(){Ot(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ot(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(J,Ae){const ft={},Rt=this._hasExactPosition(),Ht=this._hasFlexibleDimensions,_t=this._overlayRef.getConfig();if(Rt){const ce=this._viewportRuler.getViewportScrollPosition();Ot(ft,this._getExactOverlayY(Ae,J,ce)),Ot(ft,this._getExactOverlayX(Ae,J,ce))}else ft.position="static";let Yt="",Te=this._getOffset(Ae,"x"),$e=this._getOffset(Ae,"y");Te&&(Yt+=`translateX(${Te}px) `),$e&&(Yt+=`translateY(${$e}px)`),ft.transform=Yt.trim(),_t.maxHeight&&(Rt?ft.maxHeight=(0,R.HM)(_t.maxHeight):Ht&&(ft.maxHeight="")),_t.maxWidth&&(Rt?ft.maxWidth=(0,R.HM)(_t.maxWidth):Ht&&(ft.maxWidth="")),Ot(this._pane.style,ft)}_getExactOverlayY(J,Ae,ft){let Rt={top:"",bottom:""},Ht=this._getOverlayPoint(Ae,this._overlayRect,J);return this._isPushed&&(Ht=this._pushOverlayOnScreen(Ht,this._overlayRect,ft)),"bottom"===J.overlayY?Rt.bottom=this._document.documentElement.clientHeight-(Ht.y+this._overlayRect.height)+"px":Rt.top=(0,R.HM)(Ht.y),Rt}_getExactOverlayX(J,Ae,ft){let _t,Rt={left:"",right:""},Ht=this._getOverlayPoint(Ae,this._overlayRect,J);return this._isPushed&&(Ht=this._pushOverlayOnScreen(Ht,this._overlayRect,ft)),_t=this._isRtl()?"end"===J.overlayX?"left":"right":"end"===J.overlayX?"right":"left","right"===_t?Rt.right=this._document.documentElement.clientWidth-(Ht.x+this._overlayRect.width)+"px":Rt.left=(0,R.HM)(Ht.x),Rt}_getScrollVisibility(){const J=this._getOriginRect(),Ae=this._pane.getBoundingClientRect(),ft=this._scrollables.map(Rt=>Rt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ft(J,ft),isOriginOutsideView:Me(J,ft),isOverlayClipped:Ft(Ae,ft),isOverlayOutsideView:Me(Ae,ft)}}_subtractOverflows(J,...Ae){return Ae.reduce((ft,Rt)=>ft-Math.max(Rt,0),J)}_getNarrowedViewportRect(){const J=this._document.documentElement.clientWidth,Ae=this._document.documentElement.clientHeight,ft=this._viewportRuler.getViewportScrollPosition();return{top:ft.top+this._viewportMargin,left:ft.left+this._viewportMargin,right:ft.left+J-this._viewportMargin,bottom:ft.top+Ae-this._viewportMargin,width:J-2*this._viewportMargin,height:Ae-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(J,Ae){return"x"===Ae?null==J.offsetX?this._offsetX:J.offsetX:null==J.offsetY?this._offsetY:J.offsetY}_validatePositions(){}_addPanelClasses(J){this._pane&&(0,R.Eq)(J).forEach(Ae=>{""!==Ae&&-1===this._appliedPanelClasses.indexOf(Ae)&&(this._appliedPanelClasses.push(Ae),this._pane.classList.add(Ae))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(J=>{this._pane.classList.remove(J)}),this._appliedPanelClasses=[])}_getOriginRect(){const J=this._origin;if(J instanceof P.SBq)return J.nativeElement.getBoundingClientRect();if(J instanceof Element)return J.getBoundingClientRect();const Ae=J.width||0,ft=J.height||0;return{top:J.y,bottom:J.y+ft,left:J.x,right:J.x+Ae,height:ft,width:Ae}}}function Ot(xe,J){for(let Ae in J)J.hasOwnProperty(Ae)&&(xe[Ae]=J[Ae]);return xe}function rt(xe){if("number"!=typeof xe&&null!=xe){const[J,Ae]=xe.split(Bt);return Ae&&"px"!==Ae?null:parseFloat(J)}return xe||null}function dt(xe){return{top:Math.floor(xe.top),right:Math.floor(xe.right),bottom:Math.floor(xe.bottom),left:Math.floor(xe.left),width:Math.floor(xe.width),height:Math.floor(xe.height)}}const it="cdk-global-overlay-wrapper";class He{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(J){const Ae=J.getConfig();this._overlayRef=J,this._width&&!Ae.width&&J.updateSize({width:this._width}),this._height&&!Ae.height&&J.updateSize({height:this._height}),J.hostElement.classList.add(it),this._isDisposed=!1}top(J=""){return this._bottomOffset="",this._topOffset=J,this._alignItems="flex-start",this}left(J=""){return this._xOffset=J,this._xPosition="left",this}bottom(J=""){return this._topOffset="",this._bottomOffset=J,this._alignItems="flex-end",this}right(J=""){return this._xOffset=J,this._xPosition="right",this}start(J=""){return this._xOffset=J,this._xPosition="start",this}end(J=""){return this._xOffset=J,this._xPosition="end",this}width(J=""){return this._overlayRef?this._overlayRef.updateSize({width:J}):this._width=J,this}height(J=""){return this._overlayRef?this._overlayRef.updateSize({height:J}):this._height=J,this}centerHorizontally(J=""){return this.left(J),this._xPosition="center",this}centerVertically(J=""){return this.top(J),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const J=this._overlayRef.overlayElement.style,Ae=this._overlayRef.hostElement.style,ft=this._overlayRef.getConfig(),{width:Rt,height:Ht,maxWidth:_t,maxHeight:Yt}=ft,Te=!("100%"!==Rt&&"100vw"!==Rt||_t&&"100%"!==_t&&"100vw"!==_t),$e=!("100%"!==Ht&&"100vh"!==Ht||Yt&&"100%"!==Yt&&"100vh"!==Yt),ce=this._xPosition,me=this._xOffset,yt="rtl"===this._overlayRef.getConfig().direction;let ze="",Tt="",Sn="";Te?Sn="flex-start":"center"===ce?(Sn="center",yt?Tt=me:ze=me):yt?"left"===ce||"end"===ce?(Sn="flex-end",ze=me):("right"===ce||"start"===ce)&&(Sn="flex-start",Tt=me):"left"===ce||"start"===ce?(Sn="flex-start",ze=me):("right"===ce||"end"===ce)&&(Sn="flex-end",Tt=me),J.position=this._cssPosition,J.marginLeft=Te?"0":ze,J.marginTop=$e?"0":this._topOffset,J.marginBottom=this._bottomOffset,J.marginRight=Te?"0":Tt,Ae.justifyContent=Sn,Ae.alignItems=$e?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const J=this._overlayRef.overlayElement.style,Ae=this._overlayRef.hostElement,ft=Ae.style;Ae.classList.remove(it),ft.justifyContent=ft.alignItems=J.marginTop=J.marginBottom=J.marginLeft=J.marginRight=J.position="",this._overlayRef=null,this._isDisposed=!0}}let mt=(()=>{class xe{constructor(Ae,ft,Rt,Ht){this._viewportRuler=Ae,this._document=ft,this._platform=Rt,this._overlayContainer=Ht}global(){return new He}flexibleConnectedTo(Ae){return new Vt(Ae,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(P.LFG(f.rL),P.LFG(O.K0),P.LFG(ae.t4),P.LFG(ai))},xe.\u0275prov=P.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),gt=0,Gt=(()=>{class xe{constructor(Ae,ft,Rt,Ht,_t,Yt,Te,$e,ce,me,yt,ze){this.scrollStrategies=Ae,this._overlayContainer=ft,this._componentFactoryResolver=Rt,this._positionBuilder=Ht,this._keyboardDispatcher=_t,this._injector=Yt,this._ngZone=Te,this._document=$e,this._directionality=ce,this._location=me,this._outsideClickDispatcher=yt,this._animationsModuleType=ze}create(Ae){const ft=this._createHostElement(),Rt=this._createPaneElement(ft),Ht=this._createPortalOutlet(Rt),_t=new tt(Ae);return _t.direction=_t.direction||this._directionality.value,new zt(Ht,ft,Rt,_t,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ae){const ft=this._document.createElement("div");return ft.id="cdk-overlay-"+gt++,ft.classList.add("cdk-overlay-pane"),Ae.appendChild(ft),ft}_createHostElement(){const Ae=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ae),Ae}_createPortalOutlet(Ae){return this._appRef||(this._appRef=this._injector.get(P.z2F)),new ie.u0(Ae,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(P.LFG(Re),P.LFG(ai),P.LFG(P._Vd),P.LFG(mt),P.LFG(nn),P.LFG(P.zs3),P.LFG(P.R0b),P.LFG(O.K0),P.LFG(Ge.Is),P.LFG(O.Ye),P.LFG(mn),P.LFG(P.QbO,8))},xe.\u0275prov=P.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();const wt={provide:new P.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Gt],useFactory:function Xn(xe){return()=>xe.scrollStrategies.reposition()}};let ct=(()=>{class xe{}return xe.\u0275fac=function(Ae){return new(Ae||xe)},xe.\u0275mod=P.oAB({type:xe}),xe.\u0275inj=P.cJS({providers:[Gt,wt],imports:[Ge.vT,ie.eL,f.Cl,f.Cl]}),xe})()},3353:(vn,ot,x)=>{x.d(ot,{Mq:()=>Be,Oy:()=>Ye,_i:()=>Qe,i$:()=>ge,kV:()=>Ve,qK:()=>ye,sA:()=>Ft,t4:()=>R});var f=x(4650),O=x(6895);let P;try{P=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P=!1}let Pe,R=(()=>{class Re{constructor(lt){this._platformId=lt,this.isBrowser=this._platformId?(0,O.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Re.\u0275fac=function(lt){return new(lt||Re)(f.LFG(f.Lbi))},Re.\u0275prov=f.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();const je=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ye(){if(Pe)return Pe;if("object"!=typeof document||!document)return Pe=new Set(je),Pe;let Re=document.createElement("input");return Pe=new Set(je.filter(tt=>(Re.setAttribute("type",tt),Re.type===tt))),Pe}let Ge,le,ke,bt;function ge(Re){return function ie(){if(null==Ge&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ge=!0}))}finally{Ge=Ge||!1}return Ge}()?Re:!!Re.capture}function Be(){if(null==ke){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ke=!1,ke;if("scrollBehavior"in document.documentElement.style)ke=!0;else{const Re=Element.prototype.scrollTo;ke=!!Re&&!/\{\s*\[native code\]\s*\}/.test(Re.toString())}}return ke}function Qe(){if("object"!=typeof document||!document)return 0;if(null==le){const Re=document.createElement("div"),tt=Re.style;Re.dir="rtl",tt.width="1px",tt.overflow="auto",tt.visibility="hidden",tt.pointerEvents="none",tt.position="absolute";const lt=document.createElement("div"),nt=lt.style;nt.width="2px",nt.height="1px",Re.appendChild(lt),document.body.appendChild(Re),le=0,0===Re.scrollLeft&&(Re.scrollLeft=1,le=0===Re.scrollLeft?1:2),Re.remove()}return le}function Ve(Re){if(function et(){if(null==bt){const Re=typeof document<"u"?document.head:null;bt=!(!Re||!Re.createShadowRoot&&!Re.attachShadow)}return bt}()){const tt=Re.getRootNode?Re.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&tt instanceof ShadowRoot)return tt}return null}function Ft(Re){return Re.composedPath?Re.composedPath()[0]:Re.target}function Ye(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(vn,ot,x)=>{x.d(ot,{C5:()=>ie,Pl:()=>Me,UE:()=>ge,eL:()=>Ye,en:()=>ke,u0:()=>Qe});var f=x(4650),O=x(6895);class Ge{attach(lt){return this._attachedHost=lt,lt.attach(this)}detach(){let lt=this._attachedHost;null!=lt&&(this._attachedHost=null,lt.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(lt){this._attachedHost=lt}}class ie extends Ge{constructor(lt,nt,Ze,Ut,hn){super(),this.component=lt,this.viewContainerRef=nt,this.injector=Ze,this.componentFactoryResolver=Ut,this.projectableNodes=hn}}class ge extends Ge{constructor(lt,nt,Ze,Ut){super(),this.templateRef=lt,this.viewContainerRef=nt,this.context=Ze,this.injector=Ut}get origin(){return this.templateRef.elementRef}attach(lt,nt=this.context){return this.context=nt,super.attach(lt)}detach(){return this.context=void 0,super.detach()}}class le extends Ge{constructor(lt){super(),this.element=lt instanceof f.SBq?lt.nativeElement:lt}}class ke{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(lt){return lt instanceof ie?(this._attachedPortal=lt,this.attachComponentPortal(lt)):lt instanceof ge?(this._attachedPortal=lt,this.attachTemplatePortal(lt)):this.attachDomPortal&&lt instanceof le?(this._attachedPortal=lt,this.attachDomPortal(lt)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(lt){this._disposeFn=lt}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Qe extends ke{constructor(lt,nt,Ze,Ut,hn){super(),this.outletElement=lt,this._componentFactoryResolver=nt,this._appRef=Ze,this._defaultInjector=Ut,this.attachDomPortal=Kt=>{const nn=Kt.element,mn=this._document.createComment("dom-portal");nn.parentNode.insertBefore(mn,nn),this.outletElement.appendChild(nn),this._attachedPortal=Kt,super.setDisposeFn(()=>{mn.parentNode&&mn.parentNode.replaceChild(nn,mn)})},this._document=hn}attachComponentPortal(lt){const Ze=(lt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(lt.component);let Ut;return lt.viewContainerRef?(Ut=lt.viewContainerRef.createComponent(Ze,lt.viewContainerRef.length,lt.injector||lt.viewContainerRef.injector,lt.projectableNodes||void 0),this.setDisposeFn(()=>Ut.destroy())):(Ut=Ze.create(lt.injector||this._defaultInjector||f.zs3.NULL),this._appRef.attachView(Ut.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ut.hostView),Ut.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ut)),this._attachedPortal=lt,Ut}attachTemplatePortal(lt){let nt=lt.viewContainerRef,Ze=nt.createEmbeddedView(lt.templateRef,lt.context,{injector:lt.injector});return Ze.rootNodes.forEach(Ut=>this.outletElement.appendChild(Ut)),Ze.detectChanges(),this.setDisposeFn(()=>{let Ut=nt.indexOf(Ze);-1!==Ut&&nt.remove(Ut)}),this._attachedPortal=lt,Ze}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(lt){return lt.hostView.rootNodes[0]}}let Me=(()=>{class tt extends ke{constructor(nt,Ze,Ut){super(),this._componentFactoryResolver=nt,this._viewContainerRef=Ze,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=hn=>{const Kt=hn.element,nn=this._document.createComment("dom-portal");hn.setAttachedHost(this),Kt.parentNode.insertBefore(nn,Kt),this._getRootNode().appendChild(Kt),this._attachedPortal=hn,super.setDisposeFn(()=>{nn.parentNode&&nn.parentNode.replaceChild(Kt,nn)})},this._document=Ut}get portal(){return this._attachedPortal}set portal(nt){this.hasAttached()&&!nt&&!this._isInitialized||(this.hasAttached()&&super.detach(),nt&&super.attach(nt),this._attachedPortal=nt||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(nt){nt.setAttachedHost(this);const Ze=null!=nt.viewContainerRef?nt.viewContainerRef:this._viewContainerRef,hn=(nt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(nt.component),Kt=Ze.createComponent(hn,Ze.length,nt.injector||Ze.injector,nt.projectableNodes||void 0);return Ze!==this._viewContainerRef&&this._getRootNode().appendChild(Kt.hostView.rootNodes[0]),super.setDisposeFn(()=>Kt.destroy()),this._attachedPortal=nt,this._attachedRef=Kt,this.attached.emit(Kt),Kt}attachTemplatePortal(nt){nt.setAttachedHost(this);const Ze=this._viewContainerRef.createEmbeddedView(nt.templateRef,nt.context,{injector:nt.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=nt,this._attachedRef=Ze,this.attached.emit(Ze),Ze}_getRootNode(){const nt=this._viewContainerRef.element.nativeElement;return nt.nodeType===nt.ELEMENT_NODE?nt:nt.parentNode}}return tt.\u0275fac=function(nt){return new(nt||tt)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(O.K0))},tt.\u0275dir=f.lG2({type:tt,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),tt})(),Ye=(()=>{class tt{}return tt.\u0275fac=function(nt){return new(nt||tt)},tt.\u0275mod=f.oAB({type:tt}),tt.\u0275inj=f.cJS({}),tt})()},8605:(vn,ot,x)=>{x.d(ot,{PQ:()=>ln,ZD:()=>_t,mF:()=>Pt,Cl:()=>Yt,rL:()=>Xn});var f=x(1281),O=x(4650),P=x(7579),R=x(9646),ae=x(9751),Pe=x(4968),je=x(4408),ye=x(727);const Ge={schedule(Te){let $e=requestAnimationFrame,ce=cancelAnimationFrame;const{delegate:me}=Ge;me&&($e=me.requestAnimationFrame,ce=me.cancelAnimationFrame);const yt=$e(ze=>{ce=void 0,Te(ze)});return new ye.w0(()=>ce?.(yt))},requestAnimationFrame(...Te){const{delegate:$e}=Ge;return($e?.requestAnimationFrame||requestAnimationFrame)(...Te)},cancelAnimationFrame(...Te){const{delegate:$e}=Ge;return($e?.cancelAnimationFrame||cancelAnimationFrame)(...Te)},delegate:void 0};var ge=x(7565);const ke=new class le extends ge.v{flush($e){this._active=!0;const ce=this._scheduled;this._scheduled=void 0;const{actions:me}=this;let yt;$e=$e||me.shift();do{if(yt=$e.execute($e.state,$e.delay))break}while(($e=me[0])&&$e.id===ce&&me.shift());if(this._active=!1,yt){for(;($e=me[0])&&$e.id===ce&&me.shift();)$e.unsubscribe();throw yt}}}(class ie extends je.o{constructor($e,ce){super($e,ce),this.scheduler=$e,this.work=ce}requestAsyncId($e,ce,me=0){return null!==me&&me>0?super.requestAsyncId($e,ce,me):($e.actions.push(this),$e._scheduled||($e._scheduled=Ge.requestAnimationFrame(()=>$e.flush(void 0))))}recycleAsyncId($e,ce,me=0){var yt;if(null!=me?me>0:this.delay>0)return super.recycleAsyncId($e,ce,me);const{actions:ze}=$e;null!=ce&&(null===(yt=ze[ze.length-1])||void 0===yt?void 0:yt.id)!==ce&&(Ge.cancelAnimationFrame(ce),$e._scheduled=void 0)}});let bt,Qe=1;const et={};function Ve(Te){return Te in et&&(delete et[Te],!0)}const Me={setImmediate(Te){const $e=Qe++;return et[$e]=!0,bt||(bt=Promise.resolve()),bt.then(()=>Ve($e)&&Te()),$e},clearImmediate(Te){Ve(Te)}},{setImmediate:Ye,clearImmediate:Re}=Me,tt={setImmediate(...Te){const{delegate:$e}=tt;return($e?.setImmediate||Ye)(...Te)},clearImmediate(Te){const{delegate:$e}=tt;return($e?.clearImmediate||Re)(Te)},delegate:void 0},Ze=new class nt extends ge.v{flush($e){this._active=!0;const ce=this._scheduled;this._scheduled=void 0;const{actions:me}=this;let yt;$e=$e||me.shift();do{if(yt=$e.execute($e.state,$e.delay))break}while(($e=me[0])&&$e.id===ce&&me.shift());if(this._active=!1,yt){for(;($e=me[0])&&$e.id===ce&&me.shift();)$e.unsubscribe();throw yt}}}(class lt extends je.o{constructor($e,ce){super($e,ce),this.scheduler=$e,this.work=ce}requestAsyncId($e,ce,me=0){return null!==me&&me>0?super.requestAsyncId($e,ce,me):($e.actions.push(this),$e._scheduled||($e._scheduled=tt.setImmediate($e.flush.bind($e,void 0))))}recycleAsyncId($e,ce,me=0){var yt;if(null!=me?me>0:this.delay>0)return super.recycleAsyncId($e,ce,me);const{actions:ze}=$e;null!=ce&&(null===(yt=ze[ze.length-1])||void 0===yt?void 0:yt.id)!==ce&&(tt.clearImmediate(ce),$e._scheduled===ce&&($e._scheduled=void 0))}});var hn=x(4986),Kt=x(4482),nn=x(8421),mn=x(5403),zt=x(5963);function Mt(Te,$e=hn.z){return function ai(Te){return(0,Kt.e)(($e,ce)=>{let me=!1,yt=null,ze=null,Tt=!1;const Sn=()=>{if(ze?.unsubscribe(),ze=null,me){me=!1;const ii=yt;yt=null,ce.next(ii)}Tt&&ce.complete()},dn=()=>{ze=null,Tt&&ce.complete()};$e.subscribe((0,mn.x)(ce,ii=>{me=!0,yt=ii,ze||(0,nn.Xf)(Te(ii)).subscribe(ze=(0,mn.x)(ce,Sn,dn))},()=>{Tt=!0,(!me||!ze||ze.closed)&&ce.complete()}))})}(()=>(0,zt.H)(Te,$e))}var Bt=x(9300),Vt=x(2722),Ot=x(8675),rt=x(3353),dt=x(6895),Ne=x(445);const ht=["contentWrapper"],it=["*"],He=new O.OlP("VIRTUAL_SCROLL_STRATEGY");let Pt=(()=>{class Te{constructor(ce,me,yt){this._ngZone=ce,this._platform=me,this._scrolled=new P.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=yt}register(ce){this.scrollContainers.has(ce)||this.scrollContainers.set(ce,ce.elementScrolled().subscribe(()=>this._scrolled.next(ce)))}deregister(ce){const me=this.scrollContainers.get(ce);me&&(me.unsubscribe(),this.scrollContainers.delete(ce))}scrolled(ce=20){return this._platform.isBrowser?new ae.y(me=>{this._globalSubscription||this._addGlobalListener();const yt=ce>0?this._scrolled.pipe(Mt(ce)).subscribe(me):this._scrolled.subscribe(me);return this._scrolledCount++,()=>{yt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,R.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ce,me)=>this.deregister(me)),this._scrolled.complete()}ancestorScrolled(ce,me){const yt=this.getAncestorScrollContainers(ce);return this.scrolled(me).pipe((0,Bt.h)(ze=>!ze||yt.indexOf(ze)>-1))}getAncestorScrollContainers(ce){const me=[];return this.scrollContainers.forEach((yt,ze)=>{this._scrollableContainsElement(ze,ce)&&me.push(ze)}),me}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ce,me){let yt=(0,f.fI)(me),ze=ce.getElementRef().nativeElement;do{if(yt==ze)return!0}while(yt=yt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ce=this._getWindow();return(0,Pe.R)(ce.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Te.\u0275fac=function(ce){return new(ce||Te)(O.LFG(O.R0b),O.LFG(rt.t4),O.LFG(dt.K0,8))},Te.\u0275prov=O.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),ln=(()=>{class Te{constructor(ce,me,yt,ze){this.elementRef=ce,this.scrollDispatcher=me,this.ngZone=yt,this.dir=ze,this._destroyed=new P.x,this._elementScrolled=new ae.y(Tt=>this.ngZone.runOutsideAngular(()=>(0,Pe.R)(this.elementRef.nativeElement,"scroll").pipe((0,Vt.R)(this._destroyed)).subscribe(Tt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ce){const me=this.elementRef.nativeElement,yt=this.dir&&"rtl"==this.dir.value;null==ce.left&&(ce.left=yt?ce.end:ce.start),null==ce.right&&(ce.right=yt?ce.start:ce.end),null!=ce.bottom&&(ce.top=me.scrollHeight-me.clientHeight-ce.bottom),yt&&0!=(0,rt._i)()?(null!=ce.left&&(ce.right=me.scrollWidth-me.clientWidth-ce.left),2==(0,rt._i)()?ce.left=ce.right:1==(0,rt._i)()&&(ce.left=ce.right?-ce.right:ce.right)):null!=ce.right&&(ce.left=me.scrollWidth-me.clientWidth-ce.right),this._applyScrollToOptions(ce)}_applyScrollToOptions(ce){const me=this.elementRef.nativeElement;(0,rt.Mq)()?me.scrollTo(ce):(null!=ce.top&&(me.scrollTop=ce.top),null!=ce.left&&(me.scrollLeft=ce.left))}measureScrollOffset(ce){const me="left",ze=this.elementRef.nativeElement;if("top"==ce)return ze.scrollTop;if("bottom"==ce)return ze.scrollHeight-ze.clientHeight-ze.scrollTop;const Tt=this.dir&&"rtl"==this.dir.value;return"start"==ce?ce=Tt?"right":me:"end"==ce&&(ce=Tt?me:"right"),Tt&&2==(0,rt._i)()?ce==me?ze.scrollWidth-ze.clientWidth-ze.scrollLeft:ze.scrollLeft:Tt&&1==(0,rt._i)()?ce==me?ze.scrollLeft+ze.scrollWidth-ze.clientWidth:-ze.scrollLeft:ce==me?ze.scrollLeft:ze.scrollWidth-ze.clientWidth-ze.scrollLeft}}return Te.\u0275fac=function(ce){return new(ce||Te)(O.Y36(O.SBq),O.Y36(Pt),O.Y36(O.R0b),O.Y36(Ne.Is,8))},Te.\u0275dir=O.lG2({type:Te,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Te})(),Xn=(()=>{class Te{constructor(ce,me,yt){this._platform=ce,this._change=new P.x,this._changeListener=ze=>{this._change.next(ze)},this._document=yt,me.runOutsideAngular(()=>{if(ce.isBrowser){const ze=this._getWindow();ze.addEventListener("resize",this._changeListener),ze.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ce=this._getWindow();ce.removeEventListener("resize",this._changeListener),ce.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ce={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ce}getViewportRect(){const ce=this.getViewportScrollPosition(),{width:me,height:yt}=this.getViewportSize();return{top:ce.top,left:ce.left,bottom:ce.top+yt,right:ce.left+me,height:yt,width:me}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ce=this._document,me=this._getWindow(),yt=ce.documentElement,ze=yt.getBoundingClientRect();return{top:-ze.top||ce.body.scrollTop||me.scrollY||yt.scrollTop||0,left:-ze.left||ce.body.scrollLeft||me.scrollX||yt.scrollLeft||0}}change(ce=20){return ce>0?this._change.pipe(Mt(ce)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ce=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ce.innerWidth,height:ce.innerHeight}:{width:0,height:0}}}return Te.\u0275fac=function(ce){return new(ce||Te)(O.LFG(rt.t4),O.LFG(O.R0b),O.LFG(dt.K0,8))},Te.\u0275prov=O.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const wt=new O.OlP("VIRTUAL_SCROLLABLE");let ct=(()=>{class Te extends ln{constructor(ce,me,yt,ze){super(ce,me,yt,ze)}measureViewportSize(ce){const me=this.elementRef.nativeElement;return"horizontal"===ce?me.clientWidth:me.clientHeight}}return Te.\u0275fac=function(ce){return new(ce||Te)(O.Y36(O.SBq),O.Y36(Pt),O.Y36(O.R0b),O.Y36(Ne.Is,8))},Te.\u0275dir=O.lG2({type:Te,features:[O.qOj]}),Te})();const xe=typeof requestAnimationFrame<"u"?ke:Ze;let J=(()=>{class Te extends ct{get orientation(){return this._orientation}set orientation(ce){this._orientation!==ce&&(this._orientation=ce,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(ce){this._appendOnly=(0,f.Ig)(ce)}constructor(ce,me,yt,ze,Tt,Sn,dn,ii){super(ce,Sn,yt,Tt),this.elementRef=ce,this._changeDetectorRef=me,this._scrollStrategy=ze,this.scrollable=ii,this._platform=(0,O.f3M)(rt.t4),this._detachedSubject=new P.x,this._renderedRangeSubject=new P.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ae.y(Dt=>this._scrollStrategy.scrolledIndexChange.subscribe(st=>Promise.resolve().then(()=>this.ngZone.run(()=>Dt.next(st))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ye.w0.EMPTY,this._viewportChanges=dn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Ot.O)(null),Mt(0,xe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(ce){this.ngZone.runOutsideAngular(()=>{this._forOf=ce,this._forOf.dataStream.pipe((0,Vt.R)(this._detachedSubject)).subscribe(me=>{const yt=me.length;yt!==this._dataLength&&(this._dataLength=yt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(ce){return this.getElementRef().nativeElement.getBoundingClientRect()[ce]}setTotalContentSize(ce){this._totalContentSize!==ce&&(this._totalContentSize=ce,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(ce){(function Ct(Te,$e){return Te.start==$e.start&&Te.end==$e.end})(this._renderedRange,ce)||(this.appendOnly&&(ce={start:0,end:Math.max(this._renderedRange.end,ce.end)}),this._renderedRangeSubject.next(this._renderedRange=ce),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(ce,me="to-start"){ce=this.appendOnly&&"to-start"===me?0:ce;const ze="horizontal"==this.orientation,Tt=ze?"X":"Y";let dn=`translate${Tt}(${Number((ze&&this.dir&&"rtl"==this.dir.value?-1:1)*ce)}px)`;this._renderedContentOffset=ce,"to-end"===me&&(dn+=` translate${Tt}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=dn&&(this._renderedContentTransform=dn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(ce,me="auto"){const yt={behavior:me};"horizontal"===this.orientation?yt.start=ce:yt.top=ce,this.scrollable.scrollTo(yt)}scrollToIndex(ce,me="auto"){this._scrollStrategy.scrollToIndex(ce,me)}measureScrollOffset(ce){let me;return me=this.scrollable==this?yt=>super.measureScrollOffset(yt):yt=>this.scrollable.measureScrollOffset(yt),Math.max(0,me(ce??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(ce){let me;const Tt="rtl"==this.dir?.value;me="start"==ce?Tt?"right":"left":"end"==ce?Tt?"left":"right":ce||("horizontal"===this.orientation?"left":"top");const Sn=this.scrollable.measureBoundingClientRectWithScrollOffset(me);return this.elementRef.nativeElement.getBoundingClientRect()[me]-Sn}measureRenderedContentSize(){const ce=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?ce.offsetWidth:ce.offsetHeight}measureRangeSize(ce){return this._forOf?this._forOf.measureRangeSize(ce,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(ce){ce&&this._runAfterChangeDetection.push(ce),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const ce=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const me of ce)me()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return Te.\u0275fac=function(ce){return new(ce||Te)(O.Y36(O.SBq),O.Y36(O.sBO),O.Y36(O.R0b),O.Y36(He,8),O.Y36(Ne.Is,8),O.Y36(Pt),O.Y36(Xn),O.Y36(wt,8))},Te.\u0275cmp=O.Xpm({type:Te,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(ce,me){if(1&ce&&O.Gf(ht,7),2&ce){let yt;O.iGM(yt=O.CRH())&&(me._contentWrapper=yt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(ce,me){2&ce&&O.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===me.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==me.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[O._Bn([{provide:ln,useFactory:($e,ce)=>$e||ce,deps:[[new O.FiY,new O.tBr(wt)],Te]}]),O.qOj,O.jDz],ngContentSelectors:it,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(ce,me){1&ce&&(O.F$t(),O.TgZ(0,"div",0,1),O.Hsn(2),O.qZA(),O._UZ(3,"div",2)),2&ce&&(O.xp6(3),O.Udp("width",me._totalContentWidth)("height",me._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),Te})(),_t=(()=>{class Te{}return Te.\u0275fac=function(ce){return new(ce||Te)},Te.\u0275mod=O.oAB({type:Te}),Te.\u0275inj=O.cJS({}),Te})(),Yt=(()=>{class Te{}return Te.\u0275fac=function(ce){return new(ce||Te)},Te.\u0275mod=O.oAB({type:Te}),Te.\u0275inj=O.cJS({imports:[Ne.vT,_t,J,Ne.vT,_t]}),Te})()},9349:(vn,ot,x)=>{x.d(ot,{Ky:()=>ie,Lq:()=>je,aC:()=>ye});var f=x(3353),O=x(4650),P=x(1281),R=x(515),ae=x(7579);const Pe=(0,f.i$)({passive:!0});let je=(()=>{class ge{constructor(ke,Be){this._platform=ke,this._ngZone=Be,this._monitoredElements=new Map}monitor(ke){if(!this._platform.isBrowser)return R.E;const Be=(0,P.fI)(ke),Qe=this._monitoredElements.get(Be);if(Qe)return Qe.subject;const bt=new ae.x,et="cdk-text-field-autofilled",Ve=Me=>{"cdk-text-field-autofill-start"!==Me.animationName||Be.classList.contains(et)?"cdk-text-field-autofill-end"===Me.animationName&&Be.classList.contains(et)&&(Be.classList.remove(et),this._ngZone.run(()=>bt.next({target:Me.target,isAutofilled:!1}))):(Be.classList.add(et),this._ngZone.run(()=>bt.next({target:Me.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Be.addEventListener("animationstart",Ve,Pe),Be.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Be,{subject:bt,unlisten:()=>{Be.removeEventListener("animationstart",Ve,Pe)}}),bt}stopMonitoring(ke){const Be=(0,P.fI)(ke),Qe=this._monitoredElements.get(Be);Qe&&(Qe.unlisten(),Qe.subject.complete(),Be.classList.remove("cdk-text-field-autofill-monitored"),Be.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Be))}ngOnDestroy(){this._monitoredElements.forEach((ke,Be)=>this.stopMonitoring(Be))}}return ge.\u0275fac=function(ke){return new(ke||ge)(O.LFG(f.t4),O.LFG(O.R0b))},ge.\u0275prov=O.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),ye=(()=>{class ge{constructor(ke,Be){this._elementRef=ke,this._autofillMonitor=Be,this.cdkAutofill=new O.vpe}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(ke=>this.cdkAutofill.emit(ke))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}return ge.\u0275fac=function(ke){return new(ke||ge)(O.Y36(O.SBq),O.Y36(je))},ge.\u0275dir=O.lG2({type:ge,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),ge})(),ie=(()=>{class ge{}return ge.\u0275fac=function(ke){return new(ke||ge)},ge.\u0275mod=O.oAB({type:ge}),ge.\u0275inj=O.cJS({}),ge})()},6895:(vn,ot,x)=>{x.d(ot,{Do:()=>Me,EM:()=>la,HT:()=>R,JF:()=>Ic,K0:()=>Pe,Mn:()=>Bt,Mx:()=>ys,NF:()=>mo,O5:()=>vt,Ov:()=>Hs,PC:()=>Nr,PM:()=>us,RF:()=>Yn,S$:()=>bt,Tn:()=>Kt,UT:()=>Vt,V_:()=>Ge,Ye:()=>Ft,Zx:()=>La,ax:()=>hr,b0:()=>Ve,bD:()=>So,ez:()=>Os,mk:()=>ci,n9:()=>wi,ol:()=>Mt,p6:()=>ce,q:()=>P,rS:()=>zr,sg:()=>hr,tP:()=>Or,w_:()=>ae,x:()=>hn});var f=x(4650);let O=null;function P(){return O}function R(V){O||(O=V)}class ae{}const Pe=new f.OlP("DocumentToken");let je=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=f.Yz7({token:V,factory:function(){return function ye(){return(0,f.LFG)(ie)}()},providedIn:"platform"}),V})();const Ge=new f.OlP("Location Initialized");let ie=(()=>{class V extends je{constructor(H){super(),this._doc=H,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(H){const _e=P().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("popstate",H,!1),()=>_e.removeEventListener("popstate",H)}onHashChange(H){const _e=P().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("hashchange",H,!1),()=>_e.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,_e,Je){ge()?this._history.pushState(H,_e,Je):this._location.hash=Je}replaceState(H,_e,Je){ge()?this._history.replaceState(H,_e,Je):this._location.hash=Je}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return V.\u0275fac=function(H){return new(H||V)(f.LFG(Pe))},V.\u0275prov=f.Yz7({token:V,factory:function(){return function le(){return new ie((0,f.LFG)(Pe))}()},providedIn:"platform"}),V})();function ge(){return!!window.history.pushState}function ke(V,ee){if(0==V.length)return ee;if(0==ee.length)return V;let H=0;return V.endsWith("/")&&H++,ee.startsWith("/")&&H++,2==H?V+ee.substring(1):1==H?V+ee:V+"/"+ee}function Be(V){const ee=V.match(/#|\?|$/),H=ee&&ee.index||V.length;return V.slice(0,H-("/"===V[H-1]?1:0))+V.slice(H)}function Qe(V){return V&&"?"!==V[0]?"?"+V:V}let bt=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=f.Yz7({token:V,factory:function(){return(0,f.f3M)(Ve)},providedIn:"root"}),V})();const et=new f.OlP("appBaseHref");let Ve=(()=>{class V extends bt{constructor(H,_e){super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=_e??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return ke(this._baseHref,H)}path(H=!1){const _e=this._platformLocation.pathname+Qe(this._platformLocation.search),Je=this._platformLocation.hash;return Je&&H?`${_e}${Je}`:_e}pushState(H,_e,Je,rn){const bn=this.prepareExternalUrl(Je+Qe(rn));this._platformLocation.pushState(H,_e,bn)}replaceState(H,_e,Je,rn){const bn=this.prepareExternalUrl(Je+Qe(rn));this._platformLocation.replaceState(H,_e,bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return V.\u0275fac=function(H){return new(H||V)(f.LFG(je),f.LFG(et,8))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Me=(()=>{class V extends bt{constructor(H,_e){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=_e&&(this._baseHref=_e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let _e=this._platformLocation.hash;return null==_e&&(_e="#"),_e.length>0?_e.substring(1):_e}prepareExternalUrl(H){const _e=ke(this._baseHref,H);return _e.length>0?"#"+_e:_e}pushState(H,_e,Je,rn){let bn=this.prepareExternalUrl(Je+Qe(rn));0==bn.length&&(bn=this._platformLocation.pathname),this._platformLocation.pushState(H,_e,bn)}replaceState(H,_e,Je,rn){let bn=this.prepareExternalUrl(Je+Qe(rn));0==bn.length&&(bn=this._platformLocation.pathname),this._platformLocation.replaceState(H,_e,bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return V.\u0275fac=function(H){return new(H||V)(f.LFG(je),f.LFG(et,8))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})(),Ft=(()=>{class V{constructor(H){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const _e=this._locationStrategy.getBaseHref();this._basePath=function lt(V){if(new RegExp("^(https?:)?//").test(V)){const[,H]=V.split(/\/\/[^\/]+/);return H}return V}(Be(tt(_e))),this._locationStrategy.onPopState(Je=>{this._subject.emit({url:this.path(!0),pop:!0,state:Je.state,type:Je.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,_e=""){return this.path()==this.normalize(H+Qe(_e))}normalize(H){return V.stripTrailingSlash(function Re(V,ee){if(!V||!ee.startsWith(V))return ee;const H=ee.substring(V.length);return""===H||["/",";","?","#"].includes(H[0])?H:ee}(this._basePath,tt(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,_e="",Je=null){this._locationStrategy.pushState(Je,"",H,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Qe(_e)),Je)}replaceState(H,_e="",Je=null){this._locationStrategy.replaceState(Je,"",H,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Qe(_e)),Je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){this._locationStrategy.historyGo?.(H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(_e=>{this._notifyUrlChangeListeners(_e.url,_e.state)})),()=>{const _e=this._urlChangeListeners.indexOf(H);this._urlChangeListeners.splice(_e,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",_e){this._urlChangeListeners.forEach(Je=>Je(H,_e))}subscribe(H,_e,Je){return this._subject.subscribe({next:H,error:_e,complete:Je})}}return V.normalizeQueryParams=Qe,V.joinWithSlash=ke,V.stripTrailingSlash=Be,V.\u0275fac=function(H){return new(H||V)(f.LFG(bt))},V.\u0275prov=f.Yz7({token:V,factory:function(){return function Ye(){return new Ft((0,f.LFG)(bt))}()},providedIn:"root"}),V})();function tt(V){return V.replace(/\/index.html$/,"")}var Ze=(()=>((Ze=Ze||{})[Ze.Decimal=0]="Decimal",Ze[Ze.Percent=1]="Percent",Ze[Ze.Currency=2]="Currency",Ze[Ze.Scientific=3]="Scientific",Ze))(),hn=(()=>((hn=hn||{})[hn.Format=0]="Format",hn[hn.Standalone=1]="Standalone",hn))(),Kt=(()=>((Kt=Kt||{})[Kt.Narrow=0]="Narrow",Kt[Kt.Abbreviated=1]="Abbreviated",Kt[Kt.Wide=2]="Wide",Kt[Kt.Short=3]="Short",Kt))(),nn=(()=>((nn=nn||{})[nn.Short=0]="Short",nn[nn.Medium=1]="Medium",nn[nn.Long=2]="Long",nn[nn.Full=3]="Full",nn))(),mn=(()=>((mn=mn||{})[mn.Decimal=0]="Decimal",mn[mn.Group=1]="Group",mn[mn.List=2]="List",mn[mn.PercentSign=3]="PercentSign",mn[mn.PlusSign=4]="PlusSign",mn[mn.MinusSign=5]="MinusSign",mn[mn.Exponential=6]="Exponential",mn[mn.SuperscriptingExponent=7]="SuperscriptingExponent",mn[mn.PerMille=8]="PerMille",mn[mn.Infinity=9]="Infinity",mn[mn.NaN=10]="NaN",mn[mn.TimeSeparator=11]="TimeSeparator",mn[mn.CurrencyDecimal=12]="CurrencyDecimal",mn[mn.CurrencyGroup=13]="CurrencyGroup",mn))();function Mt(V,ee,H){const _e=(0,f.cg1)(V),rn=Ct([_e[f.wAp.DayPeriodsFormat],_e[f.wAp.DayPeriodsStandalone]],ee);return Ct(rn,H)}function Bt(V,ee,H){const _e=(0,f.cg1)(V),rn=Ct([_e[f.wAp.DaysFormat],_e[f.wAp.DaysStandalone]],ee);return Ct(rn,H)}function Vt(V,ee,H){const _e=(0,f.cg1)(V),rn=Ct([_e[f.wAp.MonthsFormat],_e[f.wAp.MonthsStandalone]],ee);return Ct(rn,H)}function Ne(V,ee){return Ct((0,f.cg1)(V)[f.wAp.DateFormat],ee)}function ht(V,ee){return Ct((0,f.cg1)(V)[f.wAp.TimeFormat],ee)}function it(V,ee){return Ct((0,f.cg1)(V)[f.wAp.DateTimeFormat],ee)}function He(V,ee){const H=(0,f.cg1)(V),_e=H[f.wAp.NumberSymbols][ee];if(typeof _e>"u"){if(ee===mn.CurrencyDecimal)return H[f.wAp.NumberSymbols][mn.Decimal];if(ee===mn.CurrencyGroup)return H[f.wAp.NumberSymbols][mn.Group]}return _e}function In(V){if(!V[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ct(V,ee){for(let H=ee;H>-1;H--)if(typeof V[H]<"u")return V[H];throw new Error("Locale data API: locale data undefined")}function xe(V){const[ee,H]=V.split(":");return{hours:+ee,minutes:+H}}const Rt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ht={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),Te=(()=>((Te=Te||{})[Te.FullYear=0]="FullYear",Te[Te.Month=1]="Month",Te[Te.Date=2]="Date",Te[Te.Hours=3]="Hours",Te[Te.Minutes=4]="Minutes",Te[Te.Seconds=5]="Seconds",Te[Te.FractionalSeconds=6]="FractionalSeconds",Te[Te.Day=7]="Day",Te))(),$e=(()=>(($e=$e||{})[$e.DayPeriods=0]="DayPeriods",$e[$e.Days=1]="Days",$e[$e.Months=2]="Months",$e[$e.Eras=3]="Eras",$e))();function ce(V,ee,H,_e){let Je=function fe(V){if(Fe(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[Je,rn=1,bn=1]=V.split("-").map(Bn=>+Bn);return me(Je,rn-1,bn)}const H=parseFloat(V);if(!isNaN(V-H))return new Date(H);let _e;if(_e=V.match(Rt))return function pt(V){const ee=new Date(0);let H=0,_e=0;const Je=V[8]?ee.setUTCFullYear:ee.setFullYear,rn=V[8]?ee.setUTCHours:ee.setHours;V[9]&&(H=Number(V[9]+V[10]),_e=Number(V[9]+V[11])),Je.call(ee,Number(V[1]),Number(V[2])-1,Number(V[3]));const bn=Number(V[4]||0)-H,Bn=Number(V[5]||0)-_e,er=Number(V[6]||0),Si=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return rn.call(ee,bn,Bn,er,Si),ee}(_e)}const ee=new Date(V);if(!Fe(ee))throw new Error(`Unable to convert "${V}" into a date`);return ee}(V);ee=yt(H,ee)||ee;let Bn,bn=[];for(;ee;){if(Bn=_t.exec(ee),!Bn){bn.push(ee);break}{bn=bn.concat(Bn.slice(1));const Gi=bn.pop();if(!Gi)break;ee=Gi}}let er=Je.getTimezoneOffset();_e&&(er=Le(_e,er),Je=function pe(V,ee,H){const _e=H?-1:1,Je=V.getTimezoneOffset();return function de(V,ee){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+ee),V}(V,_e*(Le(ee,Je)-Je))}(Je,_e,!0));let Si="";return bn.forEach(Gi=>{const Ni=function Ue(V){if(Jt[V])return Jt[V];let ee;switch(V){case"G":case"GG":case"GGG":ee=Dt($e.Eras,Kt.Abbreviated);break;case"GGGG":ee=Dt($e.Eras,Kt.Wide);break;case"GGGGG":ee=Dt($e.Eras,Kt.Narrow);break;case"y":ee=dn(Te.FullYear,1,0,!1,!0);break;case"yy":ee=dn(Te.FullYear,2,0,!0,!0);break;case"yyy":ee=dn(Te.FullYear,3,0,!1,!0);break;case"yyyy":ee=dn(Te.FullYear,4,0,!1,!0);break;case"Y":ee=Wt(1);break;case"YY":ee=Wt(2,!0);break;case"YYY":ee=Wt(3);break;case"YYYY":ee=Wt(4);break;case"M":case"L":ee=dn(Te.Month,1,1);break;case"MM":case"LL":ee=dn(Te.Month,2,1);break;case"MMM":ee=Dt($e.Months,Kt.Abbreviated);break;case"MMMM":ee=Dt($e.Months,Kt.Wide);break;case"MMMMM":ee=Dt($e.Months,Kt.Narrow);break;case"LLL":ee=Dt($e.Months,Kt.Abbreviated,hn.Standalone);break;case"LLLL":ee=Dt($e.Months,Kt.Wide,hn.Standalone);break;case"LLLLL":ee=Dt($e.Months,Kt.Narrow,hn.Standalone);break;case"w":ee=Se(1);break;case"ww":ee=Se(2);break;case"W":ee=Se(1,!0);break;case"d":ee=dn(Te.Date,1);break;case"dd":ee=dn(Te.Date,2);break;case"c":case"cc":ee=dn(Te.Day,1);break;case"ccc":ee=Dt($e.Days,Kt.Abbreviated,hn.Standalone);break;case"cccc":ee=Dt($e.Days,Kt.Wide,hn.Standalone);break;case"ccccc":ee=Dt($e.Days,Kt.Narrow,hn.Standalone);break;case"cccccc":ee=Dt($e.Days,Kt.Short,hn.Standalone);break;case"E":case"EE":case"EEE":ee=Dt($e.Days,Kt.Abbreviated);break;case"EEEE":ee=Dt($e.Days,Kt.Wide);break;case"EEEEE":ee=Dt($e.Days,Kt.Narrow);break;case"EEEEEE":ee=Dt($e.Days,Kt.Short);break;case"a":case"aa":case"aaa":ee=Dt($e.DayPeriods,Kt.Abbreviated);break;case"aaaa":ee=Dt($e.DayPeriods,Kt.Wide);break;case"aaaaa":ee=Dt($e.DayPeriods,Kt.Narrow);break;case"b":case"bb":case"bbb":ee=Dt($e.DayPeriods,Kt.Abbreviated,hn.Standalone,!0);break;case"bbbb":ee=Dt($e.DayPeriods,Kt.Wide,hn.Standalone,!0);break;case"bbbbb":ee=Dt($e.DayPeriods,Kt.Narrow,hn.Standalone,!0);break;case"B":case"BB":case"BBB":ee=Dt($e.DayPeriods,Kt.Abbreviated,hn.Format,!0);break;case"BBBB":ee=Dt($e.DayPeriods,Kt.Wide,hn.Format,!0);break;case"BBBBB":ee=Dt($e.DayPeriods,Kt.Narrow,hn.Format,!0);break;case"h":ee=dn(Te.Hours,1,-12);break;case"hh":ee=dn(Te.Hours,2,-12);break;case"H":ee=dn(Te.Hours,1);break;case"HH":ee=dn(Te.Hours,2);break;case"m":ee=dn(Te.Minutes,1);break;case"mm":ee=dn(Te.Minutes,2);break;case"s":ee=dn(Te.Seconds,1);break;case"ss":ee=dn(Te.Seconds,2);break;case"S":ee=dn(Te.FractionalSeconds,1);break;case"SS":ee=dn(Te.FractionalSeconds,2);break;case"SSS":ee=dn(Te.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=oe(Yt.Short);break;case"ZZZZZ":ee=oe(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=oe(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=oe(Yt.Long);break;default:return null}return Jt[V]=ee,ee}(Gi);Si+=Ni?Ni(Je,H,er):"''"===Gi?"'":Gi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Si}function me(V,ee,H){const _e=new Date(0);return _e.setFullYear(V,ee,H),_e.setHours(0,0,0),_e}function yt(V,ee){const H=function zt(V){return(0,f.cg1)(V)[f.wAp.LocaleId]}(V);if(Ht[H]=Ht[H]||{},Ht[H][ee])return Ht[H][ee];let _e="";switch(ee){case"shortDate":_e=Ne(V,nn.Short);break;case"mediumDate":_e=Ne(V,nn.Medium);break;case"longDate":_e=Ne(V,nn.Long);break;case"fullDate":_e=Ne(V,nn.Full);break;case"shortTime":_e=ht(V,nn.Short);break;case"mediumTime":_e=ht(V,nn.Medium);break;case"longTime":_e=ht(V,nn.Long);break;case"fullTime":_e=ht(V,nn.Full);break;case"short":const Je=yt(V,"shortTime"),rn=yt(V,"shortDate");_e=ze(it(V,nn.Short),[Je,rn]);break;case"medium":const bn=yt(V,"mediumTime"),Bn=yt(V,"mediumDate");_e=ze(it(V,nn.Medium),[bn,Bn]);break;case"long":const er=yt(V,"longTime"),Si=yt(V,"longDate");_e=ze(it(V,nn.Long),[er,Si]);break;case"full":const Gi=yt(V,"fullTime"),Ni=yt(V,"fullDate");_e=ze(it(V,nn.Full),[Gi,Ni])}return _e&&(Ht[H][ee]=_e),_e}function ze(V,ee){return ee&&(V=V.replace(/\{([^}]+)}/g,function(H,_e){return null!=ee&&_e in ee?ee[_e]:H})),V}function Tt(V,ee,H="-",_e,Je){let rn="";(V<0||Je&&V<=0)&&(Je?V=1-V:(V=-V,rn=H));let bn=String(V);for(;bn.length<ee;)bn="0"+bn;return _e&&(bn=bn.slice(bn.length-ee)),rn+bn}function dn(V,ee,H=0,_e=!1,Je=!1){return function(rn,bn){let Bn=function ii(V,ee){switch(V){case Te.FullYear:return ee.getFullYear();case Te.Month:return ee.getMonth();case Te.Date:return ee.getDate();case Te.Hours:return ee.getHours();case Te.Minutes:return ee.getMinutes();case Te.Seconds:return ee.getSeconds();case Te.FractionalSeconds:return ee.getMilliseconds();case Te.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,rn);if((H>0||Bn>-H)&&(Bn+=H),V===Te.Hours)0===Bn&&-12===H&&(Bn=12);else if(V===Te.FractionalSeconds)return function Sn(V,ee){return Tt(V,3).substring(0,ee)}(Bn,ee);const er=He(bn,mn.MinusSign);return Tt(Bn,ee,er,_e,Je)}}function Dt(V,ee,H=hn.Format,_e=!1){return function(Je,rn){return function st(V,ee,H,_e,Je,rn){switch(H){case $e.Months:return Vt(ee,Je,_e)[V.getMonth()];case $e.Days:return Bt(ee,Je,_e)[V.getDay()];case $e.DayPeriods:const bn=V.getHours(),Bn=V.getMinutes();if(rn){const Si=function Xn(V){const ee=(0,f.cg1)(V);return In(ee),(ee[f.wAp.ExtraData][2]||[]).map(_e=>"string"==typeof _e?xe(_e):[xe(_e[0]),xe(_e[1])])}(ee),Gi=function wt(V,ee,H){const _e=(0,f.cg1)(V);In(_e);const rn=Ct([_e[f.wAp.ExtraData][0],_e[f.wAp.ExtraData][1]],ee)||[];return Ct(rn,H)||[]}(ee,Je,_e),Ni=Si.findIndex(gn=>{if(Array.isArray(gn)){const[mi,pr]=gn,Ws=bn>=mi.hours&&Bn>=mi.minutes,Nn=bn<pr.hours||bn===pr.hours&&Bn<pr.minutes;if(mi.hours<pr.hours){if(Ws&&Nn)return!0}else if(Ws||Nn)return!0}else if(gn.hours===bn&&gn.minutes===Bn)return!0;return!1});if(-1!==Ni)return Gi[Ni]}return Mt(ee,Je,_e)[bn<12?0:1];case $e.Eras:return function Ot(V,ee){return Ct((0,f.cg1)(V)[f.wAp.Eras],ee)}(ee,_e)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${H}`)}}(Je,rn,V,ee,H,_e)}}function oe(V){return function(ee,H,_e){const Je=-1*_e,rn=He(H,mn.MinusSign),bn=Je>0?Math.floor(Je/60):Math.ceil(Je/60);switch(V){case Yt.Short:return(Je>=0?"+":"")+Tt(bn,2,rn)+Tt(Math.abs(Je%60),2,rn);case Yt.ShortGMT:return"GMT"+(Je>=0?"+":"")+Tt(bn,1,rn);case Yt.Long:return"GMT"+(Je>=0?"+":"")+Tt(bn,2,rn)+":"+Tt(Math.abs(Je%60),2,rn);case Yt.Extended:return 0===_e?"Z":(Je>=0?"+":"")+Tt(bn,2,rn)+":"+Tt(Math.abs(Je%60),2,rn);default:throw new Error(`Unknown zone width "${V}"`)}}}const q=0,N=4;function X(V){return me(V.getFullYear(),V.getMonth(),V.getDate()+(N-V.getDay()))}function Se(V,ee=!1){return function(H,_e){let Je;if(ee){const rn=new Date(H.getFullYear(),H.getMonth(),1).getDay()-1,bn=H.getDate();Je=1+Math.floor((bn+rn)/7)}else{const rn=X(H),bn=function $(V){const ee=me(V,q,1).getDay();return me(V,0,1+(ee<=N?N:N+7)-ee)}(rn.getFullYear()),Bn=rn.getTime()-bn.getTime();Je=1+Math.round(Bn/6048e5)}return Tt(Je,V,He(_e,mn.MinusSign))}}function Wt(V,ee=!1){return function(H,_e){return Tt(X(H).getFullYear(),V,He(_e,mn.MinusSign),ee)}}const Jt={};function Le(V,ee){V=V.replace(/:/g,"");const H=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(H)?ee:H}function Fe(V){return V instanceof Date&&!isNaN(V.valueOf())}const We=/^(\d+)?\.((\d+)(-(\d+))?)?$/,be=22,Xe=".",jt="0",fn=";",xn=",",Ln="#";function fi(V){const ee=parseInt(V);if(isNaN(ee))throw new Error("Invalid integer literal when parsing "+V);return ee}function ys(V,ee){ee=encodeURIComponent(ee);for(const H of V.split(";")){const _e=H.indexOf("="),[Je,rn]=-1==_e?[H,""]:[H.slice(0,_e),H.slice(_e+1)];if(Je.trim()===ee)return decodeURIComponent(rn)}return null}const Ki=/\s+/,On=[];let ci=(()=>{class V{constructor(H,_e,Je,rn){this._iterableDiffers=H,this._keyValueDiffers=_e,this._ngEl=Je,this._renderer=rn,this.initialClasses=On,this.stateMap=new Map}set klass(H){this.initialClasses=null!=H?H.trim().split(Ki):On}set ngClass(H){this.rawClass="string"==typeof H?H.trim().split(Ki):H}ngDoCheck(){for(const _e of this.initialClasses)this._updateState(_e,!0);const H=this.rawClass;if(Array.isArray(H)||H instanceof Set)for(const _e of H)this._updateState(_e,!0);else if(null!=H)for(const _e of Object.keys(H))this._updateState(_e,Boolean(H[_e]));this._applyStateDiff()}_updateState(H,_e){const Je=this.stateMap.get(H);void 0!==Je?(Je.enabled!==_e&&(Je.changed=!0,Je.enabled=_e),Je.touched=!0):this.stateMap.set(H,{enabled:_e,changed:!0,touched:!0})}_applyStateDiff(){for(const H of this.stateMap){const _e=H[0],Je=H[1];Je.changed?(this._toggleClass(_e,Je.enabled),Je.changed=!1):Je.touched||(Je.enabled&&this._toggleClass(_e,!1),this.stateMap.delete(_e)),Je.touched=!1}}_toggleClass(H,_e){(H=H.trim()).length>0&&H.split(Ki).forEach(Je=>{_e?this._renderer.addClass(this._ngEl.nativeElement,Je):this._renderer.removeClass(this._ngEl.nativeElement,Je)})}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),V})();class $i{constructor(ee,H,_e,Je){this.$implicit=ee,this.ngForOf=H,this.index=_e,this.count=Je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hr=(()=>{class V{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,_e,Je){this._viewContainer=H,this._template=_e,this._differs=Je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const _e=this._viewContainer;H.forEachOperation((Je,rn,bn)=>{if(null==Je.previousIndex)_e.createEmbeddedView(this._template,new $i(Je.item,this._ngForOf,-1,-1),null===bn?void 0:bn);else if(null==bn)_e.remove(null===rn?void 0:rn);else if(null!==rn){const Bn=_e.get(rn);_e.move(Bn,bn),ki(Bn,Je)}});for(let Je=0,rn=_e.length;Je<rn;Je++){const Bn=_e.get(Je).context;Bn.index=Je,Bn.count=rn,Bn.ngForOf=this._ngForOf}H.forEachIdentityChange(Je=>{ki(_e.get(Je.currentIndex),Je)})}static ngTemplateContextGuard(H,_e){return!0}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function ki(V,ee){V.context.$implicit=ee.item}let vt=(()=>{class V{constructor(H,_e){this._viewContainer=H,this._context=new Et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_e}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){pn("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){pn("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,_e){return!0}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.s_b),f.Y36(f.Rgc))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class Et{constructor(){this.$implicit=null,this.ngIf=null}}function pn(V,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,f.AaK)(ee)}'.`)}class Tn{constructor(ee,H){this._viewContainerRef=ee,this._templateRef=H,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ee){ee&&!this._created?this.create():!ee&&this._created&&this.destroy()}}let Yn=(()=>{class V{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(H){this._ngSwitch=H,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(H){this._defaultViews.push(H)}_matchCase(H){const _e=H==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||_e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),_e}_updateDefaultCases(H){if(this._defaultViews.length>0&&H!==this._defaultUsed){this._defaultUsed=H;for(const _e of this._defaultViews)_e.enforceState(H)}}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),V})(),wi=(()=>{class V{constructor(H,_e,Je){this.ngSwitch=Je,Je._addCase(),this._view=new Tn(H,_e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Yn,9))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),V})(),Nr=(()=>{class V{constructor(H,_e,Je){this._ngEl=H,this._differs=_e,this._renderer=Je,this._ngStyle=null,this._differ=null}set ngStyle(H){this._ngStyle=H,!this._differ&&H&&(this._differ=this._differs.find(H).create())}ngDoCheck(){if(this._differ){const H=this._differ.diff(this._ngStyle);H&&this._applyChanges(H)}}_setStyle(H,_e){const[Je,rn]=H.split("."),bn=-1===Je.indexOf("-")?void 0:f.JOm.DashCase;null!=_e?this._renderer.setStyle(this._ngEl.nativeElement,Je,rn?`${_e}${rn}`:_e,bn):this._renderer.removeStyle(this._ngEl.nativeElement,Je,bn)}_applyChanges(H){H.forEachRemovedItem(_e=>this._setStyle(_e.key,null)),H.forEachAddedItem(_e=>this._setStyle(_e.key,_e.currentValue)),H.forEachChangedItem(_e=>this._setStyle(_e.key,_e.currentValue))}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),V})(),Or=(()=>{class V{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(H.ngTemplateOutlet||H.ngTemplateOutletInjector){const _e=this._viewContainerRef;if(this._viewRef&&_e.remove(_e.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Je,ngTemplateOutletContext:rn,ngTemplateOutletInjector:bn}=this;this._viewRef=_e.createEmbeddedView(Je,rn,bn?{injector:bn}:void 0)}else this._viewRef=null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.s_b))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),V})();function Zr(V,ee){return new f.vHH(2100,!1)}class fo{createSubscription(ee,H){return ee.subscribe({next:H,error:_e=>{throw _e}})}dispose(ee){ee.unsubscribe()}}class js{createSubscription(ee,H){return ee.then(H,_e=>{throw _e})}dispose(ee){}}const Uo=new js,Ms=new fo;let Hs=(()=>{class V{constructor(H){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=H}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,_e=>this._updateLatestValue(H,_e))}_selectStrategy(H){if((0,f.QGY)(H))return Uo;if((0,f.F4k)(H))return Ms;throw Zr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,_e){H===this._obj&&(this._latestValue=_e,this._ref.markForCheck())}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.sBO,16))},V.\u0275pipe=f.Yjl({name:"async",type:V,pure:!1,standalone:!0}),V})();const wa=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let zr=(()=>{class V{transform(H){if(null==H)return null;if("string"!=typeof H)throw Zr();return H.replace(wa,_e=>_e[0].toUpperCase()+_e.slice(1).toLowerCase())}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275pipe=f.Yjl({name:"titlecase",type:V,pure:!0,standalone:!0}),V})(),La=(()=>{class V{constructor(H){this._locale=H}transform(H,_e,Je){if(!function To(V){return!(null==V||""===V||V!=V)}(H))return null;Je=Je||this._locale;try{return function Cn(V,ee,H){return function tn(V,ee,H,_e,Je,rn,bn=!1){let Bn="",er=!1;if(isFinite(V)){let Si=function Wn(V){let _e,Je,rn,bn,Bn,ee=Math.abs(V)+"",H=0;for((Je=ee.indexOf(Xe))>-1&&(ee=ee.replace(Xe,"")),(rn=ee.search(/e/i))>0?(Je<0&&(Je=rn),Je+=+ee.slice(rn+1),ee=ee.substring(0,rn)):Je<0&&(Je=ee.length),rn=0;ee.charAt(rn)===jt;rn++);if(rn===(Bn=ee.length))_e=[0],Je=1;else{for(Bn--;ee.charAt(Bn)===jt;)Bn--;for(Je-=rn,_e=[],bn=0;rn<=Bn;rn++,bn++)_e[bn]=Number(ee.charAt(rn))}return Je>be&&(_e=_e.splice(0,be-1),H=Je-1,Je=1),{digits:_e,exponent:H,integerLen:Je}}(V);bn&&(Si=function gi(V){if(0===V.digits[0])return V;const ee=V.digits.length-V.integerLen;return V.exponent?V.exponent+=2:(0===ee?V.digits.push(0,0):1===ee&&V.digits.push(0),V.integerLen+=2),V}(Si));let Gi=ee.minInt,Ni=ee.minFrac,gn=ee.maxFrac;if(rn){const ms=rn.match(We);if(null===ms)throw new Error(`${rn} is not a valid digit info`);const Rn=ms[1],qt=ms[3],En=ms[5];null!=Rn&&(Gi=fi(Rn)),null!=qt&&(Ni=fi(qt)),null!=En?gn=fi(En):null!=qt&&Ni>gn&&(gn=Ni)}!function Vi(V,ee,H){if(ee>H)throw new Error(`The minimum number of digits after fraction (${ee}) is higher than the maximum (${H}).`);let _e=V.digits,Je=_e.length-V.integerLen;const rn=Math.min(Math.max(ee,Je),H);let bn=rn+V.integerLen,Bn=_e[bn];if(bn>0){_e.splice(Math.max(V.integerLen,bn));for(let Ni=bn;Ni<_e.length;Ni++)_e[Ni]=0}else{Je=Math.max(0,Je),V.integerLen=1,_e.length=Math.max(1,bn=rn+1),_e[0]=0;for(let Ni=1;Ni<bn;Ni++)_e[Ni]=0}if(Bn>=5)if(bn-1<0){for(let Ni=0;Ni>bn;Ni--)_e.unshift(0),V.integerLen++;_e.unshift(1),V.integerLen++}else _e[bn-1]++;for(;Je<Math.max(0,rn);Je++)_e.push(0);let er=0!==rn;const Si=ee+V.integerLen,Gi=_e.reduceRight(function(Ni,gn,mi,pr){return pr[mi]=(gn+=Ni)<10?gn:gn-10,er&&(0===pr[mi]&&mi>=Si?pr.pop():er=!1),gn>=10?1:0},0);Gi&&(_e.unshift(Gi),V.integerLen++)}(Si,Ni,gn);let mi=Si.digits,pr=Si.integerLen;const Ws=Si.exponent;let Nn=[];for(er=mi.every(ms=>!ms);pr<Gi;pr++)mi.unshift(0);for(;pr<0;pr++)mi.unshift(0);pr>0?Nn=mi.splice(pr,mi.length):(Nn=mi,mi=[0]);const Zn=[];for(mi.length>=ee.lgSize&&Zn.unshift(mi.splice(-ee.lgSize,mi.length).join(""));mi.length>ee.gSize;)Zn.unshift(mi.splice(-ee.gSize,mi.length).join(""));mi.length&&Zn.unshift(mi.join("")),Bn=Zn.join(He(H,_e)),Nn.length&&(Bn+=He(H,Je)+Nn.join("")),Ws&&(Bn+=He(H,mn.Exponential)+"+"+Ws)}else Bn=He(H,mn.Infinity);return Bn=V<0&&!er?ee.negPre+Bn+ee.negSuf:ee.posPre+Bn+ee.posSuf,Bn}(V,function Qn(V,ee="-"){const H={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},_e=V.split(fn),Je=_e[0],rn=_e[1],bn=-1!==Je.indexOf(Xe)?Je.split(Xe):[Je.substring(0,Je.lastIndexOf(jt)+1),Je.substring(Je.lastIndexOf(jt)+1)],Bn=bn[0],er=bn[1]||"";H.posPre=Bn.substring(0,Bn.indexOf(Ln));for(let Gi=0;Gi<er.length;Gi++){const Ni=er.charAt(Gi);Ni===jt?H.minFrac=H.maxFrac=Gi+1:Ni===Ln?H.maxFrac=Gi+1:H.posSuf+=Ni}const Si=Bn.split(xn);if(H.gSize=Si[1]?Si[1].length:0,H.lgSize=Si[2]||Si[1]?(Si[2]||Si[1]).length:0,rn){const Gi=Je.length-H.posPre.length-H.posSuf.length,Ni=rn.indexOf(Ln);H.negPre=rn.substring(0,Ni).replace(/'/g,""),H.negSuf=rn.slice(Ni+Gi).replace(/'/g,"")}else H.negPre=ee+H.posPre,H.negSuf=H.posSuf;return H}(function mt(V,ee){return(0,f.cg1)(V)[f.wAp.NumberFormats][ee]}(ee,Ze.Percent),He(ee,mn.MinusSign)),ee,mn.Group,mn.Decimal,H,!0).replace(new RegExp("%","g"),He(ee,mn.PercentSign))}(function Is(V){if("string"==typeof V&&!isNaN(Number(V)-parseFloat(V)))return Number(V);if("number"!=typeof V)throw new Error(`${V} is not a number`);return V}(H),Je,_e)}catch(rn){throw Zr()}}}return V.\u0275fac=function(H){return new(H||V)(f.Y36(f.soG,16))},V.\u0275pipe=f.Yjl({name:"percent",type:V,pure:!0,standalone:!0}),V})();let Os=(()=>{class V{}return V.\u0275fac=function(H){return new(H||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({}),V})();const So="browser",Ps="server";function mo(V){return V===So}function us(V){return V===Ps}let la=(()=>{class V{}return V.\u0275prov=(0,f.Yz7)({token:V,providedIn:"root",factory:()=>new Ia((0,f.LFG)(Pe),window)}),V})();class Ia{constructor(ee,H){this.document=ee,this.window=H,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const H=function Da(V,ee){const H=V.getElementById(ee)||V.getElementsByName(ee)[0];if(H)return H;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const _e=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Je=_e.currentNode;for(;Je;){const rn=Je.shadowRoot;if(rn){const bn=rn.getElementById(ee)||rn.querySelector(`[name="${ee}"]`);if(bn)return bn}Je=_e.nextNode()}}return null}(this.document,ee);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=ee)}}scrollToElement(ee){const H=ee.getBoundingClientRect(),_e=H.left+this.window.pageXOffset,Je=H.top+this.window.pageYOffset,rn=this.offset();this.window.scrollTo(_e-rn[0],Je-rn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=$s(this.window.history)||$s(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $s(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Ic{}},529:(vn,ot,x)=>{x.d(ot,{JF:()=>oe,LE:()=>Ve,eN:()=>zt});var f=x(6895),O=x(4650),P=x(9646),R=x(9751),ae=x(4351),Pe=x(9300),je=x(4004);class ye{}class Ge{}class ie{constructor(X){this.normalizedNames=new Map,this.lazyUpdate=null,X?this.lazyInit="string"==typeof X?()=>{this.headers=new Map,X.split("\n").forEach(Se=>{const Wt=Se.indexOf(":");if(Wt>0){const Jt=Se.slice(0,Wt),Ue=Jt.toLowerCase(),Le=Se.slice(Wt+1).trim();this.maybeSetNormalizedName(Jt,Ue),this.headers.has(Ue)?this.headers.get(Ue).push(Le):this.headers.set(Ue,[Le])}})}:()=>{this.headers=new Map,Object.entries(X).forEach(([Se,Wt])=>{let Jt;if(Jt="string"==typeof Wt?[Wt]:"number"==typeof Wt?[Wt.toString()]:Wt.map(Ue=>Ue.toString()),Jt.length>0){const Ue=Se.toLowerCase();this.headers.set(Ue,Jt),this.maybeSetNormalizedName(Se,Ue)}})}:this.headers=new Map}has(X){return this.init(),this.headers.has(X.toLowerCase())}get(X){this.init();const Se=this.headers.get(X.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(X){return this.init(),this.headers.get(X.toLowerCase())||null}append(X,Se){return this.clone({name:X,value:Se,op:"a"})}set(X,Se){return this.clone({name:X,value:Se,op:"s"})}delete(X,Se){return this.clone({name:X,value:Se,op:"d"})}maybeSetNormalizedName(X,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,X)}init(){this.lazyInit&&(this.lazyInit instanceof ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(X=>this.applyUpdate(X)),this.lazyUpdate=null))}copyFrom(X){X.init(),Array.from(X.headers.keys()).forEach(Se=>{this.headers.set(Se,X.headers.get(Se)),this.normalizedNames.set(Se,X.normalizedNames.get(Se))})}clone(X){const Se=new ie;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof ie?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([X]),Se}applyUpdate(X){const Se=X.name.toLowerCase();switch(X.op){case"a":case"s":let Wt=X.value;if("string"==typeof Wt&&(Wt=[Wt]),0===Wt.length)return;this.maybeSetNormalizedName(X.name,Se);const Jt=("a"===X.op?this.headers.get(Se):void 0)||[];Jt.push(...Wt),this.headers.set(Se,Jt);break;case"d":const Ue=X.value;if(Ue){let Le=this.headers.get(Se);if(!Le)return;Le=Le.filter(de=>-1===Ue.indexOf(de)),0===Le.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,Le)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}forEach(X){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>X(this.normalizedNames.get(Se),this.headers.get(Se)))}}class le{encodeKey(X){return bt(X)}encodeValue(X){return bt(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}const Be=/%(\d[a-f0-9])/gi,Qe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt($){return encodeURIComponent($).replace(Be,(X,Se)=>Qe[Se]??X)}function et($){return`${$}`}class Ve{constructor(X={}){if(this.updates=null,this.cloneFrom=null,this.encoder=X.encoder||new le,X.fromString){if(X.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ke($,X){const Se=new Map;return $.length>0&&$.replace(/^\?/,"").split("&").forEach(Jt=>{const Ue=Jt.indexOf("="),[Le,de]=-1==Ue?[X.decodeKey(Jt),""]:[X.decodeKey(Jt.slice(0,Ue)),X.decodeValue(Jt.slice(Ue+1))],pe=Se.get(Le)||[];pe.push(de),Se.set(Le,pe)}),Se}(X.fromString,this.encoder)}else X.fromObject?(this.map=new Map,Object.keys(X.fromObject).forEach(Se=>{const Wt=X.fromObject[Se],Jt=Array.isArray(Wt)?Wt.map(et):[et(Wt)];this.map.set(Se,Jt)})):this.map=null}has(X){return this.init(),this.map.has(X)}get(X){this.init();const Se=this.map.get(X);return Se?Se[0]:null}getAll(X){return this.init(),this.map.get(X)||null}keys(){return this.init(),Array.from(this.map.keys())}append(X,Se){return this.clone({param:X,value:Se,op:"a"})}appendAll(X){const Se=[];return Object.keys(X).forEach(Wt=>{const Jt=X[Wt];Array.isArray(Jt)?Jt.forEach(Ue=>{Se.push({param:Wt,value:Ue,op:"a"})}):Se.push({param:Wt,value:Jt,op:"a"})}),this.clone(Se)}set(X,Se){return this.clone({param:X,value:Se,op:"s"})}delete(X,Se){return this.clone({param:X,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(X=>{const Se=this.encoder.encodeKey(X);return this.map.get(X).map(Wt=>Se+"="+this.encoder.encodeValue(Wt)).join("&")}).filter(X=>""!==X).join("&")}clone(X){const Se=new Ve({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(X),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(X=>this.map.set(X,this.cloneFrom.map.get(X))),this.updates.forEach(X=>{switch(X.op){case"a":case"s":const Se=("a"===X.op?this.map.get(X.param):void 0)||[];Se.push(et(X.value)),this.map.set(X.param,Se);break;case"d":if(void 0===X.value){this.map.delete(X.param);break}{let Wt=this.map.get(X.param)||[];const Jt=Wt.indexOf(et(X.value));-1!==Jt&&Wt.splice(Jt,1),Wt.length>0?this.map.set(X.param,Wt):this.map.delete(X.param)}}}),this.cloneFrom=this.updates=null)}}class Ft{constructor(){this.map=new Map}set(X,Se){return this.map.set(X,Se),this}get(X){return this.map.has(X)||this.map.set(X,X.defaultValue()),this.map.get(X)}delete(X){return this.map.delete(X),this}has(X){return this.map.has(X)}keys(){return this.map.keys()}}function Re($){return typeof ArrayBuffer<"u"&&$ instanceof ArrayBuffer}function tt($){return typeof Blob<"u"&&$ instanceof Blob}function lt($){return typeof FormData<"u"&&$ instanceof FormData}class Ze{constructor(X,Se,Wt,Jt){let Ue;if(this.url=Se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=X.toUpperCase(),function Ye($){switch($){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Jt?(this.body=void 0!==Wt?Wt:null,Ue=Jt):Ue=Wt,Ue&&(this.reportProgress=!!Ue.reportProgress,this.withCredentials=!!Ue.withCredentials,Ue.responseType&&(this.responseType=Ue.responseType),Ue.headers&&(this.headers=Ue.headers),Ue.context&&(this.context=Ue.context),Ue.params&&(this.params=Ue.params)),this.headers||(this.headers=new ie),this.context||(this.context=new Ft),this.params){const Le=this.params.toString();if(0===Le.length)this.urlWithParams=Se;else{const de=Se.indexOf("?");this.urlWithParams=Se+(-1===de?"?":de<Se.length-1?"&":"")+Le}}else this.params=new Ve,this.urlWithParams=Se}serializeBody(){return null===this.body?null:Re(this.body)||tt(this.body)||lt(this.body)||function nt($){return typeof URLSearchParams<"u"&&$ instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lt(this.body)?null:tt(this.body)?this.body.type||null:Re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(X={}){const Se=X.method||this.method,Wt=X.url||this.url,Jt=X.responseType||this.responseType,Ue=void 0!==X.body?X.body:this.body,Le=void 0!==X.withCredentials?X.withCredentials:this.withCredentials,de=void 0!==X.reportProgress?X.reportProgress:this.reportProgress;let pe=X.headers||this.headers,fe=X.params||this.params;const pt=X.context??this.context;return void 0!==X.setHeaders&&(pe=Object.keys(X.setHeaders).reduce((Fe,We)=>Fe.set(We,X.setHeaders[We]),pe)),X.setParams&&(fe=Object.keys(X.setParams).reduce((Fe,We)=>Fe.set(We,X.setParams[We]),fe)),new Ze(Se,Wt,Ue,{params:fe,headers:pe,context:pt,reportProgress:de,responseType:Jt,withCredentials:Le})}}var Ut=(()=>((Ut=Ut||{})[Ut.Sent=0]="Sent",Ut[Ut.UploadProgress=1]="UploadProgress",Ut[Ut.ResponseHeader=2]="ResponseHeader",Ut[Ut.DownloadProgress=3]="DownloadProgress",Ut[Ut.Response=4]="Response",Ut[Ut.User=5]="User",Ut))();class hn{constructor(X,Se=200,Wt="OK"){this.headers=X.headers||new ie,this.status=void 0!==X.status?X.status:Se,this.statusText=X.statusText||Wt,this.url=X.url||null,this.ok=this.status>=200&&this.status<300}}class Kt extends hn{constructor(X={}){super(X),this.type=Ut.ResponseHeader}clone(X={}){return new Kt({headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class nn extends hn{constructor(X={}){super(X),this.type=Ut.Response,this.body=void 0!==X.body?X.body:null}clone(X={}){return new nn({body:void 0!==X.body?X.body:this.body,headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class mn extends hn{constructor(X){super(X,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${X.url||"(unknown url)"}`:`Http failure response for ${X.url||"(unknown url)"}: ${X.status} ${X.statusText}`,this.error=X.error||null}}function ai($,X){return{body:X,headers:$.headers,context:$.context,observe:$.observe,params:$.params,reportProgress:$.reportProgress,responseType:$.responseType,withCredentials:$.withCredentials}}let zt=(()=>{class ${constructor(Se){this.handler=Se}request(Se,Wt,Jt={}){let Ue;if(Se instanceof Ze)Ue=Se;else{let pe,fe;pe=Jt.headers instanceof ie?Jt.headers:new ie(Jt.headers),Jt.params&&(fe=Jt.params instanceof Ve?Jt.params:new Ve({fromObject:Jt.params})),Ue=new Ze(Se,Wt,void 0!==Jt.body?Jt.body:null,{headers:pe,context:Jt.context,params:fe,reportProgress:Jt.reportProgress,responseType:Jt.responseType||"json",withCredentials:Jt.withCredentials})}const Le=(0,P.of)(Ue).pipe((0,ae.b)(pe=>this.handler.handle(pe)));if(Se instanceof Ze||"events"===Jt.observe)return Le;const de=Le.pipe((0,Pe.h)(pe=>pe instanceof nn));switch(Jt.observe||"body"){case"body":switch(Ue.responseType){case"arraybuffer":return de.pipe((0,je.U)(pe=>{if(null!==pe.body&&!(pe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pe.body}));case"blob":return de.pipe((0,je.U)(pe=>{if(null!==pe.body&&!(pe.body instanceof Blob))throw new Error("Response is not a Blob.");return pe.body}));case"text":return de.pipe((0,je.U)(pe=>{if(null!==pe.body&&"string"!=typeof pe.body)throw new Error("Response is not a string.");return pe.body}));default:return de.pipe((0,je.U)(pe=>pe.body))}case"response":return de;default:throw new Error(`Unreachable: unhandled observe type ${Jt.observe}}`)}}delete(Se,Wt={}){return this.request("DELETE",Se,Wt)}get(Se,Wt={}){return this.request("GET",Se,Wt)}head(Se,Wt={}){return this.request("HEAD",Se,Wt)}jsonp(Se,Wt){return this.request("JSONP",Se,{params:(new Ve).append(Wt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,Wt={}){return this.request("OPTIONS",Se,Wt)}patch(Se,Wt,Jt={}){return this.request("PATCH",Se,ai(Jt,Wt))}post(Se,Wt,Jt={}){return this.request("POST",Se,ai(Jt,Wt))}put(Se,Wt,Jt={}){return this.request("PUT",Se,ai(Jt,Wt))}}return $.\u0275fac=function(Se){return new(Se||$)(O.LFG(ye))},$.\u0275prov=O.Yz7({token:$,factory:$.\u0275fac}),$})();function Mt($,X){return X($)}function Bt($,X){return(Se,Wt)=>X.intercept(Se,{handle:Jt=>$(Jt,Wt)})}const Ot=new O.OlP("HTTP_INTERCEPTORS"),rt=new O.OlP("HTTP_INTERCEPTOR_FNS");function dt(){let $=null;return(X,Se)=>(null===$&&($=((0,O.f3M)(Ot,{optional:!0})??[]).reduceRight(Bt,Mt)),$(X,Se))}let Ne=(()=>{class $ extends ye{constructor(Se,Wt){super(),this.backend=Se,this.injector=Wt,this.chain=null}handle(Se){if(null===this.chain){const Wt=Array.from(new Set(this.injector.get(rt)));this.chain=Wt.reduceRight((Jt,Ue)=>function Vt($,X,Se){return(Wt,Jt)=>Se.runInContext(()=>X(Wt,Ue=>$(Ue,Jt)))}(Jt,Ue,this.injector),Mt)}return this.chain(Se,Wt=>this.backend.handle(Wt))}}return $.\u0275fac=function(Se){return new(Se||$)(O.LFG(Ge),O.LFG(O.lqb))},$.\u0275prov=O.Yz7({token:$,factory:$.\u0275fac}),$})();const wt=/^\)\]\}',?\n/;let Ct=(()=>{class ${constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new R.y(Wt=>{const Jt=this.xhrFactory.build();if(Jt.open(Se.method,Se.urlWithParams),Se.withCredentials&&(Jt.withCredentials=!0),Se.headers.forEach((be,Xe)=>Jt.setRequestHeader(be,Xe.join(","))),Se.headers.has("Accept")||Jt.setRequestHeader("Accept","application/json, text/plain, */*"),!Se.headers.has("Content-Type")){const be=Se.detectContentTypeHeader();null!==be&&Jt.setRequestHeader("Content-Type",be)}if(Se.responseType){const be=Se.responseType.toLowerCase();Jt.responseType="json"!==be?be:"text"}const Ue=Se.serializeBody();let Le=null;const de=()=>{if(null!==Le)return Le;const be=Jt.statusText||"OK",Xe=new ie(Jt.getAllResponseHeaders()),jt=function ct($){return"responseURL"in $&&$.responseURL?$.responseURL:/^X-Request-URL:/m.test($.getAllResponseHeaders())?$.getResponseHeader("X-Request-URL"):null}(Jt)||Se.url;return Le=new Kt({headers:Xe,status:Jt.status,statusText:be,url:jt}),Le},pe=()=>{let{headers:be,status:Xe,statusText:jt,url:fn}=de(),xn=null;204!==Xe&&(xn=typeof Jt.response>"u"?Jt.responseText:Jt.response),0===Xe&&(Xe=xn?200:0);let Ln=Xe>=200&&Xe<300;if("json"===Se.responseType&&"string"==typeof xn){const yi=xn;xn=xn.replace(wt,"");try{xn=""!==xn?JSON.parse(xn):null}catch(rr){xn=yi,Ln&&(Ln=!1,xn={error:rr,text:xn})}}Ln?(Wt.next(new nn({body:xn,headers:be,status:Xe,statusText:jt,url:fn||void 0})),Wt.complete()):Wt.error(new mn({error:xn,headers:be,status:Xe,statusText:jt,url:fn||void 0}))},fe=be=>{const{url:Xe}=de(),jt=new mn({error:be,status:Jt.status||0,statusText:Jt.statusText||"Unknown Error",url:Xe||void 0});Wt.error(jt)};let pt=!1;const Fe=be=>{pt||(Wt.next(de()),pt=!0);let Xe={type:Ut.DownloadProgress,loaded:be.loaded};be.lengthComputable&&(Xe.total=be.total),"text"===Se.responseType&&Jt.responseText&&(Xe.partialText=Jt.responseText),Wt.next(Xe)},We=be=>{let Xe={type:Ut.UploadProgress,loaded:be.loaded};be.lengthComputable&&(Xe.total=be.total),Wt.next(Xe)};return Jt.addEventListener("load",pe),Jt.addEventListener("error",fe),Jt.addEventListener("timeout",fe),Jt.addEventListener("abort",fe),Se.reportProgress&&(Jt.addEventListener("progress",Fe),null!==Ue&&Jt.upload&&Jt.upload.addEventListener("progress",We)),Jt.send(Ue),Wt.next({type:Ut.Sent}),()=>{Jt.removeEventListener("error",fe),Jt.removeEventListener("abort",fe),Jt.removeEventListener("load",pe),Jt.removeEventListener("timeout",fe),Se.reportProgress&&(Jt.removeEventListener("progress",Fe),null!==Ue&&Jt.upload&&Jt.upload.removeEventListener("progress",We)),Jt.readyState!==Jt.DONE&&Jt.abort()}})}}return $.\u0275fac=function(Se){return new(Se||$)(O.LFG(f.JF))},$.\u0275prov=O.Yz7({token:$,factory:$.\u0275fac}),$})();const xe=new O.OlP("XSRF_ENABLED"),Ae=new O.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rt=new O.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ht{}let _t=(()=>{class ${constructor(Se,Wt,Jt){this.doc=Se,this.platform=Wt,this.cookieName=Jt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}}return $.\u0275fac=function(Se){return new(Se||$)(O.LFG(f.K0),O.LFG(O.Lbi),O.LFG(Ae))},$.\u0275prov=O.Yz7({token:$,factory:$.\u0275fac}),$})();function Yt($,X){const Se=$.url.toLowerCase();if(!(0,O.f3M)(xe)||"GET"===$.method||"HEAD"===$.method||Se.startsWith("http://")||Se.startsWith("https://"))return X($);const Wt=(0,O.f3M)(Ht).getToken(),Jt=(0,O.f3M)(Rt);return null!=Wt&&!$.headers.has(Jt)&&($=$.clone({headers:$.headers.set(Jt,Wt)})),X($)}var $e=(()=>(($e=$e||{})[$e.Interceptors=0]="Interceptors",$e[$e.LegacyInterceptors=1]="LegacyInterceptors",$e[$e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",$e[$e.NoXsrfProtection=3]="NoXsrfProtection",$e[$e.JsonpSupport=4]="JsonpSupport",$e[$e.RequestsMadeViaParent=5]="RequestsMadeViaParent",$e))();function ce($,X){return{\u0275kind:$,\u0275providers:X}}function me(...$){const X=[zt,Ct,Ne,{provide:ye,useExisting:Ne},{provide:Ge,useExisting:Ct},{provide:rt,useValue:Yt,multi:!0},{provide:xe,useValue:!0},{provide:Ht,useClass:_t}];for(const Se of $)X.push(...Se.\u0275providers);return(0,O.MR2)(X)}const ze=new O.OlP("LEGACY_INTERCEPTOR_FN");let oe=(()=>{class ${}return $.\u0275fac=function(Se){return new(Se||$)},$.\u0275mod=O.oAB({type:$}),$.\u0275inj=O.cJS({providers:[me(ce($e.LegacyInterceptors,[{provide:ze,useFactory:dt},{provide:rt,useExisting:ze,multi:!0}]))]}),$})()},4650:(vn,ot,x)=>{x.d(ot,{$8M:()=>eu,$WT:()=>_r,$Z:()=>Bd,AFp:()=>sb,ALo:()=>x0,AaK:()=>ye,AsE:()=>Jr,BQk:()=>Np,CHM:()=>Xs,CRH:()=>F0,CZH:()=>$y,CqO:()=>Uh,D6c:()=>Aw,DdM:()=>_0,EJc:()=>WE,EiD:()=>pl,EpF:()=>Vh,F$t:()=>U_,F4k:()=>Wg,FYo:()=>Eh,FiY:()=>kl,Gf:()=>k0,GfV:()=>lf,GkF:()=>Fp,Gpc:()=>ge,Hsn:()=>z_,Ikx:()=>qm,JOm:()=>ya,JVY:()=>Yp,JZr:()=>bt,Jf7:()=>ip,KtG:()=>Sr,L6k:()=>Qh,LAX:()=>y_,LFG:()=>oe,LMc:()=>Ow,LSH:()=>Id,Lbi:()=>zE,Lck:()=>zb,MAs:()=>Pp,MGl:()=>Lf,MMx:()=>Iv,MR2:()=>tf,MT6:()=>wc,NdJ:()=>Vm,O4$:()=>io,OlP:()=>Pi,Oqu:()=>Kr,P3R:()=>pu,PXZ:()=>ow,Q6J:()=>jg,QGY:()=>Nf,QbO:()=>jE,Qsj:()=>um,QtT:()=>Cs,R0b:()=>od,RDi:()=>Qr,Rgc:()=>iy,SBq:()=>fc,SDv:()=>ar,Sil:()=>KE,Suo:()=>N0,TTD:()=>Ua,TgZ:()=>kf,Tol:()=>r_,Udp:()=>El,VKq:()=>y0,W1O:()=>U0,WFA:()=>zh,WLB:()=>v0,X6Q:()=>dw,XFs:()=>xe,Xpm:()=>Ln,Xts:()=>Jo,Y36:()=>Ku,YKP:()=>l0,YNc:()=>Lm,Yjl:()=>gi,Yz7:()=>He,Z0I:()=>Ke,ZZ4:()=>Zv,_Bn:()=>a0,_UZ:()=>$g,_Vd:()=>af,_c5:()=>Tw,_uU:()=>vr,aQg:()=>qv,c2e:()=>HE,cJS:()=>gt,cg1:()=>Cy,d8E:()=>Vf,dDg:()=>nw,dqk:()=>_t,eBb:()=>__,eFA:()=>yb,eJc:()=>Rv,ekj:()=>Wm,eoX:()=>pb,evT:()=>Md,f3M:()=>N,g9A:()=>ab,h0i:()=>p_,hGG:()=>Sw,hij:()=>Us,iGM:()=>R0,ifc:()=>pe,ip1:()=>rb,jDz:()=>u0,kEZ:()=>b0,kL8:()=>Dy,kcU:()=>Ha,lG2:()=>Qn,lcZ:()=>T0,lqb:()=>ml,lri:()=>hb,mCW:()=>fh,n5z:()=>Ml,n_E:()=>Vy,oAB:()=>$t,oxw:()=>V_,pB0:()=>ao,pQV:()=>co,q3G:()=>qi,q4F:()=>wh,qLn:()=>Wu,qOj:()=>Lh,qZA:()=>kp,qzn:()=>kc,rWj:()=>fb,s9C:()=>Ff,sBO:()=>hw,s_b:()=>zy,soG:()=>Wy,tBr:()=>tu,tb:()=>gb,tp0:()=>Tc,uIk:()=>Nm,uOi:()=>jl,vHH:()=>et,vpe:()=>Kh,wAp:()=>Mi,xp6:()=>_g,ynx:()=>Gd,z2F:()=>Gy,z3N:()=>Za,zSh:()=>Xf,zW0:()=>Sp,zs3:()=>Uc});var f=x(7579),O=x(727),P=x(9751),R=x(6451),ae=x(3099);function Pe(n){for(let r in n)if(n[r]===Pe)return r;throw Error("Could not find renamed property on target object.")}function je(n,r){for(const l in r)r.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=r[l])}function ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const l=r.indexOf("\n");return-1===l?r:r.substring(0,l)}function Ge(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ie=Pe({__forward_ref__:Pe});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return ye(this())},n}function le(n){return ke(n)?n():n}function ke(n){return"function"==typeof n&&n.hasOwnProperty(ie)&&n.__forward_ref__===ge}function Be(n){return n&&!!n.\u0275providers}const bt="https://g.co/ng/security#xss";class et extends Error{constructor(r,l){super(Ve(r,l)),this.code=r}}function Ve(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function Me(n){return"string"==typeof n?n:null==n?"":String(n)}function lt(n,r){throw new et(-201,!1)}function dt(n,r,l,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${l} ${d} ${r} <=Actual]`))}function He(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gt(n){return Pt(n,Xn)||Pt(n,ct)}function Ke(n){return null!==Gt(n)}function Pt(n,r){return n.hasOwnProperty(r)?n[r]:null}function In(n){return n&&(n.hasOwnProperty(wt)||n.hasOwnProperty(Ct))?n[wt]:null}const Xn=Pe({\u0275prov:Pe}),wt=Pe({\u0275inj:Pe}),ct=Pe({ngInjectableDef:Pe}),Ct=Pe({ngInjectorDef:Pe});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let J;function ft(n){const r=J;return J=n,r}function Rt(n,r,l){const d=Gt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&xe.Optional?null:void 0!==r?r:void lt(ye(n))}const _t=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ce={},me="__NG_DI_FLAG__",yt="ngTempTokenPath",ze="ngTokenPath",Tt=/\n/gm,Sn="\u0275",dn="__source";let ii;function Dt(n){const r=ii;return ii=n,r}function st(n,r=xe.Default){if(void 0===ii)throw new et(-203,!1);return null===ii?Rt(n,void 0,r):ii.get(n,r&xe.Optional?null:void 0,r)}function oe(n,r=xe.Default){return(function Ae(){return J}()||st)(le(n),r)}function N(n,r=xe.Default){return oe(n,$(r))}function $(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function X(n){const r=[];for(let l=0;l<n.length;l++){const d=le(n[l]);if(Array.isArray(d)){if(0===d.length)throw new et(900,!1);let p,_=xe.Default;for(let C=0;C<d.length;C++){const F=d[C],j=Wt(F);"number"==typeof j?-1===j?p=F.token:_|=j:p=F}r.push(oe(p,_))}else r.push(oe(d))}return r}function Se(n,r){return n[me]=r,n.prototype[me]=r,n}function Wt(n){return n[me]}function Le(n){return{toString:n}.toString()}var de=(()=>((de=de||{})[de.OnPush=0]="OnPush",de[de.Default=1]="Default",de))(),pe=(()=>{return(n=pe||(pe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pe;var n})();const fe={},pt=[],Fe=Pe({\u0275cmp:Pe}),We=Pe({\u0275dir:Pe}),be=Pe({\u0275pipe:Pe}),Xe=Pe({\u0275mod:Pe}),jt=Pe({\u0275fac:Pe}),fn=Pe({__NG_ELEMENT_ID__:Pe});let xn=0;function Ln(n){return Le(()=>{const r=ho(n),l={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||pe.Emulated,id:"c"+xn++,styles:n.styles||pt,_:null,schemas:n.schemas||null,tView:null};dr(l);const d=n.dependencies;return l.directiveDefs=ys(d,!1),l.pipeDefs=ys(d,!0),l})}function rr(n){return Wn(n)||Vi(n)}function tn(n){return null!==n}function $t(n){return Le(()=>({type:n.type,bootstrap:n.bootstrap||pt,declarations:n.declarations||pt,imports:n.imports||pt,exports:n.exports||pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Un(n,r){if(null==n)return fe;const l={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),l[p]=d,r&&(r[p]=_)}return l}function Qn(n){return Le(()=>{const r=ho(n);return dr(r),r})}function gi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Wn(n){return n[Fe]||null}function Vi(n){return n[We]||null}function fi(n){return n[be]||null}function _r(n){const r=Wn(n)||Vi(n)||fi(n);return null!==r&&r.standalone}function Dr(n,r){const l=n[Xe]||null;if(!l&&!0===r)throw new Error(`Type ${ye(n)} does not have '\u0275mod' property.`);return l}function ho(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Un(n.inputs,r),outputs:Un(n.outputs)}}function dr(n){n.features?.forEach(r=>r(n))}function ys(n,r){if(!n)return null;const l=r?fi:rr;return()=>("function"==typeof n?n():n).map(d=>l(d)).filter(tn)}const Ki=0,On=1,ci=2,Yi=3,ji=4,Yr=5,$i=6,hr=7,ki=8,xt=9,vt=10,Et=11,pn=12,Tn=13,Yn=14,wi=15,ui=16,Oi=17,cs=18,es=19,Nr=20,Or=21,sr=22,fo=1,js=2,Uo=7,Ms=8,Hs=9,Fr=10;function zr(n){return Array.isArray(n)&&"object"==typeof n[fo]}function xr(n){return Array.isArray(n)&&!0===n[fo]}function Er(n){return 0!=(4&n.flags)}function vs(n){return n.componentOffset>-1}function po(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function Zi(n){return 0!=(256&n[ci])}function ds(n,r){return n.hasOwnProperty(jt)?n[jt]:null}class aa{constructor(r,l,d){this.previousValue=r,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ua(){return la}function la(n){return n.type.prototype.ngOnChanges&&(n.setInput=$s),Ia}function Ia(){const n=el(this),r=n?.current;if(r){const l=n.previous;if(l===fe)n.previous=r;else for(let d in r)l[d]=r[d];n.current=null,this.ngOnChanges(r)}}function $s(n,r,l,d){const p=this.declaredInputs[l],_=el(n)||function Ic(n,r){return n[Da]=r}(n,{previous:fe,current:null}),C=_.current||(_.current={}),F=_.previous,j=F[p];C[p]=new aa(j&&j.currentValue,r,F===fe),n[d]=r}Ua.ngInherit=!0;const Da="__ngSimpleChanges__";function el(n){return n[Da]||null}const lr=function(n,r,l){},zo="svg";function fr(n){for(;Array.isArray(n);)n=n[Ki];return n}function jo(n,r){return fr(r[n])}function Di(n,r){return fr(r[n.index])}function ua(n,r){return n.data[r]}function ts(n,r){return n[r]}function Lr(n,r){const l=r[n];return zr(l)?l:l[Ki]}function qs(n){return 64==(64&n[ci])}function hs(n,r){return null==r?null:n[r]}function ss(n){n[cs]=0}function os(n,r){n[Yr]+=r;let l=n,d=n[Yi];for(;null!==d&&(1===r&&1===l[Yr]||-1===r&&0===l[Yr]);)d[Yr]+=r,l=d,d=d[Yi]}const si={lFrame:ma(null),bindingsEnabled:!0};function sn(){return si.bindingsEnabled}function on(){return si.lFrame.lView}function di(){return si.lFrame.tView}function Xs(n){return si.lFrame.contextLView=n,n[ki]}function Sr(n){return si.lFrame.contextLView=null,n}function yr(){let n=ql();for(;null!==n&&64===n.type;)n=n.parent;return n}function ql(){return si.lFrame.currentTNode}function da(){const n=si.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function xs(n,r){const l=si.lFrame;l.currentTNode=n,l.isParent=r}function tl(){return si.lFrame.isParent}function za(){si.lFrame.isParent=!1}function Hr(){const n=si.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ts(){return si.lFrame.bindingIndex}function yo(){return si.lFrame.bindingIndex++}function Ss(n){const r=si.lFrame,l=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,l}function ha(n){si.lFrame.inI18n=n}function xl(n,r){const l=si.lFrame;l.bindingIndex=l.bindingRootIndex=n,Br(r)}function Br(n){si.lFrame.currentDirectiveIndex=n}function ps(n){const r=si.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function $o(){return si.lFrame.currentQueryIndex}function ir(n){si.lFrame.currentQueryIndex=n}function Ta(n){const r=n[On];return 2===r.type?r.declTNode:1===r.type?n[$i]:null}function Sa(n,r,l){if(l&xe.SkipSelf){let p=r,_=n;for(;!(p=p.parent,null!==p||l&xe.Host||(p=Ta(_),null===p||(_=_[wi],10&p.type))););if(null===p)return!1;r=p,n=_}const d=si.lFrame=pa();return d.currentTNode=r,d.lView=n,!0}function bs(n){const r=pa(),l=n[On];si.lFrame=r,r.currentTNode=l.firstChild,r.lView=n,r.tView=l,r.contextLView=n,r.bindingIndex=l.bindingStartIndex,r.inI18n=!1}function pa(){const n=si.lFrame,r=null===n?null:n.child;return null===r?ma(n):r}function ma(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Wo(){const n=si.lFrame;return si.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ga=Wo;function Tl(){const n=Wo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ji(){return si.lFrame.selectedIndex}function no(n){si.lFrame.selectedIndex=n}function Wi(){const n=si.lFrame;return ua(n.tView,n.selectedIndex)}function io(){si.lFrame.currentNamespace=zo}function Ha(){!function nl(){si.lFrame.currentNamespace=null}()}function Aa(n,r){for(let l=r.directiveStart,d=r.directiveEnd;l<d;l++){const _=n.data[l].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:F,ngAfterViewInit:j,ngAfterViewChecked:te,ngOnDestroy:we}=_;C&&(n.contentHooks??(n.contentHooks=[])).push(-l,C),F&&((n.contentHooks??(n.contentHooks=[])).push(l,F),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(l,F)),j&&(n.viewHooks??(n.viewHooks=[])).push(-l,j),te&&((n.viewHooks??(n.viewHooks=[])).push(l,te),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(l,te)),null!=we&&(n.destroyHooks??(n.destroyHooks=[])).push(l,we)}}function Jl(n,r,l){ee(n,r,3,l)}function il(n,r,l,d){(3&n[ci])===l&&ee(n,r,l,d)}function V(n,r){let l=n[ci];(3&l)===r&&(l&=2047,l+=1,n[ci]=l)}function ee(n,r,l,d){const _=d??-1,C=r.length-1;let F=0;for(let j=void 0!==d?65535&n[cs]:0;j<C;j++)if("number"==typeof r[j+1]){if(F=r[j],null!=d&&F>=d)break}else r[j]<0&&(n[cs]+=65536),(F<_||-1==_)&&(H(n,l,r,j),n[cs]=(4294901760&n[cs])+j+2),j++}function H(n,r,l,d){const p=l[d]<0,_=l[d+1],F=n[p?-l[d]:l[d]];if(p){if(n[ci]>>11<n[cs]>>16&&(3&n[ci])===r){n[ci]+=2048,lr(4,F,_);try{_.call(F)}finally{lr(5,F,_)}}}else{lr(4,F,_);try{_.call(F)}finally{lr(5,F,_)}}}const _e=-1;class Je{constructor(r,l,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function mi(n,r,l){let d=0;for(;d<l.length;){const p=l[d];if("number"==typeof p){if(0!==p)break;d++;const _=l[d++],C=l[d++],F=l[d++];n.setAttribute(r,C,F,_)}else{const _=p,C=l[++d];Ws(_)?n.setProperty(r,_,C):n.setAttribute(r,_,C),d++}}return d}function pr(n){return 3===n||4===n||6===n}function Ws(n){return 64===n.charCodeAt(0)}function Nn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let l=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?l=p:0===l||Zn(n,l,p,null,-1===l||2===l?r[++d]:null)}}return n}function Zn(n,r,l,d,p){let _=0,C=n.length;if(-1===r)C=-1;else for(;_<n.length;){const F=n[_++];if("number"==typeof F){if(F===r){C=-1;break}if(F>r){C=_-1;break}}}for(;_<n.length;){const F=n[_];if("number"==typeof F)break;if(F===l){if(null===d)return void(null!==p&&(n[_+1]=p));if(d===n[_+1])return void(n[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==C&&(n.splice(C,0,r),_=C+1),n.splice(_++,0,l),null!==d&&n.splice(_++,0,d),null!==p&&n.splice(_++,0,p)}function ms(n){return n!==_e}function Rn(n){return 32767&n}function En(n,r){let l=function qt(n){return n>>16}(n),d=r;for(;l>0;)d=d[wi],l--;return d}let as=!0;function Dc(n){const r=as;return as=n,r}const ec=255,Tu=5;let ad=0;const bo={};function Su(n,r){const l=Jd(n,r);if(-1!==l)return l;const d=r[On];d.firstCreatePass&&(n.injectorIndex=r.length,rl(d.data,n),rl(r,null),rl(d.blueprint,null));const p=tr(n,r),_=n.injectorIndex;if(ms(p)){const C=Rn(p),F=En(p,r),j=F[On].data;for(let te=0;te<8;te++)r[_+te]=F[C+te]|j[C+te]}return r[_+8]=p,_}function rl(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Jd(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function tr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,d=null,p=r;for(;null!==p;){if(d=Pl(p),null===d)return _e;if(l++,p=p[wi],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return _e}function vi(n,r,l){!function Xd(n,r,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(fn)&&(d=l[fn]),null==d&&(d=l[fn]=ad++);const p=d&ec;r.data[n+(p>>Tu)]|=1<<p}(n,r,l)}function Xc(n,r,l){if(l&xe.Optional||void 0!==n)return n;lt()}function Rr(n,r,l,d){if(l&xe.Optional&&void 0===d&&(d=null),!(l&(xe.Self|xe.Host))){const p=n[xt],_=ft(void 0);try{return p?p.get(r,d,l&xe.Optional):Rt(r,d,l&xe.Optional)}finally{ft(_)}}return Xc(d,0,l)}function ri(n,r,l,d=xe.Default,p){if(null!==n){if(1024&r[ci]){const C=function Ol(n,r,l,d,p){let _=n,C=r;for(;null!==_&&null!==C&&1024&C[ci]&&!(256&C[ci]);){const F=Sl(_,C,l,d|xe.Self,bo);if(F!==bo)return F;let j=_.parent;if(!j){const te=C[Or];if(te){const we=te.get(l,bo,d);if(we!==bo)return we}j=Pl(C),C=C[wi]}_=j}return p}(n,r,l,d,bo);if(C!==bo)return C}const _=Sl(n,r,l,d,bo);if(_!==bo)return _}return Rr(r,l,d,p)}function Sl(n,r,l,d,p){const _=function zn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(fn)?n[fn]:void 0;return"number"==typeof r?r>=0?r&ec:ld:r}(l);if("function"==typeof _){if(!Sa(r,n,d))return d&xe.Host?Xc(p,0,d):Rr(r,l,d,p);try{const C=_(d);if(null!=C||d&xe.Optional)return C;lt()}finally{ga()}}else if("number"==typeof _){let C=null,F=Jd(n,r),j=_e,te=d&xe.Host?r[ui][$i]:null;for((-1===F||d&xe.SkipSelf)&&(j=-1===F?tr(n,r):r[F+8],j!==_e&&Al(d,!1)?(C=r[On],F=Rn(j),r=En(j,r)):F=-1);-1!==F;){const we=r[On];if(ns(_,F,we.data)){const qe=bi(F,r,l,C,d,te);if(qe!==bo)return qe}j=r[F+8],j!==_e&&Al(d,r[On].data[F+8]===te)&&ns(_,F,r)?(C=we,F=Rn(j),r=En(j,r)):F=-1}}return p}function bi(n,r,l,d,p,_){const C=r[On],F=C.data[n+8],we=Jc(F,C,l,null==d?vs(F)&&as:d!=C&&0!=(3&F.type),p&xe.Host&&_===F);return null!==we?xi(r,C,we,F):bo}function Jc(n,r,l,d,p){const _=n.providerIndexes,C=r.data,F=1048575&_,j=n.directiveStart,we=_>>20,kt=p?F+we:n.directiveEnd;for(let en=d?F:F+we;en<kt;en++){const wn=C[en];if(en<j&&l===wn||en>=j&&wn.type===l)return en}if(p){const en=C[j];if(en&&jr(en)&&en.type===l)return j}return null}function xi(n,r,l,d){let p=n[l];const _=r.data;if(function rn(n){return n instanceof Je}(p)){const C=p;C.resolving&&function Ye(n,r){const l=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new et(-200,`Circular dependency in DI detected for ${n}${l}`)}(function Ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Me(n)}(_[l]));const F=Dc(C.canSeeViewProviders);C.resolving=!0;const j=C.injectImpl?ft(C.injectImpl):null;Sa(n,d,xe.Default);try{p=n[l]=C.factory(void 0,_,n,d),r.firstCreatePass&&l>=d.directiveStart&&function Xl(n,r,l){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=r.type.prototype;if(d){const C=la(r);(l.preOrderHooks??(l.preOrderHooks=[])).push(n,C),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(n,C)}p&&(l.preOrderHooks??(l.preOrderHooks=[])).push(0-n,p),_&&((l.preOrderHooks??(l.preOrderHooks=[])).push(n,_),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(n,_))}(l,_[l],r)}finally{null!==j&&ft(j),Dc(F),C.resolving=!1,ga()}}return p}function ns(n,r,l){return!!(l[r+(n>>Tu)]&1<<n)}function Al(n,r){return!(n&xe.Self||n&xe.Host&&r)}class Rs{constructor(r,l){this._tNode=r,this._lView=l}get(r,l,d){return ri(this._tNode,this._lView,r,$(d),l)}}function ld(){return new Rs(yr(),on())}function Ml(n){return Le(()=>{const r=n.prototype.constructor,l=r[jt]||Eo(r),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const _=p[jt]||Eo(p);if(_&&_!==l)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Eo(n){return ke(n)?()=>{const r=Eo(le(n));return r&&r()}:ds(n)}function Pl(n){const r=n[On],l=r.type;return 2===l?r.declTNode:1===l?n[$i]:null}function eu(n){return function _a(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const l=n.attrs;if(l){const d=l.length;let p=0;for(;p<d;){const _=l[p];if(pr(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof l[p];)p++;else{if(_===r)return l[p+1];p+=2}}}return null}(yr(),n)}const $a="__parameters__";function Wa(n,r,l){return Le(()=>{const d=function Ma(n){return function(...l){if(n){const d=n(...l);for(const p in d)this[p]=d[p]}}}(r);function p(..._){if(this instanceof p)return d.apply(this,_),this;const C=new p(..._);return F.annotation=C,F;function F(j,te,we){const qe=j.hasOwnProperty($a)?j[$a]:Object.defineProperty(j,$a,{value:[]})[$a];for(;qe.length<=we;)qe.push(null);return(qe[we]=qe[we]||[]).push(C),j}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class Pi{constructor(r,l){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=He({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ro(n,r){n.forEach(l=>Array.isArray(l)?ro(l,r):r(l))}function Es(n,r,l){r>=n.length?n.push(l):n.splice(r,0,l)}function I(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function T(n,r){const l=[];for(let d=0;d<n;d++)l.push(r);return l}function ve(n,r,l){let d=_n(n,r);return d>=0?n[1|d]=l:(d=~d,function Y(n,r,l,d){let p=n.length;if(p==r)n.push(l,d);else if(1===p)n.push(d,n[0]),n[0]=l;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=l,n[r+1]=d}}(n,d,r,l)),d}function Lt(n,r){const l=_n(n,r);if(l>=0)return n[1|l]}function _n(n,r){return function Hn(n,r,l){let d=0,p=n.length>>l;for(;p!==d;){const _=d+(p-d>>1),C=n[_<<l];if(r===C)return _<<l;C>r?p=_:d=_+1}return~(p<<l)}(n,r,1)}const tu=Se(Wa("Inject",n=>({token:n})),-1),kl=Se(Wa("Optional"),8),Tc=Se(Wa("SkipSelf"),4);var ya=(()=>((ya=ya||{})[ya.Important=1]="Important",ya[ya.DashCase=2]="DashCase",ya))();const lu=/^>|^->|<!--|-->|--!>|<!-$/g,oc=/(<|>)/,rh="\u200b$1\u200b";const $r=new Map;let hd=0;const ut="__ngContext__";function At(n,r){zr(r)?(n[ut]=r[Nr],function Vl(n){$r.set(n[Nr],n)}(r)):n[ut]=r}let Ro;function oo(n,r){return Ro(n,r)}function pd(n){const r=n[Yi];return xr(r)?r[Yi]:r}function Ti(n){return Ir(n[Tn])}function Qo(n){return Ir(n[ji])}function Ir(n){for(;null!==n&&!xr(n);)n=n[ji];return n}function dl(n,r,l,d,p){if(null!=d){let _,C=!1;xr(d)?_=d:zr(d)&&(C=!0,d=d[Ki]);const F=fr(d);0===n&&null!==l?null==p?Xo(r,l,F):Ui(r,l,F,p||null,!0):1===n&&null!==l?Ui(r,l,F,p||null,!0):2===n?ah(r,F,C):3===n&&r.destroyNode(F),null!=_&&function lh(n,r,l,d,p){const _=l[Uo];_!==fr(l)&&dl(r,n,d,_,p);for(let F=Fr;F<l.length;F++){const j=l[F];_d(j[On],j,n,r,d,_)}}(r,n,_,l,p)}}function sh(n,r){return n.createText(r)}function cu(n,r,l){n.setValue(r,l)}function zl(n,r){return n.createComment(function cl(n){return n.replace(lu,r=>r.replace(oc,rh))}(r))}function Wr(n,r,l){return n.createElement(r,l)}function M(n,r){const l=n[Hs],d=l.indexOf(r),p=r[Yi];512&r[ci]&&(r[ci]&=-513,os(p,-1)),l.splice(d,1)}function se(n,r){if(n.length<=Fr)return;const l=Fr+r,d=n[l];if(d){const p=d[Oi];null!==p&&p!==n&&M(p,d),r>0&&(n[l-1][ji]=d[ji]);const _=I(n,Fr+r);!function Fi(n,r){_d(n,r,r[Et],2,null,null),r[Ki]=null,r[$i]=null}(d[On],d);const C=_[es];null!==C&&C.detachView(_[On]),d[Yi]=null,d[ji]=null,d[ci]&=-65}return d}function De(n,r){if(!(128&r[ci])){const l=r[Et];l.destroyNode&&_d(n,r,l,3,null,null),function D(n){let r=n[Tn];if(!r)return St(n[On],n);for(;r;){let l=null;if(zr(r))l=r[Tn];else{const d=r[Fr];d&&(l=d)}if(!l){for(;r&&!r[ji]&&r!==n;)zr(r)&&St(r[On],r),r=r[Yi];null===r&&(r=n),zr(r)&&St(r[On],r),l=r&&r[ji]}r=l}}(r)}}function St(n,r){if(!(128&r[ci])){r[ci]&=-65,r[ci]|=128,function Pn(n,r){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let d=0;d<l.length;d+=2){const p=r[l[d]];if(!(p instanceof Je)){const _=l[d+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const F=p[_[C]],j=_[C+1];lr(4,F,j);try{j.call(F)}finally{lr(5,F,j)}}else{lr(4,p,_);try{_.call(p)}finally{lr(5,p,_)}}}}}(n,r),function cn(n,r){const l=n.cleanup,d=r[hr];let p=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const C=l[_+3];C>=0?d[p=C]():d[p=-C].unsubscribe(),_+=2}else{const C=d[p=l[_+1]];l[_].call(C)}if(null!==d){for(let _=p+1;_<d.length;_++)(0,d[_])();r[hr]=null}}(n,r),1===r[On].type&&r[Et].destroy();const l=r[Oi];if(null!==l&&xr(r[Yi])){l!==r[Yi]&&M(l,r);const d=r[es];null!==d&&d.detachView(n)}!function ul(n){$r.delete(n[Nr])}(r)}}function Gn(n,r,l){return li(n,r.parent,l)}function li(n,r,l){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return l[Ki];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:_}=n.data[d.directiveStart+p];if(_===pe.None||_===pe.Emulated)return null}return Di(d,l)}}function Ui(n,r,l,d,p){n.insertBefore(r,l,d,p)}function Xo(n,r,l){n.appendChild(r,l)}function Io(n,r,l,d,p){null!==d?Ui(n,r,l,d,p):Xo(n,r,l)}function zi(n,r){return n.parentNode(r)}function uu(n,r,l){return ka(n,r,l)}function va(n,r,l){return 40&n.type?Di(n,l):null}let hl,Pc,uc,vd,ka=va;function ba(n,r){ka=n,hl=r}function gd(n,r,l,d){const p=Gn(n,d,r),_=r[Et],F=uu(d.parent||r[$i],d,r);if(null!=p)if(Array.isArray(l))for(let j=0;j<l.length;j++)Io(_,p,l[j],F,!1);else Io(_,p,l,F,!1);void 0!==hl&&hl(_,d,r,l,p)}function pi(n,r){if(null!==r){const l=r.type;if(3&l)return Di(r,n);if(4&l)return du(-1,n[r.index]);if(8&l){const d=r.child;if(null!==d)return pi(n,d);{const p=n[r.index];return xr(p)?du(-1,p):fr(p)}}if(32&l)return oo(r,n)()||fr(n[r.index]);{const d=oh(n,r);return null!==d?Array.isArray(d)?d[0]:pi(pd(n[ui]),d):pi(n,r.next)}}return null}function oh(n,r){return null!==r?n[ui][$i].projection[r.projection]:null}function du(n,r){const l=Fr+n+1;if(l<r.length){const d=r[l],p=d[On].firstChild;if(null!==p)return pi(d,p)}return r[Uo]}function ah(n,r,l){const d=zi(n,r);d&&function md(n,r,l,d){n.removeChild(r,l,d)}(n,d,r,l)}function Wf(n,r,l,d,p,_,C){for(;null!=l;){const F=d[l.index],j=l.type;if(C&&0===r&&(F&&At(fr(F),d),l.flags|=2),32!=(32&l.flags))if(8&j)Wf(n,r,l.child,d,p,_,!1),dl(r,n,p,F,_);else if(32&j){const te=oo(l,d);let we;for(;we=te();)dl(r,n,p,we,_);dl(r,n,p,F,_)}else 16&j?Wp(n,r,d,l,p,_):dl(r,n,p,F,_);l=C?l.projectionNext:l.next}}function _d(n,r,l,d,p,_){Wf(l,d,n.firstChild,r,p,_,!1)}function Wp(n,r,l,d,p,_){const C=l[ui],j=C[$i].projection[d.projection];if(Array.isArray(j))for(let te=0;te<j.length;te++)dl(r,n,p,j[te],_);else Wf(n,r,j,C[Yi],p,_,!0)}function Nu(n,r,l){""===l?n.removeAttribute(r,"class"):n.setAttribute(r,"class",l)}function Kp(n,r,l){const{mergedAttrs:d,classes:p,styles:_}=l;null!==d&&mi(n,r,d),null!==p&&Nu(n,r,p),null!==_&&function yd(n,r,l){n.setAttribute(r,"style",l)}(n,r,_)}function cc(n){return function Gr(){if(void 0===Pc&&(Pc=null,_t.trustedTypes))try{Pc=_t.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pc}()?.createHTML(n)||n}function Qr(n){uc=n}function Gf(n){return function Fu(){if(void 0===vd&&(vd=null,_t.trustedTypes))try{vd=_t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vd}()?.createScriptURL(n)||n}class Lu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}class Bu extends Lu{getTypeName(){return"HTML"}}class Rc extends Lu{getTypeName(){return"Style"}}class bd extends Lu{getTypeName(){return"Script"}}class dh extends Lu{getTypeName(){return"URL"}}class hh extends Lu{getTypeName(){return"ResourceURL"}}function Za(n){return n instanceof Lu?n.changingThisBreaksApplicationSecurity:n}function kc(n,r){const l=function Ed(n){return n instanceof Lu&&n.getTypeName()||null}(n);if(null!=l&&l!==r){if("ResourceURL"===l&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${l} (see ${bt})`)}return l===r}function Yp(n){return new Bu(n)}function Qh(n){return new Rc(n)}function __(n){return new bd(n)}function y_(n){return new dh(n)}function ao(n){return new hh(n)}function ur(n){const r=new Kf(n);return function Zp(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new lg(r):r}class lg{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const l=(new window.DOMParser).parseFromString(cc(r),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(r):(l.removeChild(l.firstChild),l)}catch{return null}}}class Kf{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const l=this.inertDocument.createElement("template");return l.innerHTML=cc(r),l}}const wd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fh(n){return(n=String(n)).match(wd)?n:"unsafe:"+n}function Nc(n){const r={};for(const l of n.split(","))r[l]=!0;return r}function hu(...n){const r={};for(const l of n)for(const d in l)l.hasOwnProperty(d)&&(r[d]=!0);return r}const qp=Nc("area,br,col,hr,img,wbr"),Cd=Nc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dc=Nc("rp,rt"),Yf=hu(qp,hu(Cd,Nc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hu(dc,Nc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hu(dc,Cd)),Xh=Nc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xp=hu(Xh,Nc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fl=Nc("script,style,template");class Jp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let l=r.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(r){const l=r.nodeName.toLowerCase();if(!Yf.hasOwnProperty(l))return this.sanitizedSomething=!0,!fl.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=r.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),C=_.name,F=C.toLowerCase();if(!Xp.hasOwnProperty(F)){this.sanitizedSomething=!0;continue}let j=_.value;Xh[F]&&(j=fh(j)),this.buf.push(" ",C,'="',Jh(j),'"')}return this.buf.push(">"),!0}endElement(r){const l=r.nodeName.toLowerCase();Yf.hasOwnProperty(l)&&!qp.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(r){this.buf.push(Jh(r))}checkClobberedElement(r,l){if(l&&(r.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return l}}const em=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tm=/([^\#-~ |!])/g;function Jh(n){return n.replace(/&/g,"&amp;").replace(em,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(tm,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fc;function pl(n,r){let l=null;try{Fc=Fc||ur(n);let d=r?String(r):"";l=Fc.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=l.innerHTML,l=Fc.getInertBodyElement(d)}while(d!==_);return cc((new Jp).sanitizeChildren(fu(l)||l))}finally{if(l){const d=fu(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function fu(n){return"content"in n&&function Vu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qi=(()=>((qi=qi||{})[qi.NONE=0]="NONE",qi[qi.HTML=1]="HTML",qi[qi.STYLE=2]="STYLE",qi[qi.SCRIPT=3]="SCRIPT",qi[qi.URL=4]="URL",qi[qi.RESOURCE_URL=5]="RESOURCE_URL",qi))();function Id(n){const r=Ur();return r?r.sanitize(qi.URL,n)||"":kc(n,"URL")?Za(n):fh(Me(n))}function jl(n){const r=Ur();if(r)return Gf(r.sanitize(qi.RESOURCE_URL,n)||"");if(kc(n,"ResourceURL"))return Gf(Za(n));throw new et(904,!1)}function pu(n,r,l){return function ef(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?jl:Id}(r,l)(n)}function Ur(){const n=on();return n&&n[pn]}const Jo=new Pi("ENVIRONMENT_INITIALIZER"),Uu=new Pi("INJECTOR",-1),Zf=new Pi("INJECTOR_DEF_TYPES");class qf{get(r,l=ce){if(l===ce){const d=new Error(`NullInjectorError: No provider for ${ye(r)}!`);throw d.name="NullInjectorError",d}return l}}function tf(n){return{\u0275providers:n}}function zu(...n){return{\u0275providers:rm(0,n),\u0275fromNgModule:!0}}function rm(n,...r){const l=[],d=new Set;let p;return ro(r,_=>{const C=_;nf(C,l,[],d)&&(p||(p=[]),p.push(C))}),void 0!==p&&Lc(p,l),l}function Lc(n,r){for(let l=0;l<n.length;l++){const{providers:p}=n[l];Qf(p,_=>{r.push(_)})}}function nf(n,r,l,d){if(!(n=le(n)))return!1;let p=null,_=In(n);const C=!_&&Wn(n);if(_||C){if(C&&!C.standalone)return!1;p=n}else{const j=n.ngModule;if(_=In(j),!_)return!1;p=j}const F=d.has(p);if(C){if(F)return!1;if(d.add(p),C.dependencies){const j="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const te of j)nf(te,r,l,d)}}else{if(!_)return!1;{if(null!=_.imports&&!F){let te;d.add(p);try{ro(_.imports,we=>{nf(we,r,l,d)&&(te||(te=[]),te.push(we))})}finally{}void 0!==te&&Lc(te,r)}if(!F){const te=ds(p)||(()=>new p);r.push({provide:p,useFactory:te,deps:pt},{provide:Zf,useValue:p,multi:!0},{provide:Jo,useValue:()=>oe(p),multi:!0})}const j=_.providers;null==j||F||Qf(j,we=>{r.push(we)})}}return p!==n&&void 0!==n.providers}function Qf(n,r){for(let l of n)Be(l)&&(l=l.\u0275providers),Array.isArray(l)?Qf(l,r):r(l)}const hc=Pe({provide:String,useValue:Pe});function ju(n){return null!==n&&"object"==typeof n&&hc in n}function Hu(n){return"function"==typeof n}const Xf=new Pi("Set Injector scope."),Jf={},om={};let Dd;function Bc(){return void 0===Dd&&(Dd=new qf),Dd}class ml{}class $u extends ml{get destroyed(){return this._destroyed}constructor(r,l,d,p){super(),this.parent=l,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bh(r,C=>this.processProvider(C)),this.records.set(Uu,gu(void 0,this)),p.has("environment")&&this.records.set(ml,gu(void 0,this));const _=this.records.get(Xf);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Zf.multi,pt,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const l=Dt(this),d=ft(void 0);try{return r()}finally{Dt(l),ft(d)}}get(r,l=ce,d=xe.Default){this.assertNotDestroyed(),d=$(d);const p=Dt(this),_=ft(void 0);try{if(!(d&xe.SkipSelf)){let F=this.records.get(r);if(void 0===F){const j=function dg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Pi}(r)&&Gt(r);F=j&&this.injectableDefInScope(j)?gu(xd(r),Jf):null,this.records.set(r,F)}if(null!=F)return this.hydrate(r,F)}return(d&xe.Self?Bc():this.parent).get(r,l=d&xe.Optional&&l===ce?null:l)}catch(C){if("NullInjectorError"===C.name){if((C[yt]=C[yt]||[]).unshift(ye(r)),p)throw C;return function Jt(n,r,l,d){const p=n[yt];throw r[dn]&&p.unshift(r[dn]),n.message=function Ue(n,r,l,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Sn?n.slice(2):n;let p=ye(r);if(Array.isArray(r))p=r.map(ye).join(" -> ");else if("object"==typeof r){let _=[];for(let C in r)if(r.hasOwnProperty(C)){let F=r[C];_.push(C+":"+("string"==typeof F?JSON.stringify(F):ye(F)))}p=`{${_.join(", ")}}`}return`${l}${d?"("+d+")":""}[${p}]: ${n.replace(Tt,"\n  ")}`}("\n"+n.message,p,l,d),n[ze]=p,n[yt]=null,n}(C,r,"R3InjectorError",this.source)}throw C}finally{ft(_),Dt(p)}}resolveInjectorInitializers(){const r=Dt(this),l=ft(void 0);try{const d=this.get(Jo.multi,pt,xe.Self);for(const p of d)p()}finally{Dt(r),ft(l)}}toString(){const r=[],l=this.records;for(const d of l.keys())r.push(ye(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(r){let l=Hu(r=le(r))?r:le(r&&r.provide);const d=function am(n){return ju(n)?gu(void 0,n.useValue):gu(Td(n),Jf)}(r);if(Hu(r)||!0!==r.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=gu(void 0,Jf,!0),p.factory=()=>X(p.multi),this.records.set(l,p)),l=r,p.multi.push(r)}this.records.set(l,d)}hydrate(r,l){return l.value===Jf&&(l.value=om,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ep(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(r){if(!r.providedIn)return!1;const l=le(r.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function xd(n){const r=Gt(n),l=null!==r?r.factory:ds(n);if(null!==l)return l;if(n instanceof Pi)throw new et(204,!1);if(n instanceof Function)return function ug(n){const r=n.length;if(r>0)throw T(r,"?"),new et(204,!1);const l=function ln(n){return n&&(n[Xn]||n[ct])||null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new et(204,!1)}function Td(n,r,l){let d;if(Hu(n)){const p=le(n);return ds(p)||xd(p)}if(ju(n))d=()=>le(n.useValue);else if(function cg(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...X(n.deps||[]));else if(function sm(n){return!(!n||!n.useExisting)}(n))d=()=>oe(le(n.useExisting));else{const p=le(n&&(n.useClass||n.provide));if(!function lm(n){return!!n.deps}(n))return ds(p)||xd(p);d=()=>new p(...X(n.deps))}return d}function gu(n,r,l=!1){return{factory:n,value:r,multi:l?[]:void 0}}function bh(n,r){for(const l of n)Array.isArray(l)?bh(l,r):l&&Be(l)?bh(l.\u0275providers,r):r(l)}class sf{}class Sd{}class cm{resolveComponentFactory(r){throw function Ad(n){const r=Error(`No component factory found for ${ye(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let af=(()=>{class n{}return n.NULL=new cm,n})();function b_(){return Vc(yr(),on())}function Vc(n,r){return new fc(Di(n,r))}let fc=(()=>{class n{constructor(l){this.nativeElement=l}}return n.__NG_ELEMENT_ID__=b_,n})();function _u(n){return n instanceof fc?n.nativeElement:n}class Eh{}let um=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function dm(){const n=on(),l=Lr(yr().index,n);return(zr(l)?l:n)[Et]}(),n})(),E_=(()=>{class n{}return n.\u0275prov=He({token:n,providedIn:"root",factory:()=>null}),n})();class lf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const wh=new lf("15.2.9"),tp={},cf="ngOriginalError";function np(n){return n[cf]}class Wu{constructor(){this._console=console}handleError(r){const l=this._findOriginalError(r);this._console.error("ERROR",r),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(r){let l=r&&np(r);for(;l&&np(l);)l=np(l);return l||null}}function ip(n){return n.ownerDocument.defaultView}function Md(n){return n.ownerDocument}function gl(n){return n instanceof Function?n():n}function yu(n,r,l){let d=n.length;for(;;){const p=n.indexOf(r,l);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const _=r.length;if(p+_===d||n.charCodeAt(p+_)<=32)return p}l=p+1}}const Pd="ng-template";function gm(n,r,l){let d=0,p=!0;for(;d<n.length;){let _=n[d++];if("string"==typeof _&&p){const C=n[d++];if(l&&"class"===_&&-1!==yu(C.toLowerCase(),r,0))return!0}else{if(1===_){for(;d<n.length&&"string"==typeof(_=n[d++]);)if(_.toLowerCase()===r)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function Na(n){return 4===n.type&&n.value!==Pd}function mg(n,r,l){return r===(4!==n.type||l?n.value:Pd)}function Rd(n,r,l){let d=4;const p=n.attrs||[],_=function gg(n){for(let r=0;r<n.length;r++)if(pr(n[r]))return r;return n.length}(p);let C=!1;for(let F=0;F<r.length;F++){const j=r[F];if("number"!=typeof j){if(!C)if(4&d){if(d=2|1&d,""!==j&&!mg(n,j,l)||""===j&&1===r.length){if(Do(d))return!1;C=!0}}else{const te=8&d?j:r[++F];if(8&d&&null!==n.attrs){if(!gm(n.attrs,te,l)){if(Do(d))return!1;C=!0}continue}const qe=mc(8&d?"class":j,p,Na(n),l);if(-1===qe){if(Do(d))return!1;C=!0;continue}if(""!==te){let kt;kt=qe>_?"":p[qe+1].toLowerCase();const en=8&d?kt:null;if(en&&-1!==yu(en,te,0)||2&d&&te!==kt){if(Do(d))return!1;C=!0}}}}else{if(!C&&!Do(d)&&!Do(j))return!1;if(C&&Do(j))continue;C=!1,d=j|1&d}}return Do(d)||C}function Do(n){return 0==(1&n)}function mc(n,r,l,d){if(null===r)return-1;let p=0;if(d||!l){let _=!1;for(;p<r.length;){const C=r[p];if(C===n)return p;if(3===C||6===C)_=!0;else{if(1===C||2===C){let F=r[++p];for(;"string"==typeof F;)F=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=_?1:2}return-1}return function x_(n,r){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const d=n[l];if("number"==typeof d)return-1;if(d===r)return l;l++}return-1}(r,n)}function Ch(n,r,l=!1){for(let d=0;d<r.length;d++)if(Rd(n,r[d],l))return!0;return!1}function _m(n,r){e:for(let l=0;l<r.length;l++){const d=r[l];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function sp(n,r){return n?":not("+r.trim()+")":r}function op(n){let r=n[0],l=1,d=2,p="",_=!1;for(;l<n.length;){let C=n[l];if("string"==typeof C)if(2&d){const F=n[++l];p+="["+C+(F.length>0?'="'+F+'"':"")+"]"}else 8&d?p+="."+C:4&d&&(p+=" "+C);else""!==p&&!Do(C)&&(r+=sp(_,p),p=""),d=C,_=_||!Do(d);l++}return""!==p&&(r+=sp(_,p)),r}const Hi={};function _g(n){ym(di(),on(),Ji()+n,!1)}function ym(n,r,l,d){if(!d)if(3==(3&r[ci])){const _=n.preOrderCheckHooks;null!==_&&Jl(r,_,l)}else{const _=n.preOrderHooks;null!==_&&il(r,_,0,l)}no(l)}function lo(n,r=null,l=null,d){const p=xh(n,r,l,d);return p.resolveInjectorInitializers(),p}function xh(n,r=null,l=null,d,p=new Set){const _=[l||pt,zu(n)];return d=d||("object"==typeof n?void 0:ye(n)),new $u(_,r||Bc(),d||null,p)}let Uc=(()=>{class n{static create(l,d){if(Array.isArray(l))return lo({name:""},d,l,"");{const p=l.name??"";return lo({name:p},l.parent,l.providers,p)}}}return n.THROW_IF_NOT_FOUND=ce,n.NULL=new qf,n.\u0275prov=He({token:n,providedIn:"any",factory:()=>oe(Uu)}),n.__NG_ELEMENT_ID__=-1,n})();function Ku(n,r=xe.Default){const l=on();return null===l?oe(n,r):ri(yr(),l,le(n),r)}function Bd(){throw new Error("invalid")}function pp(n,r){const l=n.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const _=l[d+1];if(-1!==_){const C=n.data[_];ir(l[d]),C.contentQueries(2,r[_],_)}}}function jc(n,r,l,d,p,_,C,F,j,te,we){const qe=r.blueprint.slice();return qe[Ki]=p,qe[ci]=76|d,(null!==we||n&&1024&n[ci])&&(qe[ci]|=1024),ss(qe),qe[Yi]=qe[wi]=n,qe[ki]=l,qe[vt]=C||n&&n[vt],qe[Et]=F||n&&n[Et],qe[pn]=j||n&&n[pn]||null,qe[xt]=te||n&&n[xt]||null,qe[$i]=_,qe[Nr]=function Vr(){return hd++}(),qe[Or]=we,qe[ui]=2==r.type?n[ui]:qe,qe}function Eu(n,r,l,d,p){let _=n.data[r];if(null===_)_=Yu(n,r,l,d,p),function fs(){return si.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=l,_.value=d,_.attrs=p;const C=da();_.injectorIndex=null===C?-1:C.injectorIndex}return xs(_,!0),_}function Yu(n,r,l,d,p){const _=ql(),C=tl(),j=n.data[r]=function Dg(n,r,l,d,p,_){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,l,r,d,p);return null===n.firstChild&&(n.firstChild=j),null!==_&&(C?null==_.child&&null!==j.parent&&(_.child=j):null===_.next&&(_.next=j,j.prev=_)),j}function Hc(n,r,l,d){if(0===l)return-1;const p=r.length;for(let _=0;_<l;_++)r.push(d),n.blueprint.push(d),n.data.push(null);return p}function wu(n,r,l){bs(r);try{const d=n.viewQuery;null!==d&&Ip(1,d,l);const p=n.template;null!==p&&mp(n,r,p,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&pp(n,r),n.staticViewQueries&&Ip(2,n.viewQuery,l);const _=n.components;null!==_&&function _c(n,r){for(let l=0;l<r.length;l++)Cp(n,r[l])}(r,_)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[ci]&=-5,Tl()}}function Zu(n,r,l,d){const p=r[ci];if(128!=(128&p)){bs(r);try{ss(r),function eo(n){return si.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&mp(n,r,l,2,d);const C=3==(3&p);if(C){const te=n.preOrderCheckHooks;null!==te&&Jl(r,te,null)}else{const te=n.preOrderHooks;null!==te&&il(r,te,0,null),V(r,0)}if(function kh(n){for(let r=Ti(n);null!==r;r=Qo(r)){if(!r[js])continue;const l=r[Hs];for(let d=0;d<l.length;d++){const p=l[d];512&p[ci]||os(p[Yi],1),p[ci]|=512}}}(r),function Mm(n){for(let r=Ti(n);null!==r;r=Qo(r))for(let l=Fr;l<r.length;l++){const d=r[l],p=d[On];qs(d)&&Zu(p,d,p.template,d[ki])}}(r),null!==n.contentQueries&&pp(n,r),C){const te=n.contentCheckHooks;null!==te&&Jl(r,te)}else{const te=n.contentHooks;null!==te&&il(r,te,1),V(r,1)}!function Cg(n,r){const l=n.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const p=l[d];if(p<0)no(~p);else{const _=p,C=l[++d],F=l[++d];xl(C,_),F(2,r[_])}}}finally{no(-1)}}(n,r);const F=n.components;null!==F&&function Mh(n,r){for(let l=0;l<r.length;l++)Om(n,r[l])}(r,F);const j=n.viewQuery;if(null!==j&&Ip(2,j,d),C){const te=n.viewCheckHooks;null!==te&&Jl(r,te)}else{const te=n.viewHooks;null!==te&&il(r,te,2),V(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[ci]&=-41,512&r[ci]&&(r[ci]&=-513,os(r[Yi],-1))}finally{Tl()}}}function mp(n,r,l,d,p){const _=Ji(),C=2&d;try{no(-1),C&&r.length>sr&&ym(n,r,sr,!1),lr(C?2:0,p),l(d,p)}finally{no(_),lr(C?3:1,p)}}function _l(n,r,l){if(Er(r)){const p=r.directiveEnd;for(let _=r.directiveStart;_<p;_++){const C=n.data[_];C.contentQueries&&C.contentQueries(1,l[_],_)}}}function gp(n,r,l){sn()&&(function bf(n,r,l,d){const p=l.directiveStart,_=l.directiveEnd;vs(l)&&function Am(n,r,l){const d=Di(r,n),p=qu(l),_=n[vt],C=Hl(n,jc(n,p,null,l.onPush?32:16,d,r,_,_.createRenderer(d,l),null,null,null));n[r.index]=C}(r,l,n.data[p+l.componentOffset]),n.firstCreatePass||Su(l,r),At(d,r);const C=l.initialInputs;for(let F=p;F<_;F++){const j=n.data[F],te=xi(r,n,F,l);At(te,r),null!==C&&M_(0,F-p,te,j,0,C),jr(j)&&(Lr(l.index,r)[ki]=xi(r,n,F,l))}}(n,r,l,Di(l,r)),64==(64&l.flags)&&vp(n,r,l))}function _p(n,r,l=Di){const d=r.localNames;if(null!==d){let p=r.index+1;for(let _=0;_<d.length;_+=2){const C=d[_+1],F=-1===C?l(r,n):n[C];n[p++]=F}}}function qu(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Oh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Oh(n,r,l,d,p,_,C,F,j,te){const we=sr+d,qe=we+p,kt=function yl(n,r){const l=[];for(let d=0;d<r;d++)l.push(d<n?null:Hi);return l}(we,qe),en="function"==typeof te?te():te;return kt[On]={type:n,blueprint:kt,template:l,queries:null,viewQuery:F,declTNode:r,data:kt.slice().fill(null,we),bindingStartIndex:we,expandoStartIndex:qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:j,consts:en,incompleteFirstPass:!1}}function ea(n,r,l,d){const p=Sg(r);null===l?p.push(d):(p.push(l),n.firstCreatePass&&If(n).push(d,p.length-1))}function xm(n,r,l,d){for(let p in n)if(n.hasOwnProperty(p)){l=null===l?{}:l;const _=n[p];null===d?_f(l,r,p,_):d.hasOwnProperty(p)&&_f(l,r,d[p],_)}return l}function _f(n,r,l,d){n.hasOwnProperty(l)?n[l].push(r,d):n[l]=[r,d]}function No(n,r,l,d,p,_,C,F){const j=Di(r,l);let we,te=r.inputs;!F&&null!=te&&(we=te[d])?(Dp(n,l,we,d,p),vs(r)&&function xg(n,r){const l=Lr(r,n);16&l[ci]||(l[ci]|=32)}(l,r.index)):3&r.type&&(d=function yp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=C?C(p,r.value||"",d):p,_.setProperty(j,d,p))}function vf(n,r,l,d){if(sn()){const p=null===d?null:{"":-1},_=function bp(n,r){const l=n.directiveRegistry;let d=null,p=null;if(l)for(let _=0;_<l.length;_++){const C=l[_];if(Ch(r,C.selectors,!1))if(d||(d=[]),jr(C))if(null!==C.findHostDirectiveDefs){const F=[];p=p||new Map,C.findHostDirectiveDefs(C,F,p),d.unshift(...F,C),Rh(n,r,F.length)}else d.unshift(C),Rh(n,r,0);else p=p||new Map,C.findHostDirectiveDefs?.(C,d,p),d.push(C)}return null===d?null:[d,p]}(n,l);let C,F;null===_?C=F=null:[C,F]=_,null!==C&&Vd(n,r,l,C,p,F),p&&function Ef(n,r,l){if(r){const d=n.localNames=[];for(let p=0;p<r.length;p+=2){const _=l[r[p+1]];if(null==_)throw new et(-301,!1);d.push(r[p],_)}}}(l,d,p)}l.mergedAttrs=Nn(l.mergedAttrs,l.attrs)}function Vd(n,r,l,d,p,_){for(let te=0;te<d.length;te++)vi(Su(l,r),n,d[te].type);!function Ep(n,r,l){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+l,n.providerIndexes=r}(l,n.data.length,d.length);for(let te=0;te<d.length;te++){const we=d[te];we.providersResolver&&we.providersResolver(we)}let C=!1,F=!1,j=Hc(n,r,d.length,null);for(let te=0;te<d.length;te++){const we=d[te];l.mergedAttrs=Nn(l.mergedAttrs,we.hostAttrs),wp(n,l,r,j,we),Sm(j,we,p),null!==we.contentQueries&&(l.flags|=4),(null!==we.hostBindings||null!==we.hostAttrs||0!==we.hostVars)&&(l.flags|=64);const qe=we.type.prototype;!C&&(qe.ngOnChanges||qe.ngOnInit||qe.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(l.index),C=!0),!F&&(qe.ngOnChanges||qe.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(l.index),F=!0),j++}!function yf(n,r,l){const p=r.directiveEnd,_=n.data,C=r.attrs,F=[];let j=null,te=null;for(let we=r.directiveStart;we<p;we++){const qe=_[we],kt=l?l.get(qe):null,wn=kt?kt.outputs:null;j=xm(qe.inputs,we,j,kt?kt.inputs:null),te=xm(qe.outputs,we,te,wn);const Vn=null===j||null===C||Na(r)?null:wf(j,we,C);F.push(Vn)}null!==j&&(j.hasOwnProperty("class")&&(r.flags|=8),j.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=F,r.inputs=j,r.outputs=te}(n,l,_)}function vp(n,r,l){const d=l.directiveStart,p=l.directiveEnd,_=l.index,C=function fa(){return si.lFrame.currentDirectiveIndex}();try{no(_);for(let F=d;F<p;F++){const j=n.data[F],te=r[F];Br(F),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Ph(j,te)}}finally{no(-1),Br(C)}}function Ph(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Rh(n,r,l){r.componentOffset=l,(n.components??(n.components=[])).push(r.index)}function Sm(n,r,l){if(l){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)l[r.exportAs[d]]=n;jr(r)&&(l[""]=n)}}function wp(n,r,l,d,p){n.data[d]=p;const _=p.factory||(p.factory=ds(p.type)),C=new Je(_,jr(p),Ku);n.blueprint[d]=C,l[d]=C,function A_(n,r,l,d,p){const _=p.hostBindings;if(_){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const F=~r.index;(function Tm(n){let r=n.length;for(;r>0;){const l=n[--r];if("number"==typeof l&&l<0)return l}return 0})(C)!=F&&C.push(F),C.push(l,d,_)}}(n,r,d,Hc(n,l,p.hostVars,Hi),p)}function yc(n,r,l,d,p,_,C){if(null==_)n.removeAttribute(r,p,l);else{const F=null==C?Me(_):C(_,d||"",p);n.setAttribute(r,p,F,l)}}function M_(n,r,l,d,p,_){const C=_[r];if(null!==C){const F=d.setInput;for(let j=0;j<C.length;){const te=C[j++],we=C[j++],qe=C[j++];null!==F?d.setInput(l,qe,te,we):l[we]=qe}}}function wf(n,r,l){let d=null,p=0;for(;p<l.length;){const _=l[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===d&&(d=[]);const C=n[_];for(let F=0;F<C.length;F+=2)if(C[F]===r){d.push(_,C[F+1],l[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function Cf(n,r,l,d){return[n,!0,!1,r,null,0,d,l,null,null]}function Om(n,r){const l=Lr(r,n);if(qs(l)){const d=l[On];48&l[ci]?Zu(d,l,d.template,l[ki]):l[Yr]>0&&Ud(l)}}function Ud(n){for(let d=Ti(n);null!==d;d=Qo(d))for(let p=Fr;p<d.length;p++){const _=d[p];if(qs(_))if(512&_[ci]){const C=_[On];Zu(C,_,C.template,_[ki])}else _[Yr]>0&&Ud(_)}const l=n[On].components;if(null!==l)for(let d=0;d<l.length;d++){const p=Lr(l[d],n);qs(p)&&p[Yr]>0&&Ud(p)}}function Cp(n,r){const l=Lr(r,n),d=l[On];(function Pm(n,r){for(let l=r.length;l<n.blueprint.length;l++)r.push(n.blueprint[l])})(d,l),wu(d,l,l[ki])}function Hl(n,r){return n[Tn]?n[Yn][ji]=r:n[Tn]=r,n[Yn]=r,r}function Qu(n){for(;n;){n[ci]|=32;const r=pd(n);if(Zi(n)&&!r)return n;n=r}return null}function Nh(n,r,l,d=!0){const p=r[vt];p.begin&&p.begin();try{Zu(n,r,n.template,l)}catch(C){throw d&&Df(r,C),C}finally{p.end&&p.end()}}function Ip(n,r,l){ir(0),r(n,l)}function Sg(n){return n[hr]||(n[hr]=[])}function If(n){return n.cleanup||(n.cleanup=[])}function Ag(n,r,l){return(null===n||jr(n))&&(l=function Tr(n){for(;Array.isArray(n);){if("object"==typeof n[fo])return n;n=n[Ki]}return null}(l[r.index])),l[Et]}function Df(n,r){const l=n[xt],d=l?l.get(Wu,null):null;d&&d.handleError(r)}function Dp(n,r,l,d,p){for(let _=0;_<l.length;){const C=l[_++],F=l[_++],j=r[C],te=n.data[C];null!==te.setInput?te.setInput(j,p,d,F):j[F]=p}}function vl(n,r,l){const d=jo(r,n);cu(n[Et],d,l)}function xp(n,r,l){let d=l?n.styles:null,p=l?n.classes:null,_=0;if(null!==r)for(let C=0;C<r.length;C++){const F=r[C];"number"==typeof F?_=F:1==_?p=Ge(p,F):2==_&&(d=Ge(d,F+": "+r[++C]+";"))}l?n.styles=d:n.stylesWithoutHost=d,l?n.classes=p:n.classesWithoutHost=p}function Fo(n,r,l,d,p=!1){for(;null!==l;){const _=r[l.index];if(null!==_&&d.push(fr(_)),xr(_))for(let F=Fr;F<_.length;F++){const j=_[F],te=j[On].firstChild;null!==te&&Fo(j[On],j,te,d)}const C=l.type;if(8&C)Fo(n,r,l.child,d);else if(32&C){const F=oo(l,r);let j;for(;j=F();)d.push(j)}else if(16&C){const F=oh(r,l);if(Array.isArray(F))d.push(...F);else{const j=pd(r[ui]);Fo(j[On],j,F,d,!0)}}l=p?l.projectionNext:l.next}return d}class Cu{get rootNodes(){const r=this._lView,l=r[On];return Fo(l,r,l.firstChild,[])}constructor(r,l){this._lView=r,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(r){this._lView[ki]=r}get destroyed(){return 128==(128&this._lView[ci])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Yi];if(xr(r)){const l=r[Ms],d=l?l.indexOf(this):-1;d>-1&&(se(r,d),I(l,d))}this._attachedToViewContainer=!1}De(this._lView[On],this._lView)}onDestroy(r){ea(this._lView[On],this._lView,null,r)}markForCheck(){Qu(this._cdRefInjectingView||this._lView)}detach(){this._lView[ci]&=-65}reattach(){this._lView[ci]|=64}detectChanges(){Nh(this._lView[On],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yh(n,r){_d(n,r,r[Et],2,null,null)}(this._lView[On],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=r}}class $c extends Cu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Nh(r[On],r,r[ki],!1)}checkNoChanges(){}get context(){return null}}class zd extends af{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const l=Wn(r);return new Fh(l,this.ngModule)}}function qa(n){const r=[];for(let l in n)n.hasOwnProperty(l)&&r.push({propName:n[l],templateName:l});return r}class Xu{constructor(r,l){this.injector=r,this.parentInjector=l}get(r,l,d){d=$(d);const p=this.injector.get(r,tp,d);return p!==tp||l===tp?p:this.parentInjector.get(r,l,d)}}class Fh extends Sd{get inputs(){return qa(this.componentDef.inputs)}get outputs(){return qa(this.componentDef.outputs)}constructor(r,l){super(),this.componentDef=r,this.ngModule=l,this.componentType=r.type,this.selector=function vu(n){return n.map(op).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!l}create(r,l,d,p){let _=(p=p||this.ngModule)instanceof ml?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new Xu(r,_):r,F=C.get(Eh,null);if(null===F)throw new et(407,!1);const j=C.get(E_,null),te=F.createRenderer(null,this.componentDef),we=this.componentDef.selectors[0][0]||"div",qe=d?function Ig(n,r,l){return n.selectRootElement(r,l===pe.ShadowDom)}(te,d,this.componentDef.encapsulation):Wr(te,we,function $l(n){const r=n.toLowerCase();return"svg"===r?zo:"math"===r?"math":null}(we)),kt=this.componentDef.onPush?288:272,en=Oh(0,null,null,1,0,null,null,null,null,null),wn=jc(null,en,null,kt,null,null,F,te,j,C,null);let Vn,ei;bs(wn);try{const hi=this.componentDef;let Bi,Mn=null;hi.findHostDirectiveDefs?(Bi=[],Mn=new Map,hi.findHostDirectiveDefs(hi,Bi,Mn),Bi.push(hi)):Bi=[hi];const Xi=function O_(n,r){const l=n[On],d=sr;return n[d]=r,Eu(l,d,2,"#host",null)}(wn,qe),uo=function xf(n,r,l,d,p,_,C,F){const j=p[On];!function Mg(n,r,l,d){for(const p of n)r.mergedAttrs=Nn(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(xp(r,r.mergedAttrs,!0),null!==l&&Kp(d,l,r))}(d,n,r,C);const te=_.createRenderer(r,l),we=jc(p,qu(l),null,l.onPush?32:16,p[n.index],n,_,te,F||null,null,null);return j.firstCreatePass&&Rh(j,n,d.length-1),Hl(p,we),p[n.index]=we}(Xi,qe,hi,Bi,wn,F,te);ei=ua(en,sr),qe&&function Og(n,r,l,d){if(d)mi(n,l,["ng-version",wh.full]);else{const{attrs:p,classes:_}=function df(n){const r=[],l=[];let d=1,p=2;for(;d<n.length;){let _=n[d];if("string"==typeof _)2===p?""!==_&&r.push(_,n[++d]):8===p&&l.push(_);else{if(!Do(p))break;p=_}d++}return{attrs:r,classes:l}}(r.selectors[0]);p&&mi(n,l,p),_&&_.length>0&&Nu(n,l,_.join(" "))}}(te,hi,qe,d),void 0!==l&&function Pg(n,r,l){const d=n.projection=[];for(let p=0;p<r.length;p++){const _=l[p];d.push(null!=_?Array.from(_):null)}}(ei,this.ngContentSelectors,l),Vn=function uy(n,r,l,d,p,_){const C=yr(),F=p[On],j=Di(C,p);Vd(F,p,C,l,null,d);for(let we=0;we<l.length;we++)At(xi(p,F,C.directiveStart+we,C),p);vp(F,p,C),j&&At(j,p);const te=xi(p,F,C.directiveStart+C.componentOffset,C);if(n[ki]=p[ki]=te,null!==_)for(const we of _)we(te,r);return _l(F,C,n),te}(uo,hi,Bi,Mn,wn,[Rg]),wu(en,wn,null)}finally{Tl()}return new vc(this.componentType,Vn,Vc(ei,wn),wn,ei)}}class vc extends sf{constructor(r,l,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new $c(p),this.componentType=r}setInput(r,l){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[r])){const _=this._rootLView;Dp(_[On],_,p,r,l),Qu(Lr(this._tNode.index,_))}}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Rg(){const n=yr();Aa(on()[On],n)}function Lh(n){let r=function Ju(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const d=[n];for(;r;){let p;if(jr(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new et(903,!1);p=r.\u0275dir}if(p){if(l){d.push(p);const C=n;C.inputs=Sf(n.inputs),C.declaredInputs=Sf(n.declaredInputs),C.outputs=Sf(n.outputs);const F=p.hostBindings;F&&P_(n,F);const j=p.viewQuery,te=p.contentQueries;if(j&&kg(n,j),te&&dy(n,te),je(n.inputs,p.inputs),je(n.declaredInputs,p.declaredInputs),je(n.outputs,p.outputs),jr(p)&&p.data.animation){const we=n.data;we.animation=(we.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let C=0;C<_.length;C++){const F=_[C];F&&F.ngInherit&&F(n),F===Lh&&(l=!1)}}r=Object.getPrototypeOf(r)}!function Tf(n){let r=0,l=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Nn(p.hostAttrs,l=Nn(l,p.hostAttrs))}}(d)}function Sf(n){return n===fe?{}:n===pt?[]:n}function kg(n,r){const l=n.viewQuery;n.viewQuery=l?(d,p)=>{r(d,p),l(d,p)}:r}function dy(n,r){const l=n.contentQueries;n.contentQueries=l?(d,p,_)=>{r(d,p,_),l(d,p,_)}:r}function P_(n,r){const l=n.hostBindings;n.hostBindings=l?(d,p)=>{r(d,p),l(d,p)}:r}function Sp(n){return r=>{r.findHostDirectiveDefs=Ng,r.hostDirectives=(Array.isArray(n)?n:n()).map(l=>"function"==typeof l?{directive:le(l),inputs:fe,outputs:fe}:{directive:le(l.directive),inputs:Fg(l.inputs),outputs:Fg(l.outputs)})}}function Ng(n,r,l){if(null!==n.hostDirectives)for(const d of n.hostDirectives){const p=Vi(d.directive);fy(p.declaredInputs,d.inputs),Ng(p,r,l),l.set(p,d),r.push(p)}}function Fg(n){if(void 0===n||0===n.length)return fe;const r={};for(let l=0;l<n.length;l+=2)r[n[l]]=n[l+1];return r}function fy(n,r){for(const l in r)r.hasOwnProperty(l)&&(n[r[l]]=n[l])}function Af(n){return!!Mf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Mf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wl(n,r,l){return n[r]=l}function Lo(n,r,l){return!Object.is(n[r],l)&&(n[r]=l,!0)}function jd(n,r,l,d){const p=Lo(n,r,l);return Lo(n,r+1,d)||p}function Nm(n,r,l,d){const p=on();return Lo(p,yo(),r)&&(di(),function Bs(n,r,l,d,p,_){const C=Di(n,r);yc(r[Et],C,_,n.value,l,d,p)}(Wi(),p,n,r,l,d)),Nm}function Bh(n,r,l,d){return Lo(n,yo(),l)?r+Me(l)+d:Hi}function $d(n,r,l,d,p,_){const F=jd(n,Ts(),l,p);return Ss(2),F?r+Me(l)+d+Me(p)+_:Hi}function Lm(n,r,l,d,p,_,C,F){const j=on(),te=di(),we=n+sr,qe=te.firstCreatePass?function gy(n,r,l,d,p,_,C,F,j){const te=r.consts,we=Eu(r,n,4,C||null,hs(te,F));vf(r,l,we,hs(te,j)),Aa(r,we);const qe=we.tView=Oh(2,we,d,p,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,te);return null!==r.queries&&(r.queries.template(r,we),qe.queries=r.queries.embeddedTView(we)),we}(we,te,j,r,l,d,p,_,C):te.data[we];xs(qe,!1);const kt=j[Et].createComment("");gd(te,j,kt,qe),At(kt,j),Hl(j,j[we]=Cf(kt,j,kt,qe)),po(qe)&&gp(te,j,qe),null!=C&&_p(j,qe,F)}function Pp(n){return ts(function ja(){return si.lFrame.contextLView}(),sr+n)}function jg(n,r,l){const d=on();return Lo(d,yo(),r)&&No(di(),Wi(),d,n,r,d[Et],l,!1),jg}function Rp(n,r,l,d,p){const C=p?"class":"style";Dp(n,l,r.inputs[C],C,d)}function kf(n,r,l,d){const p=on(),_=di(),C=sr+n,F=p[Et],j=_.firstCreatePass?function Hg(n,r,l,d,p,_){const C=r.consts,j=Eu(r,n,2,d,hs(C,p));return vf(r,l,j,hs(C,_)),null!==j.attrs&&xp(j,j.attrs,!1),null!==j.mergedAttrs&&xp(j,j.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,j),j}(C,_,p,r,l,d):_.data[C],te=p[C]=Wr(F,r,function Ql(){return si.lFrame.currentNamespace}()),we=po(j);return xs(j,!0),Kp(F,te,j),32!=(32&j.flags)&&gd(_,p,te,j),0===function W(){return si.lFrame.elementDepthCount}()&&At(te,p),function z(){si.lFrame.elementDepthCount++}(),we&&(gp(_,p,j),_l(_,j,p)),null!==d&&_p(p,j),kf}function kp(){let n=yr();tl()?za():(n=n.parent,xs(n,!1));const r=n;!function Ee(){si.lFrame.elementDepthCount--}();const l=di();return l.firstCreatePass&&(Aa(l,n),Er(n)&&l.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Si(n){return 0!=(8&n.flags)}(r)&&Rp(l,r,on(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Gi(n){return 0!=(16&n.flags)}(r)&&Rp(l,r,on(),r.stylesWithoutHost,!1),kp}function $g(n,r,l,d){return kf(n,r,l,d),kp(),$g}function Gd(n,r,l){const d=on(),p=di(),_=n+sr,C=p.firstCreatePass?function Bm(n,r,l,d,p){const _=r.consts,C=hs(_,d),F=Eu(r,n,8,"ng-container",C);return null!==C&&xp(F,C,!0),vf(r,l,F,hs(_,p)),null!==r.queries&&r.queries.elementStart(r,F),F}(_,p,d,r,l):p.data[_];xs(C,!0);const F=d[_]=d[Et].createComment("");return gd(p,d,F,C),At(F,d),po(C)&&(gp(p,d,C),_l(p,C,d)),null!=l&&_p(d,C),Gd}function Np(){let n=yr();const r=di();return tl()?za():(n=n.parent,xs(n,!1)),r.firstCreatePass&&(Aa(r,n),Er(n)&&r.queries.elementEnd(n)),Np}function Fp(n,r,l){return Gd(n,r,l),Np(),Fp}function Vh(){return on()}function Nf(n){return!!n&&"function"==typeof n.then}function Wg(n){return!!n&&"function"==typeof n.subscribe}const Uh=Wg;function Vm(n,r,l,d){const p=on(),_=di(),C=yr();return jh(_,p,p[Et],C,n,r,d),Vm}function zh(n,r){const l=yr(),d=on(),p=di();return jh(p,d,Ag(ps(p.data),l,d),l,n,r),zh}function jh(n,r,l,d,p,_,C){const F=po(d),te=n.firstCreatePass&&If(n),we=r[ki],qe=Sg(r);let kt=!0;if(3&d.type||C){const Vn=Di(d,r),ei=C?C(Vn):Vn,hi=qe.length,Bi=C?Xi=>C(fr(Xi[d.index])):d.index;let Mn=null;if(!C&&F&&(Mn=function Gg(n,r,l,d){const p=n.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const C=p[_];if(C===l&&p[_+1]===d){const F=r[hr],j=p[_+2];return F.length>j?F[j]:null}"string"==typeof C&&(_+=2)}return null}(n,r,p,d.index)),null!==Mn)(Mn.__ngLastListenerFn__||Mn).__ngNextListenerFn__=_,Mn.__ngLastListenerFn__=_,kt=!1;else{_=Lp(d,r,we,_,!1);const Xi=l.listen(ei,p,_);qe.push(_,Xi),te&&te.push(p,Bi,hi,hi+1)}}else _=Lp(d,r,we,_,!1);const en=d.outputs;let wn;if(kt&&null!==en&&(wn=en[p])){const Vn=wn.length;if(Vn)for(let ei=0;ei<Vn;ei+=2){const uo=r[wn[ei]][wn[ei+1]].subscribe(_),ia=qe.length;qe.push(_,uo),te&&te.push(p,d.index,ia,-(ia+1))}}}function Kg(n,r,l,d){try{return lr(6,r,l),!1!==l(d)}catch(p){return Df(n,p),!1}finally{lr(7,r,l)}}function Lp(n,r,l,d,p){return function _(C){if(C===Function)return d;Qu(n.componentOffset>-1?Lr(n.index,r):r);let j=Kg(r,l,d,C),te=_.__ngNextListenerFn__;for(;te;)j=Kg(r,l,te,C)&&j,te=te.__ngNextListenerFn__;return p&&!1===j&&(C.preventDefault(),C.returnValue=!1),j}}function V_(n=1){return function vo(n){return(si.lFrame.contextLView=function to(n,r){for(;n>0;)r=r[wi],n--;return r}(n,si.lFrame.contextLView))[ki]}(n)}function _y(n,r){let l=null;const d=function D_(n){const r=n.attrs;if(null!=r){const l=r.indexOf(5);if(!(1&l))return r[l+1]}return null}(n);for(let p=0;p<r.length;p++){const _=r[p];if("*"!==_){if(null===d?Ch(n,_,!0):_m(d,_))return p}else l=p}return l}function U_(n){const r=on()[ui][$i];if(!r.projection){const d=r.projection=T(n?n.length:1,null),p=d.slice();let _=r.child;for(;null!==_;){const C=n?_y(_,n):0;null!==C&&(p[C]?p[C].projectionNext=_:d[C]=_,p[C]=_),_=_.next}}}function z_(n,r=0,l){const d=on(),p=di(),_=Eu(p,sr+n,16,null,l||null);null===_.projection&&(_.projection=r),za(),32!=(32&_.flags)&&function Zh(n,r,l){Wp(r[Et],0,r,l,Gn(n,l,r),uu(l.parent||r[$i],l,r))}(p,d,_)}function Ff(n,r,l){return Lf(n,"",r,"",l),Ff}function Lf(n,r,l,d,p){const _=on(),C=Bh(_,r,l,d);return C!==Hi&&No(di(),Wi(),_,n,C,_[Et],p,!1),Lf}function Hh(n,r){return n<<17|r<<2}function td(n){return n>>17&32767}function Kd(n){return 2|n}function nd(n){return(131068&n)>>2}function Qg(n,r){return-131069&n|r<<2}function Xg(n){return 1|n}function $_(n,r,l,d,p){const _=n[l+1],C=null===r;let F=d?td(_):nd(_),j=!1;for(;0!==F&&(!1===j||C);){const we=n[F+1];Ey(n[F],r)&&(j=!0,n[F+1]=d?Xg(we):Kd(we)),F=d?td(we):nd(we)}j&&(n[l+1]=d?Kd(_):Xg(_))}function Ey(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&_n(n,r)>=0}const Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jg(n){return n.substring(Bo.key,Bo.keyEnd)}function t_(n,r){const l=Bo.textEnd;return l===r?-1:(r=Bo.keyEnd=function K_(n,r,l){for(;r<l&&n.charCodeAt(r)>32;)r++;return r}(n,Bo.key=r,l),nr(n,r,l))}function nr(n,r,l){for(;r<l&&n.charCodeAt(r)<=32;)r++;return r}function El(n,r,l){return Ec(n,r,l,!1),El}function Wm(n,r){return Ec(n,r,null,!0),Wm}function r_(n){wl(It,Kl,n,!0)}function Kl(n,r){for(let l=function e_(n){return function Vp(n){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=n.length}(n),t_(n,nr(n,0,Bo.textEnd))}(r);l>=0;l=t_(r,l))ve(n,Jg(r),!0)}function Ec(n,r,l,d){const p=on(),_=di(),C=Ss(2);_.firstUpdatePass&&o(_,n,C,d),r!==Hi&&Lo(p,C,r)&&an(_,_.data[Ji()],p,p[Et],n,p[C+1]=function qn(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ye(Za(n)))),n}(r,l),d,C)}function wl(n,r,l,d){const p=di(),_=Ss(2);p.firstUpdatePass&&o(p,null,_,d);const C=on();if(l!==Hi&&Lo(C,_,l)){const F=p.data[Ji()];if(Ri(F,d)&&!u(p,_)){let j=d?F.classesWithoutHost:F.stylesWithoutHost;null!==j&&(l=Ge(j,l||"")),Rp(p,F,C,l,d)}else!function Nt(n,r,l,d,p,_,C,F){p===Hi&&(p=pt);let j=0,te=0,we=0<p.length?p[0]:null,qe=0<_.length?_[0]:null;for(;null!==we||null!==qe;){const kt=j<p.length?p[j+1]:void 0,en=te<_.length?_[te+1]:void 0;let Vn,wn=null;we===qe?(j+=2,te+=2,kt!==en&&(wn=qe,Vn=en)):null===qe||null!==we&&we<qe?(j+=2,wn=we):(te+=2,wn=qe,Vn=en),null!==wn&&an(n,r,l,d,wn,Vn,C,F),we=j<p.length?p[j]:null,qe=te<_.length?_[te]:null}}(p,F,C,C[Et],C[_+1],C[_+1]=function ue(n,r,l){if(null==l||""===l)return pt;const d=[],p=Za(l);if(Array.isArray(p))for(let _=0;_<p.length;_++)n(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&n(d,_,p[_]);else"string"==typeof p&&r(d,p);return d}(n,r,l),d,_)}}function u(n,r){return r>=n.expandoStartIndex}function o(n,r,l,d){const p=n.data;if(null===p[l+1]){const _=p[Ji()],C=u(n,l);Ri(_,d)&&null===r&&!C&&(r=!1),r=function a(n,r,l,d){const p=ps(n);let _=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(l=K(l=L(null,n,r,l,d),r.attrs,d),_=null);else{const C=r.directiveStylingLast;if(-1===C||n[C]!==p)if(l=L(p,n,r,l,d),null===_){let j=function h(n,r,l){const d=l?r.classBindings:r.styleBindings;if(0!==nd(d))return n[td(d)]}(n,r,d);void 0!==j&&Array.isArray(j)&&(j=L(null,n,r,j[1],d),j=K(j,r.attrs,d),function y(n,r,l,d){n[td(l?r.classBindings:r.styleBindings)]=d}(n,r,d,j))}else _=function w(n,r,l){let d;const p=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<p;_++)d=K(d,n[_].hostAttrs,l);return K(d,r.attrs,l)}(n,r,d)}return void 0!==_&&(d?r.residualClasses=_:r.residualStyles=_),l}(p,_,r,d),function H_(n,r,l,d,p,_){let C=_?r.classBindings:r.styleBindings,F=td(C),j=nd(C);n[d]=l;let we,te=!1;if(Array.isArray(l)?(we=l[1],(null===we||_n(l,we)>0)&&(te=!0)):we=l,p)if(0!==j){const kt=td(n[F+1]);n[d+1]=Hh(kt,F),0!==kt&&(n[kt+1]=Qg(n[kt+1],d)),n[F+1]=function j_(n,r){return 131071&n|r<<17}(n[F+1],d)}else n[d+1]=Hh(F,0),0!==F&&(n[F+1]=Qg(n[F+1],d)),F=d;else n[d+1]=Hh(j,0),0===F?F=d:n[j+1]=Qg(n[j+1],d),j=d;te&&(n[d+1]=Kd(n[d+1])),$_(n,we,d,!0),$_(n,we,d,!1),function by(n,r,l,d,p){const _=p?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&_n(_,r)>=0&&(l[d+1]=Xg(l[d+1]))}(r,we,n,d,_),C=Hh(F,j),_?r.classBindings=C:r.styleBindings=C}(p,_,r,l,C,d)}}function L(n,r,l,d,p){let _=null;const C=l.directiveEnd;let F=l.directiveStylingLast;for(-1===F?F=l.directiveStart:F++;F<C&&(_=r[F],d=K(d,_.hostAttrs,p),_!==n);)F++;return null!==n&&(l.directiveStylingLast=F),d}function K(n,r,l){const d=l?1:2;let p=-1;if(null!==r)for(let _=0;_<r.length;_++){const C=r[_];"number"==typeof C?p=C:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ve(n,C,!!l||r[++_]))}return void 0===n?null:n}function It(n,r,l){const d=String(r);""!==d&&!d.includes(" ")&&ve(n,d,l)}function an(n,r,l,d,p,_,C,F){if(!(3&r.type))return;const j=n.data,te=j[F+1],we=function yy(n){return 1==(1&n)}(te)?Dn(j,r,l,p,nd(te),C):void 0;An(we)||(An(_)||function qg(n){return 2==(2&n)}(te)&&(_=Dn(j,null,l,p,F,C)),function Gp(n,r,l,d,p){if(r)p?n.addClass(l,d):n.removeClass(l,d);else{let _=-1===d.indexOf("-")?void 0:ya.DashCase;null==p?n.removeStyle(l,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=ya.Important),n.setStyle(l,d,p,_))}}(d,C,jo(Ji(),l),p,_))}function Dn(n,r,l,d,p,_){const C=null===r;let F;for(;p>0;){const j=n[p],te=Array.isArray(j),we=te?j[1]:j,qe=null===we;let kt=l[p+1];kt===Hi&&(kt=qe?pt:void 0);let en=qe?Lt(kt,d):we===d?kt:void 0;if(te&&!An(en)&&(en=Lt(j,d)),An(en)&&(F=en,C))return F;const wn=n[p+1];p=C?td(wn):nd(wn)}if(null!==r){let j=_?r.residualClasses:r.residualStyles;null!=j&&(F=Lt(j,d))}return F}function An(n){return void 0!==n}function Ri(n,r){return 0!=(n.flags&(r?8:16))}function vr(n,r=""){const l=on(),d=di(),p=n+sr,_=d.firstCreatePass?Eu(d,p,1,r,null):d.data[p],C=l[p]=sh(l[Et],r);gd(d,l,C,_),xs(_,!1)}function Kr(n){return Us("",n,""),Kr}function Us(n,r,l){const d=on(),p=Bh(d,n,r,l);return p!==Hi&&vl(d,Ji(),p),Us}function Jr(n,r,l,d,p){const _=on(),C=$d(_,n,r,l,d,p);return C!==Hi&&vl(_,Ji(),C),Jr}function wc(n,r,l,d,p){wl(ve,Kl,$d(on(),n,r,l,d,p),!0)}function qm(n,r,l){const d=on();return Lo(d,yo(),r)&&No(di(),Wi(),d,n,r,d[Et],l,!0),qm}function Vf(n,r,l){const d=on();if(Lo(d,yo(),r)){const _=di(),C=Wi();No(_,C,d,n,r,Ag(ps(_.data),C,d),l,!0)}return Vf}const Uf=void 0;var Qy=["en",[["a","p"],["AM","PM"],Uf],[["AM","PM"],Uf,Uf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uf,"{1} 'at' {0}",Uf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qm(n){const l=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let xu={};function Cy(n){const r=function o_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=Xm(r);if(l)return l;const d=r.split("-")[0];if(l=Xm(d),l)return l;if("en"===d)return Qy;throw new et(701,!1)}function Dy(n){return Cy(n)[Mi.PluralCase]}function Xm(n){return n in xu||(xu[n]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[n]),xu[n]}var Mi=(()=>((Mi=Mi||{})[Mi.LocaleId=0]="LocaleId",Mi[Mi.DayPeriodsFormat=1]="DayPeriodsFormat",Mi[Mi.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mi[Mi.DaysFormat=3]="DaysFormat",Mi[Mi.DaysStandalone=4]="DaysStandalone",Mi[Mi.MonthsFormat=5]="MonthsFormat",Mi[Mi.MonthsStandalone=6]="MonthsStandalone",Mi[Mi.Eras=7]="Eras",Mi[Mi.FirstDayOfWeek=8]="FirstDayOfWeek",Mi[Mi.WeekendRange=9]="WeekendRange",Mi[Mi.DateFormat=10]="DateFormat",Mi[Mi.TimeFormat=11]="TimeFormat",Mi[Mi.DateTimeFormat=12]="DateTimeFormat",Mi[Mi.NumberSymbols=13]="NumberSymbols",Mi[Mi.NumberFormats=14]="NumberFormats",Mi[Mi.CurrencyCode=15]="CurrencyCode",Mi[Mi.CurrencySymbol=16]="CurrencySymbol",Mi[Mi.CurrencyName=17]="CurrencyName",Mi[Mi.Currencies=18]="Currencies",Mi[Mi.Directionality=19]="Directionality",Mi[Mi.PluralCase=20]="PluralCase",Mi[Mi.ExtraData=21]="ExtraData",Mi))();const Xy=["zero","one","two","few","many"],Zd="en-US",a_={marker:"element"},Jm={marker:"ICU"};var Ys=(()=>((Ys=Ys||{})[Ys.SHIFT=2]="SHIFT",Ys[Ys.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ys[Ys.COMMENT=2]="COMMENT",Ys))();let X_=Zd;function J_(n){(function rt(n,r){null==n&&dt(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(X_=n.toLowerCase().replace(/_/g,"-"))}function l_(n,r,l){const d=r.insertBeforeIndex,p=Array.isArray(d)?d[0]:d;return null===p?va(n,0,l):fr(l[p])}function eg(n,r,l,d,p){const _=r.insertBeforeIndex;if(Array.isArray(_)){let C=d,F=null;if(3&r.type||(F=C,C=p),null!==C&&-1===r.componentOffset)for(let j=1;j<_.length;j++)Ui(n,C,l[_[j]],F,!1)}}function Ty(n,r){if(n.push(r),n.length>1)for(let l=n.length-2;l>=0;l--){const d=n[l];nv(d)||Xv(d,r)&&null===iv(d)&&Jv(d,r.index)}}function nv(n){return!(64&n.type)}function Xv(n,r){return nv(r)||n.index>r.index}function iv(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Jv(n,r){const l=n.insertBeforeIndex;Array.isArray(l)?l[0]=r:(ba(l_,eg),n.insertBeforeIndex=r)}function c_(n,r){const l=n.data[r];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function tg(n,r,l){const d=Yu(n,l,64,null,null);return Ty(r,d),d}function sd(n,r){const l=r[n.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function Sy(n){return n>>>17}function Ay(n){return(131070&n)>>>1}let ng=0,ig=0;function Oy(n,r,l,d){const p=l[Et];let C,_=null;for(let F=0;F<r.length;F++){const j=r[F];if("string"==typeof j){const te=r[++F];null===l[te]&&(l[te]=sh(p,j))}else if("number"==typeof j)switch(1&j){case 0:const te=Sy(j);let we,qe;if(null===_&&(_=te,C=zi(p,d)),te===_?(we=d,qe=C):(we=null,qe=fr(l[te])),null!==qe){const Vn=Ay(j);Ui(p,qe,l[Vn],we,!1);const hi=c_(n,Vn);if(null!==hi&&"object"==typeof hi){const Bi=sd(hi,l);null!==Bi&&Oy(n,hi.create[Bi],l,l[hi.anchorIdx])}}break;case 1:const en=r[++F],wn=r[++F];yc(p,jo(j>>>1,l),null,null,en,wn,null)}else switch(j){case Jm:const te=r[++F],we=r[++F];null===l[we]&&At(l[we]=zl(p,te),l);break;case a_:const qe=r[++F],kt=r[++F];null===l[kt]&&At(l[kt]=Wr(p,qe,null),l)}}}function Py(n,r,l,d,p){for(let _=0;_<l.length;_++){const C=l[_],F=l[++_];if(C&p){let j="";for(let te=_+1;te<=_+F;te++){const we=l[te];if("string"==typeof we)j+=we;else if("number"==typeof we)if(we<0)j+=Me(r[d-we]);else{const qe=we>>>2;switch(3&we){case 1:const kt=l[++te],en=l[++te],wn=n.data[qe];"string"==typeof wn?yc(r[Et],r[qe],null,wn,kt,j,en):No(n,wn,r,kt,j,r[Et],en,!1);break;case 0:const Vn=r[qe];null!==Vn&&cu(r[Et],Vn,j);break;case 2:av(n,c_(n,qe),r,j);break;case 3:Ry(n,c_(n,qe),d,r)}}}}else{const j=l[_+1];if(j>0&&3==(3&j)){const we=c_(n,j>>>2);r[we.currentCaseLViewIndex]<0&&Ry(n,we,d,r)}}_+=F}}function Ry(n,r,l,d){let p=d[r.currentCaseLViewIndex];if(null!==p){let _=ng;p<0&&(p=d[r.currentCaseLViewIndex]=~p,_=-1),Py(n,d,r.update[p],l,_)}}function av(n,r,l,d){const p=function lv(n,r){let l=n.cases.indexOf(r);if(-1===l)switch(n.type){case 1:{const d=function Jy(n,r){const l=Dy(r)(parseInt(n,10)),d=Xy[l];return void 0!==d?d:"other"}(r,function xy(){return X_}());l=n.cases.indexOf(d),-1===l&&"other"!==d&&(l=n.cases.indexOf("other"));break}case 0:l=n.cases.indexOf("other")}return-1===l?null:l}(r,d);if(sd(r,l)!==p&&(ky(n,r,l),l[r.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=l[r.anchorIdx];C&&Oy(n,r.create[p],l,C)}}function ky(n,r,l){let d=sd(r,l);if(null!==d){const p=r.remove[d];for(let _=0;_<p.length;_++){const C=p[_];if(C>0){const F=jo(C,l);null!==F&&ah(l[Et],F)}else ky(n,c_(n,~C),l)}}}function Hp(){const n=[];let l,d,r=-1;function _(F,j){r=0;const te=sd(F,j);d=null!==te?F.remove[te]:pt}function C(){if(r<d.length){const F=d[r++];return F>0?l[F]:(n.push(r,d),_(l[On].data[~F],l),C())}return 0===n.length?null:(d=n.pop(),r=n.pop(),C())}return function p(F,j){for(l=j;n.length;)n.pop();return _(F.value,j),C}}const u_=/\ufffd(\d+):?\d*\ufffd/gi,n0=/\ufffd(\d+)\ufffd/,uv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,d_="\ufffd",r0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hv=/\uE500/g;function ey(n,r,l,d,p,_,C){const F=Hc(n,d,1,null);let j=F<<Ys.SHIFT,te=da();r===te&&(te=null),null===te&&(j|=Ys.APPEND_EAGERLY),C&&(j|=Ys.COMMENT,function fd(n){void 0===Ro&&(Ro=n())}(Hp)),p.push(j,null===_?"":_);const we=Yu(n,F,C?32:1,null===_?"":_,null);Ty(l,we);const qe=we.index;return xs(we,!1),null!==te&&r!==te&&function jf(n,r){let l=n.insertBeforeIndex;null===l?(ba(l_,eg),l=n.insertBeforeIndex=[null,r]):(function Kt(n,r,l){n!=r&&dt(l,n,r,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(r))}(te,qe),we}function Gh(n,r,l,d,p,_,C){const F=C.match(u_),j=ey(n,r,l,_,d,F?null:C,!1);F&&rg(p,C,j.index,null,0,null)}function rg(n,r,l,d,p,_){const C=n.length,F=C+1;n.push(null,null);const j=C+2,te=r.split(u_);let we=0;for(let qe=0;qe<te.length;qe++){const kt=te[qe];if(1&qe){const en=p+parseInt(kt,10);n.push(-1-en),we|=Ly(en)}else""!==kt&&n.push(kt)}return n.push(l<<2|(d?1:0)),d&&n.push(d,_),n[C]=we,n[F]=n.length-j,we}function Ly(n){return 1<<Math.min(n,31)}function By(n){let r,_,l="",d=0,p=!1;for(;null!==(r=r0.exec(n));)p?r[0]===`${d_}/*${_}${d_}`&&(d=r.index,p=!1):(l+=n.substring(d,r.index+r[0].length),_=r[1],p=!0);return l+=n.slice(d),l}function vv(n,r,l,d,p,_){let C=0;const F={type:p.type,currentCaseLViewIndex:Hc(n,r,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function c(n,r,l){n.push(Ly(r.mainBinding),2,-1-r.mainBinding,l<<2|2)})(l,p,_),function zf(n,r,l){const d=n.data[r];null===d?n.data[r]=l:d.value=l}(n,_,F);const j=p.values;for(let te=0;te<j.length;te++){const we=j[te],qe=[];for(let kt=0;kt<we.length;kt++){const en=we[kt];if("string"!=typeof en){const wn=qe.push(en)-1;we[kt]=`\x3c!--\ufffd${wn}\ufffd--\x3e`}}C=i(n,F,r,l,d,p.cases[te],we.join(""),qe)|C}C&&function m(n,r,l){n.push(r,1,l<<2|3)}(l,C,_)}function s0(n){const r=[],l=[];let d=1,p=0;const _=h_(n=n.replace(uv,function(C,F,j){return d="select"===j?0:1,p=parseInt(F.slice(1),10),""}));for(let C=0;C<_.length;){let F=_[C++].trim();1===d&&(F=F.replace(/\s*(?:=)?(\w+)\s*/,"$1")),F.length&&r.push(F);const j=h_(_[C++]);r.length>l.length&&l.push(j)}return{type:d,mainBinding:p,cases:r,values:l}}function h_(n){if(!n)return[];let r=0;const l=[],d=[],p=/[{}]/g;let _;for(p.lastIndex=0;_=p.exec(n);){const F=_.index;if("}"==_[0]){if(l.pop(),0==l.length){const j=n.substring(r,F);uv.test(j)?d.push(s0(j)):d.push(j),r=F+1}}else{if(0==l.length){const j=n.substring(r,F);d.push(j),r=F+1}l.push("{")}}const C=n.substring(r);return d.push(C),d}function i(n,r,l,d,p,_,C,F){const j=[],te=[],we=[];r.cases.push(_),r.create.push(j),r.remove.push(te),r.update.push(we);const kt=ur(function Li(){return void 0!==uc?uc:typeof document<"u"?document:void 0}()).getInertBodyElement(C),en=fu(kt)||kt;return en?e(n,r,l,d,j,te,we,en,p,F,0):0}function e(n,r,l,d,p,_,C,F,j,te,we){let qe=0,kt=F.firstChild;for(;kt;){const en=Hc(n,l,1,null);switch(kt.nodeType){case Node.ELEMENT_NODE:const wn=kt,Vn=wn.tagName.toLowerCase();if(Yf.hasOwnProperty(Vn)){v(p,a_,Vn,j,en),n.data[en]=Vn;const Mn=wn.attributes;for(let Xi=0;Xi<Mn.length;Xi++){const uo=Mn.item(Xi),ia=uo.name.toLowerCase();uo.value.match(u_)?Xp.hasOwnProperty(ia)&&rg(C,uo.value,en,uo.name,0,Xh[ia]?fh:null):k(p,en,uo)}qe=e(n,r,l,d,p,_,C,kt,en,te,we+1)|qe,t(_,en,we)}break;case Node.TEXT_NODE:const ei=kt.textContent||"",hi=ei.match(u_);v(p,null,hi?"":ei,j,en),t(_,en,we),hi&&(qe=rg(C,ei,en,null,0,null)|qe);break;case Node.COMMENT_NODE:const Bi=n0.exec(kt.textContent||"");if(Bi){const Xi=te[parseInt(Bi[1],10)];v(p,Jm,"",j,en),vv(n,l,d,j,Xi,en),s(_,en,we)}}kt=kt.nextSibling}return qe}function t(n,r,l){0===l&&n.push(r)}function s(n,r,l){0===l&&(n.push(~r),n.push(r))}function v(n,r,l,d,p){null!==r&&n.push(r),n.push(l,p,function Wh(n,r,l){return n|r<<17|l<<1}(0,d,p))}function k(n,r,l){n.push(r<<1|1,l.name,l.value)}function Qi(n,r,l=-1){const d=di(),p=on(),_=sr+n,C=hs(d.consts,r),F=da();d.firstCreatePass&&function pv(n,r,l,d,p,_){const C=da(),F=[],j=[],te=[[]];p=function yv(n,r){if(function _v(n){return-1===n}(r))return By(n);{const l=n.indexOf(`:${r}${d_}`)+2+r.toString().length,d=n.search(new RegExp(`${d_}\\/\\*\\d+:${r}${d_}`));return By(n.substring(l,d))}}(p,_);const we=function fv(n){return n.replace(hv," ")}(p).split(dv);for(let qe=0;qe<we.length;qe++){let kt=we[qe];if(1&qe){const en=47===kt.charCodeAt(0),Vn=(kt.charCodeAt(en?1:0),sr+Number.parseInt(kt.substring(en?2:1)));if(en)te.shift(),xs(da(),!1);else{const ei=tg(n,te[0],Vn);te.unshift([]),xs(ei,!0)}}else{const en=h_(kt);for(let wn=0;wn<en.length;wn++){let Vn=en[wn];if(1&wn){const ei=Vn;if("object"!=typeof ei)throw new Error(`Unable to parse ICU expression in "${p}" message.`);vv(n,l,j,r,ei,ey(n,C,te[0],l,F,"",!0).index)}else""!==Vn&&Gh(n,C,te[0],F,j,l,Vn)}}}n.data[d]={create:F,update:j}}(d,null===F?0:F.index,p,_,C,l);const j=d.data[_],we=li(d,F===p[$i]?null:F,p);(function ov(n,r,l,d){const p=n[Et];for(let _=0;_<r.length;_++){const C=r[_++],F=r[_],te=(C&Ys.APPEND_EAGERLY)===Ys.APPEND_EAGERLY,we=C>>>Ys.SHIFT;let qe=n[we];null===qe&&(qe=n[we]=(C&Ys.COMMENT)===Ys.COMMENT?p.createComment(F):sh(p,F)),te&&null!==l&&Ui(p,l,qe,d,!1)}})(p,j.create,we,F&&8&F.type?p[F.index]:null),ha(!0)}function ar(n,r,l){Qi(n,r,l),function Mr(){ha(!1)}()}function co(n){return function rv(n){n&&(ng|=1<<Math.min(ig,31)),ig++}(Lo(on(),yo(),n)),co}function Cs(n){!function sv(n,r,l){if(ig>0){const d=n.data[l];Py(n,r,Array.isArray(d)?d:d.update,Ts()-ig-1,ng)}ng=0,ig=0}(di(),on(),n+sr)}function f_(n,r,l,d,p){if(n=le(n),Array.isArray(n))for(let _=0;_<n.length;_++)f_(n[_],r,l,d,p);else{const _=di(),C=on();let F=Hu(n)?n:le(n.provide),j=Td(n);const te=yr(),we=1048575&te.providerIndexes,qe=te.directiveStart,kt=te.providerIndexes>>20;if(Hu(n)||!n.multi){const en=new Je(j,p,Ku),wn=Ev(F,r,p?we:we+kt,qe);-1===wn?(vi(Su(te,C),_,F),bv(_,n,r.length),r.push(F),te.directiveStart++,te.directiveEnd++,p&&(te.providerIndexes+=1048576),l.push(en),C.push(en)):(l[wn]=en,C[wn]=en)}else{const en=Ev(F,r,we+kt,qe),wn=Ev(F,r,we,we+kt),ei=wn>=0&&l[wn];if(p&&!ei||!p&&!(en>=0&&l[en])){vi(Su(te,C),_,F);const hi=function Ub(n,r,l,d,p){const _=new Je(n,l,Ku);return _.multi=[],_.index=r,_.componentProviders=0,o0(_,p,d&&!l),_}(p?Vb:Bb,l.length,p,d,j);!p&&ei&&(l[wn].providerFactory=hi),bv(_,n,r.length,0),r.push(F),te.directiveStart++,te.directiveEnd++,p&&(te.providerIndexes+=1048576),l.push(hi),C.push(hi)}else bv(_,n,en>-1?en:wn,o0(l[p?wn:en],j,!p&&d));!p&&d&&ei&&l[wn].componentProviders++}}}function bv(n,r,l,d){const p=Hu(r),_=function mu(n){return!!n.useClass}(r);if(p||_){const j=(_?le(r.useClass):r).prototype.ngOnDestroy;if(j){const te=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const we=te.indexOf(l);-1===we?te.push(l,[d,j]):te[we+1].push(d,j)}else te.push(l,j)}}}function o0(n,r,l){return l&&n.componentProviders++,n.multi.push(r)-1}function Ev(n,r,l,d){for(let p=l;p<d;p++)if(r[p]===n)return p;return-1}function Bb(n,r,l,d){return wv(this.multi,[])}function Vb(n,r,l,d){const p=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,F=xi(l,l[On],this.providerFactory.index,d);_=F.slice(0,C),wv(p,_);for(let j=C;j<F.length;j++)_.push(F[j])}else _=[],wv(p,_);return _}function wv(n,r){for(let l=0;l<n.length;l++)r.push((0,n[l])());return r}function a0(n,r=[]){return l=>{l.providersResolver=(d,p)=>function Hf(n,r,l){const d=di();if(d.firstCreatePass){const p=jr(n);f_(l,d.data,d.blueprint,p,!0),f_(r,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,r)}}class p_{}class l0{}function zb(n,r){return new c0(n,r??null)}class c0 extends p_{constructor(r,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zd(this);const d=Dr(r);this._bootstrapComponents=gl(d.bootstrap),this._r3Injector=xh(r,l,[{provide:p_,useValue:this},{provide:af,useValue:this.componentFactoryResolver}],ye(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Cv extends l0{constructor(r){super(),this.moduleType=r}create(r){return new c0(this.moduleType,r)}}class jb extends p_{constructor(r,l,d){super(),this.componentFactoryResolver=new zd(this),this.instance=null;const p=new $u([...r,{provide:p_,useValue:this},{provide:af,useValue:this.componentFactoryResolver}],l||Bc(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Iv(n,r,l=null){return new jb(n,r,l).injector}let Hb=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=rm(0,l.type),p=d.length>0?Iv([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,p)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=He({token:n,providedIn:"environment",factory:()=>new n(oe(ml))}),n})();function u0(n){n.getStandaloneInjector=r=>r.get(Hb).getOrCreateStandaloneInjector(n)}function _0(n,r,l){const d=Hr()+n,p=on();return p[d]===Hi?Wl(p,d,l?r.call(l):r()):function Of(n,r){return n[r]}(p,d)}function y0(n,r,l,d){return E0(on(),Hr(),n,r,l,d)}function v0(n,r,l,d,p){return function w0(n,r,l,d,p,_,C){const F=r+l;return jd(n,F,p,_)?Wl(n,F+2,C?d.call(C,p,_):d(p,_)):ty(n,F+2)}(on(),Hr(),n,r,l,d,p)}function b0(n,r,l,d,p,_){return function C0(n,r,l,d,p,_,C,F){const j=r+l;return function Ap(n,r,l,d,p){const _=jd(n,r,l,d);return Lo(n,r+2,p)||_}(n,j,p,_,C)?Wl(n,j+3,F?d.call(F,p,_,C):d(p,_,C)):ty(n,j+3)}(on(),Hr(),n,r,l,d,p,_)}function ty(n,r){const l=n[r];return l===Hi?void 0:l}function E0(n,r,l,d,p,_){const C=r+l;return Lo(n,C,p)?Wl(n,C+1,_?d.call(_,p):d(p)):ty(n,C+1)}function x0(n,r){const l=di();let d;const p=n+sr;l.firstCreatePass?(d=function rE(n,r){if(r)for(let l=r.length-1;l>=0;l--){const d=r[l];if(n===d.name)return d}}(r,l.pipeRegistry),l.data[p]=d,d.onDestroy&&(l.destroyHooks??(l.destroyHooks=[])).push(p,d.onDestroy)):d=l.data[p];const _=d.factory||(d.factory=ds(d.type)),C=ft(Ku);try{const F=Dc(!1),j=_();return Dc(F),function B_(n,r,l,d){l>=n.data.length&&(n.data[l]=null,n.blueprint[l]=null),r[l]=d}(l,on(),p,j),j}finally{ft(C)}}function T0(n,r,l){const d=n+sr,p=on(),_=ts(p,d);return function ny(n,r){return n[On].data[r].pure}(p,d)?E0(p,Hr(),r,_.transform,l,_):_.transform(l)}function xv(n){return r=>{setTimeout(n,void 0,r)}}const Kh=class cE extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,l,d){let p=r,_=l||(()=>null),C=d;if(r&&"object"==typeof r){const j=r;p=j.next?.bind(j),_=j.error?.bind(j),C=j.complete?.bind(j)}this.__isAsync&&(_=xv(_),p&&(p=xv(p)),C&&(C=xv(C)));const F=super.subscribe({next:p,error:_,complete:C});return r instanceof O.w0&&r.add(F),F}};function uE(){return this._results[Symbol.iterator]()}class Vy{get changes(){return this._changes||(this._changes=new Kh)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Vy.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=uE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,l){return this._results.reduce(r,l)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,l){const d=this;d.dirty=!1;const p=function Ns(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function gs(n,r,l){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],_=r[d];if(l&&(p=l(p),_=l(_)),_!==p)return!1}return!0}(d._results,p,l))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let iy=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();const dE=iy,hE=class extends dE{constructor(r,l,d){super(),this._declarationLView=r,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(r,l){const d=this._declarationTContainer.tView,p=jc(this._declarationLView,d,r,16,null,d.declTNode,null,null,null,null,l||null);p[Oi]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[es];return null!==C&&(p[es]=C.createEmbeddedView(d)),wu(d,p,r),new Cu(p)}};function fE(){return Uy(yr(),on())}function Uy(n,r){return 4&n.type?new hE(r,n,Vc(n,r)):null}let zy=(()=>{class n{}return n.__NG_ELEMENT_ID__=pE,n})();function pE(){return M0(yr(),on())}const mE=zy,S0=class extends mE{constructor(r,l,d){super(),this._lContainer=r,this._hostTNode=l,this._hostLView=d}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const r=tr(this._hostTNode,this._hostLView);if(ms(r)){const l=En(r,this._hostLView),d=Rn(r);return new Rs(l[On].data[d+8],l)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const l=A0(this._lContainer);return null!==l&&l[r]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(r,l,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const C=r.createEmbeddedView(l||{},_);return this.insert(C,p),C}createComponent(r,l,d,p,_){const C=r&&!function Ko(n){return"function"==typeof n}(r);let F;if(C)F=l;else{const qe=l||{};F=qe.index,d=qe.injector,p=qe.projectableNodes,_=qe.environmentInjector||qe.ngModuleRef}const j=C?r:new Fh(Wn(r)),te=d||this.parentInjector;if(!_&&null==j.ngModule){const kt=(C?te:this.parentInjector).get(ml,null);kt&&(_=kt)}const we=j.create(te,p,void 0,_);return this.insert(we.hostView,F),we}insert(r,l){const d=r._lView,p=d[On];if(function _o(n){return xr(n[Yi])}(d)){const we=this.indexOf(r);if(-1!==we)this.detach(we);else{const qe=d[Yi],kt=new S0(qe,qe[$i],qe[Yi]);kt.detach(kt.indexOf(r))}}const _=this._adjustIndex(l),C=this._lContainer;!function g(n,r,l,d){const p=Fr+d,_=l.length;d>0&&(l[p-1][ji]=r),d<_-Fr?(r[ji]=l[p],Es(l,Fr+d,r)):(l.push(r),r[ji]=null),r[Yi]=l;const C=r[Oi];null!==C&&l!==C&&function b(n,r){const l=n[Hs];r[ui]!==r[Yi][Yi][ui]&&(n[js]=!0),null===l?n[Hs]=[r]:l.push(r)}(C,r);const F=r[es];null!==F&&F.insertView(n),r[ci]|=64}(p,d,C,_);const F=du(_,C),j=d[Et],te=zi(j,C[Uo]);return null!==te&&function ko(n,r,l,d,p,_){d[Ki]=p,d[$i]=r,_d(n,d,l,1,p,_)}(p,C[$i],j,d,te,F),r.attachToViewContainerRef(),Es(Tv(C),_,r),r}move(r,l){return this.insert(r,l)}indexOf(r){const l=A0(this._lContainer);return null!==l?l.indexOf(r):-1}remove(r){const l=this._adjustIndex(r,-1),d=se(this._lContainer,l);d&&(I(Tv(this._lContainer),l),De(d[On],d))}detach(r){const l=this._adjustIndex(r,-1),d=se(this._lContainer,l);return d&&null!=I(Tv(this._lContainer),l)?new Cu(d):null}_adjustIndex(r,l=0){return r??this.length+l}};function A0(n){return n[Ms]}function Tv(n){return n[Ms]||(n[Ms]=[])}function M0(n,r){let l;const d=r[n.index];if(xr(d))l=d;else{let p;if(8&n.type)p=fr(d);else{const _=r[Et];p=_.createComment("");const C=Di(n,r);Ui(_,zi(_,C),p,function lc(n,r){return n.nextSibling(r)}(_,C),!1)}r[n.index]=l=Cf(d,r,p,n),Hl(r,l)}return new S0(l,n,r)}class Sv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(r=[]){this.queries=r}createEmbeddedView(r){const l=r.queries;if(null!==l){const d=null!==r.contentQueries?r.contentQueries[0]:l.length,p=[];for(let _=0;_<d;_++){const C=l.getByIndex(_);p.push(this.queries[C.indexInDeclarationView].clone())}return new Av(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let l=0;l<this.queries.length;l++)null!==V0(r,l).matches&&this.queries[l].setDirty()}}class O0{constructor(r,l,d=null){this.predicate=r,this.flags=l,this.read=d}}class Mv{constructor(r=[]){this.queries=r}elementStart(r,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,l)}elementEnd(r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(r)}embeddedTView(r){let l=null;for(let d=0;d<this.length;d++){const p=null!==l?l.length:0,_=this.getByIndex(d).embeddedTView(r,p);_&&(_.indexInDeclarationView=d,null!==l?l.push(_):l=[_])}return null!==l?new Mv(l):null}template(r,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,l)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ov{constructor(r,l=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(r,l){this.isApplyingToNode(l)&&this.matchTNode(r,l)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,l){this.elementStart(r,l)}embeddedTView(r,l){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,l),new Ov(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(r,l,gE(l,_)),this.matchTNodeWithReadOption(r,l,Jc(l,r,_,!1,!1))}else d===iy?4&l.type&&this.matchTNodeWithReadOption(r,l,-1):this.matchTNodeWithReadOption(r,l,Jc(l,r,d,!1,!1))}matchTNodeWithReadOption(r,l,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===fc||p===zy||p===iy&&4&l.type)this.addMatch(l.index,-2);else{const _=Jc(l,r,p,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,d)}}addMatch(r,l){null===this.matches?this.matches=[r,l]:this.matches.push(r,l)}}function gE(n,r){const l=n.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===r)return l[d+1];return null}function yE(n,r,l,d){return-1===l?function _E(n,r){return 11&n.type?Vc(n,r):4&n.type?Uy(n,r):null}(r,n):-2===l?function vE(n,r,l){return l===fc?Vc(r,n):l===iy?Uy(r,n):l===zy?M0(r,n):void 0}(n,r,d):xi(n,n[On],l,r)}function P0(n,r,l,d){const p=r[es].queries[d];if(null===p.matches){const _=n.data,C=l.matches,F=[];for(let j=0;j<C.length;j+=2){const te=C[j];F.push(te<0?null:yE(r,_[te],C[j+1],l.metadata.read))}p.matches=F}return p.matches}function Pv(n,r,l,d){const p=n.queries.getByIndex(l),_=p.matches;if(null!==_){const C=P0(n,r,p,l);for(let F=0;F<_.length;F+=2){const j=_[F];if(j>0)d.push(C[F/2]);else{const te=_[F+1],we=r[-j];for(let qe=Fr;qe<we.length;qe++){const kt=we[qe];kt[Oi]===kt[Yi]&&Pv(kt[On],kt,te,d)}if(null!==we[Hs]){const qe=we[Hs];for(let kt=0;kt<qe.length;kt++){const en=qe[kt];Pv(en[On],en,te,d)}}}}}return d}function R0(n){const r=on(),l=di(),d=$o();ir(d+1);const p=V0(l,d);if(n.dirty&&function xa(n){return 4==(4&n[ci])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const _=p.crossesNgTemplate?Pv(l,r,d,[]):P0(l,r,p,d);n.reset(_,_u),n.notifyOnChanges()}return!0}return!1}function k0(n,r,l){const d=di();d.firstCreatePass&&(B0(d,new O0(n,r,l),-1),2==(2&r)&&(d.staticViewQueries=!0)),L0(d,on(),r)}function N0(n,r,l,d){const p=di();if(p.firstCreatePass){const _=yr();B0(p,new O0(r,l,d),_.index),function EE(n,r){const l=n.contentQueries||(n.contentQueries=[]);r!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,r)}(p,n),2==(2&l)&&(p.staticContentQueries=!0)}L0(p,on(),l)}function F0(){return function bE(n,r){return n[es].queries[r].queryList}(on(),$o())}function L0(n,r,l){const d=new Vy(4==(4&l));ea(n,r,d,d.destroy),null===r[es]&&(r[es]=new Av),r[es].queries.push(new Sv(d))}function B0(n,r,l){null===n.queries&&(n.queries=new Mv),n.queries.track(new Ov(r,l))}function V0(n,r){return n.queries.getByIndex(r)}function U0(n,r){return Uy(n,r)}function Rv(n){return!!Dr(n)}function Hy(...n){}const rb=new Pi("Application Initializer");let $y=(()=>{class n{constructor(l){this.appInits=l,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Nf(_))l.push(_);else if(Uh(_)){const C=new Promise((F,j)=>{_.subscribe({complete:F,error:j})});l.push(C)}}Promise.all(l).then(()=>{d()}).catch(p=>{this.reject(p)}),0===l.length&&d(),this.initialized=!0}}return n.\u0275fac=function(l){return new(l||n)(oe(rb,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sb=new Pi("AppId",{providedIn:"root",factory:function ob(){return`${Bv()}${Bv()}${Bv()}`}});function Bv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ab=new Pi("Platform Initializer"),zE=new Pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jE=new Pi("AnimationModuleType");let HE=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wy=new Pi("LocaleId",{providedIn:"root",factory:()=>N(Wy,xe.Optional|xe.SkipSelf)||function $E(){return typeof $localize<"u"&&$localize.locale||Zd}()}),WE=new Pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GE{constructor(r,l){this.ngModuleFactory=r,this.componentFactories=l}}let KE=(()=>{class n{compileModuleSync(l){return new Cv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),_=gl(Dr(l).declarations).reduce((C,F)=>{const j=Wn(F);return j&&C.push(new Fh(j)),C},[]);return new GE(d,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function Vv(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class od{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kh(!1),this.onMicrotaskEmpty=new Kh(!1),this.onStable=new Kh(!1),this.onError=new Kh(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&l,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function QE(){let n=_t.requestAnimationFrame,r=_t.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ew(n){const r=()=>{!function JE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_t,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zv(n),n.isCheckStableRunning=!0,Uv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,p,_,C,F)=>{try{return ub(n),l.invokeTask(p,_,C,F)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),db(n)}},onInvoke:(l,d,p,_,C,F,j)=>{try{return ub(n),l.invoke(p,_,C,F,j)}finally{n.shouldCoalesceRunChangeDetection&&r(),db(n)}},onHasTask:(l,d,p,_)=>{l.hasTask(p,_),d===p&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,zv(n),Uv(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,d,p,_)=>(l.handleError(p,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!od.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(od.isInAngularZone())throw new et(909,!1)}run(r,l,d){return this._inner.run(r,l,d)}runTask(r,l,d,p){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+p,r,XE,Hy,Hy);try{return _.runTask(C,l,d)}finally{_.cancelTask(C)}}runGuarded(r,l,d){return this._inner.runGuarded(r,l,d)}runOutsideAngular(r){return this._outer.run(r)}}const XE={};function Uv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ub(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function db(n){n._nesting--,Uv(n)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kh,this.onMicrotaskEmpty=new Kh,this.onStable=new Kh,this.onError=new Kh}run(r,l,d){return r.apply(l,d)}runGuarded(r,l,d){return r.apply(l,d)}runOutsideAngular(r){return r()}runTask(r,l,d,p){return r.apply(l,d)}}const hb=new Pi(""),fb=new Pi("");let jv,nw=(()=>{class n{constructor(l,d,p){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jv||(function iw(n){jv=n}(p),p.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{od.assertNotInAngularZone(),Vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:p})}whenStable(l,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,p){return[]}}return n.\u0275fac=function(l){return new(l||n)(oe(od),oe(pb),oe(fb))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),pb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return jv?.findTestabilityInTree(this,l,d)??null}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $f=!1;let $p=null;const mb=new Pi("AllowMultipleToken"),Hv=new Pi("PlatformDestroyListeners"),gb=new Pi("appBootstrapListener");class ow{constructor(r,l){this.name=r,this.token=l}}function yb(n,r,l=[]){const d=`Platform: ${r}`,p=new Pi(d);return(_=[])=>{let C=$v();if(!C||C.injector.get(mb,!1)){const F=[...l,..._,{provide:p,useValue:!0}];n?n(F):function aw(n){if($p&&!$p.get(mb,!1))throw new et(400,!1);$p=n;const r=n.get(bb);(function _b(n){const r=n.get(ab,null);r&&r.forEach(l=>l())})(n)}(function vb(n=[],r){return Uc.create({name:r,providers:[{provide:Xf,useValue:"platform"},{provide:Hv,useValue:new Set([()=>$p=null])},...n]})}(F,d))}return function cw(n){const r=$v();if(!r)throw new et(401,!1);return r}()}}function $v(){return $p?.get(bb)??null}let bb=(()=>{class n{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const p=function wb(n,r){let l;return l="noop"===n?new tw:("zone.js"===n?void 0:n)||new od(r),l}(d?.ngZone,function Eb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),_=[{provide:od,useValue:p}];return p.run(()=>{const C=Uc.create({providers:_,parent:this.injector,name:l.moduleType.name}),F=l.create(C),j=F.injector.get(Wu,null);if(!j)throw new et(402,!1);return p.runOutsideAngular(()=>{const te=p.onError.subscribe({next:we=>{j.handleError(we)}});F.onDestroy(()=>{Ky(this._modules,F),te.unsubscribe()})}),function Cb(n,r,l){try{const d=l();return Nf(d)?d.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}(j,p,()=>{const te=F.injector.get($y);return te.runInitializers(),te.donePromise.then(()=>(J_(F.injector.get(Wy,Zd)||Zd),this._moduleDoBootstrap(F),F))})})}bootstrapModule(l,d=[]){const p=Ib({},d);return function rw(n,r,l){const d=new Cv(l);return Promise.resolve(d)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(l){const d=l.injector.get(Gy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new et(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Hv,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(l){return new(l||n)(oe(Uc))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ib(n,r){return Array.isArray(r)?r.reduce(Ib,n):{...n,...r}}let Gy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,p){this._zone=l,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new P.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),C=new P.y(F=>{let j;this._zone.runOutsideAngular(()=>{j=this._zone.onStable.subscribe(()=>{od.assertNotInAngularZone(),Vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{od.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{j.unsubscribe(),te.unsubscribe()}});this.isStable=(0,R.T)(_,C.pipe((0,ae.B)()))}bootstrap(l,d){const p=l instanceof Sd;if(!this._injector.get($y).done){!p&&_r(l);throw new et(405,$f)}let C;C=p?l:this._injector.get(af).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const F=function sw(n){return n.isBoundToModule}(C)?void 0:this._injector.get(p_),te=C.create(Uc.NULL,[],d||C.selector,F),we=te.location.nativeElement,qe=te.injector.get(hb,null);return qe?.registerApplication(we),te.onDestroy(()=>{this.detachView(te.hostView),Ky(this.components,te),qe?.unregisterApplication(we)}),this._loadComponent(te),te}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Ky(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(gb,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Ky(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new et(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(l){return new(l||n)(oe(od),oe(ml),oe(Wu))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ky(n,r){const l=n.indexOf(r);l>-1&&n.splice(l,1)}function dw(){return!1}let hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=fw,n})();function fw(n){return function pw(n,r,l){if(vs(n)&&!l){const d=Lr(n.index,r);return new Cu(d,d)}return 47&n.type?new Cu(r[ui],r):null}(yr(),on(),16==(16&n))}class Ab{constructor(){}supports(r){return Af(r)}create(r){return new bw(r)}}const vw=(n,r)=>r;class bw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vw}forEachItem(r){let l;for(l=this._itHead;null!==l;l=l._next)r(l)}forEachOperation(r){let l=this._itHead,d=this._removalsHead,p=0,_=null;for(;l||d;){const C=!d||l&&l.currentIndex<Ob(d,p,_)?l:d,F=Ob(C,p,_),j=C.currentIndex;if(C===d)p--,d=d._nextRemoved;else if(l=l._next,null==C.previousIndex)p++;else{_||(_=[]);const te=F-p,we=j-p;if(te!=we){for(let kt=0;kt<te;kt++){const en=kt<_.length?_[kt]:_[kt]=0,wn=en+kt;we<=wn&&wn<te&&(_[kt]=en+1)}_[C.previousIndex]=we-te}}F!==j&&r(C,F,j)}}forEachPreviousItem(r){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachMovedItem(r){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}forEachIdentityChange(r){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)r(l)}diff(r){if(null==r&&(r=[]),!Af(r))throw new et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,_,C,l=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let F=0;F<this.length;F++)_=r[F],C=this._trackByFn(F,_),null!==l&&Object.is(l.trackById,C)?(d&&(l=this._verifyReinsertion(l,_,C,F)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,C,F),d=!0),l=l._next}else p=0,function py(n,r){if(Array.isArray(n))for(let l=0;l<n.length;l++)r(n[l]);else{const l=n[Symbol.iterator]();let d;for(;!(d=l.next()).done;)r(d.value)}}(r,F=>{C=this._trackByFn(p,F),null!==l&&Object.is(l.trackById,C)?(d&&(l=this._verifyReinsertion(l,F,C,p)),Object.is(l.item,F)||this._addIdentityChange(l,F)):(l=this._mismatch(l,F,C,p),d=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,l,d,p){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._reinsertAfter(r,_,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._moveAfter(r,_,p)):r=this._addAfter(new Ew(l,d),_,p),r}_verifyReinsertion(r,l,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?r=this._reinsertAfter(_,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const l=r._next;this._addToRemovals(this._unlink(r)),r=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,_=r._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(r,l,d),this._addToMoves(r,d),r}_moveAfter(r,l,d){return this._unlink(r),this._insertAfter(r,l,d),this._addToMoves(r,d),r}_addAfter(r,l,d){return this._insertAfter(r,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,l,d){const p=null===l?this._itHead:l._next;return r._next=p,r._prev=l,null===p?this._itTail=r:p._prev=r,null===l?this._itHead=r:l._next=r,null===this._linkedRecords&&(this._linkedRecords=new Mb),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const l=r._prev,d=r._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,r}_addToMoves(r,l){return r.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,l){return r.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Ew{constructor(r,l){this.item=r,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ww{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const l=r._prevDup,d=r._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Mb{constructor(){this.map=new Map}put(r){const l=r.trackById;let d=this.map.get(l);d||(d=new ww,this.map.set(l,d)),d.add(r)}get(r,l){const p=this.map.get(r);return p?p.get(r,l):null}remove(r){const l=r.trackById;return this.map.get(l).remove(r)&&this.map.delete(l),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ob(n,r,l){const d=n.previousIndex;if(null===d)return d;let p=0;return l&&d<l.length&&(p=l[d]),d+r+p}class Pb{constructor(){}supports(r){return r instanceof Map||Mf(r)}create(){return new Cw}}class Cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let l;for(l=this._mapHead;null!==l;l=l._next)r(l)}forEachPreviousItem(r){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)r(l)}forEachChangedItem(r){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}diff(r){if(r){if(!(r instanceof Map||Mf(r)))throw new et(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(p,d);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,l){if(r){const d=r._prev;return l._next=r,l._prev=d,r._prev=l,d&&(d._next=l),r===this._mapHead&&(this._mapHead=l),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(r,l){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,l);const _=p._prev,C=p._next;return _&&(_._next=C),C&&(C._prev=_),p._next=null,p._prev=null,p}const d=new Iw(r);return this._records.set(r,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,l){Object.is(l,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=l,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,l){r instanceof Map?r.forEach(l):Object.keys(r).forEach(d=>l(r[d],d))}}class Iw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rb(){return new Zv([new Ab])}let Zv=(()=>{class n{constructor(l){this.factories=l}static create(l,d){if(null!=d){const p=d.factories.slice();l=l.concat(p)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||Rb()),deps:[[n,new Tc,new kl]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(null!=d)return d;throw new et(901,!1)}}return n.\u0275prov=He({token:n,providedIn:"root",factory:Rb}),n})();function kb(){return new qv([new Pb])}let qv=(()=>{class n{constructor(l){this.factories=l}static create(l,d){if(d){const p=d.factories.slice();l=l.concat(p)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||kb()),deps:[[n,new Tc,new kl]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(d)return d;throw new et(901,!1)}}return n.\u0275prov=He({token:n,providedIn:"root",factory:kb}),n})();const Tw=yb(null,"core",[]);let Sw=(()=>{class n{constructor(l){}}return n.\u0275fac=function(l){return new(l||n)(oe(Gy))},n.\u0275mod=$t({type:n}),n.\u0275inj=gt({}),n})();function Aw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Ow(n,r){const l=Wn(n),d=r.elementInjector||Bc();return new Fh(l).create(d,r.projectableNodes,r.hostElement,r.environmentInjector)}},4006:(vn,ot,x)=>{x.d(ot,{Cf:()=>Ve,F:()=>$i,Fj:()=>Be,JJ:()=>Ct,JL:()=>xe,JU:()=>ye,NI:()=>xt,UX:()=>Qs,_Y:()=>sr,a5:()=>In,kI:()=>Ye,oH:()=>vs,qu:()=>_o,sg:()=>jr,u:()=>xo});var f=x(4650),O=x(6895),P=x(8996),R=x(4128),ae=x(4004);let Pe=(()=>{class Q{constructor(z,Ee){this._renderer=z,this._elementRef=Ee,this.onChange=sn=>{},this.onTouched=()=>{}}setProperty(z,Ee){this._renderer.setProperty(this._elementRef.nativeElement,z,Ee)}registerOnTouched(z){this.onTouched=z}registerOnChange(z){this.onChange=z}setDisabledState(z){this.setProperty("disabled",z)}}return Q.\u0275fac=function(z){return new(z||Q)(f.Y36(f.Qsj),f.Y36(f.SBq))},Q.\u0275dir=f.lG2({type:Q}),Q})(),je=(()=>{class Q extends Pe{}return Q.\u0275fac=function(){let W;return function(Ee){return(W||(W=f.n5z(Q)))(Ee||Q)}}(),Q.\u0275dir=f.lG2({type:Q,features:[f.qOj]}),Q})();const ye=new f.OlP("NgValueAccessor"),ge={provide:ye,useExisting:(0,f.Gpc)(()=>Be),multi:!0},ke=new f.OlP("CompositionEventMode");let Be=(()=>{class Q extends Pe{constructor(z,Ee,sn){super(z,Ee),this._compositionMode=sn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function le(){const Q=(0,O.q)()?(0,O.q)().getUserAgent():"";return/android (\d+)/.test(Q.toLowerCase())}())}writeValue(z){this.setProperty("value",z??"")}_handleInput(z){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(z)}_compositionStart(){this._composing=!0}_compositionEnd(z){this._composing=!1,this._compositionMode&&this.onChange(z)}}return Q.\u0275fac=function(z){return new(z||Q)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(ke,8))},Q.\u0275dir=f.lG2({type:Q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,Ee){1&z&&f.NdJ("input",function(Kn){return Ee._handleInput(Kn.target.value)})("blur",function(){return Ee.onTouched()})("compositionstart",function(){return Ee._compositionStart()})("compositionend",function(Kn){return Ee._compositionEnd(Kn.target.value)})},features:[f._Bn([ge]),f.qOj]}),Q})();const Qe=!1;function bt(Q){return null==Q||("string"==typeof Q||Array.isArray(Q))&&0===Q.length}function et(Q){return null!=Q&&"number"==typeof Q.length}const Ve=new f.OlP("NgValidators"),Me=new f.OlP("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(W){return function Re(Q){return W=>{if(bt(W.value)||bt(Q))return null;const z=parseFloat(W.value);return!isNaN(z)&&z<Q?{min:{min:Q,actual:W.value}}:null}}(W)}static max(W){return function tt(Q){return W=>{if(bt(W.value)||bt(Q))return null;const z=parseFloat(W.value);return!isNaN(z)&&z>Q?{max:{max:Q,actual:W.value}}:null}}(W)}static required(W){return function lt(Q){return bt(Q.value)?{required:!0}:null}(W)}static requiredTrue(W){return function nt(Q){return!0===Q.value?null:{required:!0}}(W)}static email(W){return function Ze(Q){return bt(Q.value)||Ft.test(Q.value)?null:{email:!0}}(W)}static minLength(W){return function Ut(Q){return W=>bt(W.value)||!et(W.value)?null:W.value.length<Q?{minlength:{requiredLength:Q,actualLength:W.value.length}}:null}(W)}static maxLength(W){return function hn(Q){return W=>et(W.value)&&W.value.length>Q?{maxlength:{requiredLength:Q,actualLength:W.value.length}}:null}(W)}static pattern(W){return function Kt(Q){if(!Q)return nn;let W,z;return"string"==typeof Q?(z="","^"!==Q.charAt(0)&&(z+="^"),z+=Q,"$"!==Q.charAt(Q.length-1)&&(z+="$"),W=new RegExp(z)):(z=Q.toString(),W=Q),Ee=>{if(bt(Ee.value))return null;const sn=Ee.value;return W.test(sn)?null:{pattern:{requiredPattern:z,actualValue:sn}}}}(W)}static nullValidator(W){return null}static compose(W){return Ot(W)}static composeAsync(W){return dt(W)}}function nn(Q){return null}function mn(Q){return null!=Q}function ai(Q){const W=(0,f.QGY)(Q)?(0,P.D)(Q):Q;if(Qe&&!(0,f.CqO)(W)){let z="Expected async validator to return Promise or Observable.";throw"object"==typeof Q&&(z+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,z)}return W}function zt(Q){let W={};return Q.forEach(z=>{W=null!=z?{...W,...z}:W}),0===Object.keys(W).length?null:W}function Mt(Q,W){return W.map(z=>z(Q))}function Vt(Q){return Q.map(W=>function Bt(Q){return!Q.validate}(W)?W:z=>W.validate(z))}function Ot(Q){if(!Q)return null;const W=Q.filter(mn);return 0==W.length?null:function(z){return zt(Mt(z,W))}}function rt(Q){return null!=Q?Ot(Vt(Q)):null}function dt(Q){if(!Q)return null;const W=Q.filter(mn);return 0==W.length?null:function(z){const Ee=Mt(z,W).map(ai);return(0,R.D)(Ee).pipe((0,ae.U)(zt))}}function Ne(Q){return null!=Q?dt(Vt(Q)):null}function ht(Q,W){return null===Q?[W]:Array.isArray(Q)?[...Q,W]:[Q,W]}function it(Q){return Q._rawValidators}function He(Q){return Q._rawAsyncValidators}function mt(Q){return Q?Array.isArray(Q)?Q:[Q]:[]}function gt(Q,W){return Array.isArray(Q)?Q.includes(W):Q===W}function Gt(Q,W){const z=mt(W);return mt(Q).forEach(sn=>{gt(z,sn)||z.push(sn)}),z}function Ke(Q,W){return mt(W).filter(z=>!gt(Q,z))}class Pt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=rt(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=Ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W){this.control&&this.control.reset(W)}hasError(W,z){return!!this.control&&this.control.hasError(W,z)}getError(W,z){return this.control?this.control.getError(W,z):null}}class ln extends Pt{get formDirective(){return null}get path(){return null}}class In extends Pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xn{constructor(W){this._cd=W}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ct=(()=>{class Q extends Xn{constructor(z){super(z)}}return Q.\u0275fac=function(z){return new(z||Q)(f.Y36(In,2))},Q.\u0275dir=f.lG2({type:Q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,Ee){2&z&&f.ekj("ng-untouched",Ee.isUntouched)("ng-touched",Ee.isTouched)("ng-pristine",Ee.isPristine)("ng-dirty",Ee.isDirty)("ng-valid",Ee.isValid)("ng-invalid",Ee.isInvalid)("ng-pending",Ee.isPending)},features:[f.qOj]}),Q})(),xe=(()=>{class Q extends Xn{constructor(z){super(z)}}return Q.\u0275fac=function(z){return new(z||Q)(f.Y36(ln,10))},Q.\u0275dir=f.lG2({type:Q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(z,Ee){2&z&&f.ekj("ng-untouched",Ee.isUntouched)("ng-touched",Ee.isTouched)("ng-pristine",Ee.isPristine)("ng-dirty",Ee.isDirty)("ng-valid",Ee.isValid)("ng-invalid",Ee.isInvalid)("ng-pending",Ee.isPending)("ng-submitted",Ee.isSubmitted)},features:[f.qOj]}),Q})();function Tt(Q,W){return Q?`with name: '${W}'`:`at index: ${W}`}const Dt=!1,st="VALID",oe="INVALID",q="PENDING",N="DISABLED";function $(Q){return(Jt(Q)?Q.validators:Q)||null}function Se(Q,W){return(Jt(W)?W.asyncValidators:Q)||null}function Jt(Q){return null!=Q&&!Array.isArray(Q)&&"object"==typeof Q}function Ue(Q,W,z){const Ee=Q.controls;if(!(W?Object.keys(Ee):Ee).length)throw new f.vHH(1e3,Dt?function Sn(Q){return`\n    There are no form controls registered with this ${Q?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(W):"");if(!Ee[z])throw new f.vHH(1001,Dt?function dn(Q,W){return`Cannot find form control ${Tt(Q,W)}`}(W,z):"")}function Le(Q,W,z){Q._forEachChild((Ee,sn)=>{if(void 0===z[sn])throw new f.vHH(1002,Dt?function ii(Q,W){return`Must supply a value for form control ${Tt(Q,W)}`}(W,sn):"")})}class de{constructor(W,z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(W),this._assignAsyncValidators(z)}get validator(){return this._composedValidatorFn}set validator(W){this._rawValidators=this._composedValidatorFn=W}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(W){this._rawAsyncValidators=this._composedAsyncValidatorFn=W}get parent(){return this._parent}get valid(){return this.status===st}get invalid(){return this.status===oe}get pending(){return this.status==q}get disabled(){return this.status===N}get enabled(){return this.status!==N}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(W){this._assignValidators(W)}setAsyncValidators(W){this._assignAsyncValidators(W)}addValidators(W){this.setValidators(Gt(W,this._rawValidators))}addAsyncValidators(W){this.setAsyncValidators(Gt(W,this._rawAsyncValidators))}removeValidators(W){this.setValidators(Ke(W,this._rawValidators))}removeAsyncValidators(W){this.setAsyncValidators(Ke(W,this._rawAsyncValidators))}hasValidator(W){return gt(this._rawValidators,W)}hasAsyncValidator(W){return gt(this._rawAsyncValidators,W)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(W={}){this.touched=!0,this._parent&&!W.onlySelf&&this._parent.markAsTouched(W)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(W=>W.markAllAsTouched())}markAsUntouched(W={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(z=>{z.markAsUntouched({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}markAsDirty(W={}){this.pristine=!1,this._parent&&!W.onlySelf&&this._parent.markAsDirty(W)}markAsPristine(W={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(z=>{z.markAsPristine({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}markAsPending(W={}){this.status=q,!1!==W.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!W.onlySelf&&this._parent.markAsPending(W)}disable(W={}){const z=this._parentMarkedDirty(W.onlySelf);this.status=N,this.errors=null,this._forEachChild(Ee=>{Ee.disable({...W,onlySelf:!0})}),this._updateValue(),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...W,skipPristineCheck:z}),this._onDisabledChange.forEach(Ee=>Ee(!0))}enable(W={}){const z=this._parentMarkedDirty(W.onlySelf);this.status=st,this._forEachChild(Ee=>{Ee.enable({...W,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent}),this._updateAncestors({...W,skipPristineCheck:z}),this._onDisabledChange.forEach(Ee=>Ee(!1))}_updateAncestors(W){this._parent&&!W.onlySelf&&(this._parent.updateValueAndValidity(W),W.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(W){this._parent=W}getRawValue(){return this.value}updateValueAndValidity(W={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===st||this.status===q)&&this._runAsyncValidator(W.emitEvent)),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!W.onlySelf&&this._parent.updateValueAndValidity(W)}_updateTreeValidity(W={emitEvent:!0}){this._forEachChild(z=>z._updateTreeValidity(W)),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?N:st}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(W){if(this.asyncValidator){this.status=q,this._hasOwnPendingAsyncValidator=!0;const z=ai(this.asyncValidator(this));this._asyncValidationSubscription=z.subscribe(Ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ee,{emitEvent:W})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(W,z={}){this.errors=W,this._updateControlsErrors(!1!==z.emitEvent)}get(W){let z=W;return null==z||(Array.isArray(z)||(z=z.split(".")),0===z.length)?null:z.reduce((Ee,sn)=>Ee&&Ee._find(sn),this)}getError(W,z){const Ee=z?this.get(z):this;return Ee&&Ee.errors?Ee.errors[W]:null}hasError(W,z){return!!this.getError(W,z)}get root(){let W=this;for(;W._parent;)W=W._parent;return W}_updateControlsErrors(W){this.status=this._calculateStatus(),W&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(W)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?N:this.errors?oe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(q)?q:this._anyControlsHaveStatus(oe)?oe:st}_anyControlsHaveStatus(W){return this._anyControls(z=>z.status===W)}_anyControlsDirty(){return this._anyControls(W=>W.dirty)}_anyControlsTouched(){return this._anyControls(W=>W.touched)}_updatePristine(W={}){this.pristine=!this._anyControlsDirty(),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}_updateTouched(W={}){this.touched=this._anyControlsTouched(),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}_registerOnCollectionChange(W){this._onCollectionChange=W}_setUpdateStrategy(W){Jt(W)&&null!=W.updateOn&&(this._updateOn=W.updateOn)}_parentMarkedDirty(W){return!W&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(W){return null}_assignValidators(W){this._rawValidators=Array.isArray(W)?W.slice():W,this._composedValidatorFn=function X(Q){return Array.isArray(Q)?rt(Q):Q||null}(this._rawValidators)}_assignAsyncValidators(W){this._rawAsyncValidators=Array.isArray(W)?W.slice():W,this._composedAsyncValidatorFn=function Wt(Q){return Array.isArray(Q)?Ne(Q):Q||null}(this._rawAsyncValidators)}}class pe extends de{constructor(W,z,Ee){super($(z),Se(Ee,z)),this.controls=W,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(W,z){return this.controls[W]?this.controls[W]:(this.controls[W]=z,z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange),z)}addControl(W,z,Ee={}){this.registerControl(W,z),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}removeControl(W,z={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}setControl(W,z,Ee={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],z&&this.registerControl(W,z),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}contains(W){return this.controls.hasOwnProperty(W)&&this.controls[W].enabled}setValue(W,z={}){Le(this,!0,W),Object.keys(W).forEach(Ee=>{Ue(this,!0,Ee),this.controls[Ee].setValue(W[Ee],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(W,z={}){null!=W&&(Object.keys(W).forEach(Ee=>{const sn=this.controls[Ee];sn&&sn.patchValue(W[Ee],{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(W={},z={}){this._forEachChild((Ee,sn)=>{Ee.reset(W[sn],{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this._reduceChildren({},(W,z,Ee)=>(W[Ee]=z.getRawValue(),W))}_syncPendingControls(){let W=this._reduceChildren(!1,(z,Ee)=>!!Ee._syncPendingControls()||z);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){Object.keys(this.controls).forEach(z=>{const Ee=this.controls[z];Ee&&W(Ee,z)})}_setUpControls(){this._forEachChild(W=>{W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(W){for(const[z,Ee]of Object.entries(this.controls))if(this.contains(z)&&W(Ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(z,Ee,sn)=>((Ee.enabled||this.disabled)&&(z[sn]=Ee.value),z))}_reduceChildren(W,z){let Ee=W;return this._forEachChild((sn,Kn)=>{Ee=z(Ee,sn,Kn)}),Ee}_allControlsDisabled(){for(const W of Object.keys(this.controls))if(this.controls[W].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(W){return this.controls.hasOwnProperty(W)?this.controls[W]:null}}class Fe extends pe{}const be=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xe}),Xe="always";function fn(Q,W,z=Xe){rr(Q,W),W.valueAccessor.writeValue(Q.value),(Q.disabled||"always"===z)&&W.valueAccessor.setDisabledState?.(Q.disabled),function $t(Q,W){W.valueAccessor.registerOnChange(z=>{Q._pendingValue=z,Q._pendingChange=!0,Q._pendingDirty=!0,"change"===Q.updateOn&&Un(Q,W)})}(Q,W),function Qn(Q,W){const z=(Ee,sn)=>{W.valueAccessor.writeValue(Ee),sn&&W.viewToModelUpdate(Ee)};Q.registerOnChange(z),W._registerOnDestroy(()=>{Q._unregisterOnChange(z)})}(Q,W),function Cn(Q,W){W.valueAccessor.registerOnTouched(()=>{Q._pendingTouched=!0,"blur"===Q.updateOn&&Q._pendingChange&&Un(Q,W),"submit"!==Q.updateOn&&Q.markAsTouched()})}(Q,W),function yi(Q,W){if(W.valueAccessor.setDisabledState){const z=Ee=>{W.valueAccessor.setDisabledState(Ee)};Q.registerOnDisabledChange(z),W._registerOnDestroy(()=>{Q._unregisterOnDisabledChange(z)})}}(Q,W)}function xn(Q,W,z=!0){const Ee=()=>{};W.valueAccessor&&(W.valueAccessor.registerOnChange(Ee),W.valueAccessor.registerOnTouched(Ee)),tn(Q,W),Q&&(W._invokeOnDestroyCallbacks(),Q._registerOnCollectionChange(()=>{}))}function Ln(Q,W){Q.forEach(z=>{z.registerOnValidatorChange&&z.registerOnValidatorChange(W)})}function rr(Q,W){const z=it(Q);null!==W.validator?Q.setValidators(ht(z,W.validator)):"function"==typeof z&&Q.setValidators([z]);const Ee=He(Q);null!==W.asyncValidator?Q.setAsyncValidators(ht(Ee,W.asyncValidator)):"function"==typeof Ee&&Q.setAsyncValidators([Ee]);const sn=()=>Q.updateValueAndValidity();Ln(W._rawValidators,sn),Ln(W._rawAsyncValidators,sn)}function tn(Q,W){let z=!1;if(null!==Q){if(null!==W.validator){const sn=it(Q);if(Array.isArray(sn)&&sn.length>0){const Kn=sn.filter(qr=>qr!==W.validator);Kn.length!==sn.length&&(z=!0,Q.setValidators(Kn))}}if(null!==W.asyncValidator){const sn=He(Q);if(Array.isArray(sn)&&sn.length>0){const Kn=sn.filter(qr=>qr!==W.asyncValidator);Kn.length!==sn.length&&(z=!0,Q.setAsyncValidators(Kn))}}}const Ee=()=>{};return Ln(W._rawValidators,Ee),Ln(W._rawAsyncValidators,Ee),z}function Un(Q,W){Q._pendingDirty&&Q.markAsDirty(),Q.setValue(Q._pendingValue,{emitModelToViewChange:!1}),W.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1}function gi(Q,W){rr(Q,W)}function dr(Q,W){if(!Q.hasOwnProperty("model"))return!1;const z=Q.model;return!!z.isFirstChange()||!Object.is(W,z.currentValue)}function Ki(Q,W){Q._syncPendingControls(),W.forEach(z=>{const Ee=z.control;"submit"===Ee.updateOn&&Ee._pendingChange&&(z.viewToModelUpdate(Ee._pendingValue),Ee._pendingChange=!1)})}function On(Q,W){if(!W)return null;let z,Ee,sn;return Array.isArray(W),W.forEach(Kn=>{Kn.constructor===Be?z=Kn:function ys(Q){return Object.getPrototypeOf(Q.constructor)===je}(Kn)?Ee=Kn:sn=Kn}),sn||Ee||z||null}const ji={provide:ln,useExisting:(0,f.Gpc)(()=>$i)},Yr=(()=>Promise.resolve())();let $i=(()=>{class Q extends ln{constructor(z,Ee,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new pe({},rt(z),Ne(Ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(z){Yr.then(()=>{const Ee=this._findContainer(z.path);z.control=Ee.registerControl(z.name,z.control),fn(z.control,z,this.callSetDisabledState),z.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(z)})}getControl(z){return this.form.get(z.path)}removeControl(z){Yr.then(()=>{const Ee=this._findContainer(z.path);Ee&&Ee.removeControl(z.name),this._directives.delete(z)})}addFormGroup(z){Yr.then(()=>{const Ee=this._findContainer(z.path),sn=new pe({});gi(sn,z),Ee.registerControl(z.name,sn),sn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(z){Yr.then(()=>{const Ee=this._findContainer(z.path);Ee&&Ee.removeControl(z.name)})}getFormGroup(z){return this.form.get(z.path)}updateModel(z,Ee){Yr.then(()=>{this.form.get(z.path).setValue(Ee)})}setValue(z){this.control.setValue(z)}onSubmit(z){return this.submitted=!0,Ki(this.form,this._directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z){this.form.reset(z),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(z){return z.pop(),z.length?this.form.get(z):this.form}}return Q.\u0275fac=function(z){return new(z||Q)(f.Y36(Ve,10),f.Y36(Me,10),f.Y36(be,8))},Q.\u0275dir=f.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(z,Ee){1&z&&f.NdJ("submit",function(Kn){return Ee.onSubmit(Kn)})("reset",function(){return Ee.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ji]),f.qOj]}),Q})();function hr(Q,W){const z=Q.indexOf(W);z>-1&&Q.splice(z,1)}function ki(Q){return"object"==typeof Q&&null!==Q&&2===Object.keys(Q).length&&"value"in Q&&"disabled"in Q}const xt=class extends de{constructor(W=null,z,Ee){super($(z),Se(Ee,z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(W),this._setUpdateStrategy(z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jt(z)&&(z.nonNullable||z.initialValueIsDefault)&&(this.defaultValue=ki(W)?W.value:W)}setValue(W,z={}){this.value=this._pendingValue=W,this._onChange.length&&!1!==z.emitModelToViewChange&&this._onChange.forEach(Ee=>Ee(this.value,!1!==z.emitViewToModelChange)),this.updateValueAndValidity(z)}patchValue(W,z={}){this.setValue(W,z)}reset(W=this.defaultValue,z={}){this._applyFormState(W),this.markAsPristine(z),this.markAsUntouched(z),this.setValue(this.value,z),this._pendingChange=!1}_updateValue(){}_anyControls(W){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(W){this._onChange.push(W)}_unregisterOnChange(W){hr(this._onChange,W)}registerOnDisabledChange(W){this._onDisabledChange.push(W)}_unregisterOnDisabledChange(W){hr(this._onDisabledChange,W)}_forEachChild(W){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(W){ki(W)?(this.value=this._pendingValue=W.value,W.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=W}};let sr=(()=>{class Q{}return Q.\u0275fac=function(z){return new(z||Q)},Q.\u0275dir=f.lG2({type:Q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Q})(),Ms=(()=>{class Q{}return Q.\u0275fac=function(z){return new(z||Q)},Q.\u0275mod=f.oAB({type:Q}),Q.\u0275inj=f.cJS({}),Q})();const xr=new f.OlP("NgModelWithFormControlWarning"),Er={provide:In,useExisting:(0,f.Gpc)(()=>vs)};let vs=(()=>{class Q extends In{set isDisabled(z){}constructor(z,Ee,sn,Kn,qr){super(),this._ngModelWarningConfig=Kn,this.callSetDisabledState=qr,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(z),this._setAsyncValidators(Ee),this.valueAccessor=On(0,sn)}ngOnChanges(z){if(this._isControlChanged(z)){const Ee=z.form.previousValue;Ee&&xn(Ee,this,!1),fn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}dr(z,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&xn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}_isControlChanged(z){return z.hasOwnProperty("form")}}return Q._ngModelWarningSentOnce=!1,Q.\u0275fac=function(z){return new(z||Q)(f.Y36(Ve,10),f.Y36(Me,10),f.Y36(ye,10),f.Y36(xr,8),f.Y36(be,8))},Q.\u0275dir=f.lG2({type:Q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([Er]),f.qOj,f.TTD]}),Q})();const po={provide:ln,useExisting:(0,f.Gpc)(()=>jr)};let jr=(()=>{class Q extends ln{constructor(z,Ee,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(z),this._setAsyncValidators(Ee)}ngOnChanges(z){this._checkFormPresent(),z.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(z){const Ee=this.form.get(z.path);return fn(Ee,z,this.callSetDisabledState),Ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(z),Ee}getControl(z){return this.form.get(z.path)}removeControl(z){xn(z.control||null,z,!1),function ci(Q,W){const z=Q.indexOf(W);z>-1&&Q.splice(z,1)}(this.directives,z)}addFormGroup(z){this._setUpFormContainer(z)}removeFormGroup(z){this._cleanUpFormContainer(z)}getFormGroup(z){return this.form.get(z.path)}addFormArray(z){this._setUpFormContainer(z)}removeFormArray(z){this._cleanUpFormContainer(z)}getFormArray(z){return this.form.get(z.path)}updateModel(z,Ee){this.form.get(z.path).setValue(Ee)}onSubmit(z){return this.submitted=!0,Ki(this.form,this.directives),this.ngSubmit.emit(z),"dialog"===z?.target?.method}onReset(){this.resetForm()}resetForm(z){this.form.reset(z),this.submitted=!1}_updateDomValue(){this.directives.forEach(z=>{const Ee=z.control,sn=this.form.get(z.path);Ee!==sn&&(xn(Ee||null,z),(Q=>Q instanceof xt)(sn)&&(fn(sn,z,this.callSetDisabledState),z.control=sn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(z){const Ee=this.form.get(z.path);gi(Ee,z),Ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(z){if(this.form){const Ee=this.form.get(z.path);Ee&&function Wn(Q,W){return tn(Q,W)}(Ee,z)&&Ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rr(this.form,this),this._oldForm&&tn(this._oldForm,this)}_checkFormPresent(){}}return Q.\u0275fac=function(z){return new(z||Q)(f.Y36(Ve,10),f.Y36(Me,10),f.Y36(be,8))},Q.\u0275dir=f.lG2({type:Q,selectors:[["","formGroup",""]],hostBindings:function(z,Ee){1&z&&f.NdJ("submit",function(Kn){return Ee.onSubmit(Kn)})("reset",function(){return Ee.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([po]),f.qOj,f.TTD]}),Q})();const sa={provide:In,useExisting:(0,f.Gpc)(()=>xo)};let xo=(()=>{class Q extends In{set isDisabled(z){}constructor(z,Ee,sn,Kn,qr){super(),this._ngModelWarningConfig=qr,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=z,this._setValidators(Ee),this._setAsyncValidators(sn),this.valueAccessor=On(0,Kn)}ngOnChanges(z){this._added||this._setUpControl(),dr(z,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(z){this.viewModel=z,this.update.emit(z)}get path(){return function jt(Q,W){return[...W.path,Q]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Q._ngModelWarningSentOnce=!1,Q.\u0275fac=function(z){return new(z||Q)(f.Y36(ln,13),f.Y36(Ve,10),f.Y36(Me,10),f.Y36(ye,10),f.Y36(xr,8))},Q.\u0275dir=f.lG2({type:Q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([sa]),f.qOj,f.TTD]}),Q})(),ua=(()=>{class Q{}return Q.\u0275fac=function(z){return new(z||Q)},Q.\u0275mod=f.oAB({type:Q}),Q.\u0275inj=f.cJS({imports:[Ms]}),Q})();class ts extends de{constructor(W,z,Ee){super($(z),Se(Ee,z)),this.controls=W,this._initObservables(),this._setUpdateStrategy(z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(W){return this.controls[this._adjustIndex(W)]}push(W,z={}){this.controls.push(W),this._registerControl(W),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}insert(W,z,Ee={}){this.controls.splice(W,0,z),this._registerControl(z),this.updateValueAndValidity({emitEvent:Ee.emitEvent})}removeAt(W,z={}){let Ee=this._adjustIndex(W);Ee<0&&(Ee=0),this.controls[Ee]&&this.controls[Ee]._registerOnCollectionChange(()=>{}),this.controls.splice(Ee,1),this.updateValueAndValidity({emitEvent:z.emitEvent})}setControl(W,z,Ee={}){let sn=this._adjustIndex(W);sn<0&&(sn=0),this.controls[sn]&&this.controls[sn]._registerOnCollectionChange(()=>{}),this.controls.splice(sn,1),z&&(this.controls.splice(sn,0,z),this._registerControl(z)),this.updateValueAndValidity({emitEvent:Ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(W,z={}){Le(this,!1,W),W.forEach((Ee,sn)=>{Ue(this,!1,sn),this.at(sn).setValue(Ee,{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z)}patchValue(W,z={}){null!=W&&(W.forEach((Ee,sn)=>{this.at(sn)&&this.at(sn).patchValue(Ee,{onlySelf:!0,emitEvent:z.emitEvent})}),this.updateValueAndValidity(z))}reset(W=[],z={}){this._forEachChild((Ee,sn)=>{Ee.reset(W[sn],{onlySelf:!0,emitEvent:z.emitEvent})}),this._updatePristine(z),this._updateTouched(z),this.updateValueAndValidity(z)}getRawValue(){return this.controls.map(W=>W.getRawValue())}clear(W={}){this.controls.length<1||(this._forEachChild(z=>z._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:W.emitEvent}))}_adjustIndex(W){return W<0?W+this.length:W}_syncPendingControls(){let W=this.controls.reduce((z,Ee)=>!!Ee._syncPendingControls()||z,!1);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){this.controls.forEach((z,Ee)=>{W(z,Ee)})}_updateValue(){this.value=this.controls.filter(W=>W.enabled||this.disabled).map(W=>W.value)}_anyControls(W){return this.controls.some(z=>z.enabled&&W(z))}_setUpControls(){this._forEachChild(W=>this._registerControl(W))}_allControlsDisabled(){for(const W of this.controls)if(W.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(W){W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)}_find(W){return this.at(W)??null}}function qs(Q){return!!Q&&(void 0!==Q.asyncValidators||void 0!==Q.validators||void 0!==Q.updateOn)}let _o=(()=>{class Q{constructor(){this.useNonNullable=!1}get nonNullable(){const z=new Q;return z.useNonNullable=!0,z}group(z,Ee=null){const sn=this._reduceControls(z);let Kn={};return qs(Ee)?Kn=Ee:null!==Ee&&(Kn.validators=Ee.validator,Kn.asyncValidators=Ee.asyncValidator),new pe(sn,Kn)}record(z,Ee=null){const sn=this._reduceControls(z);return new Fe(sn,Ee)}control(z,Ee,sn){let Kn={};return this.useNonNullable?(qs(Ee)?Kn=Ee:(Kn.validators=Ee,Kn.asyncValidators=sn),new xt(z,{...Kn,nonNullable:!0})):new xt(z,Ee,sn)}array(z,Ee,sn){const Kn=z.map(qr=>this._createControl(qr));return new ts(Kn,Ee,sn)}_reduceControls(z){const Ee={};return Object.keys(z).forEach(sn=>{Ee[sn]=this._createControl(z[sn])}),Ee}_createControl(z){return z instanceof xt||z instanceof de?z:Array.isArray(z)?this.control(z[0],z.length>1?z[1]:null,z.length>2?z[2]:null):this.control(z)}}return Q.\u0275fac=function(z){return new(z||Q)},Q.\u0275prov=f.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),Qs=(()=>{class Q{static withConfig(z){return{ngModule:Q,providers:[{provide:xr,useValue:z.warnOnNgModelWithFormControl??"always"},{provide:be,useValue:z.callSetDisabledState??Xe}]}}}return Q.\u0275fac=function(z){return new(z||Q)},Q.\u0275mod=f.oAB({type:Q}),Q.\u0275inj=f.cJS({imports:[ua]}),Q})()},1321:()=>{const vn=":";class rt extends Error{constructor(ct){super(`No translation found for ${mt(ct)}.`),this.parsedMessage=ct,this.type="MissingTranslationError"}}const ln=function(wt,...ct){if(ln.translate){const xe=ln.translate(wt,ct);wt=xe[0],ct=xe[1]}let Ct=Xn(wt[0],wt.raw[0]);for(let xe=1;xe<wt.length;xe++)Ct+=ct[xe-1]+Xn(wt[xe],wt.raw[xe]);return Ct},In=":";function Xn(wt,ct){return ct.charAt(0)===In?wt.substring(function Ot(wt,ct){for(let Ct=1,xe=1;Ct<wt.length;Ct++,xe++)if("\\"===ct[xe])xe++;else if(wt[Ct]===vn)return Ct;throw new Error(`Unterminated $localize metadata block in "${ct}".`)}(wt,ct)+1):wt}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=ln},9101:(vn,ot,x)=>{x.d(ot,{RK:()=>Mt,lW:()=>lt,ot:()=>Vt});var f=x(3353),O=x(4650),P=x(2687),R=x(3238);const ae=["mat-button",""],Pe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],je=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ke=["mat-icon-button",""],Be=["*"],Ve=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Me=(0,R.pj)((0,R.Id)((0,R.Kr)(class{constructor(Ot){this._elementRef=Ot}})));let Ft=(()=>{class Ot extends Me{constructor(dt,Ne,ht,it){super(dt),this._platform=Ne,this._ngZone=ht,this._animationMode=it,this._focusMonitor=(0,O.f3M)(P.tE),this._isFab=!1;const He=dt.nativeElement.classList;for(const mt of Ve)this._hasHostAttributes(mt.selector)&&mt.mdcClasses.forEach(gt=>{He.add(gt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(dt="program",Ne){dt?this._focusMonitor.focusVia(this._elementRef.nativeElement,dt,Ne):this._elementRef.nativeElement.focus(Ne)}_hasHostAttributes(...dt){return dt.some(Ne=>this._elementRef.nativeElement.hasAttribute(Ne))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return Ot.\u0275fac=function(dt){O.$Z()},Ot.\u0275dir=O.lG2({type:Ot,viewQuery:function(dt,Ne){if(1&dt&&O.Gf(R.wG,5),2&dt){let ht;O.iGM(ht=O.CRH())&&(Ne.ripple=ht.first)}},features:[O.qOj]}),Ot})(),lt=(()=>{class Ot extends Ft{constructor(dt,Ne,ht,it){super(dt,Ne,ht,it)}}return Ot.\u0275fac=function(dt){return new(dt||Ot)(O.Y36(O.SBq),O.Y36(f.t4),O.Y36(O.R0b),O.Y36(O.QbO,8))},Ot.\u0275cmp=O.Xpm({type:Ot,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(dt,Ne){2&dt&&(O.uIk("disabled",Ne.disabled||null),O.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[O.qOj],attrs:ae,ngContentSelectors:je,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(dt,Ne){1&dt&&(O.F$t(Pe),O._UZ(0,"span",0),O.Hsn(1),O.TgZ(2,"span",1),O.Hsn(3,1),O.qZA(),O.Hsn(4,2),O._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&dt&&(O.ekj("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab),O.xp6(6),O.Q6J("matRippleDisabled",Ne._isRippleDisabled())("matRippleTrigger",Ne._elementRef.nativeElement))},dependencies:[R.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Ot})(),Mt=(()=>{class Ot extends Ft{constructor(dt,Ne,ht,it){super(dt,Ne,ht,it)}}return Ot.\u0275fac=function(dt){return new(dt||Ot)(O.Y36(O.SBq),O.Y36(f.t4),O.Y36(O.R0b),O.Y36(O.QbO,8))},Ot.\u0275cmp=O.Xpm({type:Ot,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(dt,Ne){2&dt&&(O.uIk("disabled",Ne.disabled||null),O.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[O.qOj],attrs:ke,ngContentSelectors:Be,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(dt,Ne){1&dt&&(O.F$t(),O._UZ(0,"span",0),O.Hsn(1),O._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&dt&&(O.xp6(3),O.Q6J("matRippleDisabled",Ne._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",Ne._elementRef.nativeElement))},dependencies:[R.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Ot})(),Vt=(()=>{class Ot{}return Ot.\u0275fac=function(dt){return new(dt||Ot)},Ot.\u0275mod=O.oAB({type:Ot}),Ot.\u0275inj=O.cJS({imports:[R.BQ,R.si,R.BQ]}),Ot})()},3238:(vn,ot,x)=>{x.d(ot,{rD:()=>it,BQ:()=>Ye,Ng:()=>st,wG:()=>ft,si:()=>Rt,pj:()=>Ze,Kr:()=>Ut,Id:()=>nt,FD:()=>Kt});var f=x(4650),O=x(2687),P=x(445),ae=x(6895),Pe=x(3353),je=x(1281);const Ft=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function Me(){return!0}});let Ye=(()=>{class oe{constructor(N,$,X){this._sanityChecks=$,this._document=X,this._hasDoneGlobalChecks=!1,N._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(N){return!(0,Pe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[N])}}return oe.\u0275fac=function(N){return new(N||oe)(f.LFG(O.qm),f.LFG(Ft,8),f.LFG(ae.K0))},oe.\u0275mod=f.oAB({type:oe}),oe.\u0275inj=f.cJS({imports:[P.vT,P.vT]}),oe})();function nt(oe){return class extends oe{get disabled(){return this._disabled}set disabled(q){this._disabled=(0,je.Ig)(q)}constructor(...q){super(...q),this._disabled=!1}}}function Ze(oe,q){return class extends oe{get color(){return this._color}set color(N){const $=N||this.defaultColor;$!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),$&&this._elementRef.nativeElement.classList.add(`mat-${$}`),this._color=$)}constructor(...N){super(...N),this.defaultColor=q,this.color=q}}}function Ut(oe){return class extends oe{get disableRipple(){return this._disableRipple}set disableRipple(q){this._disableRipple=(0,je.Ig)(q)}constructor(...q){super(...q),this._disableRipple=!1}}}function Kt(oe){return class extends oe{updateErrorState(){const q=this.errorState,Se=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Se!==q&&(this.errorState=Se,this.stateChanges.next())}constructor(...q){super(...q),this.errorState=!1}}}let it=(()=>{class oe{isErrorState(N,$){return!!(N&&N.invalid&&(N.touched||$&&$.submitted))}}return oe.\u0275fac=function(N){return new(N||oe)},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();class Ke{constructor(q,N,$,X=!1){this._renderer=q,this.element=N,this.config=$,this._animationForciblyDisabledThroughCss=X,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Pt=(0,Pe.i$)({passive:!0,capture:!0});class ln{constructor(){this._events=new Map,this._delegateEventHandler=q=>{const N=(0,Pe.sA)(q);N&&this._events.get(q.type)?.forEach(($,X)=>{(X===N||X.contains(N))&&$.forEach(Se=>Se.handleEvent(q))})}}addHandler(q,N,$,X){const Se=this._events.get(N);if(Se){const Wt=Se.get($);Wt?Wt.add(X):Se.set($,new Set([X]))}else this._events.set(N,new Map([[$,new Set([X])]])),q.runOutsideAngular(()=>{document.addEventListener(N,this._delegateEventHandler,Pt)})}removeHandler(q,N,$){const X=this._events.get(q);if(!X)return;const Se=X.get(N);Se&&(Se.delete($),0===Se.size&&X.delete(N),0===X.size&&(this._events.delete(q),document.removeEventListener(q,this._delegateEventHandler,Pt)))}}const In={enterDuration:225,exitDuration:150},wt=(0,Pe.i$)({passive:!0,capture:!0}),ct=["mousedown","touchstart"],Ct=["mouseup","mouseleave","touchend","touchcancel"];class xe{constructor(q,N,$,X){this._target=q,this._ngZone=N,this._platform=X,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,X.isBrowser&&(this._containerElement=(0,je.fI)($))}fadeInRipple(q,N,$={}){const X=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Se={...In,...$.animation};$.centered&&(q=X.left+X.width/2,N=X.top+X.height/2);const Wt=$.radius||function J(oe,q,N){const $=Math.max(Math.abs(oe-N.left),Math.abs(oe-N.right)),X=Math.max(Math.abs(q-N.top),Math.abs(q-N.bottom));return Math.sqrt($*$+X*X)}(q,N,X),Jt=q-X.left,Ue=N-X.top,Le=Se.enterDuration,de=document.createElement("div");de.classList.add("mat-ripple-element"),de.style.left=Jt-Wt+"px",de.style.top=Ue-Wt+"px",de.style.height=2*Wt+"px",de.style.width=2*Wt+"px",null!=$.color&&(de.style.backgroundColor=$.color),de.style.transitionDuration=`${Le}ms`,this._containerElement.appendChild(de);const pe=window.getComputedStyle(de),pt=pe.transitionDuration,Fe="none"===pe.transitionProperty||"0s"===pt||"0s, 0s"===pt||0===X.width&&0===X.height,We=new Ke(this,de,$,Fe);de.style.transform="scale3d(1, 1, 1)",We.state=0,$.persistent||(this._mostRecentTransientRipple=We);let be=null;return!Fe&&(Le||Se.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Xe=()=>this._finishRippleTransition(We),jt=()=>this._destroyRipple(We);de.addEventListener("transitionend",Xe),de.addEventListener("transitioncancel",jt),be={onTransitionEnd:Xe,onTransitionCancel:jt}}),this._activeRipples.set(We,be),(Fe||!Le)&&this._finishRippleTransition(We),We}fadeOutRipple(q){if(2===q.state||3===q.state)return;const N=q.element,$={...In,...q.config.animation};N.style.transitionDuration=`${$.exitDuration}ms`,N.style.opacity="0",q.state=2,(q._animationForciblyDisabledThroughCss||!$.exitDuration)&&this._finishRippleTransition(q)}fadeOutAll(){this._getActiveRipples().forEach(q=>q.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(q=>{q.config.persistent||q.fadeOut()})}setupTriggerEvents(q){const N=(0,je.fI)(q);!this._platform.isBrowser||!N||N===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=N,ct.forEach($=>{xe._eventManager.addHandler(this._ngZone,$,N,this)}))}handleEvent(q){"mousedown"===q.type?this._onMousedown(q):"touchstart"===q.type?this._onTouchStart(q):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ct.forEach(N=>{this._triggerElement.addEventListener(N,this,wt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(q){0===q.state?this._startFadeOutTransition(q):2===q.state&&this._destroyRipple(q)}_startFadeOutTransition(q){const N=q===this._mostRecentTransientRipple,{persistent:$}=q.config;q.state=1,!$&&(!N||!this._isPointerDown)&&q.fadeOut()}_destroyRipple(q){const N=this._activeRipples.get(q)??null;this._activeRipples.delete(q),this._activeRipples.size||(this._containerRect=null),q===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),q.state=3,null!==N&&(q.element.removeEventListener("transitionend",N.onTransitionEnd),q.element.removeEventListener("transitioncancel",N.onTransitionCancel)),q.element.remove()}_onMousedown(q){const N=(0,O.X6)(q),$=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!N&&!$&&(this._isPointerDown=!0,this.fadeInRipple(q.clientX,q.clientY,this._target.rippleConfig))}_onTouchStart(q){if(!this._target.rippleDisabled&&!(0,O.yG)(q)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const N=q.changedTouches;for(let $=0;$<N.length;$++)this.fadeInRipple(N[$].clientX,N[$].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(q=>{!q.config.persistent&&(1===q.state||q.config.terminateOnPointerUp&&0===q.state)&&q.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const q=this._triggerElement;q&&(ct.forEach(N=>xe._eventManager.removeHandler(N,q,this)),this._pointerUpEventsRegistered&&Ct.forEach(N=>q.removeEventListener(N,this,wt)))}}xe._eventManager=new ln;const Ae=new f.OlP("mat-ripple-global-options");let ft=(()=>{class oe{get disabled(){return this._disabled}set disabled(N){N&&this.fadeOutAllNonPersistent(),this._disabled=N,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(N){this._trigger=N,this._setupTriggerEventsIfEnabled()}constructor(N,$,X,Se,Wt){this._elementRef=N,this._animationMode=Wt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Se||{},this._rippleRenderer=new xe(this,$,N,X)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(N,$=0,X){return"number"==typeof N?this._rippleRenderer.fadeInRipple(N,$,{...this.rippleConfig,...X}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...N})}}return oe.\u0275fac=function(N){return new(N||oe)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(Pe.t4),f.Y36(Ae,8),f.Y36(f.QbO,8))},oe.\u0275dir=f.lG2({type:oe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(N,$){2&N&&f.ekj("mat-ripple-unbounded",$.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),oe})(),Rt=(()=>{class oe{}return oe.\u0275fac=function(N){return new(N||oe)},oe.\u0275mod=f.oAB({type:oe}),oe.\u0275inj=f.cJS({imports:[Ye,Ye]}),oe})(),_t=(()=>{class oe{}return oe.\u0275fac=function(N){return new(N||oe)},oe.\u0275mod=f.oAB({type:oe}),oe.\u0275inj=f.cJS({imports:[Ye]}),oe})(),st=(()=>{class oe{}return oe.\u0275fac=function(N){return new(N||oe)},oe.\u0275mod=f.oAB({type:oe}),oe.\u0275inj=f.cJS({imports:[Rt,ae.ez,Ye,_t]}),oe})()},9549:(vn,ot,x)=>{x.d(ot,{Eo:()=>ct,G_:()=>Ae,KE:()=>$e,TO:()=>dt,hX:()=>Vt,lN:()=>ce});var f=x(4650),O=x(445),P=x(3353),R=x(7579),ae=x(6451),Pe=x(2722),je=x(6895),ye=x(1281),Ge=x(7340),ie=x(9643),ge=x(3238);const le=["matFormFieldNotchedOutline",""],ke=["*"],Be=["textField"],Qe=["iconPrefixContainer"],bt=["textPrefixContainer"];function et(me,yt){1&me&&f._UZ(0,"span",19)}function Ve(me,yt){if(1&me){const ze=f.EpF();f.TgZ(0,"label",17),f.NdJ("cdkObserveContent",function(){f.CHM(ze);const Sn=f.oxw(2);return f.KtG(Sn._refreshOutlineNotchWidth())}),f.Hsn(1,1),f.YNc(2,et,1,0,"span",18),f.qZA()}if(2&me){const ze=f.oxw(2);f.Q6J("floating",ze._shouldLabelFloat())("cdkObserveContentDisabled",!ze._hasOutline())("id",ze._labelId),f.uIk("for",ze._control.id)("aria-owns",ze._control.id),f.xp6(2),f.Q6J("ngIf",!ze.hideRequiredMarker&&ze._control.required)}}function Me(me,yt){if(1&me&&f.YNc(0,Ve,3,6,"label",16),2&me){const ze=f.oxw();f.Q6J("ngIf",ze._hasFloatingLabel())}}function Ft(me,yt){1&me&&f._UZ(0,"div",20)}function Ye(me,yt){}function Re(me,yt){if(1&me&&f.YNc(0,Ye,0,0,"ng-template",22),2&me){f.oxw(2);const ze=f.MAs(1);f.Q6J("ngTemplateOutlet",ze)}}function tt(me,yt){if(1&me&&(f.TgZ(0,"div",21),f.YNc(1,Re,1,1,"ng-template",9),f.qZA()),2&me){const ze=f.oxw();f.Q6J("matFormFieldNotchedOutlineOpen",ze._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",ze._labelWidth),f.xp6(1),f.Q6J("ngIf",!ze._forceDisplayInfixLabel())}}function lt(me,yt){1&me&&(f.TgZ(0,"div",23,24),f.Hsn(2,2),f.qZA())}function nt(me,yt){1&me&&(f.TgZ(0,"div",25,26),f.Hsn(2,3),f.qZA())}function Ze(me,yt){}function Ut(me,yt){if(1&me&&f.YNc(0,Ze,0,0,"ng-template",22),2&me){f.oxw();const ze=f.MAs(1);f.Q6J("ngTemplateOutlet",ze)}}function hn(me,yt){1&me&&(f.TgZ(0,"div",27),f.Hsn(1,4),f.qZA())}function Kt(me,yt){1&me&&(f.TgZ(0,"div",28),f.Hsn(1,5),f.qZA())}function nn(me,yt){1&me&&f._UZ(0,"div",29)}function mn(me,yt){if(1&me&&(f.TgZ(0,"div",30),f.Hsn(1,6),f.qZA()),2&me){const ze=f.oxw();f.Q6J("@transitionMessages",ze._subscriptAnimationState)}}function ai(me,yt){if(1&me&&(f.TgZ(0,"mat-hint",34),f._uU(1),f.qZA()),2&me){const ze=f.oxw(2);f.Q6J("id",ze._hintLabelId),f.xp6(1),f.Oqu(ze.hintLabel)}}function zt(me,yt){if(1&me&&(f.TgZ(0,"div",31),f.YNc(1,ai,2,2,"mat-hint",32),f.Hsn(2,7),f._UZ(3,"div",33),f.Hsn(4,8),f.qZA()),2&me){const ze=f.oxw();f.Q6J("@transitionMessages",ze._subscriptAnimationState),f.xp6(1),f.Q6J("ngIf",ze.hintLabel)}}const Mt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Bt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Vt=(()=>{class me{}return me.\u0275fac=function(ze){return new(ze||me)},me.\u0275dir=f.lG2({type:me,selectors:[["mat-label"]]}),me})(),Ot=0;const rt=new f.OlP("MatError");let dt=(()=>{class me{constructor(ze,Tt){this.id="mat-mdc-error-"+Ot++,ze||Tt.nativeElement.setAttribute("aria-live","polite")}}return me.\u0275fac=function(ze){return new(ze||me)(f.$8M("aria-live"),f.Y36(f.SBq))},me.\u0275dir=f.lG2({type:me,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(ze,Tt){2&ze&&f.Ikx("id",Tt.id)},inputs:{id:"id"},features:[f._Bn([{provide:rt,useExisting:me}])]}),me})(),Ne=0,ht=(()=>{class me{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ne++}}return me.\u0275fac=function(ze){return new(ze||me)},me.\u0275dir=f.lG2({type:me,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(ze,Tt){2&ze&&(f.Ikx("id",Tt.id),f.uIk("align",null),f.ekj("mat-mdc-form-field-hint-end","end"===Tt.align))},inputs:{align:"align",id:"id"}}),me})();const it=new f.OlP("MatPrefix"),mt=new f.OlP("MatSuffix");let Gt=(()=>{class me{constructor(ze){this._elementRef=ze,this.floating=!1}getWidth(){return function Ke(me){if(null!==me.offsetParent)return me.scrollWidth;const ze=me.cloneNode(!0);ze.style.setProperty("position","absolute"),ze.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(ze);const Tt=ze.scrollWidth;return ze.remove(),Tt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return me.\u0275fac=function(ze){return new(ze||me)(f.Y36(f.SBq))},me.\u0275dir=f.lG2({type:me,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(ze,Tt){2&ze&&f.ekj("mdc-floating-label--float-above",Tt.floating)},inputs:{floating:"floating"}}),me})();const Pt="mdc-line-ripple--active",ln="mdc-line-ripple--deactivating";let In=(()=>{class me{constructor(ze,Tt){this._elementRef=ze,this._handleTransitionEnd=Sn=>{const dn=this._elementRef.nativeElement.classList,ii=dn.contains(ln);"opacity"===Sn.propertyName&&ii&&dn.remove(Pt,ln)},Tt.runOutsideAngular(()=>{ze.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const ze=this._elementRef.nativeElement.classList;ze.remove(ln),ze.add(Pt)}deactivate(){this._elementRef.nativeElement.classList.add(ln)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return me.\u0275fac=function(ze){return new(ze||me)(f.Y36(f.SBq),f.Y36(f.R0b))},me.\u0275dir=f.lG2({type:me,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),me})(),Xn=(()=>{class me{constructor(ze,Tt){this._elementRef=ze,this._ngZone=Tt,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const ze=this._elementRef.nativeElement.querySelector(".mdc-floating-label");ze?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(ze.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>ze.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return me.\u0275fac=function(ze){return new(ze||me)(f.Y36(f.SBq),f.Y36(f.R0b))},me.\u0275cmp=f.Xpm({type:me,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(ze,Tt){2&ze&&f.ekj("mdc-notched-outline--notched",Tt.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:le,ngContentSelectors:ke,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(ze,Tt){1&ze&&(f.F$t(),f._UZ(0,"div",0),f.TgZ(1,"div",1),f.Hsn(2),f.qZA(),f._UZ(3,"div",2)),2&ze&&(f.xp6(1),f.Udp("width",Tt._getNotchWidth()))},encapsulation:2,changeDetection:0}),me})();const wt={transitionMessages:(0,Ge.X$)("transitionMessages",[(0,Ge.SB)("enter",(0,Ge.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ge.eR)("void => enter",[(0,Ge.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ge.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ct=(()=>{class me{}return me.\u0275fac=function(ze){return new(ze||me)},me.\u0275dir=f.lG2({type:me}),me})();const Ae=new f.OlP("MatFormField"),ft=new f.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Rt=0,$e=(()=>{class me{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ze){this._hideRequiredMarker=(0,ye.Ig)(ze)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(ze){ze!==this._floatLabel&&(this._floatLabel=ze,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(ze){const Tt=this._appearance;this._appearance=ze||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Tt&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(ze){this._subscriptSizing=ze||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(ze){this._hintLabel=ze,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(ze){this._explicitFormFieldControl=ze}constructor(ze,Tt,Sn,dn,ii,Dt,st,oe){this._elementRef=ze,this._changeDetectorRef=Tt,this._ngZone=Sn,this._dir=dn,this._platform=ii,this._defaults=Dt,this._animationMode=st,this._document=oe,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Rt++,this._hintLabelId="mat-mdc-hint-"+Rt++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new R.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Dt&&(Dt.appearance&&(this.appearance=Dt.appearance),this._hideRequiredMarker=Boolean(Dt?.hideRequiredMarker),Dt.color&&(this.color=Dt.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const ze=this._control;ze.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${ze.controlType}`),ze.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ze.ngControl&&ze.ngControl.valueChanges&&ze.ngControl.valueChanges.pipe((0,Pe.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(ze=>!ze._isText),this._hasTextPrefix=!!this._prefixChildren.find(ze=>ze._isText),this._hasIconSuffix=!!this._suffixChildren.find(ze=>!ze._isText),this._hasTextSuffix=!!this._suffixChildren.find(ze=>ze._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ae.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Pe.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Pe.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(ze){const Tt=this._control?this._control.ngControl:null;return Tt&&Tt[ze]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let ze=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ze.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Tt=this._hintChildren?this._hintChildren.find(dn=>"start"===dn.align):null,Sn=this._hintChildren?this._hintChildren.find(dn=>"end"===dn.align):null;Tt?ze.push(Tt.id):this._hintLabel&&ze.push(this._hintLabelId),Sn&&ze.push(Sn.id)}else this._errorChildren&&ze.push(...this._errorChildren.map(Tt=>Tt.id));this._control.setDescribedByIds(ze)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const ze=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(ze.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Tt=this._iconPrefixContainer?.nativeElement,Sn=this._textPrefixContainer?.nativeElement,dn=Tt?.getBoundingClientRect().width??0,ii=Sn?.getBoundingClientRect().width??0;ze.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${dn+ii}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const ze=this._elementRef.nativeElement;if(ze.getRootNode){const Tt=ze.getRootNode();return Tt&&Tt!==ze}return document.documentElement.contains(ze)}}return me.\u0275fac=function(ze){return new(ze||me)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(O.Is),f.Y36(P.t4),f.Y36(ft,8),f.Y36(f.QbO,8),f.Y36(je.K0))},me.\u0275cmp=f.Xpm({type:me,selectors:[["mat-form-field"]],contentQueries:function(ze,Tt,Sn){if(1&ze&&(f.Suo(Sn,Vt,5),f.Suo(Sn,Vt,7),f.Suo(Sn,ct,5),f.Suo(Sn,it,5),f.Suo(Sn,mt,5),f.Suo(Sn,rt,5),f.Suo(Sn,ht,5)),2&ze){let dn;f.iGM(dn=f.CRH())&&(Tt._labelChildNonStatic=dn.first),f.iGM(dn=f.CRH())&&(Tt._labelChildStatic=dn.first),f.iGM(dn=f.CRH())&&(Tt._formFieldControl=dn.first),f.iGM(dn=f.CRH())&&(Tt._prefixChildren=dn),f.iGM(dn=f.CRH())&&(Tt._suffixChildren=dn),f.iGM(dn=f.CRH())&&(Tt._errorChildren=dn),f.iGM(dn=f.CRH())&&(Tt._hintChildren=dn)}},viewQuery:function(ze,Tt){if(1&ze&&(f.Gf(Be,5),f.Gf(Qe,5),f.Gf(bt,5),f.Gf(Gt,5),f.Gf(Xn,5),f.Gf(In,5)),2&ze){let Sn;f.iGM(Sn=f.CRH())&&(Tt._textField=Sn.first),f.iGM(Sn=f.CRH())&&(Tt._iconPrefixContainer=Sn.first),f.iGM(Sn=f.CRH())&&(Tt._textPrefixContainer=Sn.first),f.iGM(Sn=f.CRH())&&(Tt._floatingLabel=Sn.first),f.iGM(Sn=f.CRH())&&(Tt._notchedOutline=Sn.first),f.iGM(Sn=f.CRH())&&(Tt._lineRipple=Sn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(ze,Tt){2&ze&&f.ekj("mat-mdc-form-field-label-always-float",Tt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Tt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Tt._hasIconSuffix)("mat-form-field-invalid",Tt._control.errorState)("mat-form-field-disabled",Tt._control.disabled)("mat-form-field-autofilled",Tt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Tt._animationMode)("mat-form-field-appearance-fill","fill"==Tt.appearance)("mat-form-field-appearance-outline","outline"==Tt.appearance)("mat-form-field-hide-placeholder",Tt._hasFloatingLabel()&&!Tt._shouldLabelFloat())("mat-focused",Tt._control.focused)("mat-primary","accent"!==Tt.color&&"warn"!==Tt.color)("mat-accent","accent"===Tt.color)("mat-warn","warn"===Tt.color)("ng-untouched",Tt._shouldForward("untouched"))("ng-touched",Tt._shouldForward("touched"))("ng-pristine",Tt._shouldForward("pristine"))("ng-dirty",Tt._shouldForward("dirty"))("ng-valid",Tt._shouldForward("valid"))("ng-invalid",Tt._shouldForward("invalid"))("ng-pending",Tt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[f._Bn([{provide:Ae,useExisting:me}])],ngContentSelectors:Bt,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(ze,Tt){1&ze&&(f.F$t(Mt),f.YNc(0,Me,1,1,"ng-template",null,0,f.W1O),f.TgZ(2,"div",1,2),f.NdJ("click",function(dn){return Tt._control.onContainerClick&&Tt._control.onContainerClick(dn)}),f.YNc(4,Ft,1,0,"div",3),f.TgZ(5,"div",4),f.YNc(6,tt,2,3,"div",5),f.YNc(7,lt,3,0,"div",6),f.YNc(8,nt,3,0,"div",7),f.TgZ(9,"div",8),f.YNc(10,Ut,1,1,"ng-template",9),f.Hsn(11),f.qZA(),f.YNc(12,hn,2,0,"div",10),f.YNc(13,Kt,2,0,"div",11),f.qZA(),f.YNc(14,nn,1,0,"div",12),f.qZA(),f.TgZ(15,"div",13),f.YNc(16,mn,2,1,"div",14),f.YNc(17,zt,5,2,"div",15),f.qZA()),2&ze&&(f.xp6(2),f.ekj("mdc-text-field--filled",!Tt._hasOutline())("mdc-text-field--outlined",Tt._hasOutline())("mdc-text-field--no-label",!Tt._hasFloatingLabel())("mdc-text-field--disabled",Tt._control.disabled)("mdc-text-field--invalid",Tt._control.errorState),f.xp6(2),f.Q6J("ngIf",!Tt._hasOutline()&&!Tt._control.disabled),f.xp6(2),f.Q6J("ngIf",Tt._hasOutline()),f.xp6(1),f.Q6J("ngIf",Tt._hasIconPrefix),f.xp6(1),f.Q6J("ngIf",Tt._hasTextPrefix),f.xp6(2),f.Q6J("ngIf",!Tt._hasOutline()||Tt._forceDisplayInfixLabel()),f.xp6(2),f.Q6J("ngIf",Tt._hasTextSuffix),f.xp6(1),f.Q6J("ngIf",Tt._hasIconSuffix),f.xp6(1),f.Q6J("ngIf",!Tt._hasOutline()),f.xp6(1),f.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Tt.subscriptSizing),f.Q6J("ngSwitch",Tt._getDisplayedMessages()),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","hint"))},dependencies:[je.O5,je.tP,je.RF,je.n9,ie.wD,ht,Gt,Xn,In],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[wt.transitionMessages]},changeDetection:0}),me})(),ce=(()=>{class me{}return me.\u0275fac=function(ze){return new(ze||me)},me.\u0275mod=f.oAB({type:me}),me.\u0275inj=f.cJS({imports:[ge.BQ,je.ez,ie.Q8,ge.BQ]}),me})()},7392:(vn,ot,x)=>{x.d(ot,{Hw:()=>dt,Ps:()=>Ne});var f=x(4650),O=x(3238),P=x(1281),R=x(6895),ae=x(9646),Pe=x(2843),je=x(4128),ye=x(727),Ge=x(8505),ie=x(4004),ge=x(262),le=x(8746),ke=x(3099),Be=x(5698),Qe=x(529),bt=x(1481);const et=["*"];let Ve;function Ft(ht){return function Me(){if(void 0===Ve&&(Ve=null,typeof window<"u")){const ht=window;void 0!==ht.trustedTypes&&(Ve=ht.trustedTypes.createPolicy("angular#components",{createHTML:it=>it}))}return Ve}()?.createHTML(ht)||ht}function Ye(ht){return Error(`Unable to find icon with the name "${ht}"`)}function tt(ht){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${ht}".`)}function lt(ht){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${ht}".`)}class nt{constructor(it,He,mt){this.url=it,this.svgText=He,this.options=mt}}let Ze=(()=>{class ht{constructor(He,mt,gt,Gt){this._httpClient=He,this._sanitizer=mt,this._errorHandler=Gt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=gt}addSvgIcon(He,mt,gt){return this.addSvgIconInNamespace("",He,mt,gt)}addSvgIconLiteral(He,mt,gt){return this.addSvgIconLiteralInNamespace("",He,mt,gt)}addSvgIconInNamespace(He,mt,gt,Gt){return this._addSvgIconConfig(He,mt,new nt(gt,null,Gt))}addSvgIconResolver(He){return this._resolvers.push(He),this}addSvgIconLiteralInNamespace(He,mt,gt,Gt){const Ke=this._sanitizer.sanitize(f.q3G.HTML,gt);if(!Ke)throw lt(gt);const Pt=Ft(Ke);return this._addSvgIconConfig(He,mt,new nt("",Pt,Gt))}addSvgIconSet(He,mt){return this.addSvgIconSetInNamespace("",He,mt)}addSvgIconSetLiteral(He,mt){return this.addSvgIconSetLiteralInNamespace("",He,mt)}addSvgIconSetInNamespace(He,mt,gt){return this._addSvgIconSetConfig(He,new nt(mt,null,gt))}addSvgIconSetLiteralInNamespace(He,mt,gt){const Gt=this._sanitizer.sanitize(f.q3G.HTML,mt);if(!Gt)throw lt(mt);const Ke=Ft(Gt);return this._addSvgIconSetConfig(He,new nt("",Ke,gt))}registerFontClassAlias(He,mt=He){return this._fontCssClassesByAlias.set(He,mt),this}classNameForFontAlias(He){return this._fontCssClassesByAlias.get(He)||He}setDefaultFontSetClass(...He){return this._defaultFontSetClass=He,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(He){const mt=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,He);if(!mt)throw tt(He);const gt=this._cachedIconsByUrl.get(mt);return gt?(0,ae.of)(Kt(gt)):this._loadSvgIconFromConfig(new nt(He,null)).pipe((0,Ge.b)(Gt=>this._cachedIconsByUrl.set(mt,Gt)),(0,ie.U)(Gt=>Kt(Gt)))}getNamedSvgIcon(He,mt=""){const gt=nn(mt,He);let Gt=this._svgIconConfigs.get(gt);if(Gt)return this._getSvgFromConfig(Gt);if(Gt=this._getIconConfigFromResolvers(mt,He),Gt)return this._svgIconConfigs.set(gt,Gt),this._getSvgFromConfig(Gt);const Ke=this._iconSetConfigs.get(mt);return Ke?this._getSvgFromIconSetConfigs(He,Ke):(0,Pe._)(Ye(gt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(He){return He.svgText?(0,ae.of)(Kt(this._svgElementFromConfig(He))):this._loadSvgIconFromConfig(He).pipe((0,ie.U)(mt=>Kt(mt)))}_getSvgFromIconSetConfigs(He,mt){const gt=this._extractIconWithNameFromAnySet(He,mt);if(gt)return(0,ae.of)(gt);const Gt=mt.filter(Ke=>!Ke.svgText).map(Ke=>this._loadSvgIconSetFromConfig(Ke).pipe((0,ge.K)(Pt=>{const In=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,Ke.url)} failed: ${Pt.message}`;return this._errorHandler.handleError(new Error(In)),(0,ae.of)(null)})));return(0,je.D)(Gt).pipe((0,ie.U)(()=>{const Ke=this._extractIconWithNameFromAnySet(He,mt);if(!Ke)throw Ye(He);return Ke}))}_extractIconWithNameFromAnySet(He,mt){for(let gt=mt.length-1;gt>=0;gt--){const Gt=mt[gt];if(Gt.svgText&&Gt.svgText.toString().indexOf(He)>-1){const Ke=this._svgElementFromConfig(Gt),Pt=this._extractSvgIconFromSet(Ke,He,Gt.options);if(Pt)return Pt}}return null}_loadSvgIconFromConfig(He){return this._fetchIcon(He).pipe((0,Ge.b)(mt=>He.svgText=mt),(0,ie.U)(()=>this._svgElementFromConfig(He)))}_loadSvgIconSetFromConfig(He){return He.svgText?(0,ae.of)(null):this._fetchIcon(He).pipe((0,Ge.b)(mt=>He.svgText=mt))}_extractSvgIconFromSet(He,mt,gt){const Gt=He.querySelector(`[id="${mt}"]`);if(!Gt)return null;const Ke=Gt.cloneNode(!0);if(Ke.removeAttribute("id"),"svg"===Ke.nodeName.toLowerCase())return this._setSvgAttributes(Ke,gt);if("symbol"===Ke.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ke),gt);const Pt=this._svgElementFromString(Ft("<svg></svg>"));return Pt.appendChild(Ke),this._setSvgAttributes(Pt,gt)}_svgElementFromString(He){const mt=this._document.createElement("DIV");mt.innerHTML=He;const gt=mt.querySelector("svg");if(!gt)throw Error("<svg> tag not found");return gt}_toSvgElement(He){const mt=this._svgElementFromString(Ft("<svg></svg>")),gt=He.attributes;for(let Gt=0;Gt<gt.length;Gt++){const{name:Ke,value:Pt}=gt[Gt];"id"!==Ke&&mt.setAttribute(Ke,Pt)}for(let Gt=0;Gt<He.childNodes.length;Gt++)He.childNodes[Gt].nodeType===this._document.ELEMENT_NODE&&mt.appendChild(He.childNodes[Gt].cloneNode(!0));return mt}_setSvgAttributes(He,mt){return He.setAttribute("fit",""),He.setAttribute("height","100%"),He.setAttribute("width","100%"),He.setAttribute("preserveAspectRatio","xMidYMid meet"),He.setAttribute("focusable","false"),mt&&mt.viewBox&&He.setAttribute("viewBox",mt.viewBox),He}_fetchIcon(He){const{url:mt,options:gt}=He,Gt=gt?.withCredentials??!1;if(!this._httpClient)throw function Re(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==mt)throw Error(`Cannot fetch icon from URL "${mt}".`);const Ke=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,mt);if(!Ke)throw tt(mt);const Pt=this._inProgressUrlFetches.get(Ke);if(Pt)return Pt;const ln=this._httpClient.get(Ke,{responseType:"text",withCredentials:Gt}).pipe((0,ie.U)(In=>Ft(In)),(0,le.x)(()=>this._inProgressUrlFetches.delete(Ke)),(0,ke.B)());return this._inProgressUrlFetches.set(Ke,ln),ln}_addSvgIconConfig(He,mt,gt){return this._svgIconConfigs.set(nn(He,mt),gt),this}_addSvgIconSetConfig(He,mt){const gt=this._iconSetConfigs.get(He);return gt?gt.push(mt):this._iconSetConfigs.set(He,[mt]),this}_svgElementFromConfig(He){if(!He.svgElement){const mt=this._svgElementFromString(He.svgText);this._setSvgAttributes(mt,He.options),He.svgElement=mt}return He.svgElement}_getIconConfigFromResolvers(He,mt){for(let gt=0;gt<this._resolvers.length;gt++){const Gt=this._resolvers[gt](mt,He);if(Gt)return mn(Gt)?new nt(Gt.url,null,Gt.options):new nt(Gt,null)}}}return ht.\u0275fac=function(He){return new(He||ht)(f.LFG(Qe.eN,8),f.LFG(bt.H7),f.LFG(R.K0,8),f.LFG(f.qLn))},ht.\u0275prov=f.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})();function Kt(ht){return ht.cloneNode(!0)}function nn(ht,it){return ht+":"+it}function mn(ht){return!(!ht.url||!ht.options)}const ai=(0,O.pj)(class{constructor(ht){this._elementRef=ht}}),zt=new f.OlP("MAT_ICON_DEFAULT_OPTIONS"),Mt=new f.OlP("mat-icon-location",{providedIn:"root",factory:function Bt(){const ht=(0,f.f3M)(R.K0),it=ht?ht.location:null;return{getPathname:()=>it?it.pathname+it.search:""}}}),Vt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ot=Vt.map(ht=>`[${ht}]`).join(", "),rt=/^url\(['"]?#(.*?)['"]?\)$/;let dt=(()=>{class ht extends ai{get inline(){return this._inline}set inline(He){this._inline=(0,P.Ig)(He)}get svgIcon(){return this._svgIcon}set svgIcon(He){He!==this._svgIcon&&(He?this._updateSvgIcon(He):this._svgIcon&&this._clearSvgElement(),this._svgIcon=He)}get fontSet(){return this._fontSet}set fontSet(He){const mt=this._cleanupFontValue(He);mt!==this._fontSet&&(this._fontSet=mt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(He){const mt=this._cleanupFontValue(He);mt!==this._fontIcon&&(this._fontIcon=mt,this._updateFontIconClasses())}constructor(He,mt,gt,Gt,Ke,Pt){super(He),this._iconRegistry=mt,this._location=Gt,this._errorHandler=Ke,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ye.w0.EMPTY,Pt&&(Pt.color&&(this.color=this.defaultColor=Pt.color),Pt.fontSet&&(this.fontSet=Pt.fontSet)),gt||He.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(He){if(!He)return["",""];const mt=He.split(":");switch(mt.length){case 1:return["",mt[0]];case 2:return mt;default:throw Error(`Invalid icon name: "${He}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const He=this._elementsWithExternalReferences;if(He&&He.size){const mt=this._location.getPathname();mt!==this._previousPath&&(this._previousPath=mt,this._prependPathToReferences(mt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(He){this._clearSvgElement();const mt=this._location.getPathname();this._previousPath=mt,this._cacheChildrenWithExternalReferences(He),this._prependPathToReferences(mt),this._elementRef.nativeElement.appendChild(He)}_clearSvgElement(){const He=this._elementRef.nativeElement;let mt=He.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();mt--;){const gt=He.childNodes[mt];(1!==gt.nodeType||"svg"===gt.nodeName.toLowerCase())&&gt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const He=this._elementRef.nativeElement,mt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(gt=>gt.length>0);this._previousFontSetClass.forEach(gt=>He.classList.remove(gt)),mt.forEach(gt=>He.classList.add(gt)),this._previousFontSetClass=mt,this.fontIcon!==this._previousFontIconClass&&!mt.includes("mat-ligature-font")&&(this._previousFontIconClass&&He.classList.remove(this._previousFontIconClass),this.fontIcon&&He.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(He){return"string"==typeof He?He.trim().split(" ")[0]:He}_prependPathToReferences(He){const mt=this._elementsWithExternalReferences;mt&&mt.forEach((gt,Gt)=>{gt.forEach(Ke=>{Gt.setAttribute(Ke.name,`url('${He}#${Ke.value}')`)})})}_cacheChildrenWithExternalReferences(He){const mt=He.querySelectorAll(Ot),gt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Gt=0;Gt<mt.length;Gt++)Vt.forEach(Ke=>{const Pt=mt[Gt],ln=Pt.getAttribute(Ke),In=ln?ln.match(rt):null;if(In){let Xn=gt.get(Pt);Xn||(Xn=[],gt.set(Pt,Xn)),Xn.push({name:Ke,value:In[1]})}})}_updateSvgIcon(He){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),He){const[mt,gt]=this._splitIconName(He);mt&&(this._svgNamespace=mt),gt&&(this._svgName=gt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(gt,mt).pipe((0,Be.q)(1)).subscribe(Gt=>this._setSvgElement(Gt),Gt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${mt}:${gt}! ${Gt.message}`))})}}}return ht.\u0275fac=function(He){return new(He||ht)(f.Y36(f.SBq),f.Y36(Ze),f.$8M("aria-hidden"),f.Y36(Mt),f.Y36(f.qLn),f.Y36(zt,8))},ht.\u0275cmp=f.Xpm({type:ht,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(He,mt){2&He&&(f.uIk("data-mat-icon-type",mt._usingFontIcon()?"font":"svg")("data-mat-icon-name",mt._svgName||mt.fontIcon)("data-mat-icon-namespace",mt._svgNamespace||mt.fontSet)("fontIcon",mt._usingFontIcon()?mt.fontIcon:null),f.ekj("mat-icon-inline",mt.inline)("mat-icon-no-color","primary"!==mt.color&&"accent"!==mt.color&&"warn"!==mt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:et,decls:1,vars:0,template:function(He,mt){1&He&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),ht})(),Ne=(()=>{class ht{}return ht.\u0275fac=function(He){return new(He||ht)},ht.\u0275mod=f.oAB({type:ht}),ht.\u0275inj=f.cJS({imports:[O.BQ,O.BQ]}),ht})()},284:(vn,ot,x)=>{x.d(ot,{Nt:()=>Be,c:()=>Qe});var f=x(1281),O=x(3353),P=x(9349),R=x(4650),ae=x(4006),Pe=x(3238),je=x(9549),ye=x(7579);const ie=new R.OlP("MAT_INPUT_VALUE_ACCESSOR"),ge=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let le=0;const ke=(0,Pe.FD)(class{constructor(bt,et,Ve,Me){this._defaultErrorStateMatcher=bt,this._parentForm=et,this._parentFormGroup=Ve,this.ngControl=Me,this.stateChanges=new ye.x}});let Be=(()=>{class bt extends ke{get disabled(){return this._disabled}set disabled(Ve){this._disabled=(0,f.Ig)(Ve),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ve){this._id=Ve||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ae.kI.required)??!1}set required(Ve){this._required=(0,f.Ig)(Ve)}get type(){return this._type}set type(Ve){this._type=Ve||"text",this._validateType(),!this._isTextarea&&(0,O.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ve){Ve!==this.value&&(this._inputValueAccessor.value=Ve,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ve){this._readonly=(0,f.Ig)(Ve)}constructor(Ve,Me,Ft,Ye,Re,tt,lt,nt,Ze,Ut){super(tt,Ye,Re,Ft),this._elementRef=Ve,this._platform=Me,this._autofillMonitor=nt,this._formField=Ut,this._uid="mat-input-"+le++,this.focused=!1,this.stateChanges=new ye.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(nn=>(0,O.qK)().has(nn)),this._iOSKeyupListener=nn=>{const mn=nn.target;!mn.value&&0===mn.selectionStart&&0===mn.selectionEnd&&(mn.setSelectionRange(1,1),mn.setSelectionRange(0,0))};const hn=this._elementRef.nativeElement,Kt=hn.nodeName.toLowerCase();this._inputValueAccessor=lt||hn,this._previousNativeValue=this.value,this.id=this.id,Me.IOS&&Ze.runOutsideAngular(()=>{Ve.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Kt,this._isTextarea="textarea"===Kt,this._isInFormField=!!Ut,this._isNativeSelect&&(this.controlType=hn.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ve=>{this.autofilled=Ve.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ve){this._elementRef.nativeElement.focus(Ve)}_focusChanged(Ve){Ve!==this.focused&&(this.focused=Ve,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const Ve=this._elementRef.nativeElement.value;this._previousNativeValue!==Ve&&(this._previousNativeValue=Ve,this.stateChanges.next())}_dirtyCheckPlaceholder(){const Ve=this._getPlaceholder();if(Ve!==this._previousPlaceholder){const Me=this._elementRef.nativeElement;this._previousPlaceholder=Ve,Ve?Me.setAttribute("placeholder",Ve):Me.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ge.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ve=this._elementRef.nativeElement.validity;return Ve&&Ve.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ve=this._elementRef.nativeElement,Me=Ve.options[0];return this.focused||Ve.multiple||!this.empty||!!(Ve.selectedIndex>-1&&Me&&Me.label)}return this.focused||!this.empty}setDescribedByIds(Ve){Ve.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ve.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ve=this._elementRef.nativeElement;return this._isNativeSelect&&(Ve.multiple||Ve.size>1)}}return bt.\u0275fac=function(Ve){return new(Ve||bt)(R.Y36(R.SBq),R.Y36(O.t4),R.Y36(ae.a5,10),R.Y36(ae.F,8),R.Y36(ae.sg,8),R.Y36(Pe.rD),R.Y36(ie,10),R.Y36(P.Lq),R.Y36(R.R0b),R.Y36(je.G_,8))},bt.\u0275dir=R.lG2({type:bt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(Ve,Me){1&Ve&&R.NdJ("focus",function(){return Me._focusChanged(!0)})("blur",function(){return Me._focusChanged(!1)})("input",function(){return Me._onInput()}),2&Ve&&(R.Ikx("id",Me.id)("disabled",Me.disabled)("required",Me.required),R.uIk("name",Me.name||null)("readonly",Me.readonly&&!Me._isNativeSelect||null)("aria-invalid",Me.empty&&Me.required?null:Me.errorState)("aria-required",Me.required)("id",Me.id),R.ekj("mat-input-server",Me._isServer)("mat-mdc-form-field-textarea-control",Me._isInFormField&&Me._isTextarea)("mat-mdc-form-field-input-control",Me._isInFormField)("mdc-text-field__input",Me._isInFormField)("mat-mdc-native-select-inline",Me._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[R._Bn([{provide:je.Eo,useExisting:bt}]),R.qOj,R.TTD]}),bt})(),Qe=(()=>{class bt{}return bt.\u0275fac=function(Ve){return new(Ve||bt)},bt.\u0275mod=R.oAB({type:bt}),bt.\u0275inj=R.cJS({imports:[Pe.BQ,je.lN,je.lN,P.Ky,Pe.BQ]}),bt})()},3162:(vn,ot,x)=>{x.d(ot,{Cv:()=>ge,pW:()=>Ge});var f=x(4650),P=(x(6895),x(3238)),R=x(1281);const ae=new f.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),ye=(0,P.pj)(class{constructor(le){this._elementRef=le}},"primary");let Ge=(()=>{class le extends ye{constructor(Be,Qe,bt,et,Ve){super(Be),this._ngZone=Qe,this._changeDetectorRef=bt,this._animationMode=et,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new f.vpe,this._mode="determinate",this._transitionendHandler=Me=>{0===this.animationEnd.observers.length||!Me.target||!Me.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===et,Ve&&(Ve.color&&(this.color=this.defaultColor=Ve.color),this.mode=Ve.mode||this.mode)}get value(){return this._value}set value(Be){this._value=ie((0,R.su)(Be)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(Be){this._bufferValue=ie((0,R.su)(Be)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(Be){this._mode=Be,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return le.\u0275fac=function(Be){return new(Be||le)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(f.QbO,8),f.Y36(ae,8))},le.\u0275cmp=f.Xpm({type:le,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(Be,Qe){2&Be&&(f.uIk("aria-valuenow",Qe._isIndeterminate()?null:Qe.value)("mode",Qe.mode),f.ekj("_mat-animation-noopable",Qe._isNoopAnimation)("mdc-linear-progress--animation-ready",!Qe._isNoopAnimation)("mdc-linear-progress--indeterminate",Qe._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[f.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(Be,Qe){1&Be&&(f.TgZ(0,"div",0),f._UZ(1,"div",1)(2,"div",2),f.qZA(),f.TgZ(3,"div",3),f._UZ(4,"span",4),f.qZA(),f.TgZ(5,"div",5),f._UZ(6,"span",4),f.qZA()),2&Be&&(f.xp6(1),f.Udp("flex-basis",Qe._getBufferBarFlexBasis()),f.xp6(2),f.Udp("transform",Qe._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),le})();function ie(le,ke=0,Be=100){return Math.max(ke,Math.min(Be,le))}let ge=(()=>{class le{}return le.\u0275fac=function(Be){return new(Be||le)},le.\u0275mod=f.oAB({type:le}),le.\u0275inj=f.cJS({imports:[P.BQ]}),le})()},1572:(vn,ot,x)=>{x.d(ot,{Cq:()=>Be,Ou:()=>le});var f=x(4650),O=x(3238),P=x(1281),R=x(6895);const ae=["determinateSpinner"];function Pe(Qe,bt){if(1&Qe&&(f.O4$(),f.TgZ(0,"svg",11),f._UZ(1,"circle",12),f.qZA()),2&Qe){const et=f.oxw();f.uIk("viewBox",et._viewBox()),f.xp6(1),f.Udp("stroke-dasharray",et._strokeCircumference(),"px")("stroke-dashoffset",et._strokeCircumference()/2,"px")("stroke-width",et._circleStrokeWidth(),"%"),f.uIk("r",et._circleRadius())}}const je=(0,O.pj)(class{constructor(Qe){this._elementRef=Qe}},"primary"),ye=new f.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ge(){return{diameter:ie}}}),ie=100;let le=(()=>{class Qe extends je{constructor(et,Ve,Me){super(et),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=ie,this._noopAnimations="NoopAnimations"===Ve&&!!Me&&!Me._forceAnimations,Me&&(Me.color&&(this.color=this.defaultColor=Me.color),Me.diameter&&(this.diameter=Me.diameter),Me.strokeWidth&&(this.strokeWidth=Me.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(et){this._value=Math.max(0,Math.min(100,(0,P.su)(et)))}get diameter(){return this._diameter}set diameter(et){this._diameter=(0,P.su)(et)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(et){this._strokeWidth=(0,P.su)(et)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const et=2*this._circleRadius()+this.strokeWidth;return`0 0 ${et} ${et}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return Qe.\u0275fac=function(et){return new(et||Qe)(f.Y36(f.SBq),f.Y36(f.QbO,8),f.Y36(ye))},Qe.\u0275cmp=f.Xpm({type:Qe,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(et,Ve){if(1&et&&f.Gf(ae,5),2&et){let Me;f.iGM(Me=f.CRH())&&(Ve._determinateCircle=Me.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(et,Ve){2&et&&(f.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Ve.mode?Ve.value:null)("mode",Ve.mode),f.Udp("width",Ve.diameter,"px")("height",Ve.diameter,"px"),f.ekj("_mat-animation-noopable",Ve._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Ve.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[f.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(et,Ve){if(1&et&&(f.YNc(0,Pe,2,8,"ng-template",null,0,f.W1O),f.TgZ(2,"div",1,2),f.O4$(),f.TgZ(4,"svg",3),f._UZ(5,"circle",4),f.qZA()(),f.kcU(),f.TgZ(6,"div",5)(7,"div",6)(8,"div",7),f.GkF(9,8),f.qZA(),f.TgZ(10,"div",9),f.GkF(11,8),f.qZA(),f.TgZ(12,"div",10),f.GkF(13,8),f.qZA()()()),2&et){const Me=f.MAs(1);f.xp6(4),f.uIk("viewBox",Ve._viewBox()),f.xp6(1),f.Udp("stroke-dasharray",Ve._strokeCircumference(),"px")("stroke-dashoffset",Ve._strokeDashOffset(),"px")("stroke-width",Ve._circleStrokeWidth(),"%"),f.uIk("r",Ve._circleRadius()),f.xp6(4),f.Q6J("ngTemplateOutlet",Me),f.xp6(2),f.Q6J("ngTemplateOutlet",Me),f.xp6(2),f.Q6J("ngTemplateOutlet",Me)}},dependencies:[R.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),Qe})(),Be=(()=>{class Qe{}return Qe.\u0275fac=function(et){return new(et||Qe)},Qe.\u0275mod=f.oAB({type:Qe}),Qe.\u0275inj=f.cJS({imports:[R.ez,O.BQ]}),Qe})()},3267:(vn,ot,x)=>{x.d(ot,{Rh:()=>ht,SJ:()=>mt,TM:()=>He});var f=x(8605),O=x(6895),P=x(4650),R=x(3238),ae=x(2687),Pe=x(445),je=x(1281),ye=x(9521),Ge=x(3353),ie=x(7579),ge=x(4968),le=x(6451),ke=x(9300),Be=x(4004),Qe=x(9718),bt=x(2722),et=x(1884),Ve=x(5698),Me=x(8675),Ft=x(8372),Ye=x(7340);const Re=["*"],tt=["content"];function lt(gt,Gt){if(1&gt){const Ke=P.EpF();P.TgZ(0,"div",2),P.NdJ("click",function(){P.CHM(Ke);const ln=P.oxw();return P.KtG(ln._onBackdropClicked())}),P.qZA()}if(2&gt){const Ke=P.oxw();P.ekj("mat-drawer-shown",Ke._isShowingBackdrop())}}function nt(gt,Gt){1&gt&&(P.TgZ(0,"mat-drawer-content"),P.Hsn(1,2),P.qZA())}const Ze=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ut=["mat-drawer","mat-drawer-content","*"];function hn(gt,Gt){if(1&gt){const Ke=P.EpF();P.TgZ(0,"div",2),P.NdJ("click",function(){P.CHM(Ke);const ln=P.oxw();return P.KtG(ln._onBackdropClicked())}),P.qZA()}if(2&gt){const Ke=P.oxw();P.ekj("mat-drawer-shown",Ke._isShowingBackdrop())}}function Kt(gt,Gt){1&gt&&(P.TgZ(0,"mat-sidenav-content"),P.Hsn(1,2),P.qZA())}const nn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],mn=["mat-sidenav","mat-sidenav-content","*"],zt={transformDrawer:(0,Ye.X$)("transform",[(0,Ye.SB)("open, open-instant",(0,Ye.oB)({transform:"none",visibility:"visible"})),(0,Ye.SB)("void",(0,Ye.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Ye.eR)("void => open-instant",(0,Ye.jt)("0ms")),(0,Ye.eR)("void <=> open, open-instant => void",(0,Ye.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Bt=new P.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ot(){return!1}}),Vt=new P.OlP("MAT_DRAWER_CONTAINER");let rt=(()=>{class gt extends f.PQ{constructor(Ke,Pt,ln,In,Xn){super(ln,In,Xn),this._changeDetectorRef=Ke,this._container=Pt}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(P.Y36(P.sBO),P.Y36((0,P.Gpc)(()=>Ne)),P.Y36(P.SBq),P.Y36(f.mF),P.Y36(P.R0b))},gt.\u0275cmp=P.Xpm({type:gt,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(Ke,Pt){2&Ke&&P.Udp("margin-left",Pt._container._contentMargins.left,"px")("margin-right",Pt._container._contentMargins.right,"px")},features:[P._Bn([{provide:f.PQ,useExisting:gt}]),P.qOj],ngContentSelectors:Re,decls:1,vars:0,template:function(Ke,Pt){1&Ke&&(P.F$t(),P.Hsn(0))},encapsulation:2,changeDetection:0}),gt})(),dt=(()=>{class gt{get position(){return this._position}set position(Ke){(Ke="end"===Ke?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Ke),this._position=Ke,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Ke){this._mode=Ke,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Ke){this._disableClose=(0,je.Ig)(Ke)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(Ke){("true"===Ke||"false"===Ke||null==Ke)&&(Ke=(0,je.Ig)(Ke)),this._autoFocus=Ke}get opened(){return this._opened}set opened(Ke){this.toggle((0,je.Ig)(Ke))}constructor(Ke,Pt,ln,In,Xn,wt,ct,Ct){this._elementRef=Ke,this._focusTrapFactory=Pt,this._focusMonitor=ln,this._platform=In,this._ngZone=Xn,this._interactivityChecker=wt,this._doc=ct,this._container=Ct,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ie.x,this._animationEnd=new ie.x,this._animationState="void",this.openedChange=new P.vpe(!0),this._openedStream=this.openedChange.pipe((0,ke.h)(xe=>xe),(0,Be.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ke.h)(xe=>xe.fromState!==xe.toState&&0===xe.toState.indexOf("open")),(0,Qe.h)(void 0)),this._closedStream=this.openedChange.pipe((0,ke.h)(xe=>!xe),(0,Be.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ke.h)(xe=>xe.fromState!==xe.toState&&"void"===xe.toState),(0,Qe.h)(void 0)),this._destroyed=new ie.x,this.onPositionChanged=new P.vpe,this._modeChanged=new ie.x,this.openedChange.subscribe(xe=>{xe?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ge.R)(this._elementRef.nativeElement,"keydown").pipe((0,ke.h)(xe=>xe.keyCode===ye.hY&&!this.disableClose&&!(0,ye.Vb)(xe)),(0,bt.R)(this._destroyed)).subscribe(xe=>this._ngZone.run(()=>{this.close(),xe.stopPropagation(),xe.preventDefault()}))}),this._animationEnd.pipe((0,et.x)((xe,J)=>xe.fromState===J.fromState&&xe.toState===J.toState)).subscribe(xe=>{const{fromState:J,toState:Ae}=xe;(0===Ae.indexOf("open")&&"void"===J||"void"===Ae&&0===J.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(Ke,Pt){this._interactivityChecker.isFocusable(Ke)||(Ke.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ln=()=>{Ke.removeEventListener("blur",ln),Ke.removeEventListener("mousedown",ln),Ke.removeAttribute("tabindex")};Ke.addEventListener("blur",ln),Ke.addEventListener("mousedown",ln)})),Ke.focus(Pt)}_focusByCssSelector(Ke,Pt){let ln=this._elementRef.nativeElement.querySelector(Ke);ln&&this._forceFocus(ln,Pt)}_takeFocus(){if(!this._focusTrap)return;const Ke=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Pt=>{!Pt&&"function"==typeof this._elementRef.nativeElement.focus&&Ke.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Ke){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Ke):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Ke=this._doc.activeElement;return!!Ke&&this._elementRef.nativeElement.contains(Ke)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Ke){return this.toggle(!0,Ke)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Ke=!this.opened,Pt){Ke&&Pt&&(this._openedVia=Pt);const ln=this._setOpen(Ke,!Ke&&this._isFocusWithinDrawer(),this._openedVia||"program");return Ke||(this._openedVia=null),ln}_setOpen(Ke,Pt,ln){return this._opened=Ke,Ke?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Pt&&this._restoreFocus(ln)),this._updateFocusTrapState(),new Promise(In=>{this.openedChange.pipe((0,Ve.q)(1)).subscribe(Xn=>In(Xn?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(Ke){const Pt=this._elementRef.nativeElement,ln=Pt.parentNode;"end"===Ke?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),ln.insertBefore(this._anchor,Pt)),ln.appendChild(Pt)):this._anchor&&this._anchor.parentNode.insertBefore(Pt,this._anchor)}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(P.Y36(P.SBq),P.Y36(ae.qV),P.Y36(ae.tE),P.Y36(Ge.t4),P.Y36(P.R0b),P.Y36(ae.ic),P.Y36(O.K0,8),P.Y36(Vt,8))},gt.\u0275cmp=P.Xpm({type:gt,selectors:[["mat-drawer"]],viewQuery:function(Ke,Pt){if(1&Ke&&P.Gf(tt,5),2&Ke){let ln;P.iGM(ln=P.CRH())&&(Pt._content=ln.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(Ke,Pt){1&Ke&&P.WFA("@transform.start",function(In){return Pt._animationStarted.next(In)})("@transform.done",function(In){return Pt._animationEnd.next(In)}),2&Ke&&(P.uIk("align",null),P.d8E("@transform",Pt._animationState),P.ekj("mat-drawer-end","end"===Pt.position)("mat-drawer-over","over"===Pt.mode)("mat-drawer-push","push"===Pt.mode)("mat-drawer-side","side"===Pt.mode)("mat-drawer-opened",Pt.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Re,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(Ke,Pt){1&Ke&&(P.F$t(),P.TgZ(0,"div",0,1),P.Hsn(2),P.qZA())},dependencies:[f.PQ],encapsulation:2,data:{animation:[zt.transformDrawer]},changeDetection:0}),gt})(),Ne=(()=>{class gt{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Ke){this._autosize=(0,je.Ig)(Ke)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(Ke){this._backdropOverride=null==Ke?null:(0,je.Ig)(Ke)}get scrollable(){return this._userContent||this._content}constructor(Ke,Pt,ln,In,Xn,wt=!1,ct){this._dir=Ke,this._element=Pt,this._ngZone=ln,this._changeDetectorRef=In,this._animationMode=ct,this._drawers=new P.n_E,this.backdropClick=new P.vpe,this._destroyed=new ie.x,this._doCheckSubject=new ie.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ie.x,Ke&&Ke.change.pipe((0,bt.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Xn.change().pipe((0,bt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=wt}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Me.O)(this._allDrawers),(0,bt.R)(this._destroyed)).subscribe(Ke=>{this._drawers.reset(Ke.filter(Pt=>!Pt._container||Pt._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Me.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Ke=>{this._watchDrawerToggle(Ke),this._watchDrawerPosition(Ke),this._watchDrawerMode(Ke)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Ft.b)(10),(0,bt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Ke=>Ke.open())}close(){this._drawers.forEach(Ke=>Ke.close())}updateContentMargins(){let Ke=0,Pt=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Ke+=this._left._getWidth();else if("push"==this._left.mode){const ln=this._left._getWidth();Ke+=ln,Pt-=ln}if(this._right&&this._right.opened)if("side"==this._right.mode)Pt+=this._right._getWidth();else if("push"==this._right.mode){const ln=this._right._getWidth();Pt+=ln,Ke-=ln}Ke=Ke||null,Pt=Pt||null,(Ke!==this._contentMargins.left||Pt!==this._contentMargins.right)&&(this._contentMargins={left:Ke,right:Pt},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Ke){Ke._animationStarted.pipe((0,ke.h)(Pt=>Pt.fromState!==Pt.toState),(0,bt.R)(this._drawers.changes)).subscribe(Pt=>{"open-instant"!==Pt.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Ke.mode&&Ke.openedChange.pipe((0,bt.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Ke.opened))}_watchDrawerPosition(Ke){Ke&&Ke.onPositionChanged.pipe((0,bt.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Ve.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(Ke){Ke&&Ke._modeChanged.pipe((0,bt.R)((0,le.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Ke){const Pt=this._element.nativeElement.classList,ln="mat-drawer-container-has-open";Ke?Pt.add(ln):Pt.remove(ln)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Ke=>{"end"==Ke.position?this._end=Ke:this._start=Ke}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Ke=>Ke&&!Ke.disableClose&&this._canHaveBackdrop(Ke)).forEach(Ke=>Ke._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(Ke){return"side"!==Ke.mode||!!this._backdropOverride}_isDrawerOpen(Ke){return null!=Ke&&Ke.opened}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(P.Y36(Pe.Is,8),P.Y36(P.SBq),P.Y36(P.R0b),P.Y36(P.sBO),P.Y36(f.rL),P.Y36(Bt),P.Y36(P.QbO,8))},gt.\u0275cmp=P.Xpm({type:gt,selectors:[["mat-drawer-container"]],contentQueries:function(Ke,Pt,ln){if(1&Ke&&(P.Suo(ln,rt,5),P.Suo(ln,dt,5)),2&Ke){let In;P.iGM(In=P.CRH())&&(Pt._content=In.first),P.iGM(In=P.CRH())&&(Pt._allDrawers=In)}},viewQuery:function(Ke,Pt){if(1&Ke&&P.Gf(rt,5),2&Ke){let ln;P.iGM(ln=P.CRH())&&(Pt._userContent=ln.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(Ke,Pt){2&Ke&&P.ekj("mat-drawer-container-explicit-backdrop",Pt._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[P._Bn([{provide:Vt,useExisting:gt}])],ngContentSelectors:Ut,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Ke,Pt){1&Ke&&(P.F$t(Ze),P.YNc(0,lt,1,2,"div",0),P.Hsn(1),P.Hsn(2,1),P.YNc(3,nt,2,0,"mat-drawer-content",1)),2&Ke&&(P.Q6J("ngIf",Pt.hasBackdrop),P.xp6(3),P.Q6J("ngIf",!Pt._content))},dependencies:[O.O5,rt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),gt})(),ht=(()=>{class gt extends rt{constructor(Ke,Pt,ln,In,Xn){super(Ke,Pt,ln,In,Xn)}}return gt.\u0275fac=function(Ke){return new(Ke||gt)(P.Y36(P.sBO),P.Y36((0,P.Gpc)(()=>He)),P.Y36(P.SBq),P.Y36(f.mF),P.Y36(P.R0b))},gt.\u0275cmp=P.Xpm({type:gt,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(Ke,Pt){2&Ke&&P.Udp("margin-left",Pt._container._contentMargins.left,"px")("margin-right",Pt._container._contentMargins.right,"px")},features:[P._Bn([{provide:f.PQ,useExisting:gt}]),P.qOj],ngContentSelectors:Re,decls:1,vars:0,template:function(Ke,Pt){1&Ke&&(P.F$t(),P.Hsn(0))},encapsulation:2,changeDetection:0}),gt})(),it=(()=>{class gt extends dt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(Ke){this._fixedInViewport=(0,je.Ig)(Ke)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(Ke){this._fixedTopGap=(0,je.su)(Ke)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(Ke){this._fixedBottomGap=(0,je.su)(Ke)}}return gt.\u0275fac=function(){let Gt;return function(Pt){return(Gt||(Gt=P.n5z(gt)))(Pt||gt)}}(),gt.\u0275cmp=P.Xpm({type:gt,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(Ke,Pt){2&Ke&&(P.uIk("align",null),P.Udp("top",Pt.fixedInViewport?Pt.fixedTopGap:null,"px")("bottom",Pt.fixedInViewport?Pt.fixedBottomGap:null,"px"),P.ekj("mat-drawer-end","end"===Pt.position)("mat-drawer-over","over"===Pt.mode)("mat-drawer-push","push"===Pt.mode)("mat-drawer-side","side"===Pt.mode)("mat-drawer-opened",Pt.opened)("mat-sidenav-fixed",Pt.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[P.qOj],ngContentSelectors:Re,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(Ke,Pt){1&Ke&&(P.F$t(),P.TgZ(0,"div",0,1),P.Hsn(2),P.qZA())},dependencies:[f.PQ],encapsulation:2,data:{animation:[zt.transformDrawer]},changeDetection:0}),gt})(),He=(()=>{class gt extends Ne{}return gt.\u0275fac=function(){let Gt;return function(Pt){return(Gt||(Gt=P.n5z(gt)))(Pt||gt)}}(),gt.\u0275cmp=P.Xpm({type:gt,selectors:[["mat-sidenav-container"]],contentQueries:function(Ke,Pt,ln){if(1&Ke&&(P.Suo(ln,ht,5),P.Suo(ln,it,5)),2&Ke){let In;P.iGM(In=P.CRH())&&(Pt._content=In.first),P.iGM(In=P.CRH())&&(Pt._allDrawers=In)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(Ke,Pt){2&Ke&&P.ekj("mat-drawer-container-explicit-backdrop",Pt._backdropOverride)},exportAs:["matSidenavContainer"],features:[P._Bn([{provide:Vt,useExisting:gt}]),P.qOj],ngContentSelectors:mn,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Ke,Pt){1&Ke&&(P.F$t(nn),P.YNc(0,hn,1,2,"div",0),P.Hsn(1),P.Hsn(2,1),P.YNc(3,Kt,2,0,"mat-sidenav-content",1)),2&Ke&&(P.Q6J("ngIf",Pt.hasBackdrop),P.xp6(3),P.Q6J("ngIf",!Pt._content))},dependencies:[O.O5,ht],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),gt})(),mt=(()=>{class gt{}return gt.\u0275fac=function(Ke){return new(Ke||gt)},gt.\u0275mod=P.oAB({type:gt}),gt.\u0275inj=P.cJS({imports:[O.ez,R.BQ,f.ZD,f.ZD,R.BQ]}),gt})()},3683:(vn,ot,x)=>{x.d(ot,{Ye:()=>Ge,g0:()=>ge});var f=x(4650),O=x(3238),P=x(3353),R=x(6895);const ae=["*",[["mat-toolbar-row"]]],Pe=["*","mat-toolbar-row"],je=(0,O.pj)(class{constructor(le){this._elementRef=le}});let ye=(()=>{class le{}return le.\u0275fac=function(Be){return new(Be||le)},le.\u0275dir=f.lG2({type:le,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),le})(),Ge=(()=>{class le extends je{constructor(Be,Qe,bt){super(Be),this._platform=Qe,this._document=bt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return le.\u0275fac=function(Be){return new(Be||le)(f.Y36(f.SBq),f.Y36(P.t4),f.Y36(R.K0))},le.\u0275cmp=f.Xpm({type:le,selectors:[["mat-toolbar"]],contentQueries:function(Be,Qe,bt){if(1&Be&&f.Suo(bt,ye,5),2&Be){let et;f.iGM(et=f.CRH())&&(Qe._toolbarRows=et)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Be,Qe){2&Be&&f.ekj("mat-toolbar-multiple-rows",Qe._toolbarRows.length>0)("mat-toolbar-single-row",0===Qe._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:Pe,decls:2,vars:0,template:function(Be,Qe){1&Be&&(f.F$t(ae),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),le})(),ge=(()=>{class le{}return le.\u0275fac=function(Be){return new(Be||le)},le.\u0275mod=f.oAB({type:le}),le.\u0275inj=f.cJS({imports:[O.BQ,O.BQ]}),le})()},266:(vn,ot,x)=>{x.d(ot,{AV:()=>Ot,gM:()=>zt});var f=x(2722),O=x(5698),P=x(1281),R=x(9521),ae=x(4650),Pe=x(6895),je=x(3353),ye=x(2687),Ge=x(445),ie=x(8184),ge=x(8605),le=x(4080),ke=x(7579),Qe=(x(7340),x(3238));const bt=["tooltip"],Me=new ae.OlP("mat-tooltip-scroll-strategy"),Ye={provide:Me,deps:[ie.aV],useFactory:function Ft(rt){return()=>rt.scrollStrategies.reposition({scrollThrottle:20})}},tt=new ae.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Re(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),nt="tooltip-panel",Ze=(0,je.i$)({passive:!0});let ai=(()=>{class rt{get position(){return this._position}set position(Ne){Ne!==this._position&&(this._position=Ne,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(Ne){this._positionAtOrigin=(0,P.Ig)(Ne),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(Ne){this._disabled=(0,P.Ig)(Ne),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Ne){this._showDelay=(0,P.su)(Ne)}get hideDelay(){return this._hideDelay}set hideDelay(Ne){this._hideDelay=(0,P.su)(Ne),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Ne){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Ne?String(Ne).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Ne){this._tooltipClass=Ne,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(Ne,ht,it,He,mt,gt,Gt,Ke,Pt,ln,In,Xn){this._overlay=Ne,this._elementRef=ht,this._scrollDispatcher=it,this._viewContainerRef=He,this._ngZone=mt,this._platform=gt,this._ariaDescriber=Gt,this._focusMonitor=Ke,this._dir=ln,this._defaultOptions=In,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ke.x,this._scrollStrategy=Pt,this._document=Xn,In&&(In.position&&(this.position=In.position),In.positionAtOrigin&&(this.positionAtOrigin=In.positionAtOrigin),In.touchGestures&&(this.touchGestures=In.touchGestures)),ln.change.pipe((0,f.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,f.R)(this._destroyed)).subscribe(Ne=>{Ne?"keyboard"===Ne&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Ne=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ht,it])=>{Ne.removeEventListener(ht,it,Ze)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Ne,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Ne)}show(Ne=this.showDelay,ht){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const it=this._createOverlay(ht);this._detach(),this._portal=this._portal||new le.C5(this._tooltipComponent,this._viewContainerRef);const He=this._tooltipInstance=it.attach(this._portal).instance;He._triggerElement=this._elementRef.nativeElement,He._mouseLeaveHideDelay=this._hideDelay,He.afterHidden().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),He.show(Ne)}hide(Ne=this.hideDelay){const ht=this._tooltipInstance;ht&&(ht.isVisible()?ht.hide(Ne):(ht._cancelPendingAnimations(),this._detach()))}toggle(Ne){this._isTooltipVisible()?this.hide():this.show(void 0,Ne)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(Ne){if(this._overlayRef){const He=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!Ne)&&He._origin instanceof ae.SBq)return this._overlayRef;this._detach()}const ht=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),it=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&Ne||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ht);return it.positionChanges.pipe((0,f.R)(this._destroyed)).subscribe(He=>{this._updateCurrentPositionClass(He.connectionPair),this._tooltipInstance&&He.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:it,panelClass:`${this._cssClassPrefix}-${nt}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,f.R)(this._destroyed)).subscribe(He=>{this._isTooltipVisible()&&He.keyCode===R.hY&&!(0,R.Vb)(He)&&(He.preventDefault(),He.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Ne){const ht=Ne.getConfig().positionStrategy,it=this._getOrigin(),He=this._getOverlayPosition();ht.withPositions([this._addOffset({...it.main,...He.main}),this._addOffset({...it.fallback,...He.fallback})])}_addOffset(Ne){return Ne}_getOrigin(){const Ne=!this._dir||"ltr"==this._dir.value,ht=this.position;let it;"above"==ht||"below"==ht?it={originX:"center",originY:"above"==ht?"top":"bottom"}:"before"==ht||"left"==ht&&Ne||"right"==ht&&!Ne?it={originX:"start",originY:"center"}:("after"==ht||"right"==ht&&Ne||"left"==ht&&!Ne)&&(it={originX:"end",originY:"center"});const{x:He,y:mt}=this._invertPosition(it.originX,it.originY);return{main:it,fallback:{originX:He,originY:mt}}}_getOverlayPosition(){const Ne=!this._dir||"ltr"==this._dir.value,ht=this.position;let it;"above"==ht?it={overlayX:"center",overlayY:"bottom"}:"below"==ht?it={overlayX:"center",overlayY:"top"}:"before"==ht||"left"==ht&&Ne||"right"==ht&&!Ne?it={overlayX:"end",overlayY:"center"}:("after"==ht||"right"==ht&&Ne||"left"==ht&&!Ne)&&(it={overlayX:"start",overlayY:"center"});const{x:He,y:mt}=this._invertPosition(it.overlayX,it.overlayY);return{main:it,fallback:{overlayX:He,overlayY:mt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,O.q)(1),(0,f.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Ne){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Ne,this._tooltipInstance._markForCheck())}_invertPosition(Ne,ht){return"above"===this.position||"below"===this.position?"top"===ht?ht="bottom":"bottom"===ht&&(ht="top"):"end"===Ne?Ne="start":"start"===Ne&&(Ne="end"),{x:Ne,y:ht}}_updateCurrentPositionClass(Ne){const{overlayY:ht,originX:it,originY:He}=Ne;let mt;if(mt="center"===ht?this._dir&&"rtl"===this._dir.value?"end"===it?"left":"right":"start"===it?"left":"right":"bottom"===ht&&"top"===He?"above":"below",mt!==this._currentPosition){const gt=this._overlayRef;if(gt){const Gt=`${this._cssClassPrefix}-${nt}-`;gt.removePanelClass(Gt+this._currentPosition),gt.addPanelClass(Gt+mt)}this._currentPosition=mt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",Ne=>{let ht;this._setupPointerExitEventsIfNeeded(),void 0!==Ne.x&&void 0!==Ne.y&&(ht=Ne),this.show(void 0,ht)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",Ne=>{const ht=Ne.targetTouches?.[0],it=ht?{x:ht.clientX,y:ht.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,it),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Ne=[];if(this._platformSupportsMouseEvents())Ne.push(["mouseleave",ht=>{const it=ht.relatedTarget;(!it||!this._overlayRef?.overlayElement.contains(it))&&this.hide()}],["wheel",ht=>this._wheelListener(ht)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ht=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Ne.push(["touchend",ht],["touchcancel",ht])}this._addListeners(Ne),this._passiveListeners.push(...Ne)}_addListeners(Ne){Ne.forEach(([ht,it])=>{this._elementRef.nativeElement.addEventListener(ht,it,Ze)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Ne){if(this._isTooltipVisible()){const ht=this._document.elementFromPoint(Ne.clientX,Ne.clientY),it=this._elementRef.nativeElement;ht!==it&&!it.contains(ht)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Ne=this.touchGestures;if("off"!==Ne){const ht=this._elementRef.nativeElement,it=ht.style;("on"===Ne||"INPUT"!==ht.nodeName&&"TEXTAREA"!==ht.nodeName)&&(it.userSelect=it.msUserSelect=it.webkitUserSelect=it.MozUserSelect="none"),("on"===Ne||!ht.draggable)&&(it.webkitUserDrag="none"),it.touchAction="none",it.webkitTapHighlightColor="transparent"}}}return rt.\u0275fac=function(Ne){ae.$Z()},rt.\u0275dir=ae.lG2({type:rt,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),rt})(),zt=(()=>{class rt extends ai{constructor(Ne,ht,it,He,mt,gt,Gt,Ke,Pt,ln,In,Xn){super(Ne,ht,it,He,mt,gt,Gt,Ke,Pt,ln,In,Xn),this._tooltipComponent=Bt,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(Ne){const it=!this._dir||"ltr"==this._dir.value;return"top"===Ne.originY?Ne.offsetY=-8:"bottom"===Ne.originY?Ne.offsetY=8:"start"===Ne.originX?Ne.offsetX=it?-8:8:"end"===Ne.originX&&(Ne.offsetX=it?8:-8),Ne}}return rt.\u0275fac=function(Ne){return new(Ne||rt)(ae.Y36(ie.aV),ae.Y36(ae.SBq),ae.Y36(ge.mF),ae.Y36(ae.s_b),ae.Y36(ae.R0b),ae.Y36(je.t4),ae.Y36(ye.$s),ae.Y36(ye.tE),ae.Y36(Me),ae.Y36(Ge.Is,8),ae.Y36(tt,8),ae.Y36(Pe.K0))},rt.\u0275dir=ae.lG2({type:rt,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[ae.qOj]}),rt})(),Mt=(()=>{class rt{constructor(Ne,ht){this._changeDetectorRef=Ne,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ke.x,this._animationsDisabled="NoopAnimations"===ht}show(Ne){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Ne)}hide(Ne){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Ne)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Ne}){(!Ne||!this._triggerElement.contains(Ne))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:Ne}){(Ne===this._showAnimation||Ne===this._hideAnimation)&&this._finalizeAnimation(Ne===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(Ne){Ne?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Ne){const ht=this._tooltip.nativeElement,it=this._showAnimation,He=this._hideAnimation;if(ht.classList.remove(Ne?He:it),ht.classList.add(Ne?it:He),this._isVisible=Ne,Ne&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const mt=getComputedStyle(ht);("0s"===mt.getPropertyValue("animation-duration")||"none"===mt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Ne&&this._onShow(),this._animationsDisabled&&(ht.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Ne))}}return rt.\u0275fac=function(Ne){return new(Ne||rt)(ae.Y36(ae.sBO),ae.Y36(ae.QbO,8))},rt.\u0275dir=ae.lG2({type:rt}),rt})(),Bt=(()=>{class rt extends Mt{constructor(Ne,ht,it){super(Ne,it),this._elementRef=ht,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const Ne=this._elementRef.nativeElement.getBoundingClientRect();return Ne.height>24&&Ne.width>=200}}return rt.\u0275fac=function(Ne){return new(Ne||rt)(ae.Y36(ae.sBO),ae.Y36(ae.SBq),ae.Y36(ae.QbO,8))},rt.\u0275cmp=ae.Xpm({type:rt,selectors:[["mat-tooltip-component"]],viewQuery:function(Ne,ht){if(1&Ne&&ae.Gf(bt,7),2&Ne){let it;ae.iGM(it=ae.CRH())&&(ht._tooltip=it.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Ne,ht){1&Ne&&ae.NdJ("mouseleave",function(He){return ht._handleMouseLeave(He)}),2&Ne&&ae.Udp("zoom",ht.isVisible()?1:null)},features:[ae.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Ne,ht){1&Ne&&(ae.TgZ(0,"div",0,1),ae.NdJ("animationend",function(He){return ht._handleAnimationEnd(He)}),ae.TgZ(2,"div",2),ae._uU(3),ae.qZA()()),2&Ne&&(ae.ekj("mdc-tooltip--multiline",ht._isMultiline),ae.Q6J("ngClass",ht.tooltipClass),ae.xp6(3),ae.Oqu(ht.message))},dependencies:[Pe.mk],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),rt})(),Ot=(()=>{class rt{}return rt.\u0275fac=function(Ne){return new(Ne||rt)},rt.\u0275mod=ae.oAB({type:rt}),rt.\u0275inj=ae.cJS({providers:[Ye],imports:[ye.rt,Pe.ez,ie.U8,Qe.BQ,Qe.BQ,ge.ZD]}),rt})()},1481:(vn,ot,x)=>{x.d(ot,{Dx:()=>Yt,H7:()=>de,b2:()=>Ae,q6:()=>ct,se:()=>mn});var f=x(6895),O=x(4650);class P extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class R extends P{static makeCurrent(){(0,f.HT)(new R)}onAndCancel(We,be,Xe){return We.addEventListener(be,Xe,!1),()=>{We.removeEventListener(be,Xe,!1)}}dispatchEvent(We,be){We.dispatchEvent(be)}remove(We){We.parentNode&&We.parentNode.removeChild(We)}createElement(We,be){return(be=be||this.getDefaultDocument()).createElement(We)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(We){return We.nodeType===Node.ELEMENT_NODE}isShadowRoot(We){return We instanceof DocumentFragment}getGlobalEventTarget(We,be){return"window"===be?window:"document"===be?We:"body"===be?We.body:null}getBaseHref(We){const be=function Pe(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==be?null:function ye(Fe){je=je||document.createElement("a"),je.setAttribute("href",Fe);const We=je.pathname;return"/"===We.charAt(0)?We:`/${We}`}(be)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(We){return(0,f.Mx)(document.cookie,We)}}let je,ae=null;const Ge=new O.OlP("TRANSITION_ID"),ge=[{provide:O.ip1,useFactory:function ie(Fe,We,be){return()=>{be.get(O.CZH).donePromise.then(()=>{const Xe=(0,f.q)(),jt=We.querySelectorAll(`style[ng-transition="${Fe}"]`);for(let fn=0;fn<jt.length;fn++)Xe.remove(jt[fn])})}},deps:[Ge,f.K0,O.zs3],multi:!0}];let ke=(()=>{class Fe{build(){return new XMLHttpRequest}}return Fe.\u0275fac=function(be){return new(be||Fe)},Fe.\u0275prov=O.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Be=new O.OlP("EventManagerPlugins");let Qe=(()=>{class Fe{constructor(be,Xe){this._zone=Xe,this._eventNameToPlugin=new Map,be.forEach(jt=>{jt.manager=this}),this._plugins=be.slice().reverse()}addEventListener(be,Xe,jt){return this._findPluginFor(Xe).addEventListener(be,Xe,jt)}addGlobalEventListener(be,Xe,jt){return this._findPluginFor(Xe).addGlobalEventListener(be,Xe,jt)}getZone(){return this._zone}_findPluginFor(be){const Xe=this._eventNameToPlugin.get(be);if(Xe)return Xe;const jt=this._plugins;for(let fn=0;fn<jt.length;fn++){const xn=jt[fn];if(xn.supports(be))return this._eventNameToPlugin.set(be,xn),xn}throw new Error(`No event manager plugin found for event ${be}`)}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(Be),O.LFG(O.R0b))},Fe.\u0275prov=O.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class bt{constructor(We){this._doc=We}addGlobalEventListener(We,be,Xe){const jt=(0,f.q)().getGlobalEventTarget(this._doc,We);if(!jt)throw new Error(`Unsupported event target ${jt} for event ${be}`);return this.addEventListener(jt,be,Xe)}}let et=(()=>{class Fe{constructor(){this.usageCount=new Map}addStyles(be){for(const Xe of be)1===this.changeUsageCount(Xe,1)&&this.onStyleAdded(Xe)}removeStyles(be){for(const Xe of be)0===this.changeUsageCount(Xe,-1)&&this.onStyleRemoved(Xe)}onStyleRemoved(be){}onStyleAdded(be){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(be,Xe){const jt=this.usageCount;let fn=jt.get(be)??0;return fn+=Xe,fn>0?jt.set(be,fn):jt.delete(be),fn}ngOnDestroy(){for(const be of this.getAllStyles())this.onStyleRemoved(be);this.usageCount.clear()}}return Fe.\u0275fac=function(be){return new(be||Fe)},Fe.\u0275prov=O.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),Ve=(()=>{class Fe extends et{constructor(be){super(),this.doc=be,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(be){for(const Xe of this.hostNodes)this.addStyleToHost(Xe,be)}onStyleRemoved(be){const Xe=this.styleRef;Xe.get(be)?.forEach(fn=>fn.remove()),Xe.delete(be)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(be){this.hostNodes.add(be);for(const Xe of this.getAllStyles())this.addStyleToHost(be,Xe)}removeHost(be){this.hostNodes.delete(be)}addStyleToHost(be,Xe){const jt=this.doc.createElement("style");jt.textContent=Xe,be.appendChild(jt);const fn=this.styleRef.get(Xe);fn?fn.push(jt):this.styleRef.set(Xe,[jt])}resetHostNodes(){const be=this.hostNodes;be.clear(),be.add(this.doc.head)}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(f.K0))},Fe.\u0275prov=O.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,Ze=new O.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Kt(Fe,We){return We.flat(100).map(be=>be.replace(Ft,Fe))}function nn(Fe){return We=>{if("__ngUnwrap__"===We)return Fe;!1===Fe(We)&&(We.preventDefault(),We.returnValue=!1)}}let mn=(()=>{class Fe{constructor(be,Xe,jt,fn){this.eventManager=be,this.sharedStylesHost=Xe,this.appId=jt,this.removeStylesOnCompDestory=fn,this.rendererByCompId=new Map,this.defaultRenderer=new ai(be)}createRenderer(be,Xe){if(!be||!Xe)return this.defaultRenderer;const jt=this.getOrCreateRenderer(be,Xe);return jt instanceof rt?jt.applyToHost(be):jt instanceof Ot&&jt.applyStyles(),jt}getOrCreateRenderer(be,Xe){const jt=this.rendererByCompId;let fn=jt.get(Xe.id);if(!fn){const xn=this.eventManager,Ln=this.sharedStylesHost,yi=this.removeStylesOnCompDestory;switch(Xe.encapsulation){case O.ifc.Emulated:fn=new rt(xn,Ln,Xe,this.appId,yi);break;case O.ifc.ShadowDom:return new Vt(xn,Ln,be,Xe);default:fn=new Ot(xn,Ln,Xe,yi)}fn.onDestroy=()=>jt.delete(Xe.id),jt.set(Xe.id,fn)}return fn}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(Qe),O.LFG(Ve),O.LFG(O.AFp),O.LFG(Ze))},Fe.\u0275prov=O.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class ai{constructor(We){this.eventManager=We,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(We,be){return be?document.createElementNS(Me[be]||be,We):document.createElement(We)}createComment(We){return document.createComment(We)}createText(We){return document.createTextNode(We)}appendChild(We,be){(Bt(We)?We.content:We).appendChild(be)}insertBefore(We,be,Xe){We&&(Bt(We)?We.content:We).insertBefore(be,Xe)}removeChild(We,be){We&&We.removeChild(be)}selectRootElement(We,be){let Xe="string"==typeof We?document.querySelector(We):We;if(!Xe)throw new Error(`The selector "${We}" did not match any elements`);return be||(Xe.textContent=""),Xe}parentNode(We){return We.parentNode}nextSibling(We){return We.nextSibling}setAttribute(We,be,Xe,jt){if(jt){be=jt+":"+be;const fn=Me[jt];fn?We.setAttributeNS(fn,be,Xe):We.setAttribute(be,Xe)}else We.setAttribute(be,Xe)}removeAttribute(We,be,Xe){if(Xe){const jt=Me[Xe];jt?We.removeAttributeNS(jt,be):We.removeAttribute(`${Xe}:${be}`)}else We.removeAttribute(be)}addClass(We,be){We.classList.add(be)}removeClass(We,be){We.classList.remove(be)}setStyle(We,be,Xe,jt){jt&(O.JOm.DashCase|O.JOm.Important)?We.style.setProperty(be,Xe,jt&O.JOm.Important?"important":""):We.style[be]=Xe}removeStyle(We,be,Xe){Xe&O.JOm.DashCase?We.style.removeProperty(be):We.style[be]=""}setProperty(We,be,Xe){We[be]=Xe}setValue(We,be){We.nodeValue=be}listen(We,be,Xe){return"string"==typeof We?this.eventManager.addGlobalEventListener(We,be,nn(Xe)):this.eventManager.addEventListener(We,be,nn(Xe))}}function Bt(Fe){return"TEMPLATE"===Fe.tagName&&void 0!==Fe.content}class Vt extends ai{constructor(We,be,Xe,jt){super(We),this.sharedStylesHost=be,this.hostEl=Xe,this.shadowRoot=Xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=Kt(jt.id,jt.styles);for(const xn of fn){const Ln=document.createElement("style");Ln.textContent=xn,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(We){return We===this.hostEl?this.shadowRoot:We}appendChild(We,be){return super.appendChild(this.nodeOrShadowRoot(We),be)}insertBefore(We,be,Xe){return super.insertBefore(this.nodeOrShadowRoot(We),be,Xe)}removeChild(We,be){return super.removeChild(this.nodeOrShadowRoot(We),be)}parentNode(We){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(We)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ot extends ai{constructor(We,be,Xe,jt,fn=Xe.id){super(We),this.sharedStylesHost=be,this.removeStylesOnCompDestory=jt,this.rendererUsageCount=0,this.styles=Kt(fn,Xe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class rt extends Ot{constructor(We,be,Xe,jt,fn){const xn=jt+"-"+Xe.id;super(We,be,Xe,fn,xn),this.contentAttr=function Ut(Fe){return"_ngcontent-%COMP%".replace(Ft,Fe)}(xn),this.hostAttr=function hn(Fe){return"_nghost-%COMP%".replace(Ft,Fe)}(xn)}applyToHost(We){this.applyStyles(),this.setAttribute(We,this.hostAttr,"")}createElement(We,be){const Xe=super.createElement(We,be);return super.setAttribute(Xe,this.contentAttr,""),Xe}}let dt=(()=>{class Fe extends bt{constructor(be){super(be)}supports(be){return!0}addEventListener(be,Xe,jt){return be.addEventListener(Xe,jt,!1),()=>this.removeEventListener(be,Xe,jt)}removeEventListener(be,Xe,jt){return be.removeEventListener(Xe,jt)}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(f.K0))},Fe.\u0275prov=O.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Ne=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={alt:Fe=>Fe.altKey,control:Fe=>Fe.ctrlKey,meta:Fe=>Fe.metaKey,shift:Fe=>Fe.shiftKey};let He=(()=>{class Fe extends bt{constructor(be){super(be)}supports(be){return null!=Fe.parseEventName(be)}addEventListener(be,Xe,jt){const fn=Fe.parseEventName(Xe),xn=Fe.eventCallback(fn.fullKey,jt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(be,fn.domEventName,xn))}static parseEventName(be){const Xe=be.toLowerCase().split("."),jt=Xe.shift();if(0===Xe.length||"keydown"!==jt&&"keyup"!==jt)return null;const fn=Fe._normalizeKey(Xe.pop());let xn="",Ln=Xe.indexOf("code");if(Ln>-1&&(Xe.splice(Ln,1),xn="code."),Ne.forEach(rr=>{const tn=Xe.indexOf(rr);tn>-1&&(Xe.splice(tn,1),xn+=rr+".")}),xn+=fn,0!=Xe.length||0===fn.length)return null;const yi={};return yi.domEventName=jt,yi.fullKey=xn,yi}static matchEventFullKeyCode(be,Xe){let jt=ht[be.key]||be.key,fn="";return Xe.indexOf("code.")>-1&&(jt=be.code,fn="code."),!(null==jt||!jt)&&(jt=jt.toLowerCase()," "===jt?jt="space":"."===jt&&(jt="dot"),Ne.forEach(xn=>{xn!==jt&&(0,it[xn])(be)&&(fn+=xn+".")}),fn+=jt,fn===Xe)}static eventCallback(be,Xe,jt){return fn=>{Fe.matchEventFullKeyCode(fn,be)&&jt.runGuarded(()=>Xe(fn))}}static _normalizeKey(be){return"esc"===be?"escape":be}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(f.K0))},Fe.\u0275prov=O.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const ct=(0,O.eFA)(O._c5,"browser",[{provide:O.Lbi,useValue:f.bD},{provide:O.g9A,useValue:function ln(){R.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Xn(){return(0,O.RDi)(document),document},deps:[]}]),Ct=new O.OlP(""),xe=[{provide:O.rWj,useClass:class le{addToWindow(We){O.dqk.getAngularTestability=(Xe,jt=!0)=>{const fn=We.findTestabilityInTree(Xe,jt);if(null==fn)throw new Error("Could not find testability for element.");return fn},O.dqk.getAllAngularTestabilities=()=>We.getAllTestabilities(),O.dqk.getAllAngularRootElements=()=>We.getAllRootElements(),O.dqk.frameworkStabilizers||(O.dqk.frameworkStabilizers=[]),O.dqk.frameworkStabilizers.push(Xe=>{const jt=O.dqk.getAllAngularTestabilities();let fn=jt.length,xn=!1;const Ln=function(yi){xn=xn||yi,fn--,0==fn&&Xe(xn)};jt.forEach(function(yi){yi.whenStable(Ln)})})}findTestabilityInTree(We,be,Xe){return null==be?null:We.getTestability(be)??(Xe?(0,f.q)().isShadowRoot(be)?this.findTestabilityInTree(We,be.host,!0):this.findTestabilityInTree(We,be.parentElement,!0):null)}},deps:[]},{provide:O.lri,useClass:O.dDg,deps:[O.R0b,O.eoX,O.rWj]},{provide:O.dDg,useClass:O.dDg,deps:[O.R0b,O.eoX,O.rWj]}],J=[{provide:O.zSh,useValue:"root"},{provide:O.qLn,useFactory:function In(){return new O.qLn},deps:[]},{provide:Be,useClass:dt,multi:!0,deps:[f.K0,O.R0b,O.Lbi]},{provide:Be,useClass:He,multi:!0,deps:[f.K0]},{provide:mn,useClass:mn,deps:[Qe,Ve,O.AFp,Ze]},{provide:O.FYo,useExisting:mn},{provide:et,useExisting:Ve},{provide:Ve,useClass:Ve,deps:[f.K0]},{provide:Qe,useClass:Qe,deps:[Be,O.R0b]},{provide:f.JF,useClass:ke,deps:[]},[]];let Ae=(()=>{class Fe{constructor(be){}static withServerTransition(be){return{ngModule:Fe,providers:[{provide:O.AFp,useValue:be.appId},{provide:Ge,useExisting:O.AFp},ge]}}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(Ct,12))},Fe.\u0275mod=O.oAB({type:Fe}),Fe.\u0275inj=O.cJS({providers:[...J,...xe],imports:[f.ez,O.hGG]}),Fe})(),Yt=(()=>{class Fe{constructor(be){this._doc=be}getTitle(){return this._doc.title}setTitle(be){this._doc.title=be||""}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(f.K0))},Fe.\u0275prov=O.Yz7({token:Fe,factory:function(be){let Xe=null;return Xe=be?new be:function _t(){return new Yt((0,O.LFG)(f.K0))}(),Xe},providedIn:"root"}),Fe})();typeof window<"u"&&window;let de=(()=>{class Fe{}return Fe.\u0275fac=function(be){return new(be||Fe)},Fe.\u0275prov=O.Yz7({token:Fe,factory:function(be){let Xe=null;return Xe=be?new(be||Fe):O.LFG(fe),Xe},providedIn:"root"}),Fe})(),fe=(()=>{class Fe extends de{constructor(be){super(),this._doc=be}sanitize(be,Xe){if(null==Xe)return null;switch(be){case O.q3G.NONE:return Xe;case O.q3G.HTML:return(0,O.qzn)(Xe,"HTML")?(0,O.z3N)(Xe):(0,O.EiD)(this._doc,String(Xe)).toString();case O.q3G.STYLE:return(0,O.qzn)(Xe,"Style")?(0,O.z3N)(Xe):Xe;case O.q3G.SCRIPT:if((0,O.qzn)(Xe,"Script"))return(0,O.z3N)(Xe);throw new Error("unsafe value used in a script context");case O.q3G.URL:return(0,O.qzn)(Xe,"URL")?(0,O.z3N)(Xe):(0,O.mCW)(String(Xe));case O.q3G.RESOURCE_URL:if((0,O.qzn)(Xe,"ResourceURL"))return(0,O.z3N)(Xe);throw new Error(`unsafe value used in a resource URL context (see ${O.JZr})`);default:throw new Error(`Unexpected SecurityContext ${be} (see ${O.JZr})`)}}bypassSecurityTrustHtml(be){return(0,O.JVY)(be)}bypassSecurityTrustStyle(be){return(0,O.L6k)(be)}bypassSecurityTrustScript(be){return(0,O.eBb)(be)}bypassSecurityTrustUrl(be){return(0,O.LAX)(be)}bypassSecurityTrustResourceUrl(be){return(0,O.pB0)(be)}}return Fe.\u0275fac=function(be){return new(be||Fe)(O.LFG(f.K0))},Fe.\u0275prov=O.Yz7({token:Fe,factory:function(be){let Xe=null;return Xe=be?new be:function pe(Fe){return new fe(Fe.get(f.K0))}(O.LFG(O.zs3)),Xe},providedIn:"root"}),Fe})()},1779:(vn,ot,x)=>{x.d(ot,{gz:()=>rs,F0:()=>tr,rH:()=>_a,Od:()=>Xc,Bz:()=>eh,lC:()=>aa});var f=x(4650),O=x(8996),P=x(9646),R=x(1135),ae=x(6805),Pe=x(9841),je=x(7272),ye=x(9751),Ge=x(8421);function ie(I){return new ye.y(T=>{(0,Ge.Xf)(I()).subscribe(T)})}var ge=x(9635),le=x(2843),ke=x(515),Be=x(727),Qe=x(4482),bt=x(5403);function et(){return(0,Qe.e)((I,T)=>{let E=null;I._refCount++;const B=(0,bt.x)(T,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(E=null);const Y=I._connection,he=E;E=null,Y&&(!he||Y===he)&&Y.unsubscribe(),T.unsubscribe()});I.subscribe(B),B.closed||(E=I.connect())})}class Ve extends ye.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Be.w0;const E=this.getSubject();T.add(this.source.subscribe((0,bt.x)(E,void 0,()=>{this._teardown(),E.complete()},B=>{this._teardown(),E.error(B)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Be.w0.EMPTY)}return T}refCount(){return et()(this)}}var Me=x(7579),Ft=x(6895),Ye=x(4004),Re=x(3900),tt=x(5698),lt=x(8675),nt=x(9300),Ze=x(5577),Ut=x(590),hn=x(4351),Kt=x(8505),nn=x(262),mn=x(5026);function ai(I){return I<=0?()=>ke.E:(0,Qe.e)((T,E)=>{let B=[];T.subscribe((0,bt.x)(E,Y=>{B.push(Y),I<B.length&&B.shift()},()=>{for(const Y of B)E.next(Y);E.complete()},void 0,()=>{B=null}))})}var zt=x(8068),Mt=x(6590),Bt=x(4671);function Vt(I,T){const E=arguments.length>=2;return B=>B.pipe(I?(0,nt.h)((Y,he)=>I(Y,he,B)):Bt.y,ai(1),E?(0,Mt.d)(T):(0,zt.T)(()=>new ae.K))}var rt=x(9718),dt=x(8746),Ne=x(8189),ht=x(1481);const it="primary",He=Symbol("RouteTitle");class mt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function gt(I){return new mt(I)}function Gt(I,T,E){const B=E.path.split("/");if(B.length>I.length||"full"===E.pathMatch&&(T.hasChildren()||B.length<I.length))return null;const Y={};for(let he=0;he<B.length;he++){const ve=B[he],Lt=I[he];if(ve.startsWith(":"))Y[ve.substring(1)]=Lt;else if(ve!==Lt.path)return null}return{consumed:I.slice(0,B.length),posParams:Y}}function Pt(I,T){const E=I?Object.keys(I):void 0,B=T?Object.keys(T):void 0;if(!E||!B||E.length!=B.length)return!1;let Y;for(let he=0;he<E.length;he++)if(Y=E[he],!ln(I[Y],T[Y]))return!1;return!0}function ln(I,T){if(Array.isArray(I)&&Array.isArray(T)){if(I.length!==T.length)return!1;const E=[...I].sort(),B=[...T].sort();return E.every((Y,he)=>B[he]===Y)}return I===T}function In(I){return Array.prototype.concat.apply([],I)}function Xn(I){return I.length>0?I[I.length-1]:null}function ct(I,T){for(const E in I)I.hasOwnProperty(E)&&T(I[E],E)}function Ct(I){return(0,f.CqO)(I)?I:(0,f.QGY)(I)?(0,O.D)(Promise.resolve(I)):(0,P.of)(I)}const xe=!1,J={exact:function Ht(I,T,E){if(!Tt(I.segments,T.segments)||!$e(I.segments,T.segments,E)||I.numberOfChildren!==T.numberOfChildren)return!1;for(const B in T.children)if(!I.children[B]||!Ht(I.children[B],T.children[B],E))return!1;return!0},subset:Yt},Ae={exact:function Rt(I,T){return Pt(I,T)},subset:function _t(I,T){return Object.keys(T).length<=Object.keys(I).length&&Object.keys(T).every(E=>ln(I[E],T[E]))},ignored:()=>!0};function ft(I,T,E){return J[E.paths](I.root,T.root,E.matrixParams)&&Ae[E.queryParams](I.queryParams,T.queryParams)&&!("exact"===E.fragment&&I.fragment!==T.fragment)}function Yt(I,T,E){return Te(I,T,T.segments,E)}function Te(I,T,E,B){if(I.segments.length>E.length){const Y=I.segments.slice(0,E.length);return!(!Tt(Y,E)||T.hasChildren()||!$e(Y,E,B))}if(I.segments.length===E.length){if(!Tt(I.segments,E)||!$e(I.segments,E,B))return!1;for(const Y in T.children)if(!I.children[Y]||!Yt(I.children[Y],T.children[Y],B))return!1;return!0}{const Y=E.slice(0,I.segments.length),he=E.slice(I.segments.length);return!!(Tt(I.segments,Y)&&$e(I.segments,Y,B)&&I.children[it])&&Te(I.children[it],T,he,B)}}function $e(I,T,E){return T.every((B,Y)=>Ae[E](I[Y].parameters,B.parameters))}class ce{constructor(T=new me([],{}),E={},B=null){this.root=T,this.queryParams=E,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class me{constructor(T,E){this.segments=T,this.children=E,this.parent=null,ct(E,(B,Y)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return st(this)}}class yt{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=gt(this.parameters)),this._parameterMap}toString(){return Jt(this)}}function Tt(I,T){return I.length===T.length&&I.every((E,B)=>E.path===T[B].path)}let dn=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:function(){return new ii},providedIn:"root"}),I})();class ii{parse(T){const E=new be(T);return new ce(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${oe(T.root,!0)}`,B=function Le(I){const T=Object.keys(I).map(E=>{const B=I[E];return Array.isArray(B)?B.map(Y=>`${N(E)}=${N(Y)}`).join("&"):`${N(E)}=${N(B)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${B}${"string"==typeof T.fragment?`#${function $(I){return encodeURI(I)}(T.fragment)}`:""}`}}const Dt=new ii;function st(I){return I.segments.map(T=>Jt(T)).join("/")}function oe(I,T){if(!I.hasChildren())return st(I);if(T){const E=I.children[it]?oe(I.children[it],!1):"",B=[];return ct(I.children,(Y,he)=>{he!==it&&B.push(`${he}:${oe(Y,!1)}`)}),B.length>0?`${E}(${B.join("//")})`:E}{const E=function Sn(I,T){let E=[];return ct(I.children,(B,Y)=>{Y===it&&(E=E.concat(T(B,Y)))}),ct(I.children,(B,Y)=>{Y!==it&&(E=E.concat(T(B,Y)))}),E}(I,(B,Y)=>Y===it?[oe(I.children[it],!1)]:[`${Y}:${oe(B,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[it]?`${st(I)}/${E[0]}`:`${st(I)}/(${E.join("//")})`}}function q(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function N(I){return q(I).replace(/%3B/gi,";")}function X(I){return q(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(I){return decodeURIComponent(I)}function Wt(I){return Se(I.replace(/\+/g,"%20"))}function Jt(I){return`${X(I.path)}${function Ue(I){return Object.keys(I).map(T=>`;${X(T)}=${X(I[T])}`).join("")}(I.parameters)}`}const de=/^[^\/()?;=#]+/;function pe(I){const T=I.match(de);return T?T[0]:""}const fe=/^[^=?&#]+/,Fe=/^[^&#]+/;class be{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(B[it]=new me(T,E)),B}parseSegment(){const T=pe(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new f.vHH(4009,xe);return this.capture(T),new yt(Se(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=pe(this.remaining);if(!E)return;this.capture(E);let B="";if(this.consumeOptional("=")){const Y=pe(this.remaining);Y&&(B=Y,this.capture(B))}T[Se(E)]=Se(B)}parseQueryParam(T){const E=function pt(I){const T=I.match(fe);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let B="";if(this.consumeOptional("=")){const ve=function We(I){const T=I.match(Fe);return T?T[0]:""}(this.remaining);ve&&(B=ve,this.capture(B))}const Y=Wt(E),he=Wt(B);if(T.hasOwnProperty(Y)){let ve=T[Y];Array.isArray(ve)||(ve=[ve],T[Y]=ve),ve.push(he)}else T[Y]=he}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=pe(this.remaining),Y=this.remaining[B.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new f.vHH(4010,xe);let he;B.indexOf(":")>-1?(he=B.slice(0,B.indexOf(":")),this.capture(he),this.capture(":")):T&&(he=it);const ve=this.parseChildren();E[he]=1===Object.keys(ve).length?ve[it]:new me([],ve),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new f.vHH(4011,xe)}}function Xe(I){return I.segments.length>0?new me([],{[it]:I}):I}function jt(I){const T={};for(const B of Object.keys(I.children)){const he=jt(I.children[B]);(he.segments.length>0||he.hasChildren())&&(T[B]=he)}return function fn(I){if(1===I.numberOfChildren&&I.children[it]){const T=I.children[it];return new me(I.segments.concat(T.segments),T.children)}return I}(new me(I.segments,T))}function xn(I){return I instanceof ce}const Ln=!1;function $t(I,T,E,B,Y){if(0===E.length)return Qn(T.root,T.root,T.root,B,Y);const he=function Vi(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Wn(!0,0,I);let T=0,E=!1;const B=I.reduce((Y,he,ve)=>{if("object"==typeof he&&null!=he){if(he.outlets){const Lt={};return ct(he.outlets,(_n,jn)=>{Lt[jn]="string"==typeof _n?_n.split("/"):_n}),[...Y,{outlets:Lt}]}if(he.segmentPath)return[...Y,he.segmentPath]}return"string"!=typeof he?[...Y,he]:0===ve?(he.split("/").forEach((Lt,_n)=>{0==_n&&"."===Lt||(0==_n&&""===Lt?E=!0:".."===Lt?T++:""!=Lt&&Y.push(Lt))}),Y):[...Y,he]},[]);return new Wn(E,T,B)}(E);return he.toRoot()?Qn(T.root,T.root,new me([],{}),B,Y):function ve(_n){const jn=function Dr(I,T,E,B){if(I.isAbsolute)return new fi(T.root,!0,0);if(-1===B)return new fi(E,E===T.root,0);return function ho(I,T,E){let B=I,Y=T,he=E;for(;he>Y;){if(he-=Y,B=B.parent,!B)throw new f.vHH(4005,Ln&&"Invalid number of '../'");Y=B.segments.length}return new fi(B,!1,Y-he)}(E,B+(Cn(I.commands[0])?0:1),I.numberOfDoubleDots)}(he,T,I.snapshot?._urlSegment,_n),Hn=jn.processChildren?Ki(jn.segmentGroup,jn.index,he.commands):ys(jn.segmentGroup,jn.index,he.commands);return Qn(T.root,jn.segmentGroup,Hn,B,Y)}(I.snapshot?._lastPathIndex)}function Cn(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Un(I){return"object"==typeof I&&null!=I&&I.outlets}function Qn(I,T,E,B,Y){let ve,he={};B&&ct(B,(_n,jn)=>{he[jn]=Array.isArray(_n)?_n.map(Hn=>`${Hn}`):`${_n}`}),ve=I===T?E:gi(I,T,E);const Lt=Xe(jt(ve));return new ce(Lt,he,Y)}function gi(I,T,E){const B={};return ct(I.children,(Y,he)=>{B[he]=Y===T?E:gi(Y,T,E)}),new me(I.segments,B)}class Wn{constructor(T,E,B){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=B,T&&B.length>0&&Cn(B[0]))throw new f.vHH(4003,Ln&&"Root segment cannot have matrix parameters");const Y=B.find(Un);if(Y&&Y!==Xn(B))throw new f.vHH(4004,Ln&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{constructor(T,E,B){this.segmentGroup=T,this.processChildren=E,this.index=B}}function ys(I,T,E){if(I||(I=new me([],{})),0===I.segments.length&&I.hasChildren())return Ki(I,T,E);const B=function On(I,T,E){let B=0,Y=T;const he={match:!1,pathIndex:0,commandIndex:0};for(;Y<I.segments.length;){if(B>=E.length)return he;const ve=I.segments[Y],Lt=E[B];if(Un(Lt))break;const _n=`${Lt}`,jn=B<E.length-1?E[B+1]:null;if(Y>0&&void 0===_n)break;if(_n&&jn&&"object"==typeof jn&&void 0===jn.outlets){if(!Yr(_n,jn,ve))return he;B+=2}else{if(!Yr(_n,{},ve))return he;B++}Y++}return{match:!0,pathIndex:Y,commandIndex:B}}(I,T,E),Y=E.slice(B.commandIndex);if(B.match&&B.pathIndex<I.segments.length){const he=new me(I.segments.slice(0,B.pathIndex),{});return he.children[it]=new me(I.segments.slice(B.pathIndex),I.children),Ki(he,0,Y)}return B.match&&0===Y.length?new me(I.segments,{}):B.match&&!I.hasChildren()?ci(I,T,E):B.match?Ki(I,0,Y):ci(I,T,E)}function Ki(I,T,E){if(0===E.length)return new me(I.segments,{});{const B=function dr(I){return Un(I[0])?I[0].outlets:{[it]:I}}(E),Y={};if(!B[it]&&I.children[it]&&1===I.numberOfChildren&&0===I.children[it].segments.length){const he=Ki(I.children[it],T,E);return new me(I.segments,he.children)}return ct(B,(he,ve)=>{"string"==typeof he&&(he=[he]),null!==he&&(Y[ve]=ys(I.children[ve],T,he))}),ct(I.children,(he,ve)=>{void 0===B[ve]&&(Y[ve]=he)}),new me(I.segments,Y)}}function ci(I,T,E){const B=I.segments.slice(0,T);let Y=0;for(;Y<E.length;){const he=E[Y];if(Un(he)){const _n=Yi(he.outlets);return new me(B,_n)}if(0===Y&&Cn(E[0])){B.push(new yt(I.segments[T].path,ji(E[0]))),Y++;continue}const ve=Un(he)?he.outlets[it]:`${he}`,Lt=Y<E.length-1?E[Y+1]:null;ve&&Lt&&Cn(Lt)?(B.push(new yt(ve,ji(Lt))),Y+=2):(B.push(new yt(ve,{})),Y++)}return new me(B,{})}function Yi(I){const T={};return ct(I,(E,B)=>{"string"==typeof E&&(E=[E]),null!==E&&(T[B]=ci(new me([],{}),0,E))}),T}function ji(I){const T={};return ct(I,(E,B)=>T[B]=`${E}`),T}function Yr(I,T,E){return I==E.path&&Pt(T,E.parameters)}const $i="imperative";class hr{constructor(T,E){this.id=T,this.url=E}}class ki extends hr{constructor(T,E,B="imperative",Y=null){super(T,E),this.type=0,this.navigationTrigger=B,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xt extends hr{constructor(T,E,B){super(T,E),this.urlAfterRedirects=B,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vt extends hr{constructor(T,E,B,Y){super(T,E),this.reason=B,this.code=Y,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Et extends hr{constructor(T,E,B,Y){super(T,E),this.reason=B,this.code=Y,this.type=16}}class pn extends hr{constructor(T,E,B,Y){super(T,E),this.error=B,this.target=Y,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tn extends hr{constructor(T,E,B,Y){super(T,E),this.urlAfterRedirects=B,this.state=Y,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yn extends hr{constructor(T,E,B,Y){super(T,E),this.urlAfterRedirects=B,this.state=Y,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends hr{constructor(T,E,B,Y,he){super(T,E),this.urlAfterRedirects=B,this.state=Y,this.shouldActivate=he,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ui extends hr{constructor(T,E,B,Y){super(T,E),this.urlAfterRedirects=B,this.state=Y,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends hr{constructor(T,E,B,Y){super(T,E),this.urlAfterRedirects=B,this.state=Y,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class es{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nr{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sr{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(T,E,B){this.routerEvent=T,this.position=E,this.anchor=B,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ms=(()=>{class I{createUrlTree(E,B,Y,he,ve,Lt){return $t(E||B.root,Y,he,ve,Lt)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})(),Fr=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:function(T){return Ms.\u0275fac(T)},providedIn:"root"}),I})();class wa{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=zr(T,this._root);return E?E.children.map(B=>B.value):[]}firstChild(T){const E=zr(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=xr(T,this._root);return E.length<2?[]:E[E.length-2].children.map(Y=>Y.value).filter(Y=>Y!==T)}pathFromRoot(T){return xr(T,this._root).map(E=>E.value)}}function zr(I,T){if(I===T.value)return T;for(const E of T.children){const B=zr(I,E);if(B)return B}return null}function xr(I,T){if(I===T.value)return[T];for(const E of T.children){const B=xr(I,E);if(B.length)return B.unshift(T),B}return[]}class Er{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function vs(I){const T={};return I&&I.children.forEach(E=>T[E.value.outlet]=E),T}class po extends wa{constructor(T,E){super(T),this.snapshot=E,xo(this,T)}toString(){return this.snapshot.toString()}}function jr(I,T){const E=function Zi(I,T){const ve=new ra([],{},{},"",{},it,T,null,I.root,-1,{});return new sa("",new Er(ve,[]))}(I,T),B=new R.X([new yt("",{})]),Y=new R.X({}),he=new R.X({}),ve=new R.X({}),Lt=new R.X(""),_n=new rs(B,Y,ve,Lt,he,it,T,E.root);return _n.snapshot=E.root,new po(new Er(_n,[]),E)}class rs{constructor(T,E,B,Y,he,ve,Lt,_n){this.url=T,this.params=E,this.queryParams=B,this.fragment=Y,this.data=he,this.outlet=ve,this.component=Lt,this.title=this.data?.pipe((0,Ye.U)(jn=>jn[He]))??(0,P.of)(void 0),this._futureSnapshot=_n}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(T=>gt(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(T=>gt(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ca(I,T="emptyOnly"){const E=I.pathFromRoot;let B=0;if("always"!==T)for(B=E.length-1;B>=1;){const Y=E[B],he=E[B-1];if(Y.routeConfig&&""===Y.routeConfig.path)B--;else{if(he.component)break;B--}}return function Pr(I){return I.reduce((T,E)=>({params:{...T.params,...E.params},data:{...T.data,...E.data},resolve:{...E.data,...T.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(B))}class ra{get title(){return this.data?.[He]}constructor(T,E,B,Y,he,ve,Lt,_n,jn,Hn,Ei){this.url=T,this.params=E,this.queryParams=B,this.fragment=Y,this.data=he,this.outlet=ve,this.component=Lt,this.routeConfig=_n,this._urlSegment=jn,this._lastPathIndex=Hn,this._resolve=Ei}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sa extends wa{constructor(T,E){super(E),this.url=T,xo(this,E)}toString(){return Ja(this._root)}}function xo(I,T){T.value._routerState=I,T.children.forEach(E=>xo(I,E))}function Ja(I){const T=I.children.length>0?` { ${I.children.map(Ja).join(", ")} } `:"";return`${I.value}${T}`}function La(I){if(I.snapshot){const T=I.snapshot,E=I._futureSnapshot;I.snapshot=E,Pt(T.queryParams,E.queryParams)||I.queryParams.next(E.queryParams),T.fragment!==E.fragment&&I.fragment.next(E.fragment),Pt(T.params,E.params)||I.params.next(E.params),function Ke(I,T){if(I.length!==T.length)return!1;for(let E=0;E<I.length;++E)if(!Pt(I[E],T[E]))return!1;return!0}(T.url,E.url)||I.url.next(E.url),Pt(T.data,E.data)||I.data.next(E.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Ba(I,T){const E=Pt(I.params,T.params)&&function ze(I,T){return Tt(I,T)&&I.every((E,B)=>Pt(E.parameters,T[B].parameters))}(I.url,T.url);return E&&!(!I.parent!=!T.parent)&&(!I.parent||Ba(I.parent,T.parent))}function Is(I,T,E){if(E&&I.shouldReuseRoute(T.value,E.value.snapshot)){const B=E.value;B._futureSnapshot=T.value;const Y=function Va(I,T,E){return T.children.map(B=>{for(const Y of E.children)if(I.shouldReuseRoute(B.value,Y.value.snapshot))return Is(I,B,Y);return Is(I,B)})}(I,T,E);return new Er(B,Y)}{if(I.shouldAttach(T.value)){const he=I.retrieve(T.value);if(null!==he){const ve=he.route;return ve.value._futureSnapshot=T.value,ve.children=T.children.map(Lt=>Is(I,Lt)),ve}}const B=function Zs(I){return new rs(new R.X(I.url),new R.X(I.params),new R.X(I.queryParams),new R.X(I.fragment),new R.X(I.data),I.outlet,I.component,I)}(T.value),Y=T.children.map(he=>Is(I,he));return new Er(B,Y)}}const Os="ngNavigationCancelingError";function So(I,T){const{redirectTo:E,navigationBehaviorOptions:B}=xn(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,Y=Ps(!1,0,T);return Y.url=E,Y.navigationBehaviorOptions=B,Y}function Ps(I,T,E){const B=new Error("NavigationCancelingError: "+(I||""));return B[Os]=!0,B.cancellationCode=T,E&&(B.url=E),B}function Dl(I){return oa(I)&&xn(I.url)}function oa(I){return I&&I[Os]}class mo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new us,this.attachRef=null}}let us=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(E,B){const Y=this.getOrCreateContext(E);Y.outlet=B,this.contexts.set(E,Y)}onChildOutletDestroyed(E){const B=this.getContext(E);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let B=this.getContext(E);return B||(B=new mo,this.contexts.set(E,B)),B}getContext(E){return this.contexts.get(E)||null}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const ds=!1;let aa=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(us),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(E){if(E.name){const{firstChange:B,previousValue:Y}=E.name;if(B)return;this.isTrackedInParentContexts(Y)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Y)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,ds);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,ds);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,ds);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,B){this.activated=E,this._activatedRoute=B,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,B){if(this.isActivated)throw new f.vHH(4013,ds);this._activatedRoute=E;const Y=this.location,ve=E.snapshot.component,Lt=this.parentContexts.getOrCreateContext(this.name).children,_n=new Ua(E,Lt,Y.injector);if(B&&function la(I){return!!I.resolveComponentFactory}(B)){const jn=B.resolveComponentFactory(ve);this.activated=Y.createComponent(jn,Y.length,_n)}else this.activated=Y.createComponent(ve,{index:Y.length,injector:_n,environmentInjector:B??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275dir=f.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),I})();class Ua{constructor(T,E,B){this.route=T,this.childContexts=E,this.parent=B}get(T,E){return T===rs?this.route:T===us?this.childContexts:this.parent.get(T,E)}}let Ia=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275cmp=f.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(E,B){1&E&&f._UZ(0,"router-outlet")},dependencies:[aa],encapsulation:2}),I})();function $s(I,T){return I.providers&&!I._injector&&(I._injector=(0,f.MMx)(I.providers,T,`Route: ${I.path}`)),I._injector??T}function fr(I){const T=I.children&&I.children.map(fr),E=T?{...I,children:T}:{...I};return!E.component&&!E.loadComponent&&(T||E.loadChildren)&&E.outlet&&E.outlet!==it&&(E.component=Ia),E}function Tr(I){return I.outlet||it}function jo(I,T){const E=I.filter(B=>Tr(B)===T);return E.push(...I.filter(B=>Tr(B)!==T)),E}function Di(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let T=I.parent;T;T=T.parent){const E=T.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class ua{constructor(T,E,B,Y){this.routeReuseStrategy=T,this.futureState=E,this.currState=B,this.forwardEvent=Y}activate(T){const E=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,B,T),La(this.futureState.root),this.activateChildRoutes(E,B,T)}deactivateChildRoutes(T,E,B){const Y=vs(E);T.children.forEach(he=>{const ve=he.value.outlet;this.deactivateRoutes(he,Y[ve],B),delete Y[ve]}),ct(Y,(he,ve)=>{this.deactivateRouteAndItsChildren(he,B)})}deactivateRoutes(T,E,B){const Y=T.value,he=E?E.value:null;if(Y===he)if(Y.component){const ve=B.getContext(Y.outlet);ve&&this.deactivateChildRoutes(T,E,ve.children)}else this.deactivateChildRoutes(T,E,B);else he&&this.deactivateRouteAndItsChildren(E,B)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const B=E.getContext(T.value.outlet),Y=B&&T.value.component?B.children:E,he=vs(T);for(const ve of Object.keys(he))this.deactivateRouteAndItsChildren(he[ve],Y);if(B&&B.outlet){const ve=B.outlet.detach(),Lt=B.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ve,route:T,contexts:Lt})}}deactivateRouteAndOutlet(T,E){const B=E.getContext(T.value.outlet),Y=B&&T.value.component?B.children:E,he=vs(T);for(const ve of Object.keys(he))this.deactivateRouteAndItsChildren(he[ve],Y);B&&(B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated()),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(T,E,B){const Y=vs(E);T.children.forEach(he=>{this.activateRoutes(he,Y[he.value.outlet],B),this.forwardEvent(new Zr(he.value.snapshot))}),T.children.length&&this.forwardEvent(new Or(T.value.snapshot))}activateRoutes(T,E,B){const Y=T.value,he=E?E.value:null;if(La(Y),Y===he)if(Y.component){const ve=B.getOrCreateContext(Y.outlet);this.activateChildRoutes(T,E,ve.children)}else this.activateChildRoutes(T,E,B);else if(Y.component){const ve=B.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const Lt=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),ve.children.onOutletReAttached(Lt.contexts),ve.attachRef=Lt.componentRef,ve.route=Lt.route.value,ve.outlet&&ve.outlet.attach(Lt.componentRef,Lt.route.value),La(Lt.route.value),this.activateChildRoutes(T,null,ve.children)}else{const Lt=Di(Y.snapshot),_n=Lt?.get(f._Vd)??null;ve.attachRef=null,ve.route=Y,ve.resolver=_n,ve.injector=Lt,ve.outlet&&ve.outlet.activateWith(Y,ve.injector),this.activateChildRoutes(T,null,ve.children)}}else this.activateChildRoutes(T,null,B)}}class ts{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Lr{constructor(T,E){this.component=T,this.route=E}}function xa(I,T,E){const B=I._root;return hs(B,T?T._root:null,E,[B.value])}function _o(I,T){const E=Symbol(),B=T.get(I,E);return B===E?"function"!=typeof I||(0,f.Z0I)(I)?T.get(I):I:B}function hs(I,T,E,B,Y={canDeactivateChecks:[],canActivateChecks:[]}){const he=vs(T);return I.children.forEach(ve=>{(function ss(I,T,E,B,Y={canDeactivateChecks:[],canActivateChecks:[]}){const he=I.value,ve=T?T.value:null,Lt=E?E.getContext(I.value.outlet):null;if(ve&&he.routeConfig===ve.routeConfig){const _n=function os(I,T,E){if("function"==typeof E)return E(I,T);switch(E){case"pathParamsChange":return!Tt(I.url,T.url);case"pathParamsOrQueryParamsChange":return!Tt(I.url,T.url)||!Pt(I.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ba(I,T)||!Pt(I.queryParams,T.queryParams);default:return!Ba(I,T)}}(ve,he,he.routeConfig.runGuardsAndResolvers);_n?Y.canActivateChecks.push(new ts(B)):(he.data=ve.data,he._resolvedData=ve._resolvedData),hs(I,T,he.component?Lt?Lt.children:null:E,B,Y),_n&&Lt&&Lt.outlet&&Lt.outlet.isActivated&&Y.canDeactivateChecks.push(new Lr(Lt.outlet.component,ve))}else ve&&si(T,Lt,Y),Y.canActivateChecks.push(new ts(B)),hs(I,null,he.component?Lt?Lt.children:null:E,B,Y)})(ve,he[ve.value.outlet],E,B.concat([ve.value]),Y),delete he[ve.value.outlet]}),ct(he,(ve,Lt)=>si(ve,E.getContext(Lt),Y)),Y}function si(I,T,E){const B=vs(I),Y=I.value;ct(B,(he,ve)=>{si(he,Y.component?T?T.children.getContext(ve):null:T,E)}),E.canDeactivateChecks.push(new Lr(Y.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,Y))}function Qs(I){return"function"==typeof I}function di(I){return I instanceof ae.K||"EmptyError"===I?.name}const Xs=Symbol("INITIAL_VALUE");function Sr(){return(0,Re.w)(I=>(0,Pe.a)(I.map(T=>T.pipe((0,tt.q)(1),(0,lt.O)(Xs)))).pipe((0,Ye.U)(T=>{for(const E of T)if(!0!==E){if(E===Xs)return Xs;if(!1===E||E instanceof ce)return E}return!0}),(0,nt.h)(T=>T!==Xs),(0,tt.q)(1)))}function Hr(I){return(0,ge.z)((0,Kt.b)(T=>{if(xn(T))throw So(0,T)}),(0,Ye.U)(T=>!0===T))}const eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yo(I,T,E,B,Y){const he=Ss(I,T,E);return he.matched?function Ts(I,T,E,B){const Y=T.canMatch;if(!Y||0===Y.length)return(0,P.of)(!0);const he=Y.map(ve=>{const Lt=_o(ve,I);return Ct(function Kn(I){return I&&Qs(I.canMatch)}(Lt)?Lt.canMatch(T,E):I.runInContext(()=>Lt(T,E)))});return(0,P.of)(he).pipe(Sr(),Hr())}(B=$s(T,B),T,E).pipe((0,Ye.U)(ve=>!0===ve?he:{...eo})):(0,P.of)(he)}function Ss(I,T,E){if(""===T.path)return"full"===T.pathMatch&&(I.hasChildren()||E.length>0)?{...eo}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const Y=(T.matcher||Gt)(E,I,T);if(!Y)return{...eo};const he={};ct(Y.posParams,(Lt,_n)=>{he[_n]=Lt.path});const ve=Y.consumed.length>0?{...he,...Y.consumed[Y.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:Y.consumed,remainingSegments:E.slice(Y.consumed.length),parameters:ve,positionalParamSegments:Y.posParams??{}}}function fs(I,T,E,B){if(E.length>0&&function fa(I,T,E){return E.some(B=>ps(I,T,B)&&Tr(B)!==it)}(I,E,B)){const he=new me(T,function xl(I,T,E,B){const Y={};Y[it]=B,B._sourceSegment=I,B._segmentIndexShift=T.length;for(const he of E)if(""===he.path&&Tr(he)!==it){const ve=new me([],{});ve._sourceSegment=I,ve._segmentIndexShift=T.length,Y[Tr(he)]=ve}return Y}(I,T,B,new me(E,I.children)));return he._sourceSegment=I,he._segmentIndexShift=T.length,{segmentGroup:he,slicedSegments:[]}}if(0===E.length&&function Br(I,T,E){return E.some(B=>ps(I,T,B))}(I,E,B)){const he=new me(I.segments,function ha(I,T,E,B,Y){const he={};for(const ve of B)if(ps(I,E,ve)&&!Y[Tr(ve)]){const Lt=new me([],{});Lt._sourceSegment=I,Lt._segmentIndexShift=T.length,he[Tr(ve)]=Lt}return{...Y,...he}}(I,T,E,B,I.children));return he._sourceSegment=I,he._segmentIndexShift=T.length,{segmentGroup:he,slicedSegments:E}}const Y=new me(I.segments,I.children);return Y._sourceSegment=I,Y._segmentIndexShift=T.length,{segmentGroup:Y,slicedSegments:E}}function ps(I,T,E){return(!(I.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}function $o(I,T,E,B){return!!(Tr(I)===B||B!==it&&ps(T,E,I))&&("**"===I.path||Ss(T,I,E).matched)}function ir(I,T,E){return 0===T.length&&!I.children[E]}const Ta=!1;class Sa{constructor(T){this.segmentGroup=T||null}}class bs{constructor(T){this.urlTree=T}}function pa(I){return(0,le._)(new Sa(I))}function ma(I){return(0,le._)(new bs(I))}class vo{constructor(T,E,B,Y,he){this.injector=T,this.configLoader=E,this.urlSerializer=B,this.urlTree=Y,this.config=he,this.allowRedirects=!0}apply(){const T=fs(this.urlTree.root,[],[],this.config).segmentGroup,E=new me(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,E,it).pipe((0,Ye.U)(he=>this.createUrlTree(jt(he),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,nn.K)(he=>{if(he instanceof bs)return this.allowRedirects=!1,this.match(he.urlTree);throw he instanceof Sa?this.noMatchError(he):he}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,it).pipe((0,Ye.U)(Y=>this.createUrlTree(jt(Y),T.queryParams,T.fragment))).pipe((0,nn.K)(Y=>{throw Y instanceof Sa?this.noMatchError(Y):Y}))}noMatchError(T){return new f.vHH(4002,Ta)}createUrlTree(T,E,B){const Y=Xe(T);return new ce(Y,E,B)}expandSegmentGroup(T,E,B,Y){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(T,E,B).pipe((0,Ye.U)(he=>new me([],he))):this.expandSegment(T,B,E,B.segments,Y,!0)}expandChildren(T,E,B){const Y=[];for(const he of Object.keys(B.children))"primary"===he?Y.unshift(he):Y.push(he);return(0,O.D)(Y).pipe((0,hn.b)(he=>{const ve=B.children[he],Lt=jo(E,he);return this.expandSegmentGroup(T,Lt,ve,he).pipe((0,Ye.U)(_n=>({segment:_n,outlet:he})))}),(0,mn.R)((he,ve)=>(he[ve.outlet]=ve.segment,he),{}),Vt())}expandSegment(T,E,B,Y,he,ve){return(0,O.D)(B).pipe((0,hn.b)(Lt=>this.expandSegmentAgainstRoute(T,E,B,Lt,Y,he,ve).pipe((0,nn.K)(jn=>{if(jn instanceof Sa)return(0,P.of)(null);throw jn}))),(0,Ut.P)(Lt=>!!Lt),(0,nn.K)((Lt,_n)=>{if(di(Lt))return ir(E,Y,he)?(0,P.of)(new me([],{})):pa(E);throw Lt}))}expandSegmentAgainstRoute(T,E,B,Y,he,ve,Lt){return $o(Y,E,he,ve)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(T,E,Y,he,ve):Lt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,E,B,Y,he,ve):pa(E):pa(E)}expandSegmentAgainstRouteUsingRedirect(T,E,B,Y,he,ve){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,B,Y,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,B,Y,he,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,B,Y){const he=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?ma(he):this.lineralizeSegments(B,he).pipe((0,Ze.z)(ve=>{const Lt=new me(ve,{});return this.expandSegment(T,Lt,E,ve,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,B,Y,he,ve){const{matched:Lt,consumedSegments:_n,remainingSegments:jn,positionalParamSegments:Hn}=Ss(E,Y,he);if(!Lt)return pa(E);const Ei=this.applyRedirectCommands(_n,Y.redirectTo,Hn);return Y.redirectTo.startsWith("/")?ma(Ei):this.lineralizeSegments(Y,Ei).pipe((0,Ze.z)(kr=>this.expandSegment(T,E,B,kr.concat(jn),ve,!1)))}matchSegmentAgainstRoute(T,E,B,Y,he){return"**"===B.path?(T=$s(B,T),B.loadChildren?(B._loadedRoutes?(0,P.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):this.configLoader.loadChildren(T,B)).pipe((0,Ye.U)(Lt=>(B._loadedRoutes=Lt.routes,B._loadedInjector=Lt.injector,new me(Y,{})))):(0,P.of)(new me(Y,{}))):yo(E,B,Y,T).pipe((0,Re.w)(({matched:ve,consumedSegments:Lt,remainingSegments:_n})=>ve?this.getChildConfig(T=B._injector??T,B,Y).pipe((0,Ze.z)(Hn=>{const Ei=Hn.injector??T,kr=Hn.routes,{segmentGroup:Oa,slicedSegments:ws}=fs(E,Lt,_n,kr),Yo=new me(Oa.segments,Oa.children);if(0===ws.length&&Yo.hasChildren())return this.expandChildren(Ei,kr,Yo).pipe((0,Ye.U)(tu=>new me(Lt,tu)));if(0===kr.length&&0===ws.length)return(0,P.of)(new me(Lt,{}));const wo=Tr(B)===he;return this.expandSegment(Ei,Yo,kr,ws,wo?it:he,!0).pipe((0,Ye.U)(Mo=>new me(Lt.concat(Mo.segments),Mo.children)))})):pa(E)))}getChildConfig(T,E,B){return E.children?(0,P.of)({routes:E.children,injector:T}):E.loadChildren?void 0!==E._loadedRoutes?(0,P.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Js(I,T,E,B){const Y=T.canLoad;if(void 0===Y||0===Y.length)return(0,P.of)(!0);const he=Y.map(ve=>{const Lt=_o(ve,I);return Ct(function W(I){return I&&Qs(I.canLoad)}(Lt)?Lt.canLoad(T,E):I.runInContext(()=>Lt(T,E)))});return(0,P.of)(he).pipe(Sr(),Hr())}(T,E,B).pipe((0,Ze.z)(Y=>Y?this.configLoader.loadChildren(T,E).pipe((0,Kt.b)(he=>{E._loadedRoutes=he.routes,E._loadedInjector=he.injector})):function ga(I){return(0,le._)(Ps(Ta,3))}())):(0,P.of)({routes:[],injector:T})}lineralizeSegments(T,E){let B=[],Y=E.root;for(;;){if(B=B.concat(Y.segments),0===Y.numberOfChildren)return(0,P.of)(B);if(Y.numberOfChildren>1||!Y.children[it])return T.redirectTo,(0,le._)(new f.vHH(4e3,Ta));Y=Y.children[it]}}applyRedirectCommands(T,E,B){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),T,B)}applyRedirectCreateUrlTree(T,E,B,Y){const he=this.createSegmentGroup(T,E.root,B,Y);return new ce(he,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const B={};return ct(T,(Y,he)=>{if("string"==typeof Y&&Y.startsWith(":")){const Lt=Y.substring(1);B[he]=E[Lt]}else B[he]=Y}),B}createSegmentGroup(T,E,B,Y){const he=this.createSegments(T,E.segments,B,Y);let ve={};return ct(E.children,(Lt,_n)=>{ve[_n]=this.createSegmentGroup(T,Lt,B,Y)}),new me(he,ve)}createSegments(T,E,B,Y){return E.map(he=>he.path.startsWith(":")?this.findPosParam(T,he,Y):this.findOrReturn(he,B))}findPosParam(T,E,B){const Y=B[E.path.substring(1)];if(!Y)throw new f.vHH(4001,Ta);return Y}findOrReturn(T,E){let B=0;for(const Y of E){if(Y.path===T.path)return E.splice(B),Y;B++}return T}}class no{}class Ao{constructor(T,E,B,Y,he,ve,Lt){this.injector=T,this.rootComponentType=E,this.config=B,this.urlTree=Y,this.url=he,this.paramsInheritanceStrategy=ve,this.urlSerializer=Lt}recognize(){const T=fs(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,it).pipe((0,Ye.U)(E=>{if(null===E)return null;const B=new ra([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new Er(B,E),he=new sa(this.url,Y);return this.inheritParamsAndData(he._root),he}))}inheritParamsAndData(T){const E=T.value,B=Ca(E,this.paramsInheritanceStrategy);E.params=Object.freeze(B.params),E.data=Object.freeze(B.data),T.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(T,E,B,Y){return 0===B.segments.length&&B.hasChildren()?this.processChildren(T,E,B):this.processSegment(T,E,B,B.segments,Y)}processChildren(T,E,B){return(0,O.D)(Object.keys(B.children)).pipe((0,hn.b)(Y=>{const he=B.children[Y],ve=jo(E,Y);return this.processSegmentGroup(T,ve,he,Y)}),(0,mn.R)((Y,he)=>Y&&he?(Y.push(...he),Y):null),function Ot(I,T=!1){return(0,Qe.e)((E,B)=>{let Y=0;E.subscribe((0,bt.x)(B,he=>{const ve=I(he,Y++);(ve||T)&&B.next(he),!ve&&B.complete()}))})}(Y=>null!==Y),(0,Mt.d)(null),Vt(),(0,Ye.U)(Y=>{if(null===Y)return null;const he=Xl(Y);return function Ha(I){I.sort((T,E)=>T.value.outlet===it?-1:E.value.outlet===it?1:T.value.outlet.localeCompare(E.value.outlet))}(he),he}))}processSegment(T,E,B,Y,he){return(0,O.D)(E).pipe((0,hn.b)(ve=>this.processSegmentAgainstRoute(ve._injector??T,ve,B,Y,he)),(0,Ut.P)(ve=>!!ve),(0,nn.K)(ve=>{if(di(ve))return ir(B,Y,he)?(0,P.of)([]):(0,P.of)(null);throw ve}))}processSegmentAgainstRoute(T,E,B,Y,he){if(E.redirectTo||!$o(E,B,Y,he))return(0,P.of)(null);let ve;if("**"===E.path){const Lt=Y.length>0?Xn(Y).parameters:{},_n=il(B)+Y.length,jn=new ra(Y,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ee(E),Tr(E),E.component??E._loadedComponent??null,E,Jl(B),_n,H(E));ve=(0,P.of)({snapshot:jn,consumedSegments:[],remainingSegments:[]})}else ve=yo(B,E,Y,T).pipe((0,Ye.U)(({matched:Lt,consumedSegments:_n,remainingSegments:jn,parameters:Hn})=>{if(!Lt)return null;const Ei=il(B)+_n.length;return{snapshot:new ra(_n,Hn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ee(E),Tr(E),E.component??E._loadedComponent??null,E,Jl(B),Ei,H(E)),consumedSegments:_n,remainingSegments:jn}}));return ve.pipe((0,Re.w)(Lt=>{if(null===Lt)return(0,P.of)(null);const{snapshot:_n,consumedSegments:jn,remainingSegments:Hn}=Lt;T=E._injector??T;const Ei=E._loadedInjector??T,kr=function nl(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(E),{segmentGroup:Oa,slicedSegments:ws}=fs(B,jn,Hn,kr.filter(wo=>void 0===wo.redirectTo));if(0===ws.length&&Oa.hasChildren())return this.processChildren(Ei,kr,Oa).pipe((0,Ye.U)(wo=>null===wo?null:[new Er(_n,wo)]));if(0===kr.length&&0===ws.length)return(0,P.of)([new Er(_n,[])]);const Yo=Tr(E)===he;return this.processSegment(Ei,kr,Oa,ws,Yo?it:he).pipe((0,Ye.U)(wo=>null===wo?null:[new Er(_n,wo)]))}))}}function Ql(I){const T=I.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Xl(I){const T=[],E=new Set;for(const B of I){if(!Ql(B)){T.push(B);continue}const Y=T.find(he=>B.value.routeConfig===he.value.routeConfig);void 0!==Y?(Y.children.push(...B.children),E.add(Y)):T.push(B)}for(const B of E){const Y=Xl(B.children);T.push(new Er(B.value,Y))}return T.filter(B=>!E.has(B))}function Jl(I){let T=I;for(;T._sourceSegment;)T=T._sourceSegment;return T}function il(I){let T=I,E=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,E+=T._segmentIndexShift??0;return E-1}function ee(I){return I.data||{}}function H(I){return I.resolve||{}}function Si(I){return"string"==typeof I.title||null===I.title}function Gi(I){return(0,Re.w)(T=>{const E=I(T);return E?(0,O.D)(E).pipe((0,Ye.U)(()=>T)):(0,P.of)(T)})}const gn=new f.OlP("ROUTES");let mi=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,P.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const B=Ct(E.loadComponent()).pipe((0,Ye.U)(Ws),(0,Kt.b)(he=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=he}),(0,dt.x)(()=>{this.componentLoaders.delete(E)})),Y=new Ve(B,()=>new Me.x).pipe(et());return this.componentLoaders.set(E,Y),Y}loadChildren(E,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,P.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const he=this.loadModuleFactoryOrRoutes(B.loadChildren).pipe((0,Ye.U)(Lt=>{this.onLoadEndListener&&this.onLoadEndListener(B);let _n,jn,Hn=!1;Array.isArray(Lt)?jn=Lt:(_n=Lt.create(E).injector,jn=In(_n.get(gn,[],f.XFs.Self|f.XFs.Optional)));return{routes:jn.map(fr),injector:_n}}),(0,dt.x)(()=>{this.childrenLoaders.delete(B)})),ve=new Ve(he,()=>new Me.x).pipe(et());return this.childrenLoaders.set(B,ve),ve}loadModuleFactoryOrRoutes(E){return Ct(E()).pipe((0,Ye.U)(Ws),(0,Ze.z)(B=>B instanceof f.YKP||Array.isArray(B)?(0,P.of)(B):(0,O.D)(this.compiler.compileModuleAsync(B))))}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ws(I){return function pr(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Zn=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Me.x,this.configLoader=(0,f.f3M)(mi),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(dn),this.rootContexts=(0,f.f3M)(us),this.navigationId=0,this.afterPreactivation=()=>(0,P.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Y=>this.events.next(new es(Y)),this.configLoader.onLoadStartListener=Y=>this.events.next(new cs(Y))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const B=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:B})}setupNavigations(E){return this.transitions=new R.X({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$i,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nt.h)(B=>0!==B.id),(0,Ye.U)(B=>({...B,extractedUrl:E.urlHandlingStrategy.extract(B.rawUrl)})),(0,Re.w)(B=>{let Y=!1,he=!1;return(0,P.of)(B).pipe((0,Kt.b)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Re.w)(ve=>{const Lt=E.browserUrlTree.toString(),_n=!E.navigated||ve.extractedUrl.toString()!==Lt||Lt!==E.currentUrlTree.toString();if(!_n&&"reload"!==(ve.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Hn="";return this.events.next(new Et(ve.id,E.serializeUrl(B.rawUrl),Hn,0)),E.rawUrlTree=ve.rawUrl,ve.resolve(null),ke.E}if(E.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return ms(ve.source)&&(E.browserUrlTree=ve.extractedUrl),(0,P.of)(ve).pipe((0,Re.w)(Hn=>{const Ei=this.transitions?.getValue();return this.events.next(new ki(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),Hn.source,Hn.restoredState)),Ei!==this.transitions?.getValue()?ke.E:Promise.resolve(Hn)}),function to(I,T,E,B){return(0,Re.w)(Y=>function Tl(I,T,E,B,Y){return new vo(I,T,E,B,Y).apply()}(I,T,E,Y.extractedUrl,B).pipe((0,Ye.U)(he=>({...Y,urlAfterRedirects:he}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,Kt.b)(Hn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Hn.urlAfterRedirects},B.urlAfterRedirects=Hn.urlAfterRedirects}),function _e(I,T,E,B,Y){return(0,Ze.z)(he=>function io(I,T,E,B,Y,he,ve="emptyOnly"){return new Ao(I,T,E,B,Y,ve,he).recognize().pipe((0,Re.w)(Lt=>null===Lt?function Wi(I){return new ye.y(T=>T.error(I))}(new no):(0,P.of)(Lt)))}(I,T,E,he.urlAfterRedirects,B.serialize(he.urlAfterRedirects),B,Y).pipe((0,Ye.U)(ve=>({...he,targetSnapshot:ve}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,Kt.b)(Hn=>{if(B.targetSnapshot=Hn.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!Hn.extras.skipLocationChange){const kr=E.urlHandlingStrategy.merge(Hn.urlAfterRedirects,Hn.rawUrl);E.setBrowserUrl(kr,Hn)}E.browserUrlTree=Hn.urlAfterRedirects}const Ei=new Tn(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),this.urlSerializer.serialize(Hn.urlAfterRedirects),Hn.targetSnapshot);this.events.next(Ei)}));if(_n&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:Hn,extractedUrl:Ei,source:kr,restoredState:Oa,extras:ws}=ve,Yo=new ki(Hn,this.urlSerializer.serialize(Ei),kr,Oa);this.events.next(Yo);const wo=jr(Ei,this.rootComponentType).snapshot;return B={...ve,targetSnapshot:wo,urlAfterRedirects:Ei,extras:{...ws,skipLocationChange:!1,replaceUrl:!1}},(0,P.of)(B)}{const Hn="";return this.events.next(new Et(ve.id,E.serializeUrl(B.extractedUrl),Hn,1)),E.rawUrlTree=ve.rawUrl,ve.resolve(null),ke.E}}),(0,Kt.b)(ve=>{const Lt=new Yn(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(Lt)}),(0,Ye.U)(ve=>B={...ve,guards:xa(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)}),function yr(I,T){return(0,Ze.z)(E=>{const{targetSnapshot:B,currentSnapshot:Y,guards:{canActivateChecks:he,canDeactivateChecks:ve}}=E;return 0===ve.length&&0===he.length?(0,P.of)({...E,guardsResult:!0}):function ql(I,T,E,B){return(0,O.D)(I).pipe((0,Ze.z)(Y=>function Ho(I,T,E,B,Y){const he=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,P.of)(!0);const ve=he.map(Lt=>{const _n=Di(T)??Y,jn=_o(Lt,_n);return Ct(function sn(I){return I&&Qs(I.canDeactivate)}(jn)?jn.canDeactivate(I,T,E,B):_n.runInContext(()=>jn(I,T,E,B))).pipe((0,Ut.P)())});return(0,P.of)(ve).pipe(Sr())}(Y.component,Y.route,E,T,B)),(0,Ut.P)(Y=>!0!==Y,!0))}(ve,B,Y,I).pipe((0,Ze.z)(Lt=>Lt&&function Q(I){return"boolean"==typeof I}(Lt)?function da(I,T,E,B){return(0,O.D)(T).pipe((0,hn.b)(Y=>(0,je.z)(function tl(I,T){return null!==I&&T&&T(new Nr(I)),(0,P.of)(!0)}(Y.route.parent,B),function xs(I,T){return null!==I&&T&&T(new sr(I)),(0,P.of)(!0)}(Y.route,B),function ja(I,T,E){const B=T[T.length-1],he=T.slice(0,T.length-1).reverse().map(ve=>function qs(I){const T=I.routeConfig?I.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:I,guards:T}:null}(ve)).filter(ve=>null!==ve).map(ve=>ie(()=>{const Lt=ve.guards.map(_n=>{const jn=Di(ve.node)??E,Hn=_o(_n,jn);return Ct(function Ee(I){return I&&Qs(I.canActivateChild)}(Hn)?Hn.canActivateChild(B,I):jn.runInContext(()=>Hn(B,I))).pipe((0,Ut.P)())});return(0,P.of)(Lt).pipe(Sr())}));return(0,P.of)(he).pipe(Sr())}(I,Y.path,E),function za(I,T,E){const B=T.routeConfig?T.routeConfig.canActivate:null;if(!B||0===B.length)return(0,P.of)(!0);const Y=B.map(he=>ie(()=>{const ve=Di(T)??E,Lt=_o(he,ve);return Ct(function z(I){return I&&Qs(I.canActivate)}(Lt)?Lt.canActivate(T,I):ve.runInContext(()=>Lt(T,I))).pipe((0,Ut.P)())}));return(0,P.of)(Y).pipe(Sr())}(I,Y.route,E))),(0,Ut.P)(Y=>!0!==Y,!0))}(B,he,I,T):(0,P.of)(Lt)),(0,Ye.U)(Lt=>({...E,guardsResult:Lt})))})}(this.environmentInjector,ve=>this.events.next(ve)),(0,Kt.b)(ve=>{if(B.guardsResult=ve.guardsResult,xn(ve.guardsResult))throw So(0,ve.guardsResult);const Lt=new wi(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.events.next(Lt)}),(0,nt.h)(ve=>!!ve.guardsResult||(E.restoreHistory(ve),this.cancelNavigationTransition(ve,"",3),!1)),Gi(ve=>{if(ve.guards.canActivateChecks.length)return(0,P.of)(ve).pipe((0,Kt.b)(Lt=>{const _n=new ui(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(_n)}),(0,Re.w)(Lt=>{let _n=!1;return(0,P.of)(Lt).pipe(function Je(I,T){return(0,Ze.z)(E=>{const{targetSnapshot:B,guards:{canActivateChecks:Y}}=E;if(!Y.length)return(0,P.of)(E);let he=0;return(0,O.D)(Y).pipe((0,hn.b)(ve=>function rn(I,T,E,B){const Y=I.routeConfig,he=I._resolve;return void 0!==Y?.title&&!Si(Y)&&(he[He]=Y.title),function bn(I,T,E,B){const Y=function Bn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===Y.length)return(0,P.of)({});const he={};return(0,O.D)(Y).pipe((0,Ze.z)(ve=>function er(I,T,E,B){const Y=Di(T)??B,he=_o(I,Y);return Ct(he.resolve?he.resolve(T,E):Y.runInContext(()=>he(T,E)))}(I[ve],T,E,B).pipe((0,Ut.P)(),(0,Kt.b)(Lt=>{he[ve]=Lt}))),ai(1),(0,rt.h)(he),(0,nn.K)(ve=>di(ve)?ke.E:(0,le._)(ve)))}(he,I,T,B).pipe((0,Ye.U)(ve=>(I._resolvedData=ve,I.data=Ca(I,E).resolve,Y&&Si(Y)&&(I.data[He]=Y.title),null)))}(ve.route,B,I,T)),(0,Kt.b)(()=>he++),ai(1),(0,Ze.z)(ve=>he===Y.length?(0,P.of)(E):ke.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,Kt.b)({next:()=>_n=!0,complete:()=>{_n||(E.restoreHistory(Lt),this.cancelNavigationTransition(Lt,"",2))}}))}),(0,Kt.b)(Lt=>{const _n=new Oi(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(_n)}))}),Gi(ve=>{const Lt=_n=>{const jn=[];_n.routeConfig?.loadComponent&&!_n.routeConfig._loadedComponent&&jn.push(this.configLoader.loadComponent(_n.routeConfig).pipe((0,Kt.b)(Hn=>{_n.component=Hn}),(0,Ye.U)(()=>{})));for(const Hn of _n.children)jn.push(...Lt(Hn));return jn};return(0,Pe.a)(Lt(ve.targetSnapshot.root)).pipe((0,Mt.d)(),(0,tt.q)(1))}),Gi(()=>this.afterPreactivation()),(0,Ye.U)(ve=>{const Lt=function To(I,T,E){const B=Is(I,T._root,E?E._root:void 0);return new po(B,T)}(E.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return B={...ve,targetRouterState:Lt}}),(0,Kt.b)(ve=>{E.currentUrlTree=ve.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(ve.urlAfterRedirects,ve.rawUrl),E.routerState=ve.targetRouterState,"deferred"===E.urlUpdateStrategy&&(ve.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,ve),E.browserUrlTree=ve.urlAfterRedirects)}),((I,T,E)=>(0,Ye.U)(B=>(new ua(T,B.targetRouterState,B.currentRouterState,E).activate(I),B)))(this.rootContexts,E.routeReuseStrategy,ve=>this.events.next(ve)),(0,tt.q)(1),(0,Kt.b)({next:ve=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new xt(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(ve.targetRouterState.snapshot),ve.resolve(!0)},complete:()=>{Y=!0}}),(0,dt.x)(()=>{Y||he||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),(0,nn.K)(ve=>{if(he=!0,oa(ve)){Dl(ve)||(E.navigated=!0,E.restoreHistory(B,!0));const Lt=new vt(B.id,this.urlSerializer.serialize(B.extractedUrl),ve.message,ve.cancellationCode);if(this.events.next(Lt),Dl(ve)){const _n=E.urlHandlingStrategy.merge(ve.url,E.rawUrlTree),jn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||ms(B.source)};E.scheduleNavigation(_n,$i,null,jn,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{E.restoreHistory(B,!0);const Lt=new pn(B.id,this.urlSerializer.serialize(B.extractedUrl),ve,B.targetSnapshot??void 0);this.events.next(Lt);try{B.resolve(E.errorHandler(ve))}catch(_n){B.reject(_n)}}return ke.E}))}))}cancelNavigationTransition(E,B,Y){const he=new vt(E.id,this.urlSerializer.serialize(E.extractedUrl),B,Y);this.events.next(he),E.resolve(!1)}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ms(I){return I!==$i}let Rn=(()=>{class I{buildTitle(E){let B,Y=E.root;for(;void 0!==Y;)B=this.getResolvedTitleForRoute(Y)??B,Y=Y.children.find(he=>he.outlet===it);return B}getResolvedTitleForRoute(E){return E.data[He]}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:function(){return(0,f.f3M)(qt)},providedIn:"root"}),I})(),qt=(()=>{class I extends Rn{constructor(E){super(),this.title=E}updateTitle(E){const B=this.buildTitle(E);void 0!==B&&this.title.setTitle(B)}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(ht.Dx))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),En=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:function(){return(0,f.f3M)(Dc)},providedIn:"root"}),I})();class as{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}let Dc=(()=>{class I extends as{}return I.\u0275fac=function(){let T;return function(B){return(T||(T=f.n5z(I)))(B||I)}}(),I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const ec=new f.OlP("",{providedIn:"root",factory:()=>({})});let Tu=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:function(){return(0,f.f3M)(ad)},providedIn:"root"}),I})(),ad=(()=>{class I{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,B){return E}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Xd(I){throw I}function Su(I,T,E){return T.parse("/")}const rl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(ec,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Xd,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Su,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(Tu),this.routeReuseStrategy=(0,f.f3M)(En),this.urlCreationStrategy=(0,f.f3M)(Fr),this.titleStrategy=(0,f.f3M)(Rn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=In((0,f.f3M)(gn,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(Zn),this.urlSerializer=(0,f.f3M)(dn),this.location=(0,f.f3M)(Ft.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ce,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId??0},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$i,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const B="popstate"===E.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,B,E.state)},0)}))}navigateToSyncWithBrowser(E,B,Y){const he={replaceUrl:!0},ve=Y?.navigationId?Y:null;if(Y){const _n={...Y};delete _n.navigationId,delete _n.\u0275routerPageId,0!==Object.keys(_n).length&&(he.state=_n)}const Lt=this.parseUrl(E);this.scheduleNavigation(Lt,B,ve,he)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,B={}){const{relativeTo:Y,queryParams:he,fragment:ve,queryParamsHandling:Lt,preserveFragment:_n}=B,jn=_n?this.currentUrlTree.fragment:ve;let Hn=null;switch(Lt){case"merge":Hn={...this.currentUrlTree.queryParams,...he};break;case"preserve":Hn=this.currentUrlTree.queryParams;break;default:Hn=he||null}return null!==Hn&&(Hn=this.removeEmptyProps(Hn)),this.urlCreationStrategy.createUrlTree(Y,this.routerState,this.currentUrlTree,E,Hn,jn??null)}navigateByUrl(E,B={skipLocationChange:!1}){const Y=xn(E)?E:this.parseUrl(E),he=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(he,$i,null,B)}navigate(E,B={skipLocationChange:!1}){return function vi(I){for(let T=0;T<I.length;T++){const E=I[T];if(null==E)throw new f.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,B),B)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let B;try{B=this.urlSerializer.parse(E)}catch(Y){B=this.malformedUriErrorHandler(Y,this.urlSerializer,E)}return B}isActive(E,B){let Y;if(Y=!0===B?{...rl}:!1===B?{...Jd}:B,xn(E))return ft(this.currentUrlTree,E,Y);const he=this.parseUrl(E);return ft(this.currentUrlTree,he,Y)}removeEmptyProps(E){return Object.keys(E).reduce((B,Y)=>{const he=E[Y];return null!=he&&(B[Y]=he),B},{})}scheduleNavigation(E,B,Y,he,ve){if(this.disposed)return Promise.resolve(!1);let Lt,_n,jn,Hn;return ve?(Lt=ve.resolve,_n=ve.reject,jn=ve.promise):jn=new Promise((Ei,kr)=>{Lt=Ei,_n=kr}),Hn="computed"===this.canceledNavigationResolution?Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Hn,source:B,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:he,resolve:Lt,reject:_n,promise:jn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jn.catch(Ei=>Promise.reject(Ei))}setBrowserUrl(E,B){const Y=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(Y)||B.extras.replaceUrl){const ve={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(Y,"",ve)}else{const he={...B.extras.state,...this.generateNgRouterState(B.id,B.targetPageId)};this.location.go(Y,"",he)}}restoreHistory(E,B=!1){if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-(this.browserPageId??this.currentPageId);0!==he?this.location.historyGo(he):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===he&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,B){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:B}:{navigationId:E}}}return I.\u0275fac=function(E){return new(E||I)},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),_a=(()=>{class I{constructor(E,B,Y,he,ve,Lt){this.router=E,this.route=B,this.tabIndexAttribute=Y,this.renderer=he,this.el=ve,this.locationStrategy=Lt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Me.x;const _n=ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_n||"area"===_n,this.isAnchorElement?this.subscription=E.events.subscribe(jn=>{jn instanceof xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,f.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,f.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,f.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,B,Y,he,ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||B||Y||he||ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,B){const Y=this.renderer,he=this.el.nativeElement;null!==B?Y.setAttribute(he,E,B):Y.removeAttribute(he,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(E){return new(E||I)(f.Y36(tr),f.Y36(rs),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ft.S$))},I.\u0275dir=f.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,B){1&E&&f.NdJ("click",function(he){return B.onClick(he.button,he.ctrlKey,he.shiftKey,he.altKey,he.metaKey)}),2&E&&f.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),I})(),Xc=(()=>{class I{get isActive(){return this._isActive}constructor(E,B,Y,he,ve){this.router=E,this.element=B,this.renderer=Y,this.cdr=he,this.link=ve,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=E.events.subscribe(Lt=>{Lt instanceof xt&&this.update()})}ngAfterContentInit(){(0,P.of)(this.links.changes,(0,P.of)(null)).pipe((0,Ne.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),this.link].filter(B=>!!B).map(B=>B.onChanges);this.linkInputChangesSubscription=(0,O.D)(E).pipe((0,Ne.J)()).subscribe(B=>{this._isActive!==this.isLinkActive(this.router)(B)&&this.update()})}set routerLinkActive(E){const B=Array.isArray(E)?E:E.split(" ");this.classes=B.filter(Y=>!!Y)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.classes.forEach(B=>{E?this.renderer.addClass(this.element.nativeElement,B):this.renderer.removeClass(this.element.nativeElement,B)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const B=function Rr(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Y=>!!Y.urlTree&&E.isActive(Y.urlTree,B)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}}return I.\u0275fac=function(E){return new(E||I)(f.Y36(tr),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(_a,8))},I.\u0275dir=f.lG2({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(E,B,Y){if(1&E&&f.Suo(Y,_a,5),2&E){let he;f.iGM(he=f.CRH())&&(B.links=he)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),I})();class ri{}let Jc=(()=>{class I{constructor(E,B,Y,he,ve){this.router=E,this.injector=Y,this.preloadingStrategy=he,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(E=>E instanceof xt),(0,hn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,B){const Y=[];for(const he of B){he.providers&&!he._injector&&(he._injector=(0,f.MMx)(he.providers,E,`Route: ${he.path}`));const ve=he._injector??E,Lt=he._loadedInjector??ve;(he.loadChildren&&!he._loadedRoutes&&void 0===he.canLoad||he.loadComponent&&!he._loadedComponent)&&Y.push(this.preloadConfig(ve,he)),(he.children||he._loadedRoutes)&&Y.push(this.processRoutes(Lt,he.children??he._loadedRoutes))}return(0,O.D)(Y).pipe((0,Ne.J)())}preloadConfig(E,B){return this.preloadingStrategy.preload(B,()=>{let Y;Y=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(E,B):(0,P.of)(null);const he=Y.pipe((0,Ze.z)(ve=>null===ve?(0,P.of)(void 0):(B._loadedRoutes=ve.routes,B._loadedInjector=ve.injector,this.processRoutes(ve.injector??E,ve.routes))));if(B.loadComponent&&!B._loadedComponent){const ve=this.loader.loadComponent(B);return(0,O.D)([he,ve]).pipe((0,Ne.J)())}return he})}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(tr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(ri),f.LFG(mi))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const xi=new f.OlP("");let zn=(()=>{class I{constructor(E,B,Y,he,ve={}){this.urlSerializer=E,this.transitions=B,this.viewportScroller=Y,this.zone=he,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof xt&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof fo&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fo(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return I.\u0275fac=function(E){f.$Z()},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();var ns=(()=>((ns=ns||{})[ns.COMPLETE=0]="COMPLETE",ns[ns.FAILED=1]="FAILED",ns[ns.REDIRECTING=2]="REDIRECTING",ns))();const Rs=!1;function Eo(I,T){return{\u0275kind:I,\u0275providers:T}}const Ol=new f.OlP("",{providedIn:"root",factory:()=>!1});function $a(){const I=(0,f.f3M)(f.zs3);return T=>{const E=I.get(f.z2F);if(T!==E.components[0])return;const B=I.get(tr),Y=I.get(Rl);1===I.get(tc)&&B.initialNavigation(),I.get(nc,null,f.XFs.Optional)?.setUpPreloading(),I.get(xi,null,f.XFs.Optional)?.init(),B.resetRootComponentType(E.componentTypes[0]),Y.closed||(Y.next(),Y.complete(),Y.unsubscribe())}}const Rl=new f.OlP(Rs?"bootstrap done indicator":"",{factory:()=>new Me.x}),tc=new f.OlP(Rs?"initial navigation":"",{providedIn:"root",factory:()=>1});function Qt(){let I=[];return I=Rs?[{provide:f.Xts,multi:!0,useFactory:()=>{const T=(0,f.f3M)(tr);return()=>T.events.subscribe(E=>{console.group?.(`Router Event: ${E.constructor.name}`),console.log(function js(I){if(!("type"in I))return`Unknown Router Event: ${I.constructor.name}`;switch(I.type){case 14:return`ActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state}, shouldActivate: ${I.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 2:return`NavigationCancel(id: ${I.id}, url: '${I.url}')`;case 16:return`NavigationSkipped(id: ${I.id}, url: '${I.url}')`;case 1:return`NavigationEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${I.id}, url: '${I.url}', error: ${I.error})`;case 0:return`NavigationStart(id: ${I.id}, url: '${I.url}')`;case 6:return`ResolveEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 5:return`ResolveStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 10:return`RouteConfigLoadEnd(path: ${I.route.path})`;case 9:return`RouteConfigLoadStart(path: ${I.route.path})`;case 4:return`RoutesRecognized(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 15:return`Scroll(anchor: '${I.anchor}', position: '${I.position?`${I.position[0]}, ${I.position[1]}`:null}')`}}(E)),console.log(E),console.groupEnd?.()})}}]:[],Eo(1,I)}const nc=new f.OlP(Rs?"router preloader":"");function Pi(I){return Eo(0,[{provide:nc,useExisting:Jc},{provide:ri,useExisting:I}])}const sl=!1,xc=new f.OlP(sl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Mu=[Ft.Ye,{provide:dn,useClass:ii},tr,us,{provide:rs,useFactory:function Ml(I){return I.routerState.root},deps:[tr]},mi,sl?{provide:Ol,useValue:!0}:[]];function ol(){return new f.PXZ("Router",tr)}let eh=(()=>{class I{constructor(E){}static forRoot(E,B){return{ngModule:I,providers:[Mu,sl&&B?.enableTracing?Qt().\u0275providers:[],{provide:gn,multi:!0,useValue:E},{provide:xc,useFactory:Ko,deps:[[tr,new f.FiY,new f.tp0]]},{provide:ec,useValue:B||{}},B?.useHash?{provide:Ft.S$,useClass:Ft.Do}:{provide:Ft.S$,useClass:Ft.b0},{provide:xi,useFactory:()=>{const I=(0,f.f3M)(Ft.EM),T=(0,f.f3M)(f.R0b),E=(0,f.f3M)(ec),B=(0,f.f3M)(Zn),Y=(0,f.f3M)(dn);return E.scrollOffset&&I.setOffset(E.scrollOffset),new zn(Y,B,I,T,E)}},B?.preloadingStrategy?Pi(B.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:ol},B?.initialNavigation?gs(B):[],[{provide:Ns,useFactory:$a},{provide:f.tb,multi:!0,useExisting:Ns}]]}}static forChild(E){return{ngModule:I,providers:[{provide:gn,multi:!0,useValue:E}]}}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(xc,8))},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({imports:[Ia]}),I})();function Ko(I){if(sl&&I)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gs(I){return["disabled"===I.initialNavigation?Eo(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const T=(0,f.f3M)(tr);return()=>{T.setUpLocationChangeListener()}}},{provide:tc,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Eo(2,[{provide:tc,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:T=>{const E=T.get(Ft.V_,Promise.resolve());return()=>E.then(()=>new Promise(B=>{const Y=T.get(tr),he=T.get(Rl);(function Al(I,T){I.events.pipe((0,nt.h)(E=>E instanceof xt||E instanceof vt||E instanceof pn||E instanceof Et),(0,Ye.U)(E=>E instanceof xt||E instanceof Et?ns.COMPLETE:E instanceof vt&&(0===E.code||1===E.code)?ns.REDIRECTING:ns.FAILED),(0,nt.h)(E=>E!==ns.REDIRECTING),(0,tt.q)(1)).subscribe(()=>{T()})})(Y,()=>{B(!0)}),T.get(Zn).afterPreactivation=()=>(B(!0),he.closed?(0,P.of)(void 0):he),Y.initialNavigation()}))}}]).\u0275providers:[]]}const Ns=new f.OlP(sl?"Router Initializer":"")},3942:(vn,ot,x)=>{x.d(ot,{Z:()=>Qe});var f=x(2090),O=x(4859),P=x(6881),R=x(1877);class ae{constructor(et,Ve){this._delegate=et,this.firebase=Ve,(0,P._addComponent)(et,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(et,Ve=P._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Ft=this._delegate.container.getProvider(et);return!Ft.isInitialized()&&"EXPLICIT"===(null===(Me=Ft.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Ft.initialize(),Ft.getImmediate({identifier:Ve})}_removeServiceInstance(et,Ve=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(Ve)}_addComponent(et){(0,P._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,P._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function Ge(){const bt=function ye(bt){const et={},Ve={__esModule:!0,initializeApp:function Ye(nt,Ze={}){const Ut=P.initializeApp(nt,Ze);if((0,f.r3)(et,Ut.name))return et[Ut.name];const hn=new bt(Ut,Ve);return et[Ut.name]=hn,hn},app:Ft,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function tt(nt){const Ze=nt.name,Ut=Ze.replace("-compat","");if(P._registerComponent(nt)&&"PUBLIC"===nt.type){const hn=(Kt=Ft())=>{if("function"!=typeof Kt[Ut])throw je.create("invalid-app-argument",{appName:Ze});return Kt[Ut]()};void 0!==nt.serviceProps&&(0,f.ZB)(hn,nt.serviceProps),Ve[Ut]=hn,bt.prototype[Ut]=function(...Kt){return this._getService.bind(this,Ze).apply(this,nt.multipleInstances?Kt:[])}}return"PUBLIC"===nt.type?Ve[Ut]:null},removeApp:function Me(nt){delete et[nt]},useAsService:function lt(nt,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:P}};function Ft(nt){if(!(0,f.r3)(et,nt=nt||P._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:nt});return et[nt]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Re(){return Object.keys(et).map(nt=>et[nt])}}),Ft.App=bt,Ve}(ae);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function et(Ve){(0,f.ZB)(bt,Ve)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),bt}(),ge=new R.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=ie;!function Be(bt){(0,P.registerVersion)("@firebase/app-compat","0.2.11",bt)}()},6881:(vn,ot,x)=>{x.r(ot),x.d(ot,{FirebaseError:()=>R.ZR,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>Te,_addOrOverwriteComponent:()=>$e,_apps:()=>_t,_clearComponents:()=>ze,_components:()=>Yt,_getProvider:()=>me,_registerComponent:()=>ce,_removeServiceInstance:()=>yt,deleteApp:()=>q,getApp:()=>st,getApps:()=>oe,initializeApp:()=>Dt,onLog:()=>X,registerVersion:()=>$,setLogLevel:()=>Se});var f=x(5861),O=x(4859),P=x(1877),R=x(2090);const ae=(tn,$t)=>$t.some(Cn=>tn instanceof Cn);let Pe,je;const ie=new WeakMap,ge=new WeakMap,le=new WeakMap,ke=new WeakMap,Be=new WeakMap;let et={get(tn,$t,Cn){if(tn instanceof IDBTransaction){if("done"===$t)return ge.get(tn);if("objectStoreNames"===$t)return tn.objectStoreNames||le.get(tn);if("store"===$t)return Cn.objectStoreNames[1]?void 0:Cn.objectStore(Cn.objectStoreNames[0])}return Ye(tn[$t])},set:(tn,$t,Cn)=>(tn[$t]=Cn,!0),has:(tn,$t)=>tn instanceof IDBTransaction&&("done"===$t||"store"===$t)||$t in tn};function Ft(tn){return"function"==typeof tn?function Me(tn){return tn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return je||(je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tn)?function(...$t){return tn.apply(Re(this),$t),Ye(ie.get(this))}:function(...$t){return Ye(tn.apply(Re(this),$t))}:function($t,...Cn){const Un=tn.call(Re(this),$t,...Cn);return le.set(Un,$t.sort?$t.sort():[$t]),Ye(Un)}}(tn):(tn instanceof IDBTransaction&&function bt(tn){if(ge.has(tn))return;const $t=new Promise((Cn,Un)=>{const Qn=()=>{tn.removeEventListener("complete",gi),tn.removeEventListener("error",Wn),tn.removeEventListener("abort",Wn)},gi=()=>{Cn(),Qn()},Wn=()=>{Un(tn.error||new DOMException("AbortError","AbortError")),Qn()};tn.addEventListener("complete",gi),tn.addEventListener("error",Wn),tn.addEventListener("abort",Wn)});ge.set(tn,$t)}(tn),ae(tn,function ye(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tn,et):tn)}function Ye(tn){if(tn instanceof IDBRequest)return function Qe(tn){const $t=new Promise((Cn,Un)=>{const Qn=()=>{tn.removeEventListener("success",gi),tn.removeEventListener("error",Wn)},gi=()=>{Cn(Ye(tn.result)),Qn()},Wn=()=>{Un(tn.error),Qn()};tn.addEventListener("success",gi),tn.addEventListener("error",Wn)});return $t.then(Cn=>{Cn instanceof IDBCursor&&ie.set(Cn,tn)}).catch(()=>{}),Be.set($t,tn),$t}(tn);if(ke.has(tn))return ke.get(tn);const $t=Ft(tn);return $t!==tn&&(ke.set(tn,$t),Be.set($t,tn)),$t}const Re=tn=>Be.get(tn),nt=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ut=new Map;function hn(tn,$t){if(!(tn instanceof IDBDatabase)||$t in tn||"string"!=typeof $t)return;if(Ut.get($t))return Ut.get($t);const Cn=$t.replace(/FromIndex$/,""),Un=$t!==Cn,Qn=Ze.includes(Cn);if(!(Cn in(Un?IDBIndex:IDBObjectStore).prototype)||!Qn&&!nt.includes(Cn))return;const gi=function(){var Wn=(0,f.Z)(function*(Vi,...fi){const _r=this.transaction(Vi,Qn?"readwrite":"readonly");let Dr=_r.store;return Un&&(Dr=Dr.index(fi.shift())),(yield Promise.all([Dr[Cn](...fi),Qn&&_r.done]))[0]});return function(fi){return Wn.apply(this,arguments)}}();return Ut.set($t,gi),gi}!function Ve(tn){et=tn(et)}(tn=>({...tn,get:($t,Cn,Un)=>hn($t,Cn)||tn.get($t,Cn,Un),has:($t,Cn)=>!!hn($t,Cn)||tn.has($t,Cn)}));class Kt{constructor($t){this.container=$t}getPlatformInfoString(){return this.container.getProviders().map(Cn=>{if(function nn(tn){return"VERSION"===tn.getComponent()?.type}(Cn)){const Un=Cn.getImmediate();return`${Un.library}/${Un.version}`}return null}).filter(Cn=>Cn).join(" ")}}const mn="@firebase/app",zt=new P.Yd("@firebase/app"),Rt="[DEFAULT]",Ht={[mn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Yt=new Map;function Te(tn,$t){try{tn.container.addComponent($t)}catch(Cn){zt.debug(`Component ${$t.name} failed to register with FirebaseApp ${tn.name}`,Cn)}}function $e(tn,$t){tn.container.addOrOverwriteComponent($t)}function ce(tn){const $t=tn.name;if(Yt.has($t))return zt.debug(`There were multiple attempts to register component ${$t}.`),!1;Yt.set($t,tn);for(const Cn of _t.values())Te(Cn,tn);return!0}function me(tn,$t){const Cn=tn.container.getProvider("heartbeat").getImmediate({optional:!0});return Cn&&Cn.triggerHeartbeat(),tn.container.getProvider($t)}function yt(tn,$t,Cn=Rt){me(tn,$t).clearInstance(Cn)}function ze(){Yt.clear()}const Sn=new R.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dn{constructor($t,Cn,Un){this._isDeleted=!1,this._options=Object.assign({},$t),this._config=Object.assign({},Cn),this._name=Cn.name,this._automaticDataCollectionEnabled=Cn.automaticDataCollectionEnabled,this._container=Un,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($t){this.checkDestroyed(),this._automaticDataCollectionEnabled=$t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($t){this._isDeleted=$t}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const ii="9.22.1";function Dt(tn,$t={}){let Cn=tn;"object"!=typeof $t&&($t={name:$t});const Un=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},$t),Qn=Un.name;if("string"!=typeof Qn||!Qn)throw Sn.create("bad-app-name",{appName:String(Qn)});if(Cn||(Cn=(0,R.aH)()),!Cn)throw Sn.create("no-options");const gi=_t.get(Qn);if(gi){if((0,R.vZ)(Cn,gi.options)&&(0,R.vZ)(Un,gi.config))return gi;throw Sn.create("duplicate-app",{appName:Qn})}const Wn=new O.H0(Qn);for(const fi of Yt.values())Wn.addComponent(fi);const Vi=new dn(Cn,Un,Wn);return _t.set(Qn,Vi),Vi}function st(tn=Rt){const $t=_t.get(tn);if(!$t&&tn===Rt&&(0,R.aH)())return Dt();if(!$t)throw Sn.create("no-app",{appName:tn});return $t}function oe(){return Array.from(_t.values())}function q(tn){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(function*(tn){const $t=tn.name;_t.has($t)&&(_t.delete($t),yield Promise.all(tn.container.getProviders().map(Cn=>Cn.delete())),tn.isDeleted=!0)})).apply(this,arguments)}function $(tn,$t,Cn){var Un;let Qn=null!==(Un=Ht[tn])&&void 0!==Un?Un:tn;Cn&&(Qn+=`-${Cn}`);const gi=Qn.match(/\s|\//),Wn=$t.match(/\s|\//);if(gi||Wn){const Vi=[`Unable to register library "${Qn}" with version "${$t}":`];return gi&&Vi.push(`library name "${Qn}" contains illegal characters (whitespace or "/")`),gi&&Wn&&Vi.push("and"),Wn&&Vi.push(`version name "${$t}" contains illegal characters (whitespace or "/")`),void zt.warn(Vi.join(" "))}ce(new O.wA(`${Qn}-version`,()=>({library:Qn,version:$t}),"VERSION"))}function X(tn,$t){if(null!==tn&&"function"!=typeof tn)throw Sn.create("invalid-log-argument");(0,P.Am)(tn,$t)}function Se(tn){(0,P.Ub)(tn)}const Wt="firebase-heartbeat-database",Jt=1,Ue="firebase-heartbeat-store";let Le=null;function de(){return Le||(Le=function tt(tn,$t,{blocked:Cn,upgrade:Un,blocking:Qn,terminated:gi}={}){const Wn=indexedDB.open(tn,$t),Vi=Ye(Wn);return Un&&Wn.addEventListener("upgradeneeded",fi=>{Un(Ye(Wn.result),fi.oldVersion,fi.newVersion,Ye(Wn.transaction),fi)}),Cn&&Wn.addEventListener("blocked",fi=>Cn(fi.oldVersion,fi.newVersion,fi)),Vi.then(fi=>{gi&&fi.addEventListener("close",()=>gi()),Qn&&fi.addEventListener("versionchange",_r=>Qn(_r.oldVersion,_r.newVersion,_r))}).catch(()=>{}),Vi}(Wt,Jt,{upgrade:(tn,$t)=>{0===$t&&tn.createObjectStore(Ue)}}).catch(tn=>{throw Sn.create("idb-open",{originalErrorMessage:tn.message})})),Le}function fe(){return(fe=(0,f.Z)(function*(tn){try{return yield(yield de()).transaction(Ue).objectStore(Ue).get(We(tn))}catch($t){if($t instanceof R.ZR)zt.warn($t.message);else{const Cn=Sn.create("idb-get",{originalErrorMessage:$t?.message});zt.warn(Cn.message)}}})).apply(this,arguments)}function pt(tn,$t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,f.Z)(function*(tn,$t){try{const Un=(yield de()).transaction(Ue,"readwrite");yield Un.objectStore(Ue).put($t,We(tn)),yield Un.done}catch(Cn){if(Cn instanceof R.ZR)zt.warn(Cn.message);else{const Un=Sn.create("idb-set",{originalErrorMessage:Cn?.message});zt.warn(Un.message)}}})).apply(this,arguments)}function We(tn){return`${tn.name}!${tn.options.appId}`}class jt{constructor($t){this.container=$t,this._heartbeatsCache=null;const Cn=this.container.getProvider("app").getImmediate();this._storage=new Ln(Cn),this._heartbeatsCachePromise=this._storage.read().then(Un=>(this._heartbeatsCache=Un,Un))}triggerHeartbeat(){var $t=this;return(0,f.Z)(function*(){const Un=$t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qn=fn();if(null===$t._heartbeatsCache&&($t._heartbeatsCache=yield $t._heartbeatsCachePromise),$t._heartbeatsCache.lastSentHeartbeatDate!==Qn&&!$t._heartbeatsCache.heartbeats.some(gi=>gi.date===Qn))return $t._heartbeatsCache.heartbeats.push({date:Qn,agent:Un}),$t._heartbeatsCache.heartbeats=$t._heartbeatsCache.heartbeats.filter(gi=>{const Wn=new Date(gi.date).valueOf();return Date.now()-Wn<=2592e6}),$t._storage.overwrite($t._heartbeatsCache)})()}getHeartbeatsHeader(){var $t=this;return(0,f.Z)(function*(){if(null===$t._heartbeatsCache&&(yield $t._heartbeatsCachePromise),null===$t._heartbeatsCache||0===$t._heartbeatsCache.heartbeats.length)return"";const Cn=fn(),{heartbeatsToSend:Un,unsentEntries:Qn}=function xn(tn,$t=1024){const Cn=[];let Un=tn.slice();for(const Qn of tn){const gi=Cn.find(Wn=>Wn.agent===Qn.agent);if(gi){if(gi.dates.push(Qn.date),yi(Cn)>$t){gi.dates.pop();break}}else if(Cn.push({agent:Qn.agent,dates:[Qn.date]}),yi(Cn)>$t){Cn.pop();break}Un=Un.slice(1)}return{heartbeatsToSend:Cn,unsentEntries:Un}}($t._heartbeatsCache.heartbeats),gi=(0,R.L)(JSON.stringify({version:2,heartbeats:Un}));return $t._heartbeatsCache.lastSentHeartbeatDate=Cn,Qn.length>0?($t._heartbeatsCache.heartbeats=Qn,yield $t._storage.overwrite($t._heartbeatsCache)):($t._heartbeatsCache.heartbeats=[],$t._storage.overwrite($t._heartbeatsCache)),gi})()}}function fn(){return(new Date).toISOString().substring(0,10)}class Ln{constructor($t){this.app=$t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,R.hl)()&&(0,R.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $t=this;return(0,f.Z)(function*(){return(yield $t._canUseIndexedDBPromise)&&(yield function pe(tn){return fe.apply(this,arguments)}($t.app))||{heartbeats:[]}})()}overwrite($t){var Cn=this;return(0,f.Z)(function*(){var Un;if(yield Cn._canUseIndexedDBPromise){const gi=yield Cn.read();return pt(Cn.app,{lastSentHeartbeatDate:null!==(Un=$t.lastSentHeartbeatDate)&&void 0!==Un?Un:gi.lastSentHeartbeatDate,heartbeats:$t.heartbeats})}})()}add($t){var Cn=this;return(0,f.Z)(function*(){var Un;if(yield Cn._canUseIndexedDBPromise){const gi=yield Cn.read();return pt(Cn.app,{lastSentHeartbeatDate:null!==(Un=$t.lastSentHeartbeatDate)&&void 0!==Un?Un:gi.lastSentHeartbeatDate,heartbeats:[...gi.heartbeats,...$t.heartbeats]})}})()}}function yi(tn){return(0,R.L)(JSON.stringify({version:2,heartbeats:tn})).length}!function rr(tn){ce(new O.wA("platform-logger",$t=>new Kt($t),"PRIVATE")),ce(new O.wA("heartbeat",$t=>new jt($t),"PRIVATE")),$(mn,"0.9.11",tn),$(mn,"0.9.11","esm2017"),$("fire-js","")}("")},4859:(vn,ot,x)=>{x.d(ot,{H0:()=>ye,wA:()=>P});var f=x(5861),O=x(2090);class P{constructor(ie,ge,le){this.name=ie,this.instanceFactory=ge,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const R="[DEFAULT]";class ae{constructor(ie,ge){this.name=ie,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ge=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ge)){const le=new O.BH;if(this.instancesDeferred.set(ge,le),this.isInitialized(ge)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:ge});ke&&le.resolve(ke)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(ie){var ge;const le=this.normalizeInstanceIdentifier(ie?.identifier),ke=null!==(ge=ie?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Be){if(ke)return null;throw Be}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function je(Ge){return"EAGER"===Ge.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:R})}catch{}for(const[ge,le]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(ge);try{const Be=this.getOrInitializeService({instanceIdentifier:ke});le.resolve(Be)}catch{}}}}clearInstance(ie=R){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,f.Z)(function*(){const ge=Array.from(ie.instances.values());yield Promise.all([...ge.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...ge.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=R){return this.instances.has(ie)}getOptions(ie=R){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ge={}}=ie,le=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:le,options:ge});for(const[Be,Qe]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Be)&&Qe.resolve(ke);return ke}onInit(ie,ge){var le;const ke=this.normalizeInstanceIdentifier(ge),Be=null!==(le=this.onInitCallbacks.get(ke))&&void 0!==le?le:new Set;Be.add(ie),this.onInitCallbacks.set(ke,Be);const Qe=this.instances.get(ke);return Qe&&ie(Qe,ke),()=>{Be.delete(ie)}}invokeOnInitCallbacks(ie,ge){const le=this.onInitCallbacks.get(ge);if(le)for(const ke of le)try{ke(ie,ge)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ge={}}){let le=this.instances.get(ie);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=ie,Ge===R?void 0:Ge),options:ge}),this.instances.set(ie,le),this.instancesOptions.set(ie,ge),this.invokeOnInitCallbacks(le,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,le)}catch{}var Ge;return le||null}normalizeInstanceIdentifier(ie=R){return this.component?this.component.multipleInstances?ie:R:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ge=this.getProvider(ie.name);if(ge.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ge.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ge=new ae(ie,this);return this.providers.set(ie,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(vn,ot,x)=>{x.d(ot,{Am:()=>Ge,Ub:()=>ye,Yd:()=>je,in:()=>O});const f=[];var O=(()=>{return(ie=O||(O={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",O;var ie})();const P={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},R=O.INFO,ae={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},Pe=(ie,ge,...le)=>{if(ge<ie.logLevel)return;const ke=(new Date).toISOString(),Be=ae[ge];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[Be](`[${ke}]  ${ie.name}:`,...le)};class je{constructor(ge){this.name=ge,this._logLevel=R,this._logHandler=Pe,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in O))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?P[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...ge),this._logHandler(this,O.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...ge),this._logHandler(this,O.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,O.INFO,...ge),this._logHandler(this,O.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,O.WARN,...ge),this._logHandler(this,O.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...ge),this._logHandler(this,O.ERROR,...ge)}}function ye(ie){f.forEach(ge=>{ge.setLogLevel(ie)})}function Ge(ie,ge){for(const le of f){let ke=null;ge&&ge.level&&(ke=P[ge.level]),le.userLogHandler=null===ie?null:(Be,Qe,...bt)=>{const et=bt.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Qe>=(ke??Be.logLevel)&&ie({level:O[Qe].toLowerCase(),message:et,args:bt,type:Be.name})}}}},259:(vn,ot,x)=>{x.d(ot,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=x(6881);(0,f.registerVersion)("firebase","9.22.1","app")},4322:(vn,ot,x)=>{x.d(ot,{v0:()=>f.o});var f=x(1389);x(2090),x(6881),x(1877),x(4859)},9260:(vn,ot,x)=>{x.d(ot,{Z:()=>f.Z});var f=x(3942);f.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(vn,ot,x)=>{x.r(ot);var f=x(5861),O=x(3942),P=x(1389),R=x(2090),je=(x(6881),x(1877),x(4859));function ye(){return window}const Ge=2e3;function ge(){return ge=(0,f.Z)(function*(de,pe,fe){var pt;const{BuildInfo:Fe}=ye();(0,P.as)(pe.sessionId,"AuthEvent did not contain a session ID");const We=yield function Ve(de){return Me.apply(this,arguments)}(pe.sessionId),be={};return(0,P.at)()?be.ibi=Fe.packageName:(0,P.au)()?be.apn=Fe.packageName:(0,P.av)(de,"operation-not-supported-in-this-environment"),Fe.displayName&&(be.appDisplayName=Fe.displayName),be.sessionId=We,(0,P.aw)(de,fe,pe.type,void 0,null!==(pt=pe.eventId)&&void 0!==pt?pt:void 0,be)}),ge.apply(this,arguments)}function ke(){return(ke=(0,f.Z)(function*(de){const{BuildInfo:pe}=ye(),fe={};(0,P.at)()?fe.iosBundleId=pe.packageName:(0,P.au)()?fe.androidPackageName=pe.packageName:(0,P.av)(de,"operation-not-supported-in-this-environment"),yield(0,P.ax)(de,fe)})).apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(de,pe,fe){const{cordova:pt}=ye();let Fe=()=>{};try{yield new Promise((We,be)=>{let Xe=null;function jt(){var Ln;We();const yi=null===(Ln=pt.plugins.browsertab)||void 0===Ln?void 0:Ln.close;"function"==typeof yi&&yi(),"function"==typeof fe?.close&&fe.close()}function fn(){Xe||(Xe=window.setTimeout(()=>{be((0,P.az)(de,"redirect-cancelled-by-user"))},Ge))}function xn(){"visible"===document?.visibilityState&&fn()}pe.addPassiveListener(jt),document.addEventListener("resume",fn,!1),(0,P.au)()&&document.addEventListener("visibilitychange",xn,!1),Fe=()=>{pe.removePassiveListener(jt),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",xn,!1),Xe&&window.clearTimeout(Xe)}})}finally{Fe()}})).apply(this,arguments)}function Me(){return(Me=(0,f.Z)(function*(de){const pe=function Ft(de){if((0,P.as)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(de);const pe=new ArrayBuffer(de.length),fe=new Uint8Array(pe);for(let pt=0;pt<de.length;pt++)fe[pt]=de.charCodeAt(pt);return fe}(de),fe=yield crypto.subtle.digest("SHA-256",pe);return Array.from(new Uint8Array(fe)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ye=20;class Re extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(pe=>{this.resolveInialized=pe})}addPassiveListener(pe){this.passiveListeners.add(pe)}removePassiveListener(pe){this.passiveListeners.delete(pe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(pe){return this.resolveInialized(),this.passiveListeners.forEach(fe=>fe(pe)),super.onEvent(pe)}initialized(){var pe=this;return(0,f.Z)(function*(){yield pe.initPromise})()}}function nt(de){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,f.Z)(function*(de){const pe=yield Kt()._get(nn(de));return pe&&(yield Kt()._remove(nn(de))),pe})).apply(this,arguments)}function hn(){const de=[],pe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let fe=0;fe<Ye;fe++){const pt=Math.floor(Math.random()*pe.length);de.push(pe.charAt(pt))}return de.join("")}function Kt(){return(0,P.aC)(P.b)}function nn(de){return(0,P.aD)("authEvent",de.config.apiKey,de.name)}function zt(de){if(!de?.includes("?"))return{};const[pe,...fe]=de.split("?");return(0,R.zd)(fe.join("?"))}const Vt=class Bt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(pe){var fe=this;return(0,f.Z)(function*(){const pt=pe._key();let Fe=fe.eventManagers.get(pt);return Fe||(Fe=new Re(pe),fe.eventManagers.set(pt,Fe),fe.attachCallbackListeners(pe,Fe)),Fe})()}_openPopup(pe){(0,P.av)(pe,"operation-not-supported-in-this-environment")}_openRedirect(pe,fe,pt,Fe){var We=this;return(0,f.Z)(function*(){!function et(de){var pe,fe,pt,Fe,We,be,Xe,jt,fn,xn;const Ln=ye();(0,P.aA)("function"==typeof(null===(pe=Ln?.universalLinks)||void 0===pe?void 0:pe.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(fe=Ln?.BuildInfo)||void 0===fe?void 0:fe.packageName)<"u",de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(We=null===(Fe=null===(pt=Ln?.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===We?void 0:We.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(jt=null===(Xe=null===(be=Ln?.cordova)||void 0===be?void 0:be.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===jt?void 0:jt.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(xn=null===(fn=Ln?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===xn?void 0:xn.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(pe);const be=yield We._initialize(pe);yield be.initialized(),be.resetRedirect(),(0,P.aG)(),yield We._originValidation(pe);const Xe=function tt(de,pe,fe=null){return{type:pe,eventId:fe,urlResponse:null,sessionId:hn(),postBody:null,tenantId:de.tenantId,error:(0,P.az)(de,"no-auth-event")}}(pe,pt,Fe);yield function lt(de,pe){return Kt()._set(nn(de),pe)}(pe,Xe);const jt=yield function ie(de,pe,fe){return ge.apply(this,arguments)}(pe,Xe,fe),fn=yield function Be(de){const{cordova:pe}=ye();return new Promise(fe=>{pe.plugins.browsertab.isAvailable(pt=>{let Fe=null;pt?pe.plugins.browsertab.openUrl(de):Fe=pe.InAppBrowser.open(de,(0,P.ay)()?"_blank":"_system","location=yes"),fe(Fe)})})}(jt);return function Qe(de,pe,fe){return bt.apply(this,arguments)}(pe,be,fn)})()}_isIframeWebStorageSupported(pe,fe){throw new Error("Method not implemented.")}_originValidation(pe){const fe=pe._key();return this.originValidationPromises[fe]||(this.originValidationPromises[fe]=function le(de){return ke.apply(this,arguments)}(pe)),this.originValidationPromises[fe]}attachCallbackListeners(pe,fe){const{universalLinks:pt,handleOpenURL:Fe,BuildInfo:We}=ye(),be=setTimeout((0,f.Z)(function*(){yield nt(pe),fe.onEvent(Ot())}),500),Xe=function(){var xn=(0,f.Z)(function*(Ln){clearTimeout(be);const yi=yield nt(pe);let rr=null;yi&&Ln?.url&&(rr=function Ut(de,pe){var fe,pt;const Fe=function ai(de){const pe=zt(de),fe=pe.link?decodeURIComponent(pe.link):void 0,pt=zt(fe).link,Fe=pe.deep_link_id?decodeURIComponent(pe.deep_link_id):void 0;return zt(Fe).link||Fe||pt||fe||de}(pe);if(Fe.includes("/__/auth/callback")){const We=zt(Fe),be=We.firebaseError?function mn(de){try{return JSON.parse(de)}catch{return null}}(decodeURIComponent(We.firebaseError)):null,Xe=null===(pt=null===(fe=be?.code)||void 0===fe?void 0:fe.split("auth/"))||void 0===pt?void 0:pt[1],jt=Xe?(0,P.az)(Xe):null;return jt?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:jt,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:Fe,postBody:null}}return null}(yi,Ln.url)),fe.onEvent(rr||Ot())});return function(yi){return xn.apply(this,arguments)}}();typeof pt<"u"&&"function"==typeof pt.subscribe&&pt.subscribe(null,Xe);const jt=Fe,fn=`${We.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var xn=(0,f.Z)(function*(Ln){if(Ln.toLowerCase().startsWith(fn)&&Xe({url:Ln}),"function"==typeof jt)try{jt(Ln)}catch(yi){console.error(yi)}});return function(Ln){return xn.apply(this,arguments)}}()}};function Ot(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}const ht=1e3;function it(){var de;return(null===(de=self?.location)||void 0===de?void 0:de.protocol)||null}function mt(de=(0,R.z$)()){return!("file:"!==it()&&"ionic:"!==it()&&"capacitor:"!==it()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){try{const de=self.localStorage,pe=P.aL();if(de)return de.setItem(pe,"1"),de.removeItem(pe),!function Pt(de=(0,R.z$)()){return function Gt(){return(0,R.w1)()&&11===document?.documentMode}()||function Ke(de=(0,R.z$)()){return/Edge\/\d+/.test(de)}(de)}()||(0,R.hl)()}catch{return In()&&(0,R.hl)()}return!1}function In(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xn(){return(function He(){return"http:"===it()||"https:"===it()}()||(0,R.ru)()||mt())&&!function gt(){return(0,R.b$)()||(0,R.UG)()}()&&ln()&&!In()}function wt(){return mt()&&typeof document<"u"}function Ct(){return(Ct=(0,f.Z)(function*(){return!!wt()&&new Promise(de=>{const pe=setTimeout(()=>{de(!1)},ht);document.addEventListener("deviceready",()=>{clearTimeout(pe),de(!0)})})})).apply(this,arguments)}const J={LOCAL:"local",NONE:"none",SESSION:"session"},Ae=P.aA,ft="persistence";function Ht(de){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(de){yield de._initializationPromise;const pe=Te(),fe=P.aD(ft,de.config.apiKey,de.name);pe&&pe.setItem(fe,de._getPersistence())})).apply(this,arguments)}function Te(){var de;try{return(null===(de=function xe(){return typeof window<"u"?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch{return null}}const $e=P.aA;class ce{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC(Vt),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(pe){var fe=this;return(0,f.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._initialize(pe)})()}_openPopup(pe,fe,pt,Fe){var We=this;return(0,f.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(pe,fe,pt,Fe)})()}_openRedirect(pe,fe,pt,Fe){var We=this;return(0,f.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(pe,fe,pt,Fe)})()}_isIframeWebStorageSupported(pe,fe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(pe,fe)}_originValidation(pe){return this.assertedUnderlyingResolver._originValidation(pe)}get _shouldInitProactively(){return wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $e(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var pe=this;return(0,f.Z)(function*(){if(pe.underlyingResolver)return;const fe=yield function ct(){return Ct.apply(this,arguments)}();pe.underlyingResolver=fe?pe.cordovaResolver:pe.browserResolver})()}}function me(de){return de.unwrap()}function ze(de){return Sn(de)}function Sn(de){const{_tokenResponse:pe}=de instanceof R.ZR?de.customData:de;if(!pe)return null;if(!(de instanceof R.ZR)&&"temporaryProof"in pe&&"phoneNumber"in pe)return P.P.credentialFromResult(de);const fe=pe.providerId;if(!fe||fe===P.p.PASSWORD)return null;let pt;switch(fe){case P.p.GOOGLE:pt=P.V;break;case P.p.FACEBOOK:pt=P.U;break;case P.p.GITHUB:pt=P.W;break;case P.p.TWITTER:pt=P.Z;break;default:const{oauthIdToken:Fe,oauthAccessToken:We,oauthTokenSecret:be,pendingToken:Xe,nonce:jt}=pe;return We||be||Fe||Xe?Xe?fe.startsWith("saml.")?P.aO._create(fe,Xe):P.L._fromParams({providerId:fe,signInMethod:fe,pendingToken:Xe,idToken:Fe,accessToken:We}):new P.X(fe).credential({idToken:Fe,accessToken:We,rawNonce:jt}):null}return de instanceof R.ZR?pt.credentialFromError(de):pt.credentialFromResult(de)}function dn(de,pe){return pe.catch(fe=>{throw fe instanceof R.ZR&&function Tt(de,pe){var fe;const pt=null===(fe=pe.customData)||void 0===fe?void 0:fe._tokenResponse;if("auth/multi-factor-auth-required"===pe?.code)pe.resolver=new st(de,P.aq(de,pe));else if(pt){const Fe=Sn(pe),We=pe;Fe&&(We.credential=Fe,We.tenantId=pt.tenantId||void 0,We.email=pt.email||void 0,We.phoneNumber=pt.phoneNumber||void 0)}}(de,fe),fe}).then(fe=>{const Fe=fe.user;return{operationType:fe.operationType,credential:ze(fe),additionalUserInfo:P.ao(fe),user:oe.getOrCreate(Fe)}})}function ii(de,pe){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,f.Z)(function*(de,pe){const fe=yield pe;return{verificationId:fe.verificationId,confirm:pt=>dn(de,fe.confirm(pt))}})).apply(this,arguments)}class st{constructor(pe,fe){this.resolver=fe,this.auth=function yt(de){return de.wrapped()}(pe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(pe){return dn(me(this.auth),this.resolver.resolveSignIn(pe))}}class oe{constructor(pe){this._delegate=pe,this.multiFactor=P.ar(pe)}static getOrCreate(pe){return oe.USER_MAP.has(pe)||oe.USER_MAP.set(pe,new oe(pe)),oe.USER_MAP.get(pe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(pe){return this._delegate.getIdTokenResult(pe)}getIdToken(pe){return this._delegate.getIdToken(pe)}linkAndRetrieveDataWithCredential(pe){return this.linkWithCredential(pe)}linkWithCredential(pe){var fe=this;return(0,f.Z)(function*(){return dn(fe.auth,P.a0(fe._delegate,pe))})()}linkWithPhoneNumber(pe,fe){var pt=this;return(0,f.Z)(function*(){return ii(pt.auth,P.l(pt._delegate,pe,fe))})()}linkWithPopup(pe){var fe=this;return(0,f.Z)(function*(){return dn(fe.auth,P.d(fe._delegate,pe,ce))})()}linkWithRedirect(pe){var fe=this;return(0,f.Z)(function*(){return yield Ht(P.aH(fe.auth)),P.g(fe._delegate,pe,ce)})()}reauthenticateAndRetrieveDataWithCredential(pe){return this.reauthenticateWithCredential(pe)}reauthenticateWithCredential(pe){var fe=this;return(0,f.Z)(function*(){return dn(fe.auth,P.a1(fe._delegate,pe))})()}reauthenticateWithPhoneNumber(pe,fe){return ii(this.auth,P.r(this._delegate,pe,fe))}reauthenticateWithPopup(pe){return dn(this.auth,P.e(this._delegate,pe,ce))}reauthenticateWithRedirect(pe){var fe=this;return(0,f.Z)(function*(){return yield Ht(P.aH(fe.auth)),P.h(fe._delegate,pe,ce)})()}sendEmailVerification(pe){return P.ae(this._delegate,pe)}unlink(pe){var fe=this;return(0,f.Z)(function*(){return yield P.an(fe._delegate,pe),fe})()}updateEmail(pe){return P.aj(this._delegate,pe)}updatePassword(pe){return P.ak(this._delegate,pe)}updatePhoneNumber(pe){return P.u(this._delegate,pe)}updateProfile(pe){return P.ai(this._delegate,pe)}verifyBeforeUpdateEmail(pe,fe){return P.af(this._delegate,pe,fe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oe.USER_MAP=new WeakMap;const q=P.aA;let N=(()=>{class de{constructor(fe,pt){if(this.app=fe,pt.isInitialized())return this._delegate=pt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=fe.options;q(Fe,"invalid-api-key",{appName:fe.name}),q(Fe,"invalid-api-key",{appName:fe.name});const We=typeof window<"u"?ce:void 0;this._delegate=pt.initialize({options:{persistence:X(Fe,fe.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(fe){this._delegate.languageCode=fe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(fe){this._delegate.tenantId=fe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(fe,pt){P.I(this._delegate,fe,pt)}applyActionCode(fe){return P.a5(this._delegate,fe)}checkActionCode(fe){return P.a6(this._delegate,fe)}confirmPasswordReset(fe,pt){return P.a4(this._delegate,fe,pt)}createUserWithEmailAndPassword(fe,pt){var Fe=this;return(0,f.Z)(function*(){return dn(Fe._delegate,P.a8(Fe._delegate,fe,pt))})()}fetchProvidersForEmail(fe){return this.fetchSignInMethodsForEmail(fe)}fetchSignInMethodsForEmail(fe){return P.ad(this._delegate,fe)}isSignInWithEmailLink(fe){return P.ab(this._delegate,fe)}getRedirectResult(){var fe=this;return(0,f.Z)(function*(){q(Xn(),fe._delegate,"operation-not-supported-in-this-environment");const pt=yield P.j(fe._delegate,ce);return pt?dn(fe._delegate,Promise.resolve(pt)):{credential:null,user:null}})()}addFrameworkForLogging(fe){!function rt(de,pe){(0,P.aH)(de)._logFramework(pe)}(this._delegate,fe)}onAuthStateChanged(fe,pt,Fe){const{next:We,error:be,complete:Xe}=$(fe,pt,Fe);return this._delegate.onAuthStateChanged(We,be,Xe)}onIdTokenChanged(fe,pt,Fe){const{next:We,error:be,complete:Xe}=$(fe,pt,Fe);return this._delegate.onIdTokenChanged(We,be,Xe)}sendSignInLinkToEmail(fe,pt){return P.aa(this._delegate,fe,pt)}sendPasswordResetEmail(fe,pt){return P.a3(this._delegate,fe,pt||void 0)}setPersistence(fe){var pt=this;return(0,f.Z)(function*(){let Fe;switch(function Rt(de,pe){Ae(Object.values(J).includes(pe),de,"invalid-persistence-type"),(0,R.b$)()?Ae(pe!==J.SESSION,de,"unsupported-persistence-type"):(0,R.UG)()?Ae(pe===J.NONE,de,"unsupported-persistence-type"):In()?Ae(pe===J.NONE||pe===J.LOCAL&&(0,R.hl)(),de,"unsupported-persistence-type"):Ae(pe===J.NONE||ln(),de,"unsupported-persistence-type")}(pt._delegate,fe),fe){case J.SESSION:Fe=P.a;break;case J.LOCAL:Fe=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case J.NONE:Fe=P.N;break;default:return P.av("argument-error",{appName:pt._delegate.name})}return pt._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(fe){return this.signInWithCredential(fe)}signInAnonymously(){return dn(this._delegate,P._(this._delegate))}signInWithCredential(fe){return dn(this._delegate,P.$(this._delegate,fe))}signInWithCustomToken(fe){return dn(this._delegate,P.a2(this._delegate,fe))}signInWithEmailAndPassword(fe,pt){return dn(this._delegate,P.a9(this._delegate,fe,pt))}signInWithEmailLink(fe,pt){return dn(this._delegate,P.ac(this._delegate,fe,pt))}signInWithPhoneNumber(fe,pt){return ii(this._delegate,P.s(this._delegate,fe,pt))}signInWithPopup(fe){var pt=this;return(0,f.Z)(function*(){return q(Xn(),pt._delegate,"operation-not-supported-in-this-environment"),dn(pt._delegate,P.c(pt._delegate,fe,ce))})()}signInWithRedirect(fe){var pt=this;return(0,f.Z)(function*(){return q(Xn(),pt._delegate,"operation-not-supported-in-this-environment"),yield Ht(pt._delegate),P.f(pt._delegate,fe,ce)})()}updateCurrentUser(fe){return this._delegate.updateCurrentUser(fe)}verifyPasswordResetCode(fe){return P.a7(this._delegate,fe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=J,de})();function $(de,pe,fe){let pt=de;"function"!=typeof de&&({next:pt,error:pe,complete:fe}=de);const Fe=pt;return{next:be=>Fe(be&&oe.getOrCreate(be)),error:pe,complete:fe}}function X(de,pe){const fe=function Yt(de,pe){const fe=Te();if(!fe)return[];const pt=P.aD(ft,de,pe);switch(fe.getItem(pt)){case J.NONE:return[P.N];case J.LOCAL:return[P.i,P.a];case J.SESSION:return[P.a];default:return[]}}(de,pe);if(typeof self<"u"&&!fe.includes(P.i)&&fe.push(P.i),typeof window<"u")for(const pt of[P.b,P.a])fe.includes(pt)||fe.push(pt);return fe.includes(P.N)||fe.push(P.N),fe}class Se{constructor(){this.providerId="phone",this._delegate=new P.P(me(O.Z.auth()))}static credential(pe,fe){return P.P.credential(pe,fe)}verifyPhoneNumber(pe,fe){return this._delegate.verifyPhoneNumber(pe,fe)}unwrap(){return this._delegate}}Se.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Se.PROVIDER_ID=P.P.PROVIDER_ID;const Wt=P.aA;class Jt{constructor(pe,fe,pt=O.Z.app()){var Fe;Wt(null===(Fe=pt.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:pt.name}),this._delegate=new P.R(pe,fe,pt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Le(de){de.INTERNAL.registerComponent(new je.wA("auth-compat",pe=>{const fe=pe.getProvider("app-compat").getImmediate(),pt=pe.getProvider("auth");return new N(fe,pt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:Se,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Jt,TwitterAuthProvider:P.Z,Auth:N,AuthCredential:P.J,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.4.2")}(O.Z)},5861:(vn,ot,x)=>{function f(P,R,ae,Pe,je,ye,Ge){try{var ie=P[ye](Ge),ge=ie.value}catch(le){return void ae(le)}ie.done?R(ge):Promise.resolve(ge).then(Pe,je)}function O(P){return function(){var R=this,ae=arguments;return new Promise(function(Pe,je){var ye=P.apply(R,ae);function Ge(ge){f(ye,Pe,je,Ge,ie,"next",ge)}function ie(ge){f(ye,Pe,je,Ge,ie,"throw",ge)}Ge(void 0)})}}x.d(ot,{Z:()=>O})},7582:(vn,ot,x)=>{function R(zt,Mt){var Bt={};for(var Vt in zt)Object.prototype.hasOwnProperty.call(zt,Vt)&&Mt.indexOf(Vt)<0&&(Bt[Vt]=zt[Vt]);if(null!=zt&&"function"==typeof Object.getOwnPropertySymbols){var Ot=0;for(Vt=Object.getOwnPropertySymbols(zt);Ot<Vt.length;Ot++)Mt.indexOf(Vt[Ot])<0&&Object.prototype.propertyIsEnumerable.call(zt,Vt[Ot])&&(Bt[Vt[Ot]]=zt[Vt[Ot]])}return Bt}function le(zt,Mt,Bt,Vt){return new(Bt||(Bt=Promise))(function(rt,dt){function Ne(He){try{it(Vt.next(He))}catch(mt){dt(mt)}}function ht(He){try{it(Vt.throw(He))}catch(mt){dt(mt)}}function it(He){He.done?rt(He.value):function Ot(rt){return rt instanceof Bt?rt:new Bt(function(dt){dt(rt)})}(He.value).then(Ne,ht)}it((Vt=Vt.apply(zt,Mt||[])).next())})}function Ye(zt){return this instanceof Ye?(this.v=zt,this):new Ye(zt)}function Re(zt,Mt,Bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot,Vt=Bt.apply(zt,Mt||[]),rt=[];return Ot={},dt("next"),dt("throw"),dt("return"),Ot[Symbol.asyncIterator]=function(){return this},Ot;function dt(gt){Vt[gt]&&(Ot[gt]=function(Gt){return new Promise(function(Ke,Pt){rt.push([gt,Gt,Ke,Pt])>1||Ne(gt,Gt)})})}function Ne(gt,Gt){try{!function ht(gt){gt.value instanceof Ye?Promise.resolve(gt.value.v).then(it,He):mt(rt[0][2],gt)}(Vt[gt](Gt))}catch(Ke){mt(rt[0][3],Ke)}}function it(gt){Ne("next",gt)}function He(gt){Ne("throw",gt)}function mt(gt,Gt){gt(Gt),rt.shift(),rt.length&&Ne(rt[0][0],rt[0][1])}}function lt(zt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Bt,Mt=zt[Symbol.asyncIterator];return Mt?Mt.call(zt):(zt=function bt(zt){var Mt="function"==typeof Symbol&&Symbol.iterator,Bt=Mt&&zt[Mt],Vt=0;if(Bt)return Bt.call(zt);if(zt&&"number"==typeof zt.length)return{next:function(){return zt&&Vt>=zt.length&&(zt=void 0),{value:zt&&zt[Vt++],done:!zt}}};throw new TypeError(Mt?"Object is not iterable.":"Symbol.iterator is not defined.")}(zt),Bt={},Vt("next"),Vt("throw"),Vt("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt);function Vt(rt){Bt[rt]=zt[rt]&&function(dt){return new Promise(function(Ne,ht){!function Ot(rt,dt,Ne,ht){Promise.resolve(ht).then(function(it){rt({value:it,done:Ne})},dt)}(Ne,ht,(dt=zt[rt](dt)).done,dt.value)})}}}x.d(ot,{FC:()=>Re,KL:()=>lt,_T:()=>R,mG:()=>le,qq:()=>Ye})}},vn=>{var ot=f=>vn(vn.s=f);ot(1321),ot(9336)}]);