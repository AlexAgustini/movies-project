"use strict";(self.webpackChunkmovies_project=self.webpackChunkmovies_project||[]).push([[179],{2313:(pn,at,T)=>{T.d(at,{nm:()=>ki});var f=T(4976),ce=(T(4650),T(3692),T(259),T(5861)),Fe=T(6881),Ue=T(4859),_e=T(2090),Ke=T(1877);const oe=new Map,ge={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function Le(Ct){return oe.get(Ct)||Object.assign({},ge)}function Je(){return ye}const gt="https://content-firebaseappcheck.googleapis.com/v1",Pe="exchangeDebugToken",kt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ae{constructor(dt,yt,cn,In,ii){if(this.operation=dt,this.retryPolicy=yt,this.getWaitDuration=cn,this.lowerBound=In,this.upperBound=ii,this.pending=null,this.nextErrorWaitInterval=In,In>ii)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(dt){var yt=this;return(0,ce.Z)(function*(){yt.stop();try{yt.pending=new _e.BH,yield function qe(Ct){return new Promise(dt=>{setTimeout(dt,Ct)})}(yt.getNextRun(dt)),yt.pending.resolve(),yield yt.pending.promise,yt.pending=new _e.BH,yield yt.operation(),yt.pending.resolve(),yield yt.pending.promise,yt.process(!0).catch(()=>{})}catch(cn){yt.retryPolicy(cn)?yt.process(!1).catch(()=>{}):yt.stop()}})()}getNextRun(dt){if(dt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const yt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),yt}}}const It=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xt(Ct){if(!Le(Ct).activated)throw It.create("use-before-activation",{appName:Ct.name})}function En(Ct,dt){return gn.apply(this,arguments)}function gn(){return(gn=(0,ce.Z)(function*({url:Ct,body:dt},yt){const cn={"Content-Type":"application/json"},In=yt.getImmediate({optional:!0});if(In){const Lr=yield In.getHeartbeatsHeader();Lr&&(cn["X-Firebase-Client"]=Lr)}const ii={method:"POST",body:JSON.stringify(dt),headers:cn};let Ei,di;try{Ei=yield fetch(Ct,ii)}catch(Lr){throw It.create("fetch-network-error",{originalErrorMessage:Lr?.message})}if(200!==Ei.status)throw It.create("fetch-status-error",{httpStatus:Ei.status});try{di=yield Ei.json()}catch(Lr){throw It.create("fetch-parse-error",{originalErrorMessage:Lr?.message})}const zi=di.ttl.match(/^([\d.]+)(s)$/);if(!zi||!zi[2]||isNaN(Number(zi[1])))throw It.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${di.ttl}`});const ys=1e3*Number(zi[1]),Fr=Date.now();return{token:di.token,expireTimeMillis:Fr+ys,issuedAtTimeMillis:Fr}})).apply(this,arguments)}function Dt(Ct,dt){const{projectId:yt,appId:cn,apiKey:In}=Ct.options;return{url:`${gt}/projects/${yt}/apps/${cn}:${Pe}?key=${In}`,body:{debug_token:dt}}}const Bt="firebase-app-check-database",Vt=1,Tt="firebase-app-check-store";let lt=null;function mt(Ct,dt){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,ce.Z)(function*(Ct,dt){const cn=(yield function Be(){return lt||(lt=new Promise((Ct,dt)=>{try{const yt=indexedDB.open(Bt,Vt);yt.onsuccess=cn=>{Ct(cn.target.result)},yt.onerror=cn=>{var In;dt(It.create("storage-open",{originalErrorMessage:null===(In=cn.target.error)||void 0===In?void 0:In.message}))},yt.onupgradeneeded=cn=>{0===cn.oldVersion&&cn.target.result.createObjectStore(Tt,{keyPath:"compositeKey"})}}catch(yt){dt(It.create("storage-open",{originalErrorMessage:yt?.message}))}}),lt)}()).transaction(Tt,"readwrite"),ii=cn.objectStore(Tt).put({compositeKey:Ct,value:dt});return new Promise((Ei,di)=>{ii.onsuccess=zi=>{Ei()},cn.onerror=zi=>{var ys;di(It.create("storage-set",{originalErrorMessage:null===(ys=zi.target.error)||void 0===ys?void 0:ys.message}))}})})).apply(this,arguments)}const Cn=new Ke.Yd("@firebase/app-check");function rt(Ct,dt){return(0,_e.hl)()?function it(Ct,dt){return mt(function on(Ct){return`${Ct.options.appId}-${Ct.name}`}(Ct),dt)}(Ct,dt).catch(yt=>{Cn.warn(`Failed to write token to IndexedDB. Error: ${yt}`)}):Promise.resolve()}function ne(){return Je().enabled}function Oe(){return ut.apply(this,arguments)}function ut(){return(ut=(0,ce.Z)(function*(){const Ct=Je();if(Ct.enabled&&Ct.token)return Ct.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zt={error:"UNKNOWN_ERROR"};function _t(Ct){return _e.US.encodeString(JSON.stringify(Ct),!1)}function Zt(Ct){return Me.apply(this,arguments)}function Me(){return(Me=(0,ce.Z)(function*(Ct,dt=!1){const yt=Ct.app;Xt(yt);const cn=Le(yt);let ii,In=cn.token;if(In&&!fn(In)&&(cn.token=void 0,In=void 0),!In){const zi=yield cn.cachedTokenPromise;zi&&(fn(zi)?In=zi:yield rt(yt,void 0))}if(!dt&&In&&fn(In))return{token:In.token};let di,Ei=!1;if(ne()){cn.exchangeTokenPromise||(cn.exchangeTokenPromise=En(Dt(yt,yield Oe()),Ct.heartbeatServiceProvider).finally(()=>{cn.exchangeTokenPromise=void 0}),Ei=!0);const zi=yield cn.exchangeTokenPromise;return yield rt(yt,zi),cn.token=zi,{token:zi.token}}try{cn.exchangeTokenPromise||(cn.exchangeTokenPromise=cn.provider.getToken().finally(()=>{cn.exchangeTokenPromise=void 0}),Ei=!0),In=yield Le(yt).exchangeTokenPromise}catch(zi){"appCheck/throttled"===zi.code?Cn.warn(zi.message):Cn.error(zi),ii=zi}return In?ii?di=fn(In)?{token:In.token,internalError:ii}:Zn(ii):(di={token:In.token},cn.token=In,yield rt(yt,In)):di=Zn(ii),Ei&&function xn(Ct,dt){const yt=Le(Ct).tokenObservers;for(const cn of yt)try{"EXTERNAL"===cn.type&&null!=dt.error?cn.error(dt.error):cn.next(dt)}catch{}}(yt,di),di})).apply(this,arguments)}function $e(Ct){return he.apply(this,arguments)}function he(){return(he=(0,ce.Z)(function*(Ct){const dt=Ct.app;Xt(dt);const{provider:yt}=Le(dt);if(ne()){const cn=yield Oe(),{token:In}=yield En(Dt(dt,cn),Ct.heartbeatServiceProvider);return{token:In}}{const{token:cn}=yield yt.getToken();return{token:cn}}})).apply(this,arguments)}function ft(Ct,dt){const yt=Le(Ct),cn=yt.tokenObservers.filter(In=>In.next!==dt);0===cn.length&&yt.tokenRefresher&&yt.tokenRefresher.isRunning()&&yt.tokenRefresher.stop(),yt.tokenObservers=cn}function je(Ct){const{app:dt}=Ct,yt=Le(dt);let cn=yt.tokenRefresher;cn||(cn=function wt(Ct){const{app:dt}=Ct;return new Ae((0,ce.Z)(function*(){let cn;if(cn=Le(dt).token?yield Zt(Ct,!0):yield Zt(Ct),cn.error)throw cn.error;if(cn.internalError)throw cn.internalError}),()=>!0,()=>{const yt=Le(dt);if(yt.token){let cn=yt.token.issuedAtTimeMillis+.5*(yt.token.expireTimeMillis-yt.token.issuedAtTimeMillis)+3e5;return cn=Math.min(cn,yt.token.expireTimeMillis-3e5),Math.max(0,cn-Date.now())}return 0},kt.RETRIAL_MIN_WAIT,kt.RETRIAL_MAX_WAIT)}(Ct),yt.tokenRefresher=cn),!cn.isRunning()&&yt.isTokenAutoRefreshEnabled&&cn.start()}function fn(Ct){return Ct.expireTimeMillis-Date.now()>0}function Zn(Ct){return{token:_t(zt),error:Ct}}class Wn{constructor(dt,yt){this.app=dt,this.heartbeatServiceProvider=yt}_delete(){const{tokenObservers:dt}=Le(this.app);for(const yt of dt)ft(this.app,yt.next);return Promise.resolve()}}const zn="app-check-internal";!function Jn(){(0,Fe._registerComponent)(new Ue.wA("app-check",Ct=>function ni(Ct,dt){return new Wn(Ct,dt)}(Ct.getProvider("app").getImmediate(),Ct.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ct,dt,yt)=>{Ct.getProvider(zn).initialize()})),(0,Fe._registerComponent)(new Ue.wA(zn,Ct=>function Ft(Ct){return{getToken:dt=>Zt(Ct,dt),getLimitedUseToken:()=>$e(Ct),addTokenListener:dt=>function ve(Ct,dt,yt,cn){const{app:In}=Ct,ii=Le(In);if(ii.tokenObservers=[...ii.tokenObservers,{next:yt,error:cn,type:dt}],ii.token&&fn(ii.token)){const di=ii.token;Promise.resolve().then(()=>{yt({token:di.token}),je(Ct)}).catch(()=>{})}ii.cachedTokenPromise.then(()=>je(Ct))}(Ct,"INTERNAL",dt),removeTokenListener:dt=>ft(Ct.app,dt)}}(Ct.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)("@firebase/app-check","0.8.0")}();class ki{constructor(){return(0,f.vb)("app-check")}}typeof window<"u"&&window},3692:(pn,at,T)=>{T.d(at,{Ot:()=>me,ZF:()=>tt,hX:()=>Le,z6:()=>ce});var f=T(259),R=T(4650),E=T(4976);class me{constructor(Ae){return Ae}}class ce{constructor(){return(0,f.C6)()}}const _e=new R.OlP("angularfire2._apps"),Ke={provide:me,useFactory:function Ue(Qe){return Qe&&1===Qe.length?Qe[0]:new me((0,f.Mq)())},deps:[[new R.FiY,_e]]},oe={provide:ce,deps:[[new R.FiY,_e]]};function ge(Qe){return(Ae,qe)=>{const Nt=Ae.runOutsideAngular(()=>Qe(qe));return new me(Nt)}}let ye=(()=>{class Qe{constructor(qe){(0,f.KN)("angularfire",E.q4.full,"core"),(0,f.KN)("angularfire",E.q4.full,"app"),(0,f.KN)("angular",R.q4F.full,qe.toString())}}return Qe.\u0275fac=function(qe){return new(qe||Qe)(R.LFG(R.Lbi))},Qe.\u0275mod=R.oAB({type:Qe}),Qe.\u0275inj=R.cJS({providers:[Ke,oe]}),Qe})();function Le(Qe,...Ae){return{ngModule:ye,providers:[{provide:_e,useFactory:ge(Qe),multi:!0,deps:[R.R0b,R.zs3,E.HU,...Ae]}]}}const tt=(0,E.u3)(f.ZF,!0)},1205:(pn,at,T)=>{T.d(at,{zQ:()=>si,rT:()=>yn,f7:()=>En,L6:()=>Ye,_Q:()=>Xt,lh:()=>sn,Qv:()=>It,nw:()=>gn});var f=T(4650),R=T(7579),E=T(9646),me=T(9751),ce=T(8996),Fe=T(6451),Ue=T(5363),_e=T(3900),Ke=T(4004),oe=T(6063);class ge extends R.x{constructor(Bt=1/0,Vt=1/0,Tt=oe.l){super(),this._bufferSize=Bt,this._windowTime=Vt,this._timestampProvider=Tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Vt===1/0,this._bufferSize=Math.max(1,Bt),this._windowTime=Math.max(1,Vt)}next(Bt){const{isStopped:Vt,_buffer:Tt,_infiniteTimeWindow:nt,_timestampProvider:lt,_windowTime:Be}=this;Vt||(Tt.push(Bt),!nt&&Tt.push(lt.now()+Be)),this._trimBuffer(),super.next(Bt)}_subscribe(Bt){this._throwIfClosed(),this._trimBuffer();const Vt=this._innerSubscribe(Bt),{_infiniteTimeWindow:Tt,_buffer:nt}=this,lt=nt.slice();for(let Be=0;Be<lt.length&&!Bt.closed;Be+=Tt?1:2)Bt.next(lt[Be]);return this._checkFinalizedStatuses(Bt),Vt}_trimBuffer(){const{_bufferSize:Bt,_timestampProvider:Vt,_buffer:Tt,_infiniteTimeWindow:nt}=this,lt=(nt?1:2)*Bt;if(Bt<1/0&&lt<Tt.length&&Tt.splice(0,Tt.length-lt),!nt){const Be=Vt.now();let ct=0;for(let it=1;it<Tt.length&&Tt[it]<=Be;it+=2)ct=it;ct&&Tt.splice(0,ct+1)}}}var ye=T(3099);function Le(Dt,Bt,Vt){let Tt,nt=!1;return Dt&&"object"==typeof Dt?({bufferSize:Tt=1/0,windowTime:Bt=1/0,refCount:nt=!1,scheduler:Vt}=Dt):Tt=Dt??1/0,(0,ye.B)({connector:()=>new ge(Tt,Bt,Vt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:nt})}var We=T(590),Je=T(576);function gt(Dt,Bt){return(0,Je.m)(Bt)?(0,_e.w)(()=>Dt,Bt):(0,_e.w)(()=>Dt)}var tt=T(9468),Ge=T(9300),Pe=T(4976),kt=T(2011),Qe=T(6895),Ae=T(2313);T(9260);const It=new f.OlP("angularfire2.auth.use-emulator"),Ye=new f.OlP("angularfire2.auth.settings"),Xt=new f.OlP("angularfire2.auth.tenant-id"),yn=new f.OlP("angularfire2.auth.langugage-code"),sn=new f.OlP("angularfire2.auth.use-device-language"),En=new f.OlP("angularfire.auth.persistence"),gn=(Dt,Bt,Vt,Tt,nt,lt,Be,ct)=>(0,kt.cc)(`${Dt.name}.auth`,"AngularFireAuth",Dt.name,()=>{const it=Bt.runOutsideAngular(()=>Dt.auth());if(Vt&&it.useEmulator(...Vt),Tt&&(it.tenantId=Tt),it.languageCode=nt,lt&&it.useDeviceLanguage(),Be)for(const[He,ht]of Object.entries(Be))it.settings[He]=ht;return ct&&it.setPersistence(ct),it},[Vt,Tt,nt,lt,Be,ct]);let si=(()=>{class Dt{constructor(Vt,Tt,nt,lt,Be,ct,it,He,ht,mt,Ht,Ze){const At=new R.x,on=(0,E.of)(void 0).pipe((0,Ue.Q)(Be.outsideAngular),(0,_e.w)(()=>lt.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,9568)))),(0,Ke.U)(()=>(0,kt.on)(Vt,lt,Tt)),(0,Ke.U)(Cn=>gn(Cn,lt,ct,He,ht,mt,it,Ht)),Le({bufferSize:1,refCount:!1}));if((0,Qe.PM)(nt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,E.of)(null);else{on.pipe((0,We.P)()).subscribe();const qn=on.pipe((0,_e.w)(Et=>Et.getRedirectResult().then(Te=>Te,()=>null)),Pe.iC,Le({bufferSize:1,refCount:!1})),bt=on.pipe((0,_e.w)(Et=>new me.y(Te=>({unsubscribe:lt.runOutsideAngular(()=>Et.onAuthStateChanged(ne=>Te.next(ne),ne=>Te.error(ne),()=>Te.complete()))})))),rt=on.pipe((0,_e.w)(Et=>new me.y(Te=>({unsubscribe:lt.runOutsideAngular(()=>Et.onIdTokenChanged(ne=>Te.next(ne),ne=>Te.error(ne),()=>Te.complete()))}))));this.authState=qn.pipe(gt(bt),(0,tt.R)(Be.outsideAngular),(0,Ue.Q)(Be.insideAngular)),this.user=qn.pipe(gt(rt),(0,tt.R)(Be.outsideAngular),(0,Ue.Q)(Be.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Et=>Et?(0,ce.D)(Et.getIdToken()):(0,E.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Et=>Et?(0,ce.D)(Et.getIdTokenResult()):(0,E.of)(null))),this.credential=(0,Fe.T)(qn,At,this.authState.pipe((0,Ge.h)(Et=>!Et))).pipe((0,Ke.U)(Et=>Et?.user?Et:null),(0,tt.R)(Be.outsideAngular),(0,Ue.Q)(Be.insideAngular))}return(0,kt.pX)(this,on,lt,{spy:{apply:(Cn,qn,bt)=>{(Cn.startsWith("signIn")||Cn.startsWith("createUser"))&&bt.then(rt=>At.next(rt))}}})}}return Dt.\u0275fac=function(Vt){return new(Vt||Dt)(f.LFG(kt.Dh),f.LFG(kt.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Pe.HU),f.LFG(It,8),f.LFG(Ye,8),f.LFG(Xt,8),f.LFG(yn,8),f.LFG(sn,8),f.LFG(En,8),f.LFG(Ae.nm,8))},Dt.\u0275prov=f.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"any"}),Dt})()},7977:(pn,at,T)=>{T.d(at,{ST:()=>ni});var f=T(4650),R=T(4986),E=T(9751),me=T(8996),ce=T(9646),Fe=T(4976),Ue=T(8675),_e=T(4482),Ke=T(5403);function oe(){return(0,_e.e)((Re,H)=>{let X,ae=!1;Re.subscribe((0,Ke.x)(H,Ne=>{const $t=X;X=Ne,ae&&H.next([$t,Ne]),ae=!0}))})}var ge=T(4004),ye=T(5026),Le=T(1884),We=T(9300),Je=T(2011),gt=T(6895),Ge=(T(9568),T(3942)),Pe=T(2810),kt=T(2090),Qe=T(4859);function Nt(Re,H){if(void 0===H)return{merge:!1};if(void 0!==H.mergeFields&&void 0!==H.merge)throw new Pe.WA("invalid-argument",`Invalid options passed to function ${Re}(): You cannot specify both "merge" and "mergeFields".`);return H}function It(){if(typeof Uint8Array>"u")throw new Pe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ye(){if(!(0,Pe.Me)())throw new Pe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Xt{constructor(H){this._delegate=H}static fromBase64String(H){return Ye(),new Xt(Pe.Jj.fromBase64String(H))}static fromUint8Array(H){return It(),new Xt(Pe.Jj.fromUint8Array(H))}toBase64(){return Ye(),this._delegate.toBase64()}toUint8Array(){return It(),this._delegate.toUint8Array()}isEqual(H){return this._delegate.isEqual(H._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yn(Re){return function sn(Re,H){if("object"!=typeof Re||null===Re)return!1;const X=Re;for(const ae of H)if(ae in X&&"function"==typeof X[ae])return!0;return!1}(Re,["next","error","complete"])}class En{enableIndexedDbPersistence(H,X){return(0,Pe.ST)(H._delegate,{forceOwnership:X})}enableMultiTabIndexedDbPersistence(H){return(0,Pe.fH)(H._delegate)}clearIndexedDbPersistence(H){return(0,Pe.Fc)(H._delegate)}}class gn{constructor(H,X,ae){this._delegate=X,this._persistenceProvider=ae,this.INTERNAL={delete:()=>this.terminate()},H instanceof Pe.l7||(this._appCompat=H)}get _databaseId(){return this._delegate._databaseId}settings(H){const X=this._delegate._getSettings();!H.merge&&X.host!==H.host&&(0,Pe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),H.merge&&delete(H=Object.assign(Object.assign({},X),H)).merge,this._delegate._setSettings(H)}useEmulator(H,X,ae={}){(0,Pe.at)(this._delegate,H,X,ae)}enableNetwork(){return(0,Pe.Ix)(this._delegate)}disableNetwork(){return(0,Pe.TF)(this._delegate)}enablePersistence(H){let X=!1,ae=!1;return H&&(X=!!H.synchronizeTabs,ae=!!H.experimentalForceOwningTab,(0,Pe.Wi)("synchronizeTabs",X,"experimentalForceOwningTab",ae)),X?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ae)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Pe.Mx)(this._delegate)}onSnapshotsInSync(H){return(0,Pe.sc)(this._delegate,H)}get app(){if(!this._appCompat)throw new Pe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(H){try{return new Ht(this,(0,Pe.hJ)(this._delegate,H))}catch(X){throw nt(X,"collection()","Firestore.collection()")}}doc(H){try{return new Tt(this,(0,Pe.JU)(this._delegate,H))}catch(X){throw nt(X,"doc()","Firestore.doc()")}}collectionGroup(H){try{return new He(this,(0,Pe.B$)(this._delegate,H))}catch(X){throw nt(X,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(H){return(0,Pe.i3)(this._delegate,X=>H(new Dt(this,X)))}batch(){return(0,Pe.qY)(this._delegate),new Bt(new Pe.PU(this._delegate,H=>(0,Pe.GL)(this._delegate,H)))}loadBundle(H){return(0,Pe.Pb)(this._delegate,H)}namedQuery(H){return(0,Pe.L$)(this._delegate,H).then(X=>X?new He(this,X):null)}}class si extends Pe.u7{constructor(H){super(),this.firestore=H}convertBytes(H){return new Xt(new Pe.Jj(H))}convertReference(H){const X=this.convertDocumentKey(H,this.firestore._databaseId);return Tt.forKey(X,this.firestore,null)}}class Dt{constructor(H,X){this._firestore=H,this._delegate=X,this._userDataWriter=new si(H)}get(H){const X=Ze(H);return this._delegate.get(X).then(ae=>new ct(this._firestore,new Pe.xU(this._firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,X.converter)))}set(H,X,ae){const Ne=Ze(H);return ae?(Nt("Transaction.set",ae),this._delegate.set(Ne,X,ae)):this._delegate.set(Ne,X),this}update(H,X,ae,...Ne){const $t=Ze(H);return 2===arguments.length?this._delegate.update($t,X):this._delegate.update($t,X,ae,...Ne),this}delete(H){const X=Ze(H);return this._delegate.delete(X),this}}class Bt{constructor(H){this._delegate=H}set(H,X,ae){const Ne=Ze(H);return ae?(Nt("WriteBatch.set",ae),this._delegate.set(Ne,X,ae)):this._delegate.set(Ne,X),this}update(H,X,ae,...Ne){const $t=Ze(H);return 2===arguments.length?this._delegate.update($t,X):this._delegate.update($t,X,ae,...Ne),this}delete(H){const X=Ze(H);return this._delegate.delete(X),this}commit(){return this._delegate.commit()}}class Vt{constructor(H,X,ae){this._firestore=H,this._userDataWriter=X,this._delegate=ae}fromFirestore(H,X){const ae=new Pe.$q(this._firestore._delegate,this._userDataWriter,H._key,H._document,H.metadata,null);return this._delegate.fromFirestore(new it(this._firestore,ae),X??{})}toFirestore(H,X){return X?this._delegate.toFirestore(H,X):this._delegate.toFirestore(H)}static getInstance(H,X){const ae=Vt.INSTANCES;let Ne=ae.get(H);Ne||(Ne=new WeakMap,ae.set(H,Ne));let $t=Ne.get(X);return $t||($t=new Vt(H,new si(H),X),Ne.set(X,$t)),$t}}Vt.INSTANCES=new WeakMap;class Tt{constructor(H,X){this.firestore=H,this._delegate=X,this._userDataWriter=new si(H)}static forPath(H,X,ae){if(H.length%2!=0)throw new Pe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${H.canonicalString()} has ${H.length}`);return new Tt(X,new Pe.my(X._delegate,ae,new Pe.Ky(H)))}static forKey(H,X,ae){return new Tt(X,new Pe.my(X._delegate,ae,H))}get id(){return this._delegate.id}get parent(){return new Ht(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(H){try{return new Ht(this.firestore,(0,Pe.hJ)(this._delegate,H))}catch(X){throw nt(X,"collection()","DocumentReference.collection()")}}isEqual(H){return(H=(0,kt.m9)(H))instanceof Pe.my&&(0,Pe.Eo)(this._delegate,H)}set(H,X){X=Nt("DocumentReference.set",X);try{return X?(0,Pe.pl)(this._delegate,H,X):(0,Pe.pl)(this._delegate,H)}catch(ae){throw nt(ae,"setDoc()","DocumentReference.set()")}}update(H,X,...ae){try{return 1===arguments.length?(0,Pe.r7)(this._delegate,H):(0,Pe.r7)(this._delegate,H,X,...ae)}catch(Ne){throw nt(Ne,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Pe.oe)(this._delegate)}onSnapshot(...H){const X=lt(H),ae=Be(H,Ne=>new ct(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,Ne._key,Ne._document,Ne.metadata,this._delegate.converter)));return(0,Pe.cf)(this._delegate,X,ae)}get(H){let X;return X="cache"===H?.source?(0,Pe.kl)(this._delegate):"server"===H?.source?(0,Pe.Xk)(this._delegate):(0,Pe.QT)(this._delegate),X.then(ae=>new ct(this.firestore,new Pe.xU(this.firestore._delegate,this._userDataWriter,ae._key,ae._document,ae.metadata,this._delegate.converter)))}withConverter(H){return new Tt(this.firestore,this._delegate.withConverter(H?Vt.getInstance(this.firestore,H):null))}}function nt(Re,H,X){return Re.message=Re.message.replace(H,X),Re}function lt(Re){for(const H of Re)if("object"==typeof H&&!yn(H))return H;return{}}function Be(Re,H){var X,ae;let Ne;return Ne=yn(Re[0])?Re[0]:yn(Re[1])?Re[1]:"function"==typeof Re[0]?{next:Re[0],error:Re[1],complete:Re[2]}:{next:Re[1],error:Re[2],complete:Re[3]},{next:$t=>{Ne.next&&Ne.next(H($t))},error:null===(X=Ne.error)||void 0===X?void 0:X.bind(Ne),complete:null===(ae=Ne.complete)||void 0===ae?void 0:ae.bind(Ne)}}class ct{constructor(H,X){this._firestore=H,this._delegate=X}get ref(){return new Tt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(H){return this._delegate.data(H)}get(H,X){return this._delegate.get(H,X)}isEqual(H){return(0,Pe.qK)(this._delegate,H._delegate)}}class it extends ct{data(H){const X=this._delegate.data(H);return(0,Pe.K9)(void 0!==X,"Document in a QueryDocumentSnapshot should exist"),X}}class He{constructor(H,X){this.firestore=H,this._delegate=X,this._userDataWriter=new si(H)}where(H,X,ae){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.ar)(H,X,ae)))}catch(Ne){throw nt(Ne,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(H,X){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Xo)(H,X)))}catch(ae){throw nt(ae,/(orderBy|where)\(\)/,"Query.$1()")}}limit(H){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.b9)(H)))}catch(X){throw nt(X,"limit()","Query.limit()")}}limitToLast(H){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.vh)(H)))}catch(X){throw nt(X,"limitToLast()","Query.limitToLast()")}}startAt(...H){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.e0)(...H)))}catch(X){throw nt(X,"startAt()","Query.startAt()")}}startAfter(...H){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.TQ)(...H)))}catch(X){throw nt(X,"startAfter()","Query.startAfter()")}}endBefore(...H){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Lx)(...H)))}catch(X){throw nt(X,"endBefore()","Query.endBefore()")}}endAt(...H){try{return new He(this.firestore,(0,Pe.IO)(this._delegate,(0,Pe.Wu)(...H)))}catch(X){throw nt(X,"endAt()","Query.endAt()")}}isEqual(H){return(0,Pe.iE)(this._delegate,H._delegate)}get(H){let X;return X="cache"===H?.source?(0,Pe.UQ)(this._delegate):"server"===H?.source?(0,Pe.zN)(this._delegate):(0,Pe.PL)(this._delegate),X.then(ae=>new mt(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,ae._snapshot)))}onSnapshot(...H){const X=lt(H),ae=Be(H,Ne=>new mt(this.firestore,new Pe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ne._snapshot)));return(0,Pe.cf)(this._delegate,X,ae)}withConverter(H){return new He(this.firestore,this._delegate.withConverter(H?Vt.getInstance(this.firestore,H):null))}}class ht{constructor(H,X){this._firestore=H,this._delegate=X}get type(){return this._delegate.type}get doc(){return new it(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mt{constructor(H,X){this._firestore=H,this._delegate=X}get query(){return new He(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(H=>new it(this._firestore,H))}docChanges(H){return this._delegate.docChanges(H).map(X=>new ht(this._firestore,X))}forEach(H,X){this._delegate.forEach(ae=>{H.call(X,new it(this._firestore,ae))})}isEqual(H){return(0,Pe.qK)(this._delegate,H._delegate)}}class Ht extends He{constructor(H,X){super(H,X),this.firestore=H,this._delegate=X}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const H=this._delegate.parent;return H?new Tt(this.firestore,H):null}doc(H){try{return new Tt(this.firestore,void 0===H?(0,Pe.JU)(this._delegate):(0,Pe.JU)(this._delegate,H))}catch(X){throw nt(X,"doc()","CollectionReference.doc()")}}add(H){return(0,Pe.ET)(this._delegate,H).then(X=>new Tt(this.firestore,X))}isEqual(H){return(0,Pe.Eo)(this._delegate,H._delegate)}withConverter(H){return new Ht(this.firestore,this._delegate.withConverter(H?Vt.getInstance(this.firestore,H):null))}}function Ze(Re){return(0,Pe.Cf)(Re,Pe.my)}class At{constructor(...H){this._delegate=new Pe.Lz(...H)}static documentId(){return new At(Pe.Xb.keyField().canonicalString())}isEqual(H){return(H=(0,kt.m9)(H))instanceof Pe.Lz&&this._delegate._internalPath.isEqual(H._internalPath)}}class on{constructor(H){this._delegate=H}static serverTimestamp(){const H=(0,Pe.Bt)();return H._methodName="FieldValue.serverTimestamp",new on(H)}static delete(){const H=(0,Pe.AK)();return H._methodName="FieldValue.delete",new on(H)}static arrayUnion(...H){const X=(0,Pe.vr)(...H);return X._methodName="FieldValue.arrayUnion",new on(X)}static arrayRemove(...H){const X=(0,Pe.Ab)(...H);return X._methodName="FieldValue.arrayRemove",new on(X)}static increment(H){const X=(0,Pe.nP)(H);return X._methodName="FieldValue.increment",new on(X)}isEqual(H){return this._delegate.isEqual(H._delegate)}}const Cn={Firestore:gn,GeoPoint:Pe.F8,Timestamp:Pe.EK,Blob:Xt,Transaction:Dt,WriteBatch:Bt,DocumentReference:Tt,DocumentSnapshot:ct,Query:He,QueryDocumentSnapshot:it,QuerySnapshot:mt,CollectionReference:Ht,FieldPath:At,FieldValue:on,setLogLevel:function Ut(Re){(0,Pe.Ub)(Re)},CACHE_SIZE_UNLIMITED:Pe.IX};!function bt(Re){(function qn(Re,H){Re.INTERNAL.registerComponent(new Qe.wA("firestore-compat",X=>{const ae=X.getProvider("app-compat").getImmediate(),Ne=X.getProvider("firestore").getImmediate();return H(ae,Ne)},"PUBLIC").setServiceProps(Object.assign({},Cn)))})(Re,(H,X)=>new gn(H,X,new En)),Re.registerVersion("@firebase/firestore-compat","0.3.10")}(Ge.Z);var rt=T(1205),Et=T(2313);function Oe(Re,H){return function ne(Re,H=R.z){return new E.y(X=>{let ae;return null!=H?H.schedule(()=>{ae=Re.onSnapshot({includeMetadataChanges:!0},X)}):ae=Re.onSnapshot({includeMetadataChanges:!0},X),()=>{ae?.()}})}(Re,H)}function Pt(Re,H){return Oe(Re,H).pipe((0,ge.U)(X=>({payload:X,type:"query"})))}function zt(Re,H){return Pt(Re,H).pipe((0,Ue.O)(void 0),oe(),(0,ge.U)(([X,ae])=>{const Ne=ae.payload.docChanges(),$t=Ne.map(Jt=>({type:Jt.type,payload:Jt}));return X&&JSON.stringify(X.payload.metadata)!==JSON.stringify(ae.payload.metadata)&&ae.payload.docs.forEach((Jt,Ve)=>{const ze=Ne.find(fe=>fe.doc.ref.isEqual(Jt.ref)),ue=X?.payload.docs.find(fe=>fe.ref.isEqual(Jt.ref));ze&&JSON.stringify(ze.doc.metadata)===JSON.stringify(Jt.metadata)||!ze&&ue&&JSON.stringify(ue.metadata)===JSON.stringify(Jt.metadata)||$t.push({type:"modified",payload:{oldIndex:Ve,newIndex:Ve,type:"modified",doc:Jt}})}),$t}))}function _t(Re,H,X){return zt(Re,X).pipe((0,ye.R)((ae,Ne)=>function Zt(Re,H,X){return H.forEach(ae=>{X.indexOf(ae.type)>-1&&(Re=function $e(Re,H){switch(H.type){case"added":if(!Re[H.newIndex]||!Re[H.newIndex].doc.ref.isEqual(H.doc.ref))return Me(Re,H.newIndex,0,H);break;case"modified":if(null==Re[H.oldIndex]||Re[H.oldIndex].doc.ref.isEqual(H.doc.ref)){if(H.oldIndex!==H.newIndex){const X=Re.slice();return X.splice(H.oldIndex,1),X.splice(H.newIndex,0,H),X}return Me(Re,H.newIndex,1,H)}break;case"removed":if(Re[H.oldIndex]&&Re[H.oldIndex].doc.ref.isEqual(H.doc.ref))return Me(Re,H.oldIndex,1)}return Re}(Re,ae))}),Re}(ae,Ne.map($t=>$t.payload),H),[]),(0,Le.x)(),(0,ge.U)(ae=>ae.map(Ne=>({type:Ne.type,payload:Ne}))))}function Me(Re,H,X,...ae){const Ne=Re.slice();return Ne.splice(H,X,...ae),Ne}function he(Re){return(!Re||0===Re.length)&&(Re=["added","removed","modified"]),Re}T(9260);class ve{constructor(H,X,ae){this.ref=H,this.query=X,this.afs=ae}stateChanges(H){let X=zt(this.query,this.afs.schedulers.outsideAngular);return H&&H.length>0&&(X=X.pipe((0,ge.U)(ae=>ae.filter(Ne=>H.indexOf(Ne.type)>-1)))),X.pipe((0,Ue.O)(void 0),oe(),(0,We.h)(([ae,Ne])=>Ne.length>0||!ae),(0,ge.U)(([ae,Ne])=>Ne),Fe.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ye.R)((X,ae)=>[...X,...ae],[]))}snapshotChanges(H){const X=he(H);return _t(this.query,X,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges(H={}){return Pt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(X=>X.payload.docs.map(ae=>H.idField?Object.assign(Object.assign({},ae.data()),{[H.idField]:ae.id}):ae.data())),Fe.iC)}get(H){return(0,me.D)(this.query.get(H)).pipe(Fe.iC)}add(H){return this.ref.add(H)}doc(H){return new ft(this.ref.doc(H),this.afs)}}class ft{constructor(H,X){this.ref=H,this.afs=X}set(H,X){return this.ref.set(H,X)}update(H){return this.ref.update(H)}delete(){return this.ref.delete()}collection(H,X){const ae=this.ref.collection(H),{ref:Ne,query:$t}=Wn(ae,X);return new ve(Ne,$t,this.afs)}snapshotChanges(){return function ut(Re,H){return Oe(Re,H).pipe((0,Ue.O)(void 0),oe(),(0,ge.U)(([X,ae])=>ae.exists?X?.exists?{payload:ae,type:"modified"}:{payload:ae,type:"added"}:{payload:ae,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges(H={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:X})=>H.idField?Object.assign(Object.assign({},X.data()),{[H.idField]:X.id}):X.data()))}get(H){return(0,me.D)(this.ref.get(H)).pipe(Fe.iC)}}class je{constructor(H,X){this.query=H,this.afs=X}stateChanges(H){return H&&0!==H.length?zt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(X=>X.filter(ae=>H.indexOf(ae.type)>-1)),(0,We.h)(X=>X.length>0),Fe.iC):zt(this.query,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}auditTrail(H){return this.stateChanges(H).pipe((0,ye.R)((X,ae)=>[...X,...ae],[]))}snapshotChanges(H){const X=he(H);return _t(this.query,X,this.afs.schedulers.outsideAngular).pipe(Fe.iC)}valueChanges(H={}){return Pt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(ae=>ae.payload.docs.map(Ne=>H.idField?Object.assign({[H.idField]:Ne.id},Ne.data()):Ne.data())),Fe.iC)}get(H){return(0,me.D)(this.query.get(H)).pipe(Fe.iC)}}const wt=new f.OlP("angularfire2.enableFirestorePersistence"),xn=new f.OlP("angularfire2.firestore.persistenceSettings"),fn=new f.OlP("angularfire2.firestore.settings"),Zn=new f.OlP("angularfire2.firestore.use-emulator");function Wn(Re,H=(X=>X)){return{query:H(Re),ref:Re}}let ni=(()=>{class Re{constructor(X,ae,Ne,$t,Jt,Ve,ze,ue,fe,W,le,j,J,Q,xe,pt,Qt){this.schedulers=ze;const vn=(0,Je.on)(X,Ve,ae),An=fe;W&&(0,rt.nw)(vn,Ve,le,J,Q,xe,j,pt),[this.firestore,this.persistenceEnabled$]=(0,Je.cc)(`${vn.name}.firestore`,"AngularFirestore",vn.name,()=>{const vi=Ve.runOutsideAngular(()=>vn.firestore());if($t&&vi.settings($t),An&&vi.useEmulator(...An),Ne&&!(0,gt.PM)(Jt)){const ur=()=>{try{return(0,me.D)(vi.enablePersistence(ue||void 0).then(()=>!0,()=>!1))}catch(Wt){return typeof console<"u"&&console.warn(Wt),(0,ce.of)(!1)}};return[vi,Ve.runOutsideAngular(ur)]}return[vi,(0,ce.of)(!1)]},[$t,An,Ne])}collection(X,ae){let Ne;Ne="string"==typeof X?this.firestore.collection(X):X;const{ref:$t,query:Jt}=Wn(Ne,ae),Ve=this.schedulers.ngZone.run(()=>$t);return new ve(Ve,Jt,this)}collectionGroup(X,ae){const Ne=ae||(Jt=>Jt),$t=this.firestore.collectionGroup(X);return new je(Ne($t),this)}doc(X){let ae;ae="string"==typeof X?this.firestore.doc(X):X;const Ne=this.schedulers.ngZone.run(()=>ae);return new ft(Ne,this)}createId(){return this.firestore.collection("_").doc().id}}return Re.\u0275fac=function(X){return new(X||Re)(f.LFG(Je.Dh),f.LFG(Je.xv,8),f.LFG(wt,8),f.LFG(fn,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Fe.HU),f.LFG(xn,8),f.LFG(Zn,8),f.LFG(rt.zQ,8),f.LFG(rt.Qv,8),f.LFG(rt.L6,8),f.LFG(rt._Q,8),f.LFG(rt.rT,8),f.LFG(rt.lh,8),f.LFG(rt.f7,8),f.LFG(Et.nm,8))},Re.\u0275prov=f.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"any"}),Re})()},2011:(pn,at,T)=>{T.d(at,{Dh:()=>_e,GT:()=>Fe,cc:()=>We,hO:()=>Le,on:()=>oe,pX:()=>ce,xv:()=>Ke});var f=T(4650),R=T(9260),E=T(4976);pn=T.hmd(pn);const me=["ngOnDestroy"],ce=(Ge,Pe,kt,Qe={})=>new Proxy(Ge,{get:(Ae,qe)=>kt.runOutsideAngular(()=>{var Nt;if(Ge[qe])return!(null===(Nt=Qe?.spy)||void 0===Nt)&&Nt.get&&Qe.spy.get(qe,Ge[qe]),Ge[qe];if(me.indexOf(qe)>-1)return()=>{};const It=Pe.toPromise().then(Ye=>{const Xt=Ye&&Ye[qe];return"function"==typeof Xt?Xt.bind(Ye):Xt&&Xt.then?Xt.then(yn=>kt.run(()=>yn)):kt.run(()=>Xt)});return new Proxy(()=>{},{get:(Ye,Xt)=>It[Xt],apply:(Ye,Xt,yn)=>It.then(sn=>{var En;const gn=sn&&sn(...yn);return!(null===(En=Qe?.spy)||void 0===En)&&En.apply&&Qe.spy.apply(qe,yn,gn),gn})})})}),Fe=(Ge,Pe)=>{Pe.forEach(kt=>{Object.getOwnPropertyNames(kt.prototype||kt).forEach(Qe=>{Object.defineProperty(Ge.prototype,Qe,Object.getOwnPropertyDescriptor(kt.prototype||kt,Qe))})})};class Ue{constructor(Pe){return Pe}}const _e=new f.OlP("angularfire2.app.options"),Ke=new f.OlP("angularfire2.app.name");function oe(Ge,Pe,kt){const Ae="object"==typeof kt&&kt||{};Ae.name=Ae.name||"string"==typeof kt&&kt||"[DEFAULT]";const Nt=R.Z.apps.filter(It=>It&&It.name===Ae.name)[0]||Pe.runOutsideAngular(()=>R.Z.initializeApp(Ge,Ae));try{JSON.stringify(Ge)!==JSON.stringify(Nt.options)&&ge("error",`${Nt.name} Firebase App already initialized with different options${pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ue(Nt)}const ge=(Ge,...Pe)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ge](...Pe)},ye={provide:Ue,useFactory:oe,deps:[_e,f.R0b,[new f.FiY,Ke]]};let Le=(()=>{class Ge{constructor(kt){R.Z.registerVersion("angularfire",E.q4.full,"core"),R.Z.registerVersion("angularfire",E.q4.full,"app-compat"),R.Z.registerVersion("angular",f.q4F.full,kt.toString())}static initializeApp(kt,Qe){return{ngModule:Ge,providers:[{provide:_e,useValue:kt},{provide:Ke,useValue:Qe}]}}}return Ge.\u0275fac=function(kt){return new(kt||Ge)(f.LFG(f.Lbi))},Ge.\u0275mod=f.oAB({type:Ge}),Ge.\u0275inj=f.cJS({providers:[ye]}),Ge})();function We(Ge,Pe,kt,Qe,Ae){const[,qe,Nt]=globalThis.\u0275AngularfireInstanceCache.find(It=>It[0]===Ge)||[];if(qe)return function Je(Ge,Pe){try{return Ge.toString()===Pe.toString()}catch{return Ge===Pe}}(Ae,Nt)||(tt("error",`${Pe} was already initialized on the ${kt} Firebase App with different settings.${gt?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:Ae,was:Nt})),qe;{const It=Qe();return globalThis.\u0275AngularfireInstanceCache.push([Ge,It,Ae]),It}}const gt=!!pn.hot,tt=(Ge,...Pe)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ge](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(pn,at,T)=>{T.d(at,{q4:()=>la,iC:()=>Pr,HU:()=>Pa,vb:()=>Tu,JM:()=>uc,u3:()=>Au});var f=T(4650),R=T(259),E=T(5861),me=T(6881),ce=T(2090),Fe=T(4859),Ue=T(1877);const _e=(M,B)=>B.some(re=>M instanceof re);let Ke,oe;const Le=new WeakMap,We=new WeakMap,Je=new WeakMap,gt=new WeakMap,tt=new WeakMap;let kt={get(M,B,re){if(M instanceof IDBTransaction){if("done"===B)return We.get(M);if("objectStoreNames"===B)return M.objectStoreNames||Je.get(M);if("store"===B)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return Nt(M[B])},set:(M,B,re)=>(M[B]=re,!0),has:(M,B)=>M instanceof IDBTransaction&&("done"===B||"store"===B)||B in M};function qe(M){return"function"==typeof M?function Ae(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...B){return M.apply(It(this),B),Nt(Le.get(this))}:function(...B){return Nt(M.apply(It(this),B))}:function(B,...re){const ke=M.call(It(this),B,...re);return Je.set(ke,B.sort?B.sort():[B]),Nt(ke)}}(M):(M instanceof IDBTransaction&&function Pe(M){if(We.has(M))return;const B=new Promise((re,ke)=>{const st=()=>{M.removeEventListener("complete",St),M.removeEventListener("error",an),M.removeEventListener("abort",an)},St=()=>{re(),st()},an=()=>{ke(M.error||new DOMException("AbortError","AbortError")),st()};M.addEventListener("complete",St),M.addEventListener("error",an),M.addEventListener("abort",an)});We.set(M,B)}(M),_e(M,function ge(){return Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,kt):M)}function Nt(M){if(M instanceof IDBRequest)return function Ge(M){const B=new Promise((re,ke)=>{const st=()=>{M.removeEventListener("success",St),M.removeEventListener("error",an)},St=()=>{re(Nt(M.result)),st()},an=()=>{ke(M.error),st()};M.addEventListener("success",St),M.addEventListener("error",an)});return B.then(re=>{re instanceof IDBCursor&&Le.set(re,M)}).catch(()=>{}),tt.set(B,M),B}(M);if(gt.has(M))return gt.get(M);const B=qe(M);return B!==M&&(gt.set(M,B),tt.set(B,M)),B}const It=M=>tt.get(M),yn=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],En=new Map;function gn(M,B){if(!(M instanceof IDBDatabase)||B in M||"string"!=typeof B)return;if(En.get(B))return En.get(B);const re=B.replace(/FromIndex$/,""),ke=B!==re,st=sn.includes(re);if(!(re in(ke?IDBIndex:IDBObjectStore).prototype)||!st&&!yn.includes(re))return;const St=function(){var an=(0,E.Z)(function*(Un,...Nn){const ti=this.transaction(Un,st?"readwrite":"readonly");let Ii=ti.store;return ke&&(Ii=Ii.index(Nn.shift())),(yield Promise.all([Ii[re](...Nn),st&&ti.done]))[0]});return function(Nn){return an.apply(this,arguments)}}();return En.set(B,St),St}!function Qe(M){kt=M(kt)}(M=>({...M,get:(B,re,ke)=>gn(B,re)||M.get(B,re,ke),has:(B,re)=>!!gn(B,re)||M.has(B,re)}));const si="@firebase/installations",Ut="0.6.4",Dt=1e4,Bt=`w:${Ut}`,Vt="FIS_v2",Tt="https://firebaseinstallations.googleapis.com/v1",nt=36e5,it=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(M){return M instanceof ce.ZR&&M.code.includes("request-failed")}function ht({projectId:M}){return`${Tt}/projects/${M}/installations`}function mt(M){return{token:M.token,requestStatus:2,expiresIn:bt(M.expiresIn),creationTime:Date.now()}}function Ht(M,B){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,E.Z)(function*(M,B){const ke=(yield B.json()).error;return it.create("request-failed",{requestName:M,serverCode:ke.code,serverMessage:ke.message,serverStatus:ke.status})})).apply(this,arguments)}function At({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function Cn(M){return qn.apply(this,arguments)}function qn(){return(qn=(0,E.Z)(function*(M){const B=yield M();return B.status>=500&&B.status<600?M():B})).apply(this,arguments)}function bt(M){return Number(M.replace("s","000"))}function Te(){return(Te=(0,E.Z)(function*({appConfig:M,heartbeatServiceProvider:B},{fid:re}){const ke=ht(M),st=At(M),St=B.getImmediate({optional:!0});if(St){const ti=yield St.getHeartbeatsHeader();ti&&st.append("x-firebase-client",ti)}const Un={method:"POST",headers:st,body:JSON.stringify({fid:re,authVersion:Vt,appId:M.appId,sdkVersion:Bt})},Nn=yield Cn(()=>fetch(ke,Un));if(Nn.ok){const ti=yield Nn.json();return{fid:ti.fid||re,registrationStatus:2,refreshToken:ti.refreshToken,authToken:mt(ti.authToken)}}throw yield Ht("Create Installation",Nn)})).apply(this,arguments)}function ne(M){return new Promise(B=>{setTimeout(B,M)})}const ut=/^[cdef][\w-]{21}$/,Pt="";function zt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const re=function _t(M){return function Oe(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return ut.test(re)?re:Pt}catch{return Pt}}function Zt(M){return`${M.appName}!${M.appId}`}const Me=new Map;function $e(M,B){const re=Zt(M);ft(re,B),function je(M,B){const re=function xn(){return!wt&&"BroadcastChannel"in self&&(wt=new BroadcastChannel("[Firebase] FID Change"),wt.onmessage=M=>{ft(M.data.key,M.data.fid)}),wt}();re&&re.postMessage({key:M,fid:B}),function fn(){0===Me.size&&wt&&(wt.close(),wt=null)}()}(re,B)}function ft(M,B){const re=Me.get(M);if(re)for(const ke of re)ke(B)}let wt=null;const Zn="firebase-installations-database",Wn=1,ni="firebase-installations-store";let Ft=null;function Re(){return Ft||(Ft=function Ye(M,B,{blocked:re,upgrade:ke,blocking:st,terminated:St}={}){const an=indexedDB.open(M,B),Un=Nt(an);return ke&&an.addEventListener("upgradeneeded",Nn=>{ke(Nt(an.result),Nn.oldVersion,Nn.newVersion,Nt(an.transaction))}),re&&an.addEventListener("blocked",()=>re()),Un.then(Nn=>{St&&Nn.addEventListener("close",()=>St()),st&&Nn.addEventListener("versionchange",()=>st())}).catch(()=>{}),Un}(Zn,Wn,{upgrade:(M,B)=>{0===B&&M.createObjectStore(ni)}})),Ft}function H(M,B){return X.apply(this,arguments)}function X(){return(X=(0,E.Z)(function*(M,B){const re=Zt(M),st=(yield Re()).transaction(ni,"readwrite"),St=st.objectStore(ni),an=yield St.get(re);return yield St.put(B,re),yield st.done,(!an||an.fid!==B.fid)&&$e(M,B.fid),B})).apply(this,arguments)}function ae(M){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,E.Z)(function*(M){const B=Zt(M),ke=(yield Re()).transaction(ni,"readwrite");yield ke.objectStore(ni).delete(B),yield ke.done})).apply(this,arguments)}function $t(M,B){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,E.Z)(function*(M,B){const re=Zt(M),st=(yield Re()).transaction(ni,"readwrite"),St=st.objectStore(ni),an=yield St.get(re),Un=B(an);return void 0===Un?yield St.delete(re):yield St.put(Un,re),yield st.done,Un&&(!an||an.fid!==Un.fid)&&$e(M,Un.fid),Un})).apply(this,arguments)}function Ve(M){return ze.apply(this,arguments)}function ze(){return ze=(0,E.Z)(function*(M){let B;const re=yield $t(M.appConfig,ke=>{const st=function ue(M){return xe(M||{fid:zt(),registrationStatus:0})}(ke),St=function fe(M,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(it.create("app-offline"))};const re={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},ke=function W(M,B){return le.apply(this,arguments)}(M,re);return{installationEntry:re,registrationPromise:ke}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:j(M)}:{installationEntry:B}}(M,st);return B=St.registrationPromise,St.installationEntry});return re.fid===Pt?{installationEntry:yield B}:{installationEntry:re,registrationPromise:B}}),ze.apply(this,arguments)}function le(){return le=(0,E.Z)(function*(M,B){try{const re=yield function Et(M,B){return Te.apply(this,arguments)}(M,B);return H(M.appConfig,re)}catch(re){throw He(re)&&409===re.customData.serverCode?yield ae(M.appConfig):yield H(M.appConfig,{fid:B.fid,registrationStatus:0}),re}}),le.apply(this,arguments)}function j(M){return J.apply(this,arguments)}function J(){return(J=(0,E.Z)(function*(M){let B=yield Q(M.appConfig);for(;1===B.registrationStatus;)yield ne(100),B=yield Q(M.appConfig);if(0===B.registrationStatus){const{installationEntry:re,registrationPromise:ke}=yield Ve(M);return ke||re}return B})).apply(this,arguments)}function Q(M){return $t(M,B=>{if(!B)throw it.create("installation-not-found");return xe(B)})}function xe(M){return function pt(M){return 1===M.registrationStatus&&M.registrationTime+Dt<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function vn(){return(vn=(0,E.Z)(function*({appConfig:M,heartbeatServiceProvider:B},re){const ke=function An(M,{fid:B}){return`${ht(M)}/${B}/authTokens:generate`}(M,re),st=function on(M,{refreshToken:B}){const re=At(M);return re.append("Authorization",function rt(M){return`${Vt} ${M}`}(B)),re}(M,re),St=B.getImmediate({optional:!0});if(St){const ti=yield St.getHeartbeatsHeader();ti&&st.append("x-firebase-client",ti)}const Un={method:"POST",headers:st,body:JSON.stringify({installation:{sdkVersion:Bt,appId:M.appId}})},Nn=yield Cn(()=>fetch(ke,Un));if(Nn.ok)return mt(yield Nn.json());throw yield Ht("Generate Auth Token",Nn)})).apply(this,arguments)}function vi(M){return ur.apply(this,arguments)}function ur(){return ur=(0,E.Z)(function*(M,B=!1){let re;const ke=yield $t(M.appConfig,St=>{if(!mi(St))throw it.create("not-registered");const an=St.authToken;if(!B&&function $n(M){return 2===M.requestStatus&&!function ki(M){const B=Date.now();return B<M.creationTime||M.creationTime+M.expiresIn<B+nt}(M)}(an))return St;if(1===an.requestStatus)return re=function Wt(M,B){return jt.apply(this,arguments)}(M,B),St;{if(!navigator.onLine)throw it.create("app-offline");const Un=function ai(M){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:B})}(St);return re=function zn(M,B){return Jn.apply(this,arguments)}(M,Un),Un}});return re?yield re:ke.authToken}),ur.apply(this,arguments)}function jt(){return(jt=(0,E.Z)(function*(M,B){let re=yield wn(M.appConfig);for(;1===re.authToken.requestStatus;)yield ne(100),re=yield wn(M.appConfig);const ke=re.authToken;return 0===ke.requestStatus?vi(M,B):ke})).apply(this,arguments)}function wn(M){return $t(M,B=>{if(!mi(B))throw it.create("not-registered");return function pr(M){return 1===M.requestStatus&&M.requestTime+Dt<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function Jn(){return Jn=(0,E.Z)(function*(M,B){try{const re=yield function Qt(M,B){return vn.apply(this,arguments)}(M,B),ke=Object.assign(Object.assign({},B),{authToken:re});return yield H(M.appConfig,ke),re}catch(re){if(!He(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const ke=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield H(M.appConfig,ke)}else yield ae(M.appConfig);throw re}}),Jn.apply(this,arguments)}function mi(M){return void 0!==M&&2===M.registrationStatus}function Kr(){return(Kr=(0,E.Z)(function*(M){const B=M,{installationEntry:re,registrationPromise:ke}=yield Ve(B);return ke?ke.catch(console.error):vi(B).catch(console.error),re.fid})).apply(this,arguments)}function Yr(){return Yr=(0,E.Z)(function*(M,B=!1){const re=M;return yield function qi(M){return Pn.apply(this,arguments)}(re),(yield vi(re,B)).token}),Yr.apply(this,arguments)}function Pn(){return(Pn=(0,E.Z)(function*(M){const{registrationPromise:B}=yield Ve(M);B&&(yield B)})).apply(this,arguments)}function dt(M){return it.create("missing-app-config-values",{valueName:M})}const yt="installations",In=M=>{const B=M.getProvider("app").getImmediate(),re=function Ct(M){if(!M||!M.options)throw dt("App Configuration");if(!M.name)throw dt("App Name");const B=["projectId","apiKey","appId"];for(const re of B)if(!M.options[re])throw dt(re);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(B);return{app:B,appConfig:re,heartbeatServiceProvider:(0,me._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},ii=M=>{const B=M.getProvider("app").getImmediate(),re=(0,me._getProvider)(B,yt).getImmediate();return{getId:()=>function vr(M){return Kr.apply(this,arguments)}(re),getToken:st=>function mr(M){return Yr.apply(this,arguments)}(re,st)}};(function Ei(){(0,me._registerComponent)(new Fe.wA(yt,In,"PUBLIC")),(0,me._registerComponent)(new Fe.wA("installations-internal",ii,"PRIVATE"))})(),(0,me.registerVersion)(si,Ut),(0,me.registerVersion)(si,Ut,"esm2017");const di="@firebase/remote-config",wr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Va{constructor(B,re,ke,st){this.client=B,this.storage=re,this.storageCache=ke,this.logger=st}isCachedDataFresh(B,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ke=Date.now()-re,st=ke<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ke}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${st}.`),st}fetch(B){var re=this;return(0,E.Z)(function*(){const[ke,st]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(st&&re.isCachedDataFresh(B.cacheMaxAgeMillis,ke))return st;B.eTag=st&&st.eTag;const St=yield re.client.fetch(B),an=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===St.status&&an.push(re.storage.setLastSuccessfulFetchResponse(St)),yield Promise.all(an),St})()}}function Ua(M=navigator){return M.languages&&M.languages[0]||M.language}class _a{constructor(B,re,ke,st,St,an){this.firebaseInstallations=B,this.sdkVersion=re,this.namespace=ke,this.projectId=st,this.apiKey=St,this.appId=an}fetch(B){var re=this;return(0,E.Z)(function*(){const[ke,st]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),an=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,Un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},Nn={sdk_version:re.sdkVersion,app_instance_id:ke,app_instance_id_token:st,app_id:re.appId,language_code:Ua()},ti={method:"POST",headers:Un,body:JSON.stringify(Nn)},Ii=fetch(an,ti),wi=new Promise((Bi,Ri)=>{B.signal.addEventListener(()=>{const Gi=new Error("The operation was aborted.");Gi.name="AbortError",Ri(Gi)})});let Ws;try{yield Promise.race([Ii,wi]),Ws=yield Ii}catch(Bi){let Ri="fetch-client-network";throw"AbortError"===Bi?.name&&(Ri="fetch-timeout"),wr.create(Ri,{originalErrorMessage:Bi?.message})}let Vs=Ws.status;const nl=Ws.headers.get("ETag")||void 0;let Mu,Hl;if(200===Ws.status){let Bi;try{Bi=yield Ws.json()}catch(Ri){throw wr.create("fetch-client-parse",{originalErrorMessage:Ri?.message})}Mu=Bi.entries,Hl=Bi.state}if("INSTANCE_STATE_UNSPECIFIED"===Hl?Vs=500:"NO_CHANGE"===Hl?Vs=304:("NO_TEMPLATE"===Hl||"EMPTY_CONFIG"===Hl)&&(Mu={}),304!==Vs&&200!==Vs)throw wr.create("fetch-status",{httpStatus:Vs});return{status:Vs,eTag:nl,config:Mu}})()}}class za{constructor(B,re){this.client=B,this.storage=re}fetch(B){var re=this;return(0,E.Z)(function*(){const ke=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(B,ke)})()}attemptFetch(B,{throttleEndTimeMillis:re,backoffCount:ke}){var st=this;return(0,E.Z)(function*(){yield function ll(M,B){return new Promise((re,ke)=>{const st=Math.max(B-Date.now(),0),St=setTimeout(re,st);M.addEventListener(()=>{clearTimeout(St),ke(wr.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,re);try{const St=yield st.client.fetch(B);return yield st.storage.deleteThrottleMetadata(),St}catch(St){if(!function ea(M){if(!(M instanceof ce.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}(St))throw St;const an={throttleEndTimeMillis:Date.now()+(0,ce.$s)(ke),backoffCount:ke+1};return yield st.storage.setThrottleMetadata(an),st.attemptFetch(B,an)}})()}}class ya{constructor(B,re,ke,st,St){this.app=B,this._client=re,this._storageCache=ke,this._storage=st,this._logger=St,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qs(M,B){const re=M.target.error||void 0;return wr.create(B,{originalErrorMessage:re&&re?.message})}const Qs="app_namespace_store";class Ha{constructor(B,re,ke,st=function ja(){return new Promise((M,B)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=ke=>{B(qs(ke,"storage-open"))},re.onsuccess=ke=>{M(ke.target.result)},re.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(Qs,{keyPath:"compositeKey"})}}catch(re){B(wr.create("storage-open",{originalErrorMessage:re?.message}))}})}()){this.appId=B,this.appName=re,this.namespace=ke,this.openDbPromise=st}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var re=this;return(0,E.Z)(function*(){const ke=yield re.openDbPromise;return new Promise((st,St)=>{const Un=ke.transaction([Qs],"readonly").objectStore(Qs),Nn=re.createCompositeKey(B);try{const ti=Un.get(Nn);ti.onerror=Ii=>{St(qs(Ii,"storage-get"))},ti.onsuccess=Ii=>{const wi=Ii.target.result;st(wi?wi.value:void 0)}}catch(ti){St(wr.create("storage-get",{originalErrorMessage:ti?.message}))}})})()}set(B,re){var ke=this;return(0,E.Z)(function*(){const st=yield ke.openDbPromise;return new Promise((St,an)=>{const Nn=st.transaction([Qs],"readwrite").objectStore(Qs),ti=ke.createCompositeKey(B);try{const Ii=Nn.put({compositeKey:ti,value:re});Ii.onerror=wi=>{an(qs(wi,"storage-set"))},Ii.onsuccess=()=>{St()}}catch(Ii){an(wr.create("storage-set",{originalErrorMessage:Ii?.message}))}})})()}delete(B){var re=this;return(0,E.Z)(function*(){const ke=yield re.openDbPromise;return new Promise((st,St)=>{const Un=ke.transaction([Qs],"readwrite").objectStore(Qs),Nn=re.createCompositeKey(B);try{const ti=Un.delete(Nn);ti.onerror=Ii=>{St(qs(Ii,"storage-delete"))},ti.onsuccess=()=>{st()}}catch(ti){St(wr.create("storage-delete",{originalErrorMessage:ti?.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class ho{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,E.Z)(function*(){const re=B.storage.getLastFetchStatus(),ke=B.storage.getLastSuccessfulFetchTimestampMillis(),st=B.storage.getActiveConfig(),St=yield re;St&&(B.lastFetchStatus=St);const an=yield ke;an&&(B.lastSuccessfulFetchTimestampMillis=an);const Un=yield st;Un&&(B.activeConfig=Un)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function va(){return ba.apply(this,arguments)}function ba(){return(ba=(0,E.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function is(){(0,me._registerComponent)(new Fe.wA("remote-config",function M(B,{instanceIdentifier:re}){const ke=B.getProvider("app").getImmediate(),st=B.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wr.create("registration-window");if(!(0,ce.hl)())throw wr.create("indexed-db-unavailable");const{projectId:St,apiKey:an,appId:Un}=ke.options;if(!St)throw wr.create("registration-project-id");if(!an)throw wr.create("registration-api-key");if(!Un)throw wr.create("registration-app-id");const Nn=new Ha(Un,ke.name,re=re||"firebase"),ti=new ho(Nn),Ii=new Ue.Yd(di);Ii.logLevel=Ue.in.ERROR;const wi=new _a(st,me.SDK_VERSION,re,St,an,Un),Ws=new za(wi,Nn),Vs=new Va(Ws,Nn,ti,Ii),nl=new ya(ke,Vs,ti,Nn,Ii);return function zr(M){const B=(0,ce.m9)(M);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(nl),nl},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(di,"0.4.4"),(0,me.registerVersion)(di,"0.4.4","esm2017")}();const $a=(M,B)=>B.some(re=>M instanceof re);let po,Wa;const mo=new WeakMap,Es=new WeakMap,dr=new WeakMap,zo=new WeakMap,jo=new WeakMap;let Ho={get(M,B,re){if(M instanceof IDBTransaction){if("done"===B)return Es.get(M);if("objectStoreNames"===B)return M.objectStoreNames||dr.get(M);if("store"===B)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return Wr(M[B])},set:(M,B,re)=>(M[B]=re,!0),has:(M,B)=>M instanceof IDBTransaction&&("done"===B||"store"===B)||B in M};function Ka(M){return"function"==typeof M?function Xl(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bc(){return Wa||(Wa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...B){return M.apply(Vr(this),B),Wr(mo.get(this))}:function(...B){return Wr(M.apply(Vr(this),B))}:function(B,...re){const ke=M.call(Vr(this),B,...re);return dr.set(ke,B.sort?B.sort():[B]),Wr(ke)}}(M):(M instanceof IDBTransaction&&function yr(M){if(Es.has(M))return;const B=new Promise((re,ke)=>{const st=()=>{M.removeEventListener("complete",St),M.removeEventListener("error",an),M.removeEventListener("abort",an)},St=()=>{re(),st()},an=()=>{ke(M.error||new DOMException("AbortError","AbortError")),st()};M.addEventListener("complete",St),M.addEventListener("error",an),M.addEventListener("abort",an)});Es.set(M,B)}(M),$a(M,function Ga(){return po||(po=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Ho):M)}function Wr(M){if(M instanceof IDBRequest)return function _r(M){const B=new Promise((re,ke)=>{const st=()=>{M.removeEventListener("success",St),M.removeEventListener("error",an)},St=()=>{re(Wr(M.result)),st()},an=()=>{ke(M.error),st()};M.addEventListener("success",St),M.addEventListener("error",an)});return B.then(re=>{re instanceof IDBCursor&&mo.set(re,M)}).catch(()=>{}),jo.set(B,M),B}(M);if(zo.has(M))return zo.get(M);const B=Ka(M);return B!==M&&(zo.set(M,B),jo.set(B,M)),B}const Vr=M=>jo.get(M);function rs(M,B,{blocked:re,upgrade:ke,blocking:st,terminated:St}={}){const an=indexedDB.open(M,B),Un=Wr(an);return ke&&an.addEventListener("upgradeneeded",Nn=>{ke(Wr(an.result),Nn.oldVersion,Nn.newVersion,Wr(an.transaction))}),re&&an.addEventListener("blocked",()=>re()),Un.then(Nn=>{St&&Nn.addEventListener("close",()=>St()),st&&Nn.addEventListener("versionchange",()=>st())}).catch(()=>{}),Un}function Rs(M,{blocked:B}={}){const re=indexedDB.deleteDatabase(M);return B&&re.addEventListener("blocked",()=>B()),Wr(re).then(()=>{})}const Ps=["get","getKey","getAll","getAllKeys","count"],Zr=["put","add","delete","clear"],Ea=new Map;function ws(M,B){if(!(M instanceof IDBDatabase)||B in M||"string"!=typeof B)return;if(Ea.get(B))return Ea.get(B);const re=B.replace(/FromIndex$/,""),ke=B!==re,st=Zr.includes(re);if(!(re in(ke?IDBIndex:IDBObjectStore).prototype)||!st&&!Ps.includes(re))return;const St=function(){var an=(0,E.Z)(function*(Un,...Nn){const ti=this.transaction(Un,st?"readwrite":"readonly");let Ii=ti.store;return ke&&(Ii=Ii.index(Nn.shift())),(yield Promise.all([Ii[re](...Nn),st&&ti.done]))[0]});return function(Nn){return an.apply(this,arguments)}}();return Ea.set(B,St),St}!function xi(M){Ho=M(Ho)}(M=>({...M,get:(B,re,ke)=>ws(B,re)||M.get(B,re,ke),has:(B,re)=>!!ws(B,re)||M.has(B,re)}));const li="/firebase-messaging-sw.js",To="/firebase-cloud-messaging-push-scope",q="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$="https://fcmregistrations.googleapis.com/v1",V="google.c.a.c_id",we="google.c.a.c_l",tn="google.c.a.ts",Gn="google.c.a.e";var en=(()=>{return(M=en||(en={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",en;var M})();function hi(M){const B=new Uint8Array(M);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function go(M){const re=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ke=atob(re),st=new Uint8Array(ke.length);for(let St=0;St<ke.length;++St)st[St]=ke.charCodeAt(St);return st}const Ss="fcm_token_details_db",Ur=5,Tl="fcm_token_object_Store";function ks(){return ks=(0,E.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(Ss))return null;let B=null;return(yield rs(Ss,Ur,{upgrade:(ke=(0,E.Z)(function*(st,St,an,Un){var Nn;if(St<2||!st.objectStoreNames.contains(Tl))return;const ti=Un.objectStore(Tl),Ii=yield ti.index("fcmSenderId").get(M);if(yield ti.clear(),Ii)if(2===St){const wi=Ii;if(!wi.auth||!wi.p256dh||!wi.endpoint)return;B={token:wi.fcmToken,createTime:null!==(Nn=wi.createTime)&&void 0!==Nn?Nn:Date.now(),subscriptionOptions:{auth:wi.auth,p256dh:wi.p256dh,endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:"string"==typeof wi.vapidKey?wi.vapidKey:hi(wi.vapidKey)}}}else if(3===St){const wi=Ii;B={token:wi.fcmToken,createTime:wi.createTime,subscriptionOptions:{auth:hi(wi.auth),p256dh:hi(wi.p256dh),endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:hi(wi.vapidKey)}}}else if(4===St){const wi=Ii;B={token:wi.fcmToken,createTime:wi.createTime,subscriptionOptions:{auth:hi(wi.auth),p256dh:hi(wi.p256dh),endpoint:wi.endpoint,swScope:wi.swScope,vapidKey:hi(wi.vapidKey)}}}}),function(St,an,Un,Nn){return ke.apply(this,arguments)})})).close(),yield Rs(Ss),yield Rs("fcm_vapid_details_db"),yield Rs("undefined"),function cl(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:B}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}(B)?B:null;var ke}),ks.apply(this,arguments)}const wa="firebase-messaging-database",Jl=1,Ao="firebase-messaging-store";let Xs=null;function qr(){return Xs||(Xs=rs(wa,Jl,{upgrade:(M,B)=>{0===B&&M.createObjectStore(Ao)}})),Xs}function Ts(M){return yo.apply(this,arguments)}function yo(){return yo=(0,E.Z)(function*(M){const B=Al(M),ke=yield(yield qr()).transaction(Ao).objectStore(Ao).get(B);if(ke)return ke;{const st=yield function _o(M){return ks.apply(this,arguments)}(M.appConfig.senderId);if(st)return yield Js(M,st),st}}),yo.apply(this,arguments)}function Js(M,B){return ss.apply(this,arguments)}function ss(){return(ss=(0,E.Z)(function*(M,B){const re=Al(M),st=(yield qr()).transaction(Ao,"readwrite");return yield st.objectStore(Ao).put(B,re),yield st.done,B})).apply(this,arguments)}function na(){return(na=(0,E.Z)(function*(M){const B=Al(M),ke=(yield qr()).transaction(Ao,"readwrite");yield ke.objectStore(Ao).delete(B),yield ke.done})).apply(this,arguments)}function Al({appConfig:M}){return M.appId}const jr=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hs(M,B){return ia.apply(this,arguments)}function ia(){return(ia=(0,E.Z)(function*(M,B){const re=yield sa(M),ke=dl(B),st={method:"POST",headers:re,body:JSON.stringify(ke)};let St;try{St=yield(yield fetch($o(M.appConfig),st)).json()}catch(an){throw jr.create("token-subscribe-failed",{errorInfo:an?.toString()})}if(St.error)throw jr.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw jr.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function Ca(){return(Ca=(0,E.Z)(function*(M,B){const re=yield sa(M),ke=dl(B.subscriptionOptions),st={method:"PATCH",headers:re,body:JSON.stringify(ke)};let St;try{St=yield(yield fetch(`${$o(M.appConfig)}/${B.token}`,st)).json()}catch(an){throw jr.create("token-update-failed",{errorInfo:an?.toString()})}if(St.error)throw jr.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw jr.create("token-update-no-token");return St.token})).apply(this,arguments)}function ra(M,B){return as.apply(this,arguments)}function as(){return(as=(0,E.Z)(function*(M,B){const ke={method:"DELETE",headers:yield sa(M)};try{const St=yield(yield fetch(`${$o(M.appConfig)}/${B}`,ke)).json();if(St.error)throw jr.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(st){throw jr.create("token-unsubscribe-failed",{errorInfo:st?.toString()})}})).apply(this,arguments)}function $o({projectId:M}){return`${$}/projects/${M}/registrations`}function sa(M){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,E.Z)(function*({appConfig:M,installations:B}){const re=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function dl({p256dh:M,auth:B,endpoint:re,vapidKey:ke}){const st={web:{endpoint:re,auth:B,p256dh:M}};return ke!==q&&(st.web.applicationPubKey=ke),st}const Ec=6048e5;function fs(){return fs=(0,E.Z)(function*(M){const B=yield function Ya(M,B){return Ml.apply(this,arguments)}(M.swRegistration,M.vapidKey),re={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:B.endpoint,auth:hi(B.getKey("auth")),p256dh:hi(B.getKey("p256dh"))},ke=yield Ts(M.firebaseDependencies);if(ke){if(function wc(M,B){return B.vapidKey===M.vapidKey&&B.endpoint===M.endpoint&&B.auth===M.auth&&B.p256dh===M.p256dh}(ke.subscriptionOptions,re))return Date.now()>=ke.createTime+Ec?function Lt(M,B){return to.apply(this,arguments)}(M,{token:ke.token,createTime:Date.now(),subscriptionOptions:re}):ke.token;try{yield ra(M.firebaseDependencies,ke.token)}catch(st){console.warn(st)}return Mo(M.firebaseDependencies,re)}return Mo(M.firebaseDependencies,re)}),fs.apply(this,arguments)}function eo(){return eo=(0,E.Z)(function*(M){const B=yield Ts(M.firebaseDependencies);B&&(yield ra(M.firebaseDependencies,B.token),yield function os(M){return na.apply(this,arguments)}(M.firebaseDependencies));const re=yield M.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()}),eo.apply(this,arguments)}function to(){return to=(0,E.Z)(function*(M,B){try{const re=yield function or(M,B){return Ca.apply(this,arguments)}(M.firebaseDependencies,B),ke=Object.assign(Object.assign({},B),{token:re,createTime:Date.now()});return yield Js(M.firebaseDependencies,ke),re}catch(re){throw yield function Qi(M){return eo.apply(this,arguments)}(M),re}}),to.apply(this,arguments)}function Mo(M,B){return hl.apply(this,arguments)}function hl(){return(hl=(0,E.Z)(function*(M,B){const ke={token:yield hs(M,B),createTime:Date.now(),subscriptionOptions:B};return yield Js(M,ke),ke.token})).apply(this,arguments)}function Ml(){return(Ml=(0,E.Z)(function*(M,B){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:go(B)})})).apply(this,arguments)}function fl(M){const B={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function Za(M,B){if(!B.notification)return;M.notification={};const re=B.notification.title;re&&(M.notification.title=re);const ke=B.notification.body;ke&&(M.notification.body=ke);const st=B.notification.image;st&&(M.notification.image=st);const St=B.notification.icon;St&&(M.notification.icon=St)}(B,M),function ec(M,B){B.data&&(M.data=B.data)}(B,M),function F(M,B){var re,ke,st,St,an;if(!(B.fcmOptions||null!==(re=B.notification)&&void 0!==re&&re.click_action))return;M.fcmOptions={};const Un=null!==(st=null===(ke=B.fcmOptions)||void 0===ke?void 0:ke.link)&&void 0!==st?st:null===(St=B.notification)||void 0===St?void 0:St.click_action;Un&&(M.fcmOptions.link=Un);const Nn=null===(an=B.fcmOptions)||void 0===an?void 0:an.analytics_label;Nn&&(M.fcmOptions.analyticsLabel=Nn)}(B,M),B}function z(M,B){const re=[];for(let ke=0;ke<M.length;ke++)re.push(M.charAt(ke)),ke<B.length&&re.push(B.charAt(ke));return re.join("")}function et(M){return jr.create("missing-app-config-values",{valueName:M})}z("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),z("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nn{constructor(B,re,ke){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const st=function be(M){if(!M||!M.options)throw et("App Configuration Object");if(!M.name)throw et("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:re}=M;for(const ke of B)if(!re[ke])throw et(ke);return{appName:M.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:st,installations:re,analyticsProvider:ke}}_delete(){return Promise.resolve()}}function mn(M){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,E.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(li,{scope:To}),M.swRegistration.update().catch(()=>{})}catch(B){throw jr.create("failed-service-worker-registration",{browserErrorMessage:B?.message})}})).apply(this,arguments)}function Si(){return(Si=(0,E.Z)(function*(M,B){if(!B&&!M.swRegistration&&(yield mn(M)),B||!M.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw jr.create("invalid-sw-registration");M.swRegistration=B}})).apply(this,arguments)}function Ni(){return(Ni=(0,E.Z)(function*(M,B){B?M.vapidKey=B:M.vapidKey||(M.vapidKey=q)})).apply(this,arguments)}function fi(){return fi=(0,E.Z)(function*(M,B){if(!navigator)throw jr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jr.create("permission-blocked");return yield function Yi(M,B){return Ni.apply(this,arguments)}(M,B?.vapidKey),yield function tr(M,B){return Si.apply(this,arguments)}(M,B?.serviceWorkerRegistration),function Cs(M){return fs.apply(this,arguments)}(M)}),fi.apply(this,arguments)}function js(){return(js=(0,E.Z)(function*(M,B,re){const ke=function kn(M){switch(M){case en.NOTIFICATION_CLICKED:return"notification_open";case en.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(B);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(ke,{message_id:re[V],message_name:re[we],message_time:re[tn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Is(){return Is=(0,E.Z)(function*(M,B){const re=B.data;if(!re.isFirebaseMessaging)return;M.onMessageHandler&&re.messageType===en.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(fl(re)):M.onMessageHandler.next(fl(re)));const ke=re.data;(function te(M){return"object"==typeof M&&!!M&&V in M})(ke)&&"1"===ke[Gn]&&(yield function fr(M,B,re){return js.apply(this,arguments)}(M,re.messageType,ke))}),Is.apply(this,arguments)}const Mn="@firebase/messaging",_n=M=>{const B=new nn(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function Kn(M,B){return Is.apply(this,arguments)}(B,re)),B},ls=M=>{const B=M.getProvider("messaging").getImmediate();return{getToken:ke=>function dn(M,B){return fi.apply(this,arguments)}(B,ke)}};function Yd(){return tc.apply(this,arguments)}function tc(){return(tc=(0,E.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cc(){(0,me._registerComponent)(new Fe.wA("messaging",_n,"PUBLIC")),(0,me._registerComponent)(new Fe.wA("messaging-internal",ls,"PRIVATE")),(0,me.registerVersion)(Mn,"0.12.4"),(0,me.registerVersion)(Mn,"0.12.4","esm2017")}();const _i="analytics",oa="firebase_id",$c="origin",Tr=6e4,ri="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ol="https://www.googletagmanager.com/gtag/js",yi=new Ue.Yd("@firebase/analytics"),Ci=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Bn(M){if(!M.startsWith(Ol)){const B=Ci.create("invalid-gtag-resource",{gtagURL:M});return yi.warn(B.message),""}return M}function Qr(M){return Promise.all(M.map(B=>B.catch(re=>re)))}function bo(){return(bo=(0,E.Z)(function*(M,B,re,ke,st,St){const an=ke[st];try{if(an)yield B[an];else{const Nn=(yield Qr(re)).find(ti=>ti.measurementId===st);Nn&&(yield B[Nn.appId])}}catch(Un){yi.error(Un)}M("config",st,St)})).apply(this,arguments)}function Nl(){return(Nl=(0,E.Z)(function*(M,B,re,ke,st){try{let St=[];if(st&&st.send_to){let an=st.send_to;Array.isArray(an)||(an=[an]);const Un=yield Qr(re);for(const Nn of an){const ti=Un.find(wi=>wi.measurementId===Nn),Ii=ti&&B[ti.appId];if(!Ii){St=[];break}St.push(Ii)}}0===St.length&&(St=Object.values(B)),yield Promise.all(St),M("event",ke,st||{})}catch(St){yi.error(St)}})).apply(this,arguments)}const Fl=30,Qa=new class Da{constructor(B={},re=1e3){this.throttleMetadata=B,this.intervalMillis=re}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,re){this.throttleMetadata[B]=re}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function Yt(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function ji(){return(ji=(0,E.Z)(function*(M){var B;const{appId:re,apiKey:ke}=M,st={method:"GET",headers:Yt(ke)},St=ri.replace("{app-id}",re),an=yield fetch(St,st);if(200!==an.status&&304!==an.status){let Un="";try{const Nn=yield an.json();null!==(B=Nn.error)&&void 0!==B&&B.message&&(Un=Nn.error.message)}catch{}throw Ci.create("config-fetch-failed",{httpStatus:an.status,responseMessage:Un})}return an.json()})).apply(this,arguments)}function ml(){return(ml=(0,E.Z)(function*(M,B=Qa,re){const{appId:ke,apiKey:st,measurementId:St}=M.options;if(!ke)throw Ci.create("no-app-id");if(!st){if(St)return{measurementId:St,appId:ke};throw Ci.create("no-api-key")}const an=B.getThrottleMetadata(ke)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Un=new Xa;return setTimeout((0,E.Z)(function*(){Un.abort()}),void 0!==re?re:Tr),gl({appId:ke,apiKey:st,measurementId:St},an,Un,B)})).apply(this,arguments)}function gl(M,B,re){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,E.Z)(function*(M,{throttleEndTimeMillis:B,backoffCount:re},ke,st=Qa){var St;const{appId:an,measurementId:Un}=M;try{yield function _l(M,B){return new Promise((re,ke)=>{const st=Math.max(B-Date.now(),0),St=setTimeout(re,st);M.addEventListener(()=>{clearTimeout(St),ke(Ci.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(ke,B)}catch(Nn){if(Un)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${Nn?.message}]`),{appId:an,measurementId:Un};throw Nn}try{const Nn=yield function ic(M){return ji.apply(this,arguments)}(M);return st.deleteThrottleMetadata(an),Nn}catch(Nn){const ti=Nn;if(!function Yc(M){if(!(M instanceof ce.ZR&&M.customData))return!1;const B=Number(M.customData.httpStatus);return 429===B||500===B||503===B||504===B}(ti)){if(st.deleteThrottleMetadata(an),Un)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${ti?.message}]`),{appId:an,measurementId:Un};throw Nn}const Ii=503===Number(null===(St=ti?.customData)||void 0===St?void 0:St.httpStatus)?(0,ce.$s)(re,st.intervalMillis,Fl):(0,ce.$s)(re,st.intervalMillis),wi={throttleEndTimeMillis:Date.now()+Ii,backoffCount:re+1};return st.setThrottleMetadata(an,wi),yi.debug(`Calling attemptFetch again in ${Ii} millis`),gl(M,wi,ke,st)}}),Ll.apply(this,arguments)}class Xa{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let xa,L;function Hs(){return(Hs=(0,E.Z)(function*(M,B,re,ke,st){if(st&&st.global)M("event",re,ke);else{const St=yield B;M("event",re,Object.assign(Object.assign({},ke),{send_to:St}))}})).apply(this,arguments)}function xt(){return(xt=(0,E.Z)(function*(){if(!(0,ce.hl)())return yi.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(M){return yi.warn(Ci.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Vn(){return Vn=(0,E.Z)(function*(M,B,re,ke,st,St,an){var Un;const Nn=function Kc(M){return ml.apply(this,arguments)}(M);Nn.then(Vs=>{re[Vs.measurementId]=Vs.appId,M.options.measurementId&&Vs.measurementId!==M.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Vs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vs=>yi.error(Vs)),B.push(Nn);const ti=function Ie(){return xt.apply(this,arguments)}().then(Vs=>{if(Vs)return ke.getId()}),[Ii,wi]=yield Promise.all([Nn,ti]);(function qa(M){const B=window.document.getElementsByTagName("script");for(const re of Object.values(B))if(re.src&&re.src.includes(Ol)&&re.src.includes(M))return re;return null})(St)||function Ns(M,B){const re=function Rl(M,B){let re;return window.trustedTypes&&(re=window.trustedTypes.createPolicy(M,B)),re}("firebase-js-sdk-policy",{createScriptURL:Bn}),ke=document.createElement("script"),st=`${Ol}?l=${M}&id=${B}`;ke.src=re?re?.createScriptURL(st):st,ke.async=!0,document.head.appendChild(ke)}(St,Ii.measurementId),L&&(st("consent","default",L),function Y(M){L=M}(void 0)),st("js",new Date);const Ws=null!==(Un=an?.config)&&void 0!==Un?Un:{};return Ws[$c]="firebase",Ws.update=!0,null!=wi&&(Ws[oa]=wi),st("config",Ii.measurementId,Ws),xa&&(st("set",xa),function pe(M){xa=M}(void 0)),Ii.measurementId}),Vn.apply(this,arguments)}class jn{constructor(B){this.app=B}_delete(){return delete Ai[this.app.options.appId],Promise.resolve()}}let Ai={},cs=[];const Ar={};let Ro,Wo,$s="dataLayer",Sa="gtag",Go=!1;function Du(M,B,re){!function Bl(){const M=[];if((0,ce.ru)()&&M.push("This is a browser extension environment."),(0,ce.zI)()||M.push("Cookies are not available."),M.length>0){const B=M.map((ke,st)=>`(${st+1}) ${ke}`).join(" "),re=Ci.create("invalid-analytics-context",{errorInfo:B});yi.warn(re.message)}}();const ke=M.options.appId;if(!ke)throw Ci.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Ci.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ai[ke])throw Ci.create("already-exists",{id:ke});if(!Go){!function hd(M){let B=[];Array.isArray(window[M])?B=window[M]:window[M]=B}($s);const{wrappedGtag:St,gtagCore:an}=function Fs(M,B,re,ke,st){let St=function(...an){window[ke].push(arguments)};return window[st]&&"function"==typeof window[st]&&(St=window[st]),window[st]=function Gc(M,B,re,ke){function St(){return St=(0,E.Z)(function*(an,...Un){try{if("event"===an){const[Nn,ti]=Un;yield function kl(M,B,re,ke,st){return Nl.apply(this,arguments)}(M,B,re,Nn,ti)}else if("config"===an){const[Nn,ti]=Un;yield function Pl(M,B,re,ke,st,St){return bo.apply(this,arguments)}(M,B,re,ke,Nn,ti)}else if("consent"===an){const[Nn]=Un;M("consent","update",Nn)}else if("get"===an){const[Nn,ti,Ii]=Un;M("get",Nn,ti,Ii)}else if("set"===an){const[Nn]=Un;M("set",Nn)}else M(an,...Un)}catch(Nn){yi.error(Nn)}}),St.apply(this,arguments)}return function st(an){return St.apply(this,arguments)}}(St,M,B,re),{gtagCore:St,wrappedGtag:window[st]}}(Ai,cs,Ar,$s,Sa);Wo=St,Ro=an,Go=!0}return Ai[ke]=function un(M,B,re,ke,st,St,an){return Vn.apply(this,arguments)}(M,cs,Ar,B,Ro,$s,re),new jn(M)}function Xr(){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const xu="@firebase/analytics";!function us(){(0,me._registerComponent)(new Fe.wA(_i,(B,{options:re})=>Du(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,me._registerComponent)(new Fe.wA("analytics-internal",function M(B){try{const re=B.getProvider(_i).getImmediate();return{logEvent:(ke,st,St)=>function sc(M,B,re,ke){M=(0,ce.m9)(M),function rc(M,B,re,ke,st){return Hs.apply(this,arguments)}(Wo,Ai[M.app.options.appId],B,re,ke).catch(st=>yi.error(st))}(re,ke,st,St)}}catch(re){throw Ci.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,me.registerVersion)(xu,"0.10.0"),(0,me.registerVersion)(xu,"0.10.0","esm2017")}();var Qd=T(4408),Rr=T(7565);const Su=new class Aa extends Rr.v{}(class el extends Qd.o{constructor(B,re){super(B,re),this.scheduler=B,this.work=re}schedule(B,re=0){return re>0?super.schedule(B,re):(this.delay=re,this.state=B,this.scheduler.flush(this),this)}execute(B,re){return re>0||this.closed?super.execute(B,re):this._execute(B,re)}requestAsyncId(B,re,ke=0){return null!=ke&&ke>0||null==ke&&this.delay>0?super.requestAsyncId(B,re,ke):(B.flush(this),0)}});var xc=T(4986),oc=T(9751),yl=T(8505),Ma=T(9468),ac=T(5363);const la=new f.GfV("7.6.1"),Oa="__angularfire_symbol__analyticsIsSupportedValue",lc="__angularfire_symbol__analyticsIsSupported",Po="__angularfire_symbol__remoteConfigIsSupportedValue",Qc="__angularfire_symbol__remoteConfigIsSupported",Ul="__angularfire_symbol__messagingIsSupportedValue",Xc="__angularfire_symbol__messagingIsSupported";function uc(M,B,re){if(B){if(1===B.length)return B[0];const St=B.filter(an=>an.app===re);if(1===St.length)return St[0]}return re.container.getProvider(M).getImmediate({optional:!0})}globalThis[lc]||(globalThis[lc]=Xr().then(M=>globalThis[Oa]=M).catch(()=>globalThis[Oa]=!1)),globalThis[Xc]||(globalThis[Xc]=Yd().then(M=>globalThis[Ul]=M).catch(()=>globalThis[Ul]=!1)),globalThis[Qc]||(globalThis[Qc]=va().then(M=>globalThis[Po]=M).catch(()=>globalThis[Po]=!1));const Tu=(M,B)=>{const re=B?[B]:(0,R.C6)(),ke=[];return re.forEach(st=>{st.container.getProvider(M).instances.forEach(an=>{ke.includes(an)||ke.push(an)})}),ke};function tl(){}class zl{constructor(B,re=Su){this.zone=B,this.delegate=re}now(){return this.delegate.now()}schedule(B,re,ke){const st=this.zone;return this.delegate.schedule(function(an){st.runGuarded(()=>{B.apply(this,[an])})},re,ke)}}class Ra{constructor(B){this.zone=B,this.task=null}call(B,re){const ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tl,{},tl,tl)),re.pipe((0,yl.b)({next:ke,complete:ke,error:ke})).subscribe(B).add(ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pa=(()=>{class M{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new zl(Zone.current)),this.insideAngular=re.run(()=>new zl(Zone.current,xc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(re){return new(re||M)(f.LFG(f.R0b))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function vl(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function bl(M){return vl().ngZone.run(()=>M())}function Pr(M){return vl(),function jl(M){return function(re){return(re=re.lift(new Ra(M.ngZone))).pipe((0,Ma.R)(M.outsideAngular),(0,ac.Q)(M.insideAngular))}}(vl())(M)}const md=(M,B)=>function(){const ke=arguments;return B&&setTimeout(()=>{"scheduled"===B.state&&B.invoke()},10),bl(()=>M.apply(void 0,ke))},Au=(M,B)=>function(){let re;const ke=arguments;for(let St=0;St<arguments.length;St++)"function"==typeof ke[St]&&(B&&(re||(re=bl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tl,{},tl,tl)))),ke[St]=md(ke[St],re));const st=function Jd(M){return vl().ngZone.runOutsideAngular(()=>M())}(()=>M.apply(this,ke));if(!B){if(st instanceof oc.y){const St=vl();return st.pipe((0,Ma.R)(St.outsideAngular),(0,ac.Q)(St.insideAngular))}return bl(()=>st)}return st instanceof oc.y?st.pipe(Pr):st instanceof Promise?bl(()=>new Promise((St,an)=>st.then(Un=>bl(()=>St(Un)),Un=>bl(()=>an(Un))))):"function"==typeof st&&re?function(){return setTimeout(()=>{re&&"scheduled"===re.state&&re.invoke()},10),st.apply(this,arguments)}:bl(()=>st)}},1389:(pn,at,T)=>{T.d(at,{$:()=>li,A:()=>ge,D:()=>We,I:()=>$i,J:()=>In,L:()=>ns,N:()=>$t,P:()=>un,Q:()=>Ha,R:()=>Oo,U:()=>fo,V:()=>va,W:()=>ba,X:()=>bs,Y:()=>Ga,Z:()=>bc,_:()=>jo,a:()=>vo,a0:()=>q,a1:()=>V,a2:()=>sr,a3:()=>Tl,a4:()=>ks,a5:()=>wa,a6:()=>Ao,a7:()=>qr,a8:()=>yo,a9:()=>ss,aA:()=>Ye,aB:()=>lc,aC:()=>ae,aD:()=>Jt,aE:()=>yl,aF:()=>fd,aG:()=>Dr,aH:()=>Oi,aL:()=>pl,aO:()=>po,aa:()=>os,ab:()=>Al,ac:()=>ul,ad:()=>or,ae:()=>ra,af:()=>$o,ai:()=>Ec,aj:()=>fs,ak:()=>Qi,an:()=>Xl,ao:()=>Za,aq:()=>Ni,ar:()=>Mn,as:()=>yn,at:()=>xe,au:()=>j,av:()=>Qe,aw:()=>wi,ax:()=>Xc,ay:()=>pt,az:()=>Ae,b:()=>Cu,c:()=>Wo,d:()=>Du,e:()=>Zc,f:()=>xu,g:()=>Aa,h:()=>Qd,i:()=>nc,j:()=>xc,k:()=>Hl,l:()=>D,m:()=>Gi,p:()=>_e,r:()=>w,s:()=>Ir,u:()=>Ie});var f=T(5861),R=T(2090),E=T(6881),me=T(7582),ce=T(1877),Fe=T(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Je=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new ce.Yd("@firebase/auth");function kt(x,...g){Ge.logLevel<=ce.in.ERROR&&Ge.error(`Auth (${E.SDK_VERSION}): ${x}`,...g)}function Qe(x,...g){throw It(x,...g)}function Ae(x,...g){return It(x,...g)}function qe(x,g,b){const O=Object.assign(Object.assign({},Je()),{[g]:b});return new R.LL("auth","Firebase",O).create(g,{appName:x.name})}function Nt(x,g,b){if(!(g instanceof b))throw b.name!==g.constructor.name&&Qe(x,"argument-error"),qe(x,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(x,...g){if("string"!=typeof x){const b=g[0],O=[...g.slice(1)];return O[0]&&(O[0].appName=x.name),x._errorFactory.create(b,...O)}return gt.create(x,...g)}function Ye(x,g,...b){if(!x)throw It(g,...b)}function Xt(x){const g="INTERNAL ASSERTION FAILED: "+x;throw kt(g),new Error(g)}function yn(x,g){x||Xt(g)}function sn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function En(){return"http:"===gn()||"https:"===gn()}function gn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Dt{constructor(g,b){this.shortDelay=g,this.longDelay=b,yn(b>g,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function si(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(En()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(x,g){yn(x.emulator,"Emulator should always be set here");const{url:b}=x.emulator;return g?`${b}${g.startsWith("/")?g.slice(1):g}`:b}class Vt{static initialize(g,b,O){this.fetchImpl=g,b&&(this.headersImpl=b),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nt=new Dt(3e4,6e4);function lt(x,g){return x.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:x.tenantId}):g}function Be(x,g,b,O){return ct.apply(this,arguments)}function ct(){return(ct=(0,f.Z)(function*(x,g,b,O,se={}){return it(x,se,(0,f.Z)(function*(){let Se={},Mt={};O&&("GET"===g?Mt=O:Se={body:JSON.stringify(O)});const ln=(0,R.xO)(Object.assign({key:x.config.apiKey},Mt)).slice(1),On=yield x._getAdditionalHeaders();return On["Content-Type"]="application/json",x.languageCode&&(On["X-Firebase-Locale"]=x.languageCode),Vt.fetch()(Ht(x,x.config.apiHost,b,ln),Object.assign({method:g,headers:On,referrerPolicy:"no-referrer"},Se))}))})).apply(this,arguments)}function it(x,g,b){return He.apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(x,g,b){x._canInitEmulator=!1;const O=Object.assign(Object.assign({},Tt),g);try{const se=new Ze(x),Se=yield Promise.race([b(),se.promise]);se.clearNetworkTimeout();const Mt=yield Se.json();if("needConfirmation"in Mt)throw At(x,"account-exists-with-different-credential",Mt);if(Se.ok&&!("errorMessage"in Mt))return Mt;{const ln=Se.ok?Mt.errorMessage:Mt.error.message,[On,Hn]=ln.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===On)throw At(x,"credential-already-in-use",Mt);if("EMAIL_EXISTS"===On)throw At(x,"email-already-in-use",Mt);if("USER_DISABLED"===On)throw At(x,"user-disabled",Mt);const oi=O[On]||On.toLowerCase().replace(/[_\s]+/g,"-");if(Hn)throw qe(x,oi,Hn);Qe(x,oi)}}catch(se){if(se instanceof R.ZR)throw se;Qe(x,"network-request-failed",{message:String(se)})}})).apply(this,arguments)}function ht(x,g,b,O){return mt.apply(this,arguments)}function mt(){return(mt=(0,f.Z)(function*(x,g,b,O,se={}){const Se=yield Be(x,g,b,O,se);return"mfaPendingCredential"in Se&&Qe(x,"multi-factor-auth-required",{_serverResponse:Se}),Se})).apply(this,arguments)}function Ht(x,g,b,O){const se=`${g}${b}?${O}`;return x.config.emulator?Bt(x.config,se):`${x.config.apiScheme}://${se}`}class Ze{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((b,O)=>{this.timer=setTimeout(()=>O(Ae(this.auth,"network-request-failed")),nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function At(x,g,b){const O={appName:x.name};b.email&&(O.email=b.email),b.phoneNumber&&(O.phoneNumber=b.phoneNumber);const se=Ae(x,g,O);return se.customData._tokenResponse=b,se}function Cn(){return(Cn=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Te(x){if(x)try{const g=new Date(Number(x));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ut(){return(ut=(0,f.Z)(function*(x,g=!1){const b=(0,R.m9)(x),O=yield b.getIdToken(g),se=zt(O);Ye(se&&se.exp&&se.auth_time&&se.iat,b.auth,"internal-error");const Se="object"==typeof se.firebase?se.firebase:void 0,Mt=Se?.sign_in_provider;return{claims:se,token:O,authTime:Te(Pt(se.auth_time)),issuedAtTime:Te(Pt(se.iat)),expirationTime:Te(Pt(se.exp)),signInProvider:Mt||null,signInSecondFactor:Se?.sign_in_second_factor||null}})).apply(this,arguments)}function Pt(x){return 1e3*Number(x)}function zt(x){const[g,b,O]=x.split(".");if(void 0===g||void 0===b||void 0===O)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,R.tV)(b);return se?JSON.parse(se):(kt("Failed to decode base64 JWT payload"),null)}catch(se){return kt("Caught error parsing JWT payload as JSON",se?.toString()),null}}function Zt(x,g){return Me.apply(this,arguments)}function Me(){return(Me=(0,f.Z)(function*(x,g,b=!1){if(b)return g;try{return yield g}catch(O){throw O instanceof R.ZR&&function $e({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(O)&&x.auth.currentUser===x&&(yield x.auth.signOut()),O}})).apply(this,arguments)}class he{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var b;if(g){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const se=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(g=!1){var b=this;if(!this.isRunning)return;const O=this.getInterval(g);this.timerId=setTimeout((0,f.Z)(function*(){yield b.iteration()}),O)}iteration(){var g=this;return(0,f.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&g.schedule(!0))}g.schedule()})()}}class ve{constructor(g,b){this.createdAt=g,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Te(this.lastLoginAt),this.creationTime=Te(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ft(x){return je.apply(this,arguments)}function je(){return je=(0,f.Z)(function*(x){var g;const b=x.auth,O=yield x.getIdToken(),se=yield Zt(x,function rt(x,g){return Et.apply(this,arguments)}(b,{idToken:O}));Ye(se?.users.length,b,"internal-error");const Se=se.users[0];x._notifyReloadListener(Se);const Mt=null!==(g=Se.providerUserInfo)&&void 0!==g&&g.length?function Zn(x){return x.map(g=>{var{providerId:b}=g,O=(0,me._T)(g,["providerId"]);return{providerId:b,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(Se.providerUserInfo):[],ln=function fn(x,g){return[...x.filter(O=>!g.some(se=>se.providerId===O.providerId)),...g]}(x.providerData,Mt),oi=!!x.isAnonymous&&!(x.email&&Se.passwordHash||ln?.length),Di={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:ln,metadata:new ve(Se.createdAt,Se.lastLoginAt),isAnonymous:oi};Object.assign(x,Di)}),je.apply(this,arguments)}function xn(){return(xn=(0,f.Z)(function*(x){const g=(0,R.m9)(x);yield ft(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(x,g){const b=yield it(x,{},(0,f.Z)(function*(){const O=(0,R.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:se,apiKey:Se}=x.config,Mt=Ht(x,se,"/v1/token",`key=${Se}`),ln=yield x._getAdditionalHeaders();return ln["Content-Type"]="application/x-www-form-urlencoded",Vt.fetch()(Mt,{method:"POST",headers:ln,body:O})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ye(g.idToken,"internal-error"),Ye(typeof g.idToken<"u","internal-error"),Ye(typeof g.refreshToken<"u","internal-error");const b="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function _t(x){const g=zt(x);return Ye(g,"internal-error"),Ye(typeof g.exp<"u","internal-error"),Ye(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,b)}getToken(g,b=!1){var O=this;return(0,f.Z)(function*(){return Ye(!O.accessToken||O.refreshToken,g,"user-token-expired"),b||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(g,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,b){var O=this;return(0,f.Z)(function*(){const{accessToken:se,refreshToken:Se,expiresIn:Mt}=yield function Wn(x,g){return ni.apply(this,arguments)}(g,b);O.updateTokensAndExpiration(se,Se,Number(Mt))})()}updateTokensAndExpiration(g,b,O){this.refreshToken=b||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(g,b){const{refreshToken:O,accessToken:se,expirationTime:Se}=b,Mt=new Ft;return O&&(Ye("string"==typeof O,"internal-error",{appName:g}),Mt.refreshToken=O),se&&(Ye("string"==typeof se,"internal-error",{appName:g}),Mt.accessToken=se),Se&&(Ye("number"==typeof Se,"internal-error",{appName:g}),Mt.expirationTime=Se),Mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return Xt("not implemented")}}function Re(x,g){Ye("string"==typeof x||typeof x>"u","internal-error",{appName:g})}class H{constructor(g){var{uid:b,auth:O,stsTokenManager:se}=g,Se=(0,me._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new he(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=O,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=Se.displayName||null,this.email=Se.email||null,this.emailVerified=Se.emailVerified||!1,this.phoneNumber=Se.phoneNumber||null,this.photoURL=Se.photoURL||null,this.isAnonymous=Se.isAnonymous||!1,this.tenantId=Se.tenantId||null,this.providerData=Se.providerData?[...Se.providerData]:[],this.metadata=new ve(Se.createdAt||void 0,Se.lastLoginAt||void 0)}getIdToken(g){var b=this;return(0,f.Z)(function*(){const O=yield Zt(b,b.stsTokenManager.getToken(b.auth,g));return Ye(O,b.auth,"internal-error"),b.accessToken!==O&&(b.accessToken=O,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),O})()}getIdTokenResult(g){return function Oe(x){return ut.apply(this,arguments)}(this,g)}reload(){return function wt(x){return xn.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ye(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(b=>Object.assign({},b)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const b=new H(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(g){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,b=!1){var O=this;return(0,f.Z)(function*(){let se=!1;g.idToken&&g.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(g),se=!0),b&&(yield ft(O)),yield O.auth._persistUserIfCurrent(O),se&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var g=this;return(0,f.Z)(function*(){const b=yield g.getIdToken();return yield Zt(g,function on(x,g){return Cn.apply(this,arguments)}(g.auth,{idToken:b})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,b){var O,se,Se,Mt,ln,On,Hn,oi;const Di=null!==(O=b.displayName)&&void 0!==O?O:void 0,bi=null!==(se=b.email)&&void 0!==se?se:void 0,Us=null!==(Se=b.phoneNumber)&&void 0!==Se?Se:void 0,nu=null!==(Mt=b.photoURL)&&void 0!==Mt?Mt:void 0,Ko=null!==(ln=b.tenantId)&&void 0!==ln?ln:void 0,ko=null!==(On=b._redirectEventId)&&void 0!==On?On:void 0,hc=null!==(Hn=b.createdAt)&&void 0!==Hn?Hn:void 0,ca=null!==(oi=b.lastLoginAt)&&void 0!==oi?oi:void 0,{uid:ka,emailVerified:Co,isAnonymous:Tc,providerData:Pu,stsTokenManager:iu}=b;Ye(ka&&iu,g,"internal-error");const Fi=Ft.fromJSON(this.name,iu);Ye("string"==typeof ka,g,"internal-error"),Re(Di,g.name),Re(bi,g.name),Ye("boolean"==typeof Co,g,"internal-error"),Ye("boolean"==typeof Tc,g,"internal-error"),Re(Us,g.name),Re(nu,g.name),Re(Ko,g.name),Re(ko,g.name),Re(hc,g.name),Re(ca,g.name);const gd=new H({uid:ka,auth:g,email:bi,emailVerified:Co,displayName:Di,isAnonymous:Tc,photoURL:nu,phoneNumber:Us,tenantId:Ko,stsTokenManager:Fi,createdAt:hc,lastLoginAt:ca});return Pu&&Array.isArray(Pu)&&(gd.providerData=Pu.map(ku=>Object.assign({},ku))),ko&&(gd._redirectEventId=ko),gd}static _fromIdTokenResponse(g,b,O=!1){return(0,f.Z)(function*(){const se=new Ft;se.updateFromServerResponse(b);const Se=new H({uid:b.localId,auth:g,stsTokenManager:se,isAnonymous:O});return yield ft(Se),Se})()}}const X=new Map;function ae(x){yn(x instanceof Function,"Expected a class definition");let g=X.get(x);return g?(yn(g instanceof x,"Instance stored in cache mismatched with class"),g):(g=new x,X.set(x,g),g)}const $t=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(b,O){var se=this;return(0,f.Z)(function*(){se.storage[b]=O})()}_get(b){var O=this;return(0,f.Z)(function*(){const se=O.storage[b];return void 0===se?null:se})()}_remove(b){var O=this;return(0,f.Z)(function*(){delete O.storage[b]})()}_addListener(b,O){}_removeListener(b,O){}}return x.type="NONE",x})();function Jt(x,g,b){return`firebase:${x}:${g}:${b}`}class Ve{constructor(g,b,O){this.persistence=g,this.auth=b,this.userKey=O;const{config:se,name:Se}=this.auth;this.fullUserKey=Jt(this.userKey,se.apiKey,Se),this.fullPersistenceKey=Jt("persistence",se.apiKey,Se),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,f.Z)(function*(){const b=yield g.persistence._get(g.fullUserKey);return b?H._fromJSON(g.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var b=this;return(0,f.Z)(function*(){if(b.persistence===g)return;const O=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=g,O?b.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,b,O="authUser"){return(0,f.Z)(function*(){if(!b.length)return new Ve(ae($t),g,O);const se=(yield Promise.all(b.map(function(){var Hn=(0,f.Z)(function*(oi){if(yield oi._isAvailable())return oi});return function(oi){return Hn.apply(this,arguments)}}()))).filter(Hn=>Hn);let Se=se[0]||ae($t);const Mt=Jt(O,g.config.apiKey,g.name);let ln=null;for(const Hn of b)try{const oi=yield Hn._get(Mt);if(oi){const Di=H._fromJSON(g,oi);Hn!==Se&&(ln=Di),Se=Hn;break}}catch{}const On=se.filter(Hn=>Hn._shouldAllowMigration);return Se._shouldAllowMigration&&On.length?(Se=On[0],ln&&(yield Se._set(Mt,ln.toJSON())),yield Promise.all(b.map(function(){var Hn=(0,f.Z)(function*(oi){if(oi!==Se)try{yield oi._remove(Mt)}catch{}});return function(oi){return Hn.apply(this,arguments)}}())),new Ve(Se,g,O)):new Ve(Se,g,O)})()}}function ze(x){const g=x.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(le(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ue(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(J(g))return"Blackberry";if(Q(g))return"Webos";if(fe(g))return"Safari";if((g.includes("chrome/")||W(g))&&!g.includes("edge/"))return"Chrome";if(j(g))return"Android";{const O=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function ue(x=(0,R.z$)()){return/firefox\//i.test(x)}function fe(x=(0,R.z$)()){const g=x.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function W(x=(0,R.z$)()){return/crios\//i.test(x)}function le(x=(0,R.z$)()){return/iemobile/i.test(x)}function j(x=(0,R.z$)()){return/android/i.test(x)}function J(x=(0,R.z$)()){return/blackberry/i.test(x)}function Q(x=(0,R.z$)()){return/webos/i.test(x)}function xe(x=(0,R.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function pt(x=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function An(x=(0,R.z$)()){return xe(x)||j(x)||Q(x)||J(x)||/windows phone/i.test(x)||le(x)}function ur(x,g=[]){let b;switch(x){case"Browser":b=ze((0,R.z$)());break;case"Worker":b=`${ze((0,R.z$)())}-${x}`;break;default:b=x}const O=g.length?g.join(","):"FirebaseCore-web";return`${b}/JsCore/${E.SDK_VERSION}/${O}`}function jt(){return(jt=(0,f.Z)(function*(x){return(yield Be(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wn(x,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(x,g){return Be(x,"GET","/v2/recaptchaConfig",lt(x,g))})).apply(this,arguments)}function Jn(x){return void 0!==x&&void 0!==x.getResponse}function mi(x){return void 0!==x&&void 0!==x.enterprise}class $n{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function ai(x){return new Promise((g,b)=>{const O=document.createElement("script");O.setAttribute("src",x),O.onload=g,O.onerror=se=>{const Se=Ae("internal-error");Se.customData=se,b(Se)},O.type="text/javascript",O.charset="UTF-8",function ki(){var x,g;return null!==(g=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==g?g:document}().appendChild(O)})}function pr(x){return`__${x}${Math.floor(1e6*Math.random())}`}const mr="NO_RECAPTCHA";class Yr{constructor(g){this.type="recaptcha-enterprise",this.auth=Oi(g)}verify(g="verify",b=!1){var O=this;return(0,f.Z)(function*(){function Se(){return Se=(0,f.Z)(function*(ln){if(!b){if(null==ln.tenantId&&null!=ln._agentRecaptchaConfig)return ln._agentRecaptchaConfig.siteKey;if(null!=ln.tenantId&&void 0!==ln._tenantRecaptchaConfigs[ln.tenantId])return ln._tenantRecaptchaConfigs[ln.tenantId].siteKey}return new Promise(function(){var On=(0,f.Z)(function*(Hn,oi){wn(ln,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Di=>{if(void 0!==Di.recaptchaKey){const bi=new $n(Di);return null==ln.tenantId?ln._agentRecaptchaConfig=bi:ln._tenantRecaptchaConfigs[ln.tenantId]=bi,Hn(bi.siteKey)}oi(new Error("recaptcha Enterprise site key undefined"))}).catch(Di=>{oi(Di)})});return function(Hn,oi){return On.apply(this,arguments)}}())}),Se.apply(this,arguments)}function Mt(ln,On,Hn){const oi=window.grecaptcha;mi(oi)?oi.enterprise.ready(()=>{oi.enterprise.execute(ln,{action:g}).then(Di=>{On(Di)}).catch(()=>{On(mr)})}):Hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ln,On)=>{(function se(ln){return Se.apply(this,arguments)})(O.auth).then(Hn=>{if(!b&&mi(window.grecaptcha))Mt(Hn,ln,On);else{if(typeof window>"u")return void On(new Error("RecaptchaVerifier is only supported in browser"));ai("https://www.google.com/recaptcha/enterprise.js?render="+Hn).then(()=>{Mt(Hn,ln,On)}).catch(oi=>{On(oi)})}}).catch(Hn=>{On(Hn)})})})()}}function qi(x,g,b){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(x,g,b,O=!1){const se=new Yr(x);let Se;try{Se=yield se.verify(b)}catch{Se=yield se.verify(b,!0)}const Mt=Object.assign({},g);return Object.assign(Mt,O?{captchaResp:Se}:{captchaResponse:Se}),Object.assign(Mt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Mt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Mt})).apply(this,arguments)}class pi{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,b){const O=Se=>new Promise((Mt,ln)=>{try{Mt(g(Se))}catch(On){ln(On)}});O.onAbort=b,this.queue.push(O);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(g){var b=this;return(0,f.Z)(function*(){if(b.auth.currentUser===g)return;const O=[];try{for(const se of b.queue)yield se(g),se.onAbort&&O.push(se.onAbort)}catch(se){O.reverse();for(const Se of O)try{Se()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class Zi{constructor(g,b,O,se){this.app=g,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=O,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ts(this),this.idTokenSubscription=new ts(this),this.beforeStateQueue=new pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(g,b){var O=this;return b&&(this._popupRedirectResolver=ae(b)),this._initializationPromise=this.queue((0,f.Z)(function*(){var se,Se;if(!O._deleted&&(O.persistenceManager=yield Ve.create(O,g),!O._deleted)){if(null!==(se=O._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(b),O.lastNotifiedUid=(null===(Se=O.currentUser)||void 0===Se?void 0:Se.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,f.Z)(function*(){if(g._deleted)return;const b=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||b){if(g.currentUser&&b&&g.currentUser.uid===b.uid)return g._currentUser._assign(b),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(b,!0)}})()}initializeCurrentUser(g){var b=this;return(0,f.Z)(function*(){var O;const se=yield b.assertedPersistence.getCurrentUser();let Se=se,Mt=!1;if(g&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ln=null===(O=b.redirectUser)||void 0===O?void 0:O._redirectEventId,On=Se?._redirectEventId,Hn=yield b.tryRedirectSignIn(g);(!ln||ln===On)&&Hn?.user&&(Se=Hn.user,Mt=!0)}if(!Se)return b.directlySetCurrentUser(null);if(!Se._redirectEventId){if(Mt)try{yield b.beforeStateQueue.runMiddleware(Se)}catch(ln){Se=se,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ln))}return Se?b.reloadAndSetCurrentUserOrClear(Se):b.directlySetCurrentUser(null)}return Ye(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Se._redirectEventId?b.directlySetCurrentUser(Se):b.reloadAndSetCurrentUserOrClear(Se)})()}tryRedirectSignIn(g){var b=this;return(0,f.Z)(function*(){let O=null;try{O=yield b._popupRedirectResolver._completeRedirectFn(b,g,!0)}catch{yield b._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(g){var b=this;return(0,f.Z)(function*(){try{yield ft(g)}catch(O){if("auth/network-request-failed"!==O?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ut(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var g=this;return(0,f.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var b=this;return(0,f.Z)(function*(){const O=g?(0,R.m9)(g):null;return O&&Ye(O.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(O&&O._clone(b))})()}_updateCurrentUser(g,b=!1){var O=this;return(0,f.Z)(function*(){if(!O._deleted)return g&&Ye(O.tenantId===g.tenantId,O,"tenant-id-mismatch"),b||(yield O.beforeStateQueue.runMiddleware(g)),O.queue((0,f.Z)(function*(){yield O.directlySetCurrentUser(g),O.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,f.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var b=this;return this.queue((0,f.Z)(function*(){yield b.assertedPersistence.setPersistence(ae(g))}))}initializeRecaptchaConfig(){var g=this;return(0,f.Z)(function*(){const b=yield wn(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),O=new $n(b);null==g.tenantId?g._agentRecaptchaConfig=O:g._tenantRecaptchaConfigs[g.tenantId]=O,O.emailPasswordEnabled&&new Yr(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new R.LL("auth","Firebase",g())}onAuthStateChanged(g,b,O){return this.registerStateListener(this.authStateSubscription,g,b,O)}beforeAuthStateChanged(g,b){return this.beforeStateQueue.pushCallback(g,b)}onIdTokenChanged(g,b,O){return this.registerStateListener(this.idTokenSubscription,g,b,O)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,b){var O=this;return(0,f.Z)(function*(){const se=yield O.getOrInitRedirectPersistenceManager(b);return null===g?se.removeCurrentUser():se.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var b=this;return(0,f.Z)(function*(){if(!b.redirectPersistenceManager){const O=g&&ae(g)||b._popupRedirectResolver;Ye(O,b,"argument-error"),b.redirectPersistenceManager=yield Ve.create(b,[ae(O._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(g){var b=this;return(0,f.Z)(function*(){var O,se;return b._isInitialized&&(yield b.queue((0,f.Z)(function*(){}))),(null===(O=b._currentUser)||void 0===O?void 0:O._redirectEventId)===g?b._currentUser:(null===(se=b.redirectUser)||void 0===se?void 0:se._redirectEventId)===g?b.redirectUser:null})()}_persistUserIfCurrent(g){var b=this;return(0,f.Z)(function*(){if(g===b.currentUser)return b.queue((0,f.Z)(function*(){return b.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(b=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,b,O,se){if(this._deleted)return()=>{};const Se="function"==typeof b?b:b.next.bind(b),Mt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(Mt,this,"internal-error"),Mt.then(()=>Se(this.currentUser)),"function"==typeof b?g.addObserver(b,O,se):g.addObserver(b)}directlySetCurrentUser(g){var b=this;return(0,f.Z)(function*(){b.currentUser&&b.currentUser!==g&&b._currentUser._stopProactiveRefresh(),g&&b.isProactiveRefreshEnabled&&g._startProactiveRefresh(),b.currentUser=g,g?yield b.assertedPersistence.setCurrentUser(g):yield b.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,f.Z)(function*(){var b;const O={"X-Client-Version":g.clientVersion};g.app.options.appId&&(O["X-Firebase-gmpid"]=g.app.options.appId);const se=yield null===(b=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();se&&(O["X-Firebase-Client"]=se);const Se=yield g._getAppCheckToken();return Se&&(O["X-Firebase-AppCheck"]=Se),O})()}_getAppCheckToken(){var g=this;return(0,f.Z)(function*(){var b;const O=yield null===(b=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return O?.error&&function Pe(x,...g){Ge.logLevel<=ce.in.WARN&&Ge.warn(`Auth (${E.SDK_VERSION}): ${x}`,...g)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Oi(x){return(0,R.m9)(x)}class ts{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,R.ne)(b=>this.observer=b)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $i(x,g,b){const O=Oi(x);Ye(O._canInitEmulator,O,"emulator-config-failed"),Ye(/^https?:\/\//.test(g),O,"invalid-emulator-scheme");const se=!!b?.disableWarnings,Se=Ct(g),{host:Mt,port:ln}=function dt(x){const g=Ct(x),b=/(\/\/)?([^?#/]+)/.exec(x.substr(g.length));if(!b)return{host:"",port:null};const O=b[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(O);if(se){const Se=se[1];return{host:Se,port:yt(O.substr(Se.length+1))}}{const[Se,Mt]=O.split(":");return{host:Se,port:yt(Mt)}}}(g);O.config.emulator={url:`${Se}//${Mt}${null===ln?"":`:${ln}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Mt,port:ln,protocol:Se.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function cn(){function x(){const g=document.createElement("p"),b=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function Ct(x){const g=x.indexOf(":");return g<0?"":x.substr(0,g+1)}function yt(x){if(!x)return null;const g=Number(x);return isNaN(g)?null:g}class In{constructor(g,b){this.providerId=g,this.signInMethod=b}toJSON(){return Xt("not implemented")}_getIdTokenResponse(g){return Xt("not implemented")}_linkToIdToken(g,b){return Xt("not implemented")}_getReauthenticationResolver(g){return Xt("not implemented")}}function ii(x,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:resetPassword",lt(x,g))})).apply(this,arguments)}function di(x,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:update",lt(x,g))})).apply(this,arguments)}function Lr(x,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signInWithPassword",lt(x,g))})).apply(this,arguments)}function rr(x,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:sendOobCode",lt(x,g))})).apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(x,g){return rr(x,g)})).apply(this,arguments)}function Do(x,g){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(x,g){return rr(x,g)})).apply(this,arguments)}function Zs(x,g){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(x,g){return rr(x,g)})).apply(this,arguments)}function zr(){return(zr=(0,f.Z)(function*(x,g){return rr(x,g)})).apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signInWithEmailLink",lt(x,g))})).apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signInWithEmailLink",lt(x,g))})).apply(this,arguments)}class gr extends In{constructor(g,b,O,se=null){super("password",O),this._email=g,this._password=b,this._tenantId=se}static _fromEmailAndPassword(g,b){return new gr(g,b,"password")}static _fromEmailAndCode(g,b,O=null){return new gr(g,b,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const b="string"==typeof g?JSON.parse(g):g;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(g){var b=this;return(0,f.Z)(function*(){var O;switch(b.signInMethod){case"password":const se={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=g._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Se=yield qi(g,se,"signInWithPassword");return Lr(g,Se)}return Lr(g,se).catch(function(){var Se=(0,f.Z)(function*(Mt){if("auth/missing-recaptcha-token"===Mt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ln=yield qi(g,se,"signInWithPassword");return Lr(g,ln)}return Promise.reject(Mt)});return function(Mt){return Se.apply(this,arguments)}}());case"emailLink":return function Mr(x,g){return Cr.apply(this,arguments)}(g,{email:b._email,oobCode:b._password});default:Qe(g,"internal-error")}})()}_linkToIdToken(g,b){var O=this;return(0,f.Z)(function*(){switch(O.signInMethod){case"password":return di(g,{idToken:b,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function vs(x,g){return uo.apply(this,arguments)}(g,{idToken:b,email:O._email,oobCode:O._password});default:Qe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Wi(x,g){return $r.apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signInWithIdp",lt(x,g))})).apply(this,arguments)}class ns extends In{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const b=new ns(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(b.idToken=g.idToken),g.accessToken&&(b.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(b.nonce=g.nonce),g.pendingToken&&(b.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(b.accessToken=g.oauthToken,b.secret=g.oauthTokenSecret):Qe("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const b="string"==typeof g?JSON.parse(g):g,{providerId:O,signInMethod:se}=b,Se=(0,me._T)(b,["providerId","signInMethod"]);if(!O||!se)return null;const Mt=new ns(O,se);return Mt.idToken=Se.idToken||void 0,Mt.accessToken=Se.accessToken||void 0,Mt.secret=Se.secret,Mt.nonce=Se.nonce,Mt.pendingToken=Se.pendingToken||null,Mt}_getIdTokenResponse(g){return Wi(g,this.buildRequest())}_linkToIdToken(g,b){const O=this.buildRequest();return O.idToken=b,Wi(g,O)}_getReauthenticationResolver(g){const b=this.buildRequest();return b.autoCreate=!1,Wi(g,b)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),g.postBody=(0,R.xO)(b)}return g}}function Ua(){return(Ua=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:sendVerificationCode",lt(x,g))})).apply(this,arguments)}function ll(){return(ll=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,g))})).apply(this,arguments)}function za(){return(za=(0,f.Z)(function*(x,g){const b=yield ht(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,g));if(b.temporaryProof)throw At(x,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const zs={USER_NOT_FOUND:"user-not-found"};function ya(){return(ya=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signInWithPhoneNumber",lt(x,Object.assign(Object.assign({},g),{operation:"REAUTH"})),zs)})).apply(this,arguments)}class qs extends In{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,b){return new qs({verificationId:g,verificationCode:b})}static _fromTokenResponse(g,b){return new qs({phoneNumber:g,temporaryProof:b})}_getIdTokenResponse(g){return function _a(x,g){return ll.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,b){return function ea(x,g){return za.apply(this,arguments)}(g,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ds(x,g){return ya.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:b,verificationId:O,verificationCode:se}=this.params;return g&&b?{temporaryProof:g,phoneNumber:b}:{sessionInfo:O,code:se}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:b,verificationCode:O,phoneNumber:se,temporaryProof:Se}=g;return O||b||se||Se?new qs({verificationId:b,verificationCode:O,phoneNumber:se,temporaryProof:Se}):null}}class So{constructor(g){var b,O,se,Se,Mt,ln;const On=(0,R.zd)((0,R.pd)(g)),Hn=null!==(b=On.apiKey)&&void 0!==b?b:null,oi=null!==(O=On.oobCode)&&void 0!==O?O:null,Di=function Qs(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=On.mode)&&void 0!==se?se:null);Ye(Hn&&oi&&Di,"argument-error"),this.apiKey=Hn,this.operation=Di,this.code=oi,this.continueUrl=null!==(Se=On.continueUrl)&&void 0!==Se?Se:null,this.languageCode=null!==(Mt=On.languageCode)&&void 0!==Mt?Mt:null,this.tenantId=null!==(ln=On.tenantId)&&void 0!==ln?ln:null}static parseLink(g){const b=function ta(x){const g=(0,R.zd)((0,R.pd)(x)).link,b=g?(0,R.zd)((0,R.pd)(g)).deep_link_id:null,O=(0,R.zd)((0,R.pd)(x)).deep_link_id;return(O?(0,R.zd)((0,R.pd)(O)).link:null)||O||b||g||x}(g);try{return new So(b)}catch{return null}}}let Ha=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(b,O){return gr._fromEmailAndPassword(b,O)}static credentialWithLink(b,O){const se=So.parseLink(O);return Ye(se,"argument-error"),gr._fromEmailAndCode(b,se.code,se.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class ho{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class is extends ho{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class bs extends is{static credentialFromJSON(g){const b="string"==typeof g?JSON.parse(g):g;return Ye("providerId"in b&&"signInMethod"in b,"argument-error"),ns._fromParams(b)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ye(g.idToken||g.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return bs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return bs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:O,oauthTokenSecret:se,pendingToken:Se,nonce:Mt,providerId:ln}=g;if(!O&&!se&&!b&&!Se||!ln)return null;try{return new bs(ln)._credential({idToken:b,accessToken:O,nonce:Mt,pendingToken:Se})}catch{return null}}}let fo=(()=>{class x extends is{constructor(){super("facebook.com")}static credential(b){return ns._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return x.credential(b.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),va=(()=>{class x extends is{constructor(){super("google.com"),this.addScope("profile")}static credential(b,O){return ns._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:O})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:O,oauthAccessToken:se}=b;if(!O&&!se)return null;try{return x.credential(O,se)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),ba=(()=>{class x extends is{constructor(){super("github.com")}static credential(b){return ns._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return x.credential(b.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class po extends In{constructor(g,b){super(g,g),this.pendingToken=b}_getIdTokenResponse(g){return Wi(g,this.buildRequest())}_linkToIdToken(g,b){const O=this.buildRequest();return O.idToken=b,Wi(g,O)}_getReauthenticationResolver(g){const b=this.buildRequest();return b.autoCreate=!1,Wi(g,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const b="string"==typeof g?JSON.parse(g):g,{providerId:O,signInMethod:se,pendingToken:Se}=b;return O&&se&&Se&&O===se?new po(O,Se):null}static _create(g,b){return new po(g,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ga extends ho{constructor(g){Ye(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ga.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ga.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const b=po.fromJSON(g);return Ye(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:b,providerId:O}=g;if(!b||!O)return null;try{return po._create(O,b)}catch{return null}}}let bc=(()=>{class x extends is{constructor(){super("twitter.com")}static credential(b,O){return ns._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:O})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:O,oauthTokenSecret:se}=b;if(!O||!se)return null;try{return x.credential(O,se)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function mo(x,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signUp",lt(x,g))})).apply(this,arguments)}class dr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,b,O,se=!1){return(0,f.Z)(function*(){const Se=yield H._fromIdTokenResponse(g,O,se),Mt=zo(O);return new dr({user:Se,providerId:Mt,_tokenResponse:O,operationType:b})})()}static _forOperation(g,b,O){return(0,f.Z)(function*(){yield g._updateTokensIfNecessary(O,!0);const se=zo(O);return new dr({user:g,providerId:se,_tokenResponse:O,operationType:b})})()}}function zo(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function jo(x){return _r.apply(this,arguments)}function _r(){return(_r=(0,f.Z)(function*(x){var g;const b=Oi(x);if(yield b._initializationPromise,null!==(g=b.currentUser)&&void 0!==g&&g.isAnonymous)return new dr({user:b.currentUser,providerId:null,operationType:"signIn"});const O=yield mo(b,{returnSecureToken:!0}),se=yield dr._fromIdTokenResponse(b,"signIn",O,!0);return yield b._updateCurrentUser(se.user),se})).apply(this,arguments)}class yr extends R.ZR{constructor(g,b,O,se){var Se;super(b.code,b.message),this.operationType=O,this.user=se,Object.setPrototypeOf(this,yr.prototype),this.customData={appName:g.name,tenantId:null!==(Se=g.tenantId)&&void 0!==Se?Se:void 0,_serverResponse:b.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(g,b,O,se){return new yr(g,b,O,se)}}function Ho(x,g,b,O){return("reauthenticate"===g?b._getReauthenticationResolver(x):b._getIdTokenResponse(x)).catch(Se=>{throw"auth/multi-factor-auth-required"===Se.code?yr._fromErrorAndOperation(x,Se,g,O):Se})}function xi(x){return new Set(x.map(({providerId:g})=>g).filter(g=>!!g))}function Xl(x,g){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,f.Z)(function*(x,g){const b=(0,R.m9)(x);yield rs(!0,b,g);const{providerUserInfo:O}=yield function qn(x,g){return bt.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[g]}),se=xi(O||[]);return b.providerData=b.providerData.filter(Se=>se.has(Se.providerId)),se.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),Ka.apply(this,arguments)}function Wr(x,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(x,g,b=!1){const O=yield Zt(x,g._linkToIdToken(x.auth,yield x.getIdToken()),b);return dr._forOperation(x,"link",O)})).apply(this,arguments)}function rs(x,g,b){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,f.Z)(function*(x,g,b){yield ft(g);const se=!1===x?"provider-already-linked":"no-such-provider";Ye(xi(g.providerData).has(b)===x,g.auth,se)})).apply(this,arguments)}function Ps(x,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(x,g,b=!1){const{auth:O}=x,se="reauthenticate";try{const Se=yield Zt(x,Ho(O,se,g,x),b);Ye(Se.idToken,O,"internal-error");const Mt=zt(Se.idToken);Ye(Mt,O,"internal-error");const{sub:ln}=Mt;return Ye(x.uid===ln,O,"user-mismatch"),dr._forOperation(x,se,Se)}catch(Se){throw"auth/user-not-found"===Se?.code&&Qe(O,"user-mismatch"),Se}})).apply(this,arguments)}function Ea(x,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,f.Z)(function*(x,g,b=!1){const O="signIn",se=yield Ho(x,O,g),Se=yield dr._fromIdTokenResponse(x,O,se);return b||(yield x._updateCurrentUser(Se.user)),Se})).apply(this,arguments)}function li(x,g){return To.apply(this,arguments)}function To(){return(To=(0,f.Z)(function*(x,g){return Ea(Oi(x),g)})).apply(this,arguments)}function q(x,g){return $.apply(this,arguments)}function $(){return($=(0,f.Z)(function*(x,g){const b=(0,R.m9)(x);return yield rs(!1,b,g.providerId),Wr(b,g)})).apply(this,arguments)}function V(x,g){return we.apply(this,arguments)}function we(){return(we=(0,f.Z)(function*(x,g){return Ps((0,R.m9)(x),g)})).apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(x,g){return ht(x,"POST","/v1/accounts:signInWithCustomToken",lt(x,g))})).apply(this,arguments)}function sr(x,g){return en.apply(this,arguments)}function en(){return en=(0,f.Z)(function*(x,g){const b=Oi(x),O=yield function tn(x,g){return Gn.apply(this,arguments)}(b,{token:g,returnSecureToken:!0}),se=yield dr._fromIdTokenResponse(b,"signIn",O);return yield b._updateCurrentUser(se.user),se}),en.apply(this,arguments)}class hi{constructor(g,b){this.factorId=g,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(g,b){return"phoneInfo"in b?go._fromServerResponse(g,b):"totpInfo"in b?Ss._fromServerResponse(g,b):Qe(g,"internal-error")}}class go extends hi{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,b){return new go(b)}}class Ss extends hi{constructor(g){super("totp",g)}static _fromServerResponse(g,b){return new Ss(b)}}function Ur(x,g,b){var O;Ye((null===(O=b.url)||void 0===O?void 0:O.length)>0,x,"invalid-continue-uri"),Ye(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),g.continueUrl=b.url,g.dynamicLinkDomain=b.dynamicLinkDomain,g.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ye(b.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),g.iOSBundleId=b.iOS.bundleId),b.android&&(Ye(b.android.packageName.length>0,x,"missing-android-pkg-name"),g.androidInstallApp=b.android.installApp,g.androidMinimumVersionCode=b.android.minimumVersion,g.androidPackageName=b.android.packageName)}function Tl(x,g,b){return _o.apply(this,arguments)}function _o(){return _o=(0,f.Z)(function*(x,g,b){var O;const se=Oi(x),Se={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=se._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Mt=yield qi(se,Se,"getOobCode",!0);b&&Ur(se,Mt,b),yield Do(se,Mt)}else b&&Ur(se,Se,b),yield Do(se,Se).catch(function(){var Mt=(0,f.Z)(function*(ln){if("auth/missing-recaptcha-token"!==ln.code)return Promise.reject(ln);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const On=yield qi(se,Se,"getOobCode",!0);b&&Ur(se,On,b),yield Do(se,On)}});return function(ln){return Mt.apply(this,arguments)}}())}),_o.apply(this,arguments)}function ks(x,g,b){return cl.apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(x,g,b){yield ii((0,R.m9)(x),{oobCode:g,newPassword:b})})).apply(this,arguments)}function wa(x,g){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,f.Z)(function*(x,g){yield function ys(x,g){return Fr.apply(this,arguments)}((0,R.m9)(x),{oobCode:g})}),Jl.apply(this,arguments)}function Ao(x,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,f.Z)(function*(x,g){const b=(0,R.m9)(x),O=yield ii(b,{oobCode:g}),se=O.requestType;switch(Ye(se,b,"internal-error"),se){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ye(O.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ye(O.mfaInfo,b,"internal-error");default:Ye(O.email,b,"internal-error")}let Se=null;return O.mfaInfo&&(Se=hi._fromServerResponse(Oi(b),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:Se},operation:se}})).apply(this,arguments)}function qr(x,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(x,g){const{data:b}=yield Ao((0,R.m9)(x),g);return b.email})).apply(this,arguments)}function yo(x,g,b){return Js.apply(this,arguments)}function Js(){return Js=(0,f.Z)(function*(x,g,b){var O;const se=Oi(x),Se={returnSecureToken:!0,email:g,password:b,clientType:"CLIENT_TYPE_WEB"};let Mt;if(null!==(O=se._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Hn=yield qi(se,Se,"signUpPassword");Mt=mo(se,Hn)}else Mt=mo(se,Se).catch(function(){var Hn=(0,f.Z)(function*(oi){if("auth/missing-recaptcha-token"===oi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Di=yield qi(se,Se,"signUpPassword");return mo(se,Di)}return Promise.reject(oi)});return function(oi){return Hn.apply(this,arguments)}}());const ln=yield Mt.catch(Hn=>Promise.reject(Hn)),On=yield dr._fromIdTokenResponse(se,"signIn",ln);return yield se._updateCurrentUser(On.user),On}),Js.apply(this,arguments)}function ss(x,g,b){return li((0,R.m9)(x),Ha.credential(g,b))}function os(x,g,b){return na.apply(this,arguments)}function na(){return na=(0,f.Z)(function*(x,g,b){var O;const se=Oi(x),Se={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function Mt(ln,On){Ye(On.handleCodeInApp,se,"argument-error"),On&&Ur(se,ln,On)}if(null!==(O=se._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const ln=yield qi(se,Se,"getOobCode",!0);Mt(ln,b),yield Zs(se,ln)}else Mt(Se,b),yield Zs(se,Se).catch(function(){var ln=(0,f.Z)(function*(On){if("auth/missing-recaptcha-token"!==On.code)return Promise.reject(On);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Hn=yield qi(se,Se,"getOobCode",!0);Mt(Hn,b),yield Zs(se,Hn)}});return function(On){return ln.apply(this,arguments)}}())}),na.apply(this,arguments)}function Al(x,g){return"EMAIL_SIGNIN"===So.parseLink(g)?.operation}function ul(x,g,b){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x),se=Ha.credentialWithLink(g,b||sn());return Ye(se._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),li(O,se)})).apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:createAuthUri",lt(x,g))})).apply(this,arguments)}function or(x,g){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,f.Z)(function*(x,g){const O={identifier:g,continueUri:En()?sn():"http://localhost"},{signinMethods:se}=yield function hs(x,g){return ia.apply(this,arguments)}((0,R.m9)(x),O);return se||[]}),Ca.apply(this,arguments)}function ra(x,g){return as.apply(this,arguments)}function as(){return as=(0,f.Z)(function*(x,g){const b=(0,R.m9)(x),se={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};g&&Ur(b.auth,se,g);const{email:Se}=yield function Ms(x,g){return Os.apply(this,arguments)}(b.auth,se);Se!==x.email&&(yield x.reload())}),as.apply(this,arguments)}function $o(x,g,b){return sa.apply(this,arguments)}function sa(){return sa=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x),Se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:g};b&&Ur(O.auth,Se,b);const{email:Mt}=yield function Ba(x,g){return zr.apply(this,arguments)}(O.auth,Se);Mt!==x.email&&(yield x.reload())}),sa.apply(this,arguments)}function dl(){return(dl=(0,f.Z)(function*(x,g){return Be(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ec(x,g){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,f.Z)(function*(x,{displayName:g,photoURL:b}){if(void 0===g&&void 0===b)return;const O=(0,R.m9)(x),Se={idToken:yield O.getIdToken(),displayName:g,photoUrl:b,returnSecureToken:!0},Mt=yield Zt(O,function Ia(x,g){return dl.apply(this,arguments)}(O.auth,Se));O.displayName=Mt.displayName||null,O.photoURL=Mt.photoUrl||null;const ln=O.providerData.find(({providerId:On})=>"password"===On);ln&&(ln.displayName=O.displayName,ln.photoURL=O.photoURL),yield O._updateTokensIfNecessary(Mt)}),Cs.apply(this,arguments)}function fs(x,g){return eo((0,R.m9)(x),g,null)}function Qi(x,g){return eo((0,R.m9)(x),null,g)}function eo(x,g,b){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,f.Z)(function*(x,g,b){const{auth:O}=x,Se={idToken:yield x.getIdToken(),returnSecureToken:!0};g&&(Se.email=g),b&&(Se.password=b);const Mt=yield Zt(x,di(O,Se));yield x._updateTokensIfNecessary(Mt,!0)})).apply(this,arguments)}class Mo{constructor(g,b,O={}){this.isNewUser=g,this.providerId=b,this.profile=O}}class hl extends Mo{constructor(g,b,O,se){super(g,b,O),this.username=se}}class Ya extends Mo{constructor(g,b){super(g,"facebook.com",b)}}class Ml extends hl{constructor(g,b){super(g,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class wc extends Mo{constructor(g,b){super(g,"google.com",b)}}class fl extends hl{constructor(g,b,O){super(g,"twitter.com",b,O)}}function Za(x){const{user:g,_tokenResponse:b}=x;return g.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function to(x){var g,b;if(!x)return null;const{providerId:O}=x,se=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},Se=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!O&&x?.idToken){const Mt=null===(b=null===(g=zt(x.idToken))||void 0===g?void 0:g.firebase)||void 0===b?void 0:b.sign_in_provider;if(Mt)return new Mo(Se,"anonymous"!==Mt&&"custom"!==Mt?Mt:null)}if(!O)return null;switch(O){case"facebook.com":return new Ya(Se,se);case"github.com":return new Ml(Se,se);case"google.com":return new wc(Se,se);case"twitter.com":return new fl(Se,se,x.screenName||null);case"custom":case"anonymous":return new Mo(Se,null);default:return new Mo(Se,O,se)}}(b)}class Si{constructor(g,b,O){this.type=g,this.credential=b,this.auth=O}static _fromIdtoken(g,b){return new Si("enroll",g,b)}static _fromMfaPendingCredential(g){return new Si("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var b,O;if(g?.multiFactorSession){if(null!==(b=g.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Si._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(O=g.multiFactorSession)&&void 0!==O&&O.idToken)return Si._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Yi{constructor(g,b,O){this.session=g,this.hints=b,this.signInResolver=O}static _fromError(g,b){const O=Oi(g),se=b.customData._serverResponse,Se=(se.mfaInfo||[]).map(ln=>hi._fromServerResponse(O,ln));Ye(se.mfaPendingCredential,O,"internal-error");const Mt=Si._fromMfaPendingCredential(se.mfaPendingCredential);return new Yi(Mt,Se,function(){var ln=(0,f.Z)(function*(On){const Hn=yield On._process(O,Mt);delete se.mfaInfo,delete se.mfaPendingCredential;const oi=Object.assign(Object.assign({},se),{idToken:Hn.idToken,refreshToken:Hn.refreshToken});switch(b.operationType){case"signIn":const Di=yield dr._fromIdTokenResponse(O,b.operationType,oi);return yield O._updateCurrentUser(Di.user),Di;case"reauthenticate":return Ye(b.user,O,"internal-error"),dr._forOperation(b.user,b.operationType,oi);default:Qe(O,"internal-error")}});return function(On){return ln.apply(this,arguments)}}())}resolveSignIn(g){var b=this;return(0,f.Z)(function*(){return b.signInResolver(g)})()}}function Ni(x,g){var b;const O=(0,R.m9)(x),se=g;return Ye(g.customData.operationType,O,"argument-error"),Ye(null===(b=se.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,O,"argument-error"),Yi._fromError(O,se)}class Kn{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(O=>hi._fromServerResponse(g.auth,O)))})}static _fromUser(g){return new Kn(g)}getSession(){var g=this;return(0,f.Z)(function*(){return Si._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,b){var O=this;return(0,f.Z)(function*(){const se=g,Se=yield O.getSession(),Mt=yield Zt(O.user,se._process(O.user.auth,Se,b));return yield O.user._updateTokensIfNecessary(Mt),O.user.reload()})()}unenroll(g){var b=this;return(0,f.Z)(function*(){const O="string"==typeof g?g:g.uid,se=yield b.user.getIdToken();try{const Se=yield Zt(b.user,function kn(x,g){return Be(x,"POST","/v2/accounts/mfaEnrollment:withdraw",lt(x,g))}(b.user.auth,{idToken:se,mfaEnrollmentId:O}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Mt})=>Mt!==O),yield b.user._updateTokensIfNecessary(Se),yield b.user.reload()}catch(Se){throw Se}})()}}const Is=new WeakMap;function Mn(x){const g=(0,R.m9)(x);return Is.has(g)||Is.set(g,Kn._fromUser(g)),Is.get(g)}const Kt="__sak";class _n{constructor(g,b){this.storageRetriever=g,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Kt,"1"),this.storage.removeItem(Kt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,b){return this.storage.setItem(g,JSON.stringify(b)),Promise.resolve()}_get(g){const b=this.storage.getItem(g);return Promise.resolve(b?JSON.parse(b):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cu=(()=>{class x extends _n{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,O)=>this.onStorageEvent(b,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ls(){const x=(0,R.z$)();return fe(x)||xe(x)}()&&function vi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const O of Object.keys(this.listeners)){const se=this.storage.getItem(O),Se=this.localCache[O];se!==Se&&b(O,Se,se)}}onStorageEvent(b,O=!1){if(!b.key)return void this.forAllChangedKeys((ln,On,Hn)=>{this.notifyListeners(ln,Hn)});const se=b.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ln=this.storage.getItem(se);if(b.newValue!==ln)null!==b.newValue?this.storage.setItem(se,b.newValue):this.storage.removeItem(se);else if(this.localCache[se]===b.newValue&&!O)return}const Se=()=>{const ln=this.storage.getItem(se);!O&&this.localCache[se]===ln||this.notifyListeners(se,ln)},Mt=this.storage.getItem(se);!function vn(){return(0,R.w1)()&&10===document.documentMode}()||Mt===b.newValue||b.newValue===b.oldValue?Se():setTimeout(Se,10)}notifyListeners(b,O){this.localCache[b]=O;const se=this.listeners[b];if(se)for(const Se of Array.from(se))Se(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,O,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:O,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(O)}_removeListener(b,O){this.listeners[b]&&(this.listeners[b].delete(O),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,O){var se=()=>super._set,Se=this;return(0,f.Z)(function*(){yield se().call(Se,b,O),Se.localCache[b]=JSON.stringify(O)})()}_get(b){var O=()=>super._get,se=this;return(0,f.Z)(function*(){const Se=yield O().call(se,b);return se.localCache[b]=JSON.stringify(Se),Se})()}_remove(b){var O=()=>super._remove,se=this;return(0,f.Z)(function*(){yield O().call(se,b),delete se.localCache[b]})()}}return x.type="LOCAL",x})(),vo=(()=>{class x extends _n{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,O){}_removeListener(b,O){}}return x.type="SESSION",x})();let Iu=(()=>{class x{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const O=this.receivers.find(Se=>Se.isListeningto(b));if(O)return O;const se=new x(b);return this.receivers.push(se),se}isListeningto(b){return this.eventTarget===b}handleEvent(b){var O=this;return(0,f.Z)(function*(){const se=b,{eventId:Se,eventType:Mt,data:ln}=se.data,On=O.handlersMap[Mt];if(!On?.size)return;se.ports[0].postMessage({status:"ack",eventId:Se,eventType:Mt});const Hn=Array.from(On).map(function(){var Di=(0,f.Z)(function*(bi){return bi(se.origin,ln)});return function(bi){return Di.apply(this,arguments)}}()),oi=yield function Zd(x){return Promise.all(x.map(function(){var g=(0,f.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(O){return{fulfilled:!1,reason:O}}});return function(b){return g.apply(this,arguments)}}()))}(Hn);se.ports[0].postMessage({status:"done",eventId:Se,eventType:Mt,response:oi})})()}_subscribe(b,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(O)}_unsubscribe(b,O){this.handlersMap[b]&&O&&this.handlersMap[b].delete(O),(!O||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function pl(x="",g=10){let b="";for(let O=0;O<g;O++)b+=Math.floor(10*Math.random());return x+b}class qd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,b,O=50){var se=this;return(0,f.Z)(function*(){const Se=typeof MessageChannel<"u"?new MessageChannel:null;if(!Se)throw new Error("connection_unavailable");let Mt,ln;return new Promise((On,Hn)=>{const oi=pl("",20);Se.port1.start();const Di=setTimeout(()=>{Hn(new Error("unsupported_event"))},O);ln={messageChannel:Se,onMessage(bi){const Us=bi;if(Us.data.eventId===oi)switch(Us.data.status){case"ack":clearTimeout(Di),Mt=setTimeout(()=>{Hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Mt),On(Us.data.response);break;default:clearTimeout(Di),clearTimeout(Mt),Hn(new Error("invalid_response"))}}},se.handlers.add(ln),Se.port1.addEventListener("message",ln.onMessage),se.target.postMessage({eventType:g,eventId:oi,data:b},[Se.port2])}).finally(()=>{ln&&se.removeMessageHandler(ln)})})()}}function nr(){return window}function oa(){return typeof nr().WorkerGlobalScope<"u"&&"function"==typeof nr().importScripts}function Tr(){return(Tr=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yi="firebaseLocalStorageDb",Wc=1,Ci="firebaseLocalStorage",Bn="fbase_key";class Qr{constructor(g){this.request=g}toPromise(){return new Promise((g,b)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Rl(x,g){return x.transaction([Ci],g?"readwrite":"readonly").objectStore(Ci)}function hd(){const x=indexedDB.open(yi,Wc);return new Promise((g,b)=>{x.addEventListener("error",()=>{b(x.error)}),x.addEventListener("upgradeneeded",()=>{const O=x.result;try{O.createObjectStore(Ci,{keyPath:Bn})}catch(se){b(se)}}),x.addEventListener("success",(0,f.Z)(function*(){const O=x.result;O.objectStoreNames.contains(Ci)?g(O):(O.close(),yield function Ns(){const x=indexedDB.deleteDatabase(yi);return new Qr(x).toPromise()}(),g(yield hd()))}))})}function Pl(x,g,b){return bo.apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(x,g,b){const O=Rl(x,!0).put({[Bn]:g,value:b});return new Qr(O).toPromise()})).apply(this,arguments)}function Nl(){return(Nl=(0,f.Z)(function*(x,g){const b=Rl(x,!1).get(g),O=yield new Qr(b).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function Gc(x,g){const b=Rl(x,!0).delete(g);return new Qr(b).toPromise()}const nc=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,f.Z)(function*(){return b.db||(b.db=yield hd()),b.db})()}_withRetries(b){var O=this;return(0,f.Z)(function*(){let se=0;for(;;)try{const Se=yield O._openDb();return yield b(Se)}catch(Se){if(se++>3)throw Se;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,f.Z)(function*(){return oa()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,f.Z)(function*(){b.receiver=Iu._getInstance(function Ol(){return oa()?self:null}()),b.receiver._subscribe("keyChanged",function(){var O=(0,f.Z)(function*(se,Se){return{keyProcessed:(yield b._poll()).includes(Se.key)}});return function(se,Se){return O.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var O=(0,f.Z)(function*(se,Se){return["keyChanged"]});return function(se,Se){return O.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,f.Z)(function*(){var O,se;if(b.activeServiceWorker=yield function $c(){return Tr.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new qd(b.activeServiceWorker);const Se=yield b.sender._send("ping",{},800);Se&&null!==(O=Se[0])&&void 0!==O&&O.fulfilled&&null!==(se=Se[0])&&void 0!==se&&se.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var O=this;return(0,f.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function ri(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:b},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const b=yield hd();return yield Pl(b,Kt,"1"),yield Gc(b,Kt),!0}catch{}return!1})()}_withPendingWrite(b){var O=this;return(0,f.Z)(function*(){O.pendingWrites++;try{yield b()}finally{O.pendingWrites--}})()}_set(b,O){var se=this;return(0,f.Z)(function*(){return se._withPendingWrite((0,f.Z)(function*(){return yield se._withRetries(Se=>Pl(Se,b,O)),se.localCache[b]=O,se.notifyServiceWorker(b)}))})()}_get(b){var O=this;return(0,f.Z)(function*(){const se=yield O._withRetries(Se=>function kl(x,g){return Nl.apply(this,arguments)}(Se,b));return O.localCache[b]=se,se})()}_remove(b){var O=this;return(0,f.Z)(function*(){return O._withPendingWrite((0,f.Z)(function*(){return yield O._withRetries(se=>Gc(se,b)),delete O.localCache[b],O.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,f.Z)(function*(){const O=yield b._withRetries(Mt=>{const ln=Rl(Mt,!1).getAll();return new Qr(ln).toPromise()});if(!O)return[];if(0!==b.pendingWrites)return[];const se=[],Se=new Set;for(const{fbase_key:Mt,value:ln}of O)Se.add(Mt),JSON.stringify(b.localCache[Mt])!==JSON.stringify(ln)&&(b.notifyListeners(Mt,ln),se.push(Mt));for(const Mt of Object.keys(b.localCache))b.localCache[Mt]&&!Se.has(Mt)&&(b.notifyListeners(Mt,null),se.push(Mt));return se})()}notifyListeners(b,O){this.localCache[b]=O;const se=this.listeners[b];if(se)for(const Se of Array.from(se))Se(O)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(O)}_removeListener(b,O){this.listeners[b]&&(this.listeners[b].delete(O),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),Kc=1e12;class ml{constructor(g){this.auth=g,this.counter=Kc,this._widgets=new Map}render(g,b){const O=this.counter;return this._widgets.set(O,new gl(g,this.auth.name,b||{})),this.counter++,O}reset(g){var b;const O=g||Kc;null===(b=this._widgets.get(O))||void 0===b||b.delete(),this._widgets.delete(O)}getResponse(g){var b;return(null===(b=this._widgets.get(g||Kc))||void 0===b?void 0:b.getResponse())||""}execute(g){var b=this;return(0,f.Z)(function*(){var O;return null===(O=b._widgets.get(g||Kc))||void 0===O||O.execute(),""})()}}class gl{constructor(g,b,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof g?document.getElementById(g):g;Ye(se,"argument-error",{appName:b}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ll(x){const g=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<x;O++)g.push(b.charAt(Math.floor(Math.random()*b.length)));return g.join("")}(50);const{callback:g,"expired-callback":b}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _l=pr("rcb"),Yc=new Dt(3e4,6e4);class xa{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=nr().grecaptcha)||void 0===g||!g.render)}load(g,b=""){return Ye(function rc(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(b),g,"argument-error"),this.shouldResolveImmediately(b)&&Jn(nr().grecaptcha)?Promise.resolve(nr().grecaptcha):new Promise((O,se)=>{const Se=nr().setTimeout(()=>{se(Ae(g,"network-request-failed"))},Yc.get());nr()[_l]=()=>{nr().clearTimeout(Se),delete nr()[_l];const ln=nr().grecaptcha;if(!ln||!Jn(ln))return void se(Ae(g,"internal-error"));const On=ln.render;ln.render=(Hn,oi)=>{const Di=On(Hn,oi);return this.counter++,Di},this.hostLanguage=b,O(ln)},ai(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:_l,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Se),se(Ae(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var b;return!(null===(b=nr().grecaptcha)||void 0===b||!b.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hs{load(g){return(0,f.Z)(function*(){return new ml(g)})()}clearedOneInstance(){}}const Or="recaptcha",Eo={theme:"light",type:"image"};class Oo{constructor(g,b=Object.assign({},Eo),O){this.parameters=b,this.type=Or,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oi(O),this.isInvisible="invisible"===this.parameters.size,Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof g?document.getElementById(g):g;Ye(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hs:new xa,this.validateStartingState()}verify(){var g=this;return(0,f.Z)(function*(){g.assertNotDestroyed();const b=yield g.render(),O=g.getAssertedRecaptcha();return O.getResponse(b)||new Promise(Se=>{const Mt=ln=>{ln&&(g.tokenChangeListeners.delete(Mt),Se(ln))};g.tokenChangeListeners.add(Mt),g.isInvisible&&O.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ye(!this.parameters.sitekey,this.auth,"argument-error"),Ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return b=>{if(this.tokenChangeListeners.forEach(O=>O(b)),"function"==typeof g)g(b);else if("string"==typeof g){const O=nr()[g];"function"==typeof O&&O(b)}}}assertNotDestroyed(){Ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,f.Z)(function*(){if(yield g.init(),!g.widgetId){let b=g.container;if(!g.isInvisible){const O=document.createElement("div");b.appendChild(O),b=O}g.widgetId=g.getAssertedRecaptcha().render(b,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,f.Z)(function*(){Ye(En()&&!oa(),g.auth,"internal-error"),yield function ps(){let x=null;return new Promise(g=>{"complete"!==document.readyState?(x=()=>g(),window.addEventListener("load",x)):g()}).catch(g=>{throw x&&window.removeEventListener("load",x),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const b=yield function Wt(x){return jt.apply(this,arguments)}(g.auth);Ye(b,g.auth,"internal-error"),g.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ls{constructor(g,b){this.verificationId=g,this.onConfirmation=b}confirm(g){const b=qs._fromVerification(this.verificationId,g);return this.onConfirmation(b)}}function Ir(x,g,b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(x,g,b){const O=Oi(x),se=yield Y(O,g,(0,R.m9)(b));return new Ls(se,Se=>li(O,Se))})).apply(this,arguments)}function D(x,g,b){return S.apply(this,arguments)}function S(){return(S=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x);yield rs(!1,O,"phone");const se=yield Y(O.auth,g,(0,R.m9)(b));return new Ls(se,Se=>q(O,Se))})).apply(this,arguments)}function w(x,g,b){return L.apply(this,arguments)}function L(){return(L=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x),se=yield Y(O.auth,g,(0,R.m9)(b));return new Ls(se,Se=>V(O,Se))})).apply(this,arguments)}function Y(x,g,b){return pe.apply(this,arguments)}function pe(){return pe=(0,f.Z)(function*(x,g,b){var O;const se=yield b.verify();try{let Se;if(Ye("string"==typeof se,x,"argument-error"),Ye(b.type===Or,x,"argument-error"),Se="string"==typeof g?{phoneNumber:g}:g,"session"in Se){const Mt=Se.session;if("phoneNumber"in Se)return Ye("enroll"===Mt.type,x,"internal-error"),(yield function dn(x,g){return Be(x,"POST","/v2/accounts/mfaEnrollment:start",lt(x,g))}(x,{idToken:Mt.credential,phoneEnrollmentInfo:{phoneNumber:Se.phoneNumber,recaptchaToken:se}})).phoneSessionInfo.sessionInfo;{Ye("signin"===Mt.type,x,"internal-error");const ln=(null===(O=Se.multiFactorHint)||void 0===O?void 0:O.uid)||Se.multiFactorUid;return Ye(ln,x,"missing-multi-factor-info"),(yield function Da(x,g){return Be(x,"POST","/v2/accounts/mfaSignIn:start",lt(x,g))}(x,{mfaPendingCredential:Mt.credential,mfaEnrollmentId:ln,phoneSignInInfo:{recaptchaToken:se}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Mt}=yield function Va(x,g){return Ua.apply(this,arguments)}(x,{phoneNumber:Se.phoneNumber,recaptchaToken:se});return Mt}}finally{b._reset()}}),pe.apply(this,arguments)}function Ie(x,g){return xt.apply(this,arguments)}function xt(){return(xt=(0,f.Z)(function*(x,g){yield Wr((0,R.m9)(x),g)})).apply(this,arguments)}let un=(()=>{class x{constructor(b){this.providerId=x.PROVIDER_ID,this.auth=Oi(b)}verifyPhoneNumber(b,O){return Y(this.auth,b,(0,R.m9)(O))}static credential(b,O){return qs._fromVerification(b,O)}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:O,temporaryProof:se}=b;return O&&se?qs._fromTokenResponse(O,se):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function Vn(x,g){return g?ae(g):(Ye(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class jn extends In{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Wi(g,this._buildIdpRequest())}_linkToIdToken(g,b){return Wi(g,this._buildIdpRequest(b))}_getReauthenticationResolver(g){return Wi(g,this._buildIdpRequest())}_buildIdpRequest(g){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(b.idToken=g),b}}function Ai(x){return Ea(x.auth,new jn(x),x.bypassAuthState)}function cs(x){const{auth:g,user:b}=x;return Ye(b,g,"internal-error"),Ps(b,new jn(x),x.bypassAuthState)}function Ar(x){return $s.apply(this,arguments)}function $s(){return($s=(0,f.Z)(function*(x){const{auth:g,user:b}=x;return Ye(b,g,"internal-error"),Wr(b,new jn(x),x.bypassAuthState)})).apply(this,arguments)}class Sa{constructor(g,b,O,se,Se=!1){this.auth=g,this.resolver=O,this.user=se,this.bypassAuthState=Se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var g=this;return new Promise(function(){var b=(0,f.Z)(function*(O,se){g.pendingPromise={resolve:O,reject:se};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(Se){g.reject(Se)}});return function(O,se){return b.apply(this,arguments)}}())}onAuthEvent(g){var b=this;return(0,f.Z)(function*(){const{urlResponse:O,sessionId:se,postBody:Se,tenantId:Mt,error:ln,type:On}=g;if(ln)return void b.reject(ln);const Hn={auth:b.auth,requestUri:O,sessionId:se,tenantId:Mt||void 0,postBody:Se||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(On)(Hn))}catch(oi){b.reject(oi)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ai;case"linkViaPopup":case"linkViaRedirect":return Ar;case"reauthViaPopup":case"reauthViaRedirect":return cs;default:Qe(this.auth,"internal-error")}}resolve(g){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ro=new Dt(2e3,1e4);function Wo(x,g,b){return Go.apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(x,g,b){const O=Oi(x);Nt(x,g,ho);const se=Vn(O,b);return new qc(O,"signInViaPopup",g,se).executeNotNull()})).apply(this,arguments)}function Zc(x,g,b){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x);Nt(O.auth,g,ho);const se=Vn(O.auth,b);return new qc(O.auth,"reauthViaPopup",g,se,O).executeNotNull()})).apply(this,arguments)}function Du(x,g,b){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x);Nt(O.auth,g,ho);const se=Vn(O.auth,b);return new qc(O.auth,"linkViaPopup",g,se,O).executeNotNull()})).apply(this,arguments)}let qc=(()=>{class x extends Sa{constructor(b,O,se,Se,Mt){super(b,O,Se,Mt),this.provider=se,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var b=this;return(0,f.Z)(function*(){const O=yield b.execute();return Ye(O,b.auth,"internal-error"),O})()}onExecution(){var b=this;return(0,f.Z)(function*(){yn(1===b.filter.length,"Popup operations only handle one event");const O=pl();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],O),b.authWindow.associatedEvent=O,b.resolver._originValidation(b.auth).catch(se=>{b.reject(se)}),b.resolver._isIframeWebStorageSupported(b.auth,se=>{se||b.reject(Ae(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const b=()=>{var O,se;this.pollId=null!==(se=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,Ro.get())};b()}}return x.currentPopupAction=null,x})();const Xr="pendingRedirect",aa=new Map;class Ja extends Sa{constructor(g,b,O=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,O),this.eventId=null}execute(){var g=()=>super.execute,b=this;return(0,f.Z)(function*(){let O=aa.get(b.auth._key());if(!O){try{const Se=(yield function Ic(x,g){return hr.apply(this,arguments)}(b.resolver,b.auth))?yield g().call(b):null;O=()=>Promise.resolve(Se)}catch(se){O=()=>Promise.reject(se)}aa.set(b.auth._key(),O)}return b.bypassAuthState||aa.set(b.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(g){var b=()=>super.onAuthEvent,O=this;return(0,f.Z)(function*(){if("signInViaRedirect"===g.type)return b().call(O,g);if("unknown"!==g.type){if(g.eventId){const se=yield O.auth._redirectUserForId(g.eventId);if(se)return O.user=se,b().call(O,g);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function hr(){return(hr=(0,f.Z)(function*(x,g){const b=no(g),O=sc(x);if(!(yield O._isAvailable()))return!1;const se="true"===(yield O._get(b));return yield O._remove(b),se})).apply(this,arguments)}function Dc(x,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,f.Z)(function*(x,g){return sc(x)._set(no(g),"true")})).apply(this,arguments)}function Dr(){aa.clear()}function fd(x,g){aa.set(x._key(),g)}function sc(x){return ae(x._redirectPersistence)}function no(x){return Jt(Xr,x.config.apiKey,x.name)}function xu(x,g,b){return function pd(x,g,b){return us.apply(this,arguments)}(x,g,b)}function us(){return(us=(0,f.Z)(function*(x,g,b){const O=Oi(x);Nt(x,g,ho),yield O._initializationPromise;const se=Vn(O,b);return yield Dc(se,O),se._openRedirect(O,g,"signInViaRedirect")})).apply(this,arguments)}function Qd(x,g,b){return function el(x,g,b){return Rr.apply(this,arguments)}(x,g,b)}function Rr(){return(Rr=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x);Nt(O.auth,g,ho),yield O.auth._initializationPromise;const se=Vn(O.auth,b);yield Dc(se,O.auth);const Se=yield ac(O);return se._openRedirect(O.auth,g,"reauthViaRedirect",Se)})).apply(this,arguments)}function Aa(x,g,b){return function Su(x,g,b){return Vl.apply(this,arguments)}(x,g,b)}function Vl(){return(Vl=(0,f.Z)(function*(x,g,b){const O=(0,R.m9)(x);Nt(O.auth,g,ho),yield O.auth._initializationPromise;const se=Vn(O.auth,b);yield rs(!1,O,g.providerId),yield Dc(se,O.auth);const Se=yield ac(O);return se._openRedirect(O.auth,g,"linkViaRedirect",Se)})).apply(this,arguments)}function xc(x,g){return oc.apply(this,arguments)}function oc(){return(oc=(0,f.Z)(function*(x,g){return yield Oi(x)._initializationPromise,yl(x,g,!1)})).apply(this,arguments)}function yl(x,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,f.Z)(function*(x,g,b=!1){const O=Oi(x),se=Vn(O,g),Mt=yield new Ja(O,se,b).execute();return Mt&&!b&&(delete Mt.user._redirectEventId,yield O._persistUserIfCurrent(Mt.user),yield O._setRedirectUser(null,g)),Mt})).apply(this,arguments)}function ac(x){return la.apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(x){const g=pl(`${x.uid}:::`);return x._redirectEventId=g,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),g})).apply(this,arguments)}class lc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let b=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(g,O)&&(b=!0,this.sendToConsumer(g,O),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ul(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qc(x);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=g,b=!0)),b}sendToConsumer(g,b){var O;if(g.error&&!Qc(g)){const se=(null===(O=g.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";b.onError(Ae(this.auth,se))}else b.onAuthEvent(g)}isEventForConsumer(g,b){const O=null===b.eventId||!!g.eventId&&g.eventId===b.eventId;return b.filter.includes(g.type)&&O}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(g))}saveEventToCache(g){this.cachedEventUids.add(Po(g)),this.lastProcessedEventTime=Date.now()}}function Po(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(g=>g).join("-")}function Qc({type:x,error:g}){return"unknown"===x&&"auth/no-auth-event"===g?.code}function Xc(x){return cc.apply(this,arguments)}function cc(){return(cc=(0,f.Z)(function*(x,g={}){return Be(x,"GET","/v1/projects",g)})).apply(this,arguments)}const Jc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xd=/^https?/;function uc(){return(uc=(0,f.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:g}=yield Xc(x);for(const b of g)try{if(Tu(b))return}catch{}Qe(x,"unauthorized-domain")})).apply(this,arguments)}function Tu(x){const g=sn(),{protocol:b,hostname:O}=new URL(g);if(x.startsWith("chrome-extension://")){const Mt=new URL(x);return""===Mt.hostname&&""===O?"chrome-extension:"===b&&x.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===b&&Mt.hostname===O}if(!Xd.test(b))return!1;if(Jc.test(x))return O===x;const se=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(O)}const tl=new Dt(3e4,6e4);function zl(){const x=nr().___jsl;if(x?.H)for(const g of Object.keys(x.H))if(x.H[g].r=x.H[g].r||[],x.H[g].L=x.H[g].L||[],x.H[g].r=[...x.H[g].L],x.CP)for(let b=0;b<x.CP.length;b++)x.CP[b]=null}let Pa=null;const Jd=new Dt(5e3,15e3),bl="__/auth/iframe",ms="emulator/auth/iframe",Sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jl(x){const g=x.config;Ye(g.authDomain,x,"auth-domain-config-required");const b=g.emulator?Bt(g,ms):`https://${x.config.authDomain}/${bl}`,O={apiKey:g.apiKey,appName:x.name,v:E.SDK_VERSION},se=Pr.get(x.config.apiHost);se&&(O.eid=se);const Se=x._getFrameworks();return Se.length&&(O.fw=Se.join(",")),`${b}?${(0,R.xO)(O).slice(1)}`}function Au(){return Au=(0,f.Z)(function*(x){const g=yield function vl(x){return Pa=Pa||function Ra(x){return new Promise((g,b)=>{var O,se,Se;function Mt(){zl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{zl(),b(Ae(x,"network-request-failed"))},timeout:tl.get()})}if(null!==(se=null===(O=nr().gapi)||void 0===O?void 0:O.iframes)&&void 0!==se&&se.Iframe)g(gapi.iframes.getContext());else{if(null===(Se=nr().gapi)||void 0===Se||!Se.load){const ln=pr("iframefcb");return nr()[ln]=()=>{gapi.load?Mt():b(Ae(x,"network-request-failed"))},ai(`https://apis.google.com/js/api.js?onload=${ln}`).catch(On=>b(On))}Mt()}}).catch(g=>{throw Pa=null,g})}(x),Pa}(x),b=nr().gapi;return Ye(b,x,"internal-error"),g.open({where:document.body,url:jl(x),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sc,dontclear:!0},O=>new Promise(function(){var se=(0,f.Z)(function*(Se,Mt){yield O.restyle({setHideOnLeave:!1});const ln=Ae(x,"network-request-failed"),On=nr().setTimeout(()=>{Mt(ln)},Jd.get());function Hn(){nr().clearTimeout(On),Se(O)}O.ping(Hn).then(Hn,()=>{Mt(ln)})});return function(Se,Mt){return se.apply(this,arguments)}}()))}),Au.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B=500,re=600,ke="_blank",st="http://localhost";class St{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nn="__/auth/handler",ti="emulator/auth/handler",Ii=encodeURIComponent("fac");function wi(x,g,b,O,se,Se){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(x,g,b,O,se,Se){Ye(x.config.authDomain,x,"auth-domain-config-required"),Ye(x.config.apiKey,x,"invalid-api-key");const Mt={apiKey:x.config.apiKey,appName:x.name,authType:b,redirectUrl:O,v:E.SDK_VERSION,eventId:se};if(g instanceof ho){g.setDefaultLanguage(x.languageCode),Mt.providerId=g.providerId||"",(0,R.xb)(g.getCustomParameters())||(Mt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[oi,Di]of Object.entries(Se||{}))Mt[oi]=Di}if(g instanceof is){const oi=g.getScopes().filter(Di=>""!==Di);oi.length>0&&(Mt.scopes=oi.join(","))}x.tenantId&&(Mt.tid=x.tenantId);const ln=Mt;for(const oi of Object.keys(ln))void 0===ln[oi]&&delete ln[oi];const On=yield x._getAppCheckToken(),Hn=On?`#${Ii}=${encodeURIComponent(On)}`:"";return`${function Vs({config:x}){return x.emulator?Bt(x,ti):`https://${x.authDomain}/${Nn}`}(x)}?${(0,R.xO)(ln).slice(1)}${Hn}`})).apply(this,arguments)}const nl="webStorageSupport",Hl=class Mu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vo,this._completeRedirectFn=yl,this._overrideRedirectResult=fd}_openPopup(g,b,O,se){var Se=this;return(0,f.Z)(function*(){var Mt;yn(null===(Mt=Se.eventManagers[g._key()])||void 0===Mt?void 0:Mt.manager,"_initialize() not called before _openPopup()");const ln=yield wi(g,b,O,sn(),se);return function an(x,g,b,O=B,se=re){const Se=Math.max((window.screen.availHeight-se)/2,0).toString(),Mt=Math.max((window.screen.availWidth-O)/2,0).toString();let ln="";const On=Object.assign(Object.assign({},M),{width:O.toString(),height:se.toString(),top:Se,left:Mt}),Hn=(0,R.z$)().toLowerCase();b&&(ln=W(Hn)?ke:b),ue(Hn)&&(g=g||st,On.scrollbars="yes");const oi=Object.entries(On).reduce((bi,[Us,nu])=>`${bi}${Us}=${nu},`,"");if(function Qt(x=(0,R.z$)()){var g;return xe(x)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Hn)&&"_self"!==ln)return function Un(x,g){const b=document.createElement("a");b.href=x,b.target=g;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(O)}(g||"",ln),new St(null);const Di=window.open(g||"",ln,oi);Ye(Di,x,"popup-blocked");try{Di.focus()}catch{}return new St(Di)}(g,ln,pl())})()}_openRedirect(g,b,O,se){var Se=this;return(0,f.Z)(function*(){return yield Se._originValidation(g),function _i(x){nr().location.href=x}(yield wi(g,b,O,sn(),se)),new Promise(()=>{})})()}_initialize(g){const b=g._key();if(this.eventManagers[b]){const{manager:se,promise:Se}=this.eventManagers[b];return se?Promise.resolve(se):(yn(Se,"If manager is not set, promise should be"),Se)}const O=this.initAndGetManager(g);return this.eventManagers[b]={promise:O},O.catch(()=>{delete this.eventManagers[b]}),O}initAndGetManager(g){var b=this;return(0,f.Z)(function*(){const O=yield function md(x){return Au.apply(this,arguments)}(g),se=new lc(g);return O.register("authEvent",Se=>(Ye(Se?.authEvent,g,"invalid-auth-event"),{status:se.onEvent(Se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[g._key()]={manager:se},b.iframes[g._key()]=O,se})()}_isIframeWebStorageSupported(g,b){this.iframes[g._key()].send(nl,{type:nl},se=>{var Se;const Mt=null===(Se=se?.[0])||void 0===Se?void 0:Se[nl];void 0!==Mt&&b(!!Mt),Qe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const b=g._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function eu(x){return uc.apply(this,arguments)}(g)),this.originValidationPromises[b]}get _shouldInitProactively(){return An()||fe()||xe()}};class Bi{constructor(g){this.factorId=g}_process(g,b,O){switch(b.type){case"enroll":return this._finalizeEnroll(g,b.credential,O);case"signin":return this._finalizeSignIn(g,b.credential);default:return Xt("unexpected MultiFactorSessionType")}}}class Ri extends Bi{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ri(g)}_finalizeEnroll(g,b,O){return function fi(x,g){return Be(x,"POST","/v2/accounts/mfaEnrollment:finalize",lt(x,g))}(g,{idToken:b,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,b){return function Qa(x,g){return Be(x,"POST","/v2/accounts/mfaSignIn:finalize",lt(x,g))}(g,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gi=(()=>{class x{constructor(){}static assertion(b){return Ri._fromCredential(b)}}return x.FACTOR_ID="phone",x})();var rl="@firebase/auth";class br{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var b=this;return(0,f.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const b=this.auth.onIdTokenChanged(O=>{g(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,b),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const b=this.internalListeners.get(g);b&&(this.internalListeners.delete(g),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,R.Pz)("authIdTokenMaxAge"),function wo(x){(0,E._registerComponent)(new Fe.wA("auth",(g,{options:b})=>{const O=g.getProvider("app").getImmediate(),se=g.getProvider("heartbeat"),Se=g.getProvider("app-check-internal"),{apiKey:Mt,authDomain:ln}=O.options;Ye(Mt&&!Mt.includes(":"),"invalid-api-key",{appName:O.name});const On={apiKey:Mt,authDomain:ln,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ur(x)},Hn=new Zi(O,se,Se,On);return function Sr(x,g){const b=g?.persistence||[],O=(Array.isArray(b)?b:[b]).map(ae);g?.errorMap&&x._updateErrorMap(g.errorMap),x._initializeWithPersistence(O,g?.popupRedirectResolver)}(Hn,b),Hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,b,O)=>{g.getProvider("auth-internal").initialize()})),(0,E._registerComponent)(new Fe.wA("auth-internal",g=>{const b=Oi(g.getProvider("auth").getImmediate());return new br(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,E.registerVersion)(rl,"0.23.2",function Ki(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,E.registerVersion)(rl,"0.23.2","esm2017")}("Browser")},2810:(pn,at,T)=>{T.d(at,{u7:()=>r_,Jj:()=>Vo,IX:()=>I,my:()=>gs,xU:()=>Lf,Lz:()=>Qo,WA:()=>_n,F8:()=>bu,$q:()=>eg,W:()=>cd,EK:()=>Tr,PU:()=>J_,l7:()=>yl,Ky:()=>Bn,Xb:()=>Ci,Cf:()=>ir,K9:()=>Is,Me:()=>pd,yq:()=>fr,Wi:()=>Qg,ET:()=>av,Ab:()=>By,vr:()=>_v,Fc:()=>Sn,hJ:()=>$m,B$:()=>zc,at:()=>Jg,oe:()=>Py,AK:()=>gv,TF:()=>Er,JU:()=>e_,ST:()=>Ot,fH:()=>rn,Ix:()=>Pi,Wu:()=>i_,Lx:()=>ev,qY:()=>Ee,GL:()=>Gp,QT:()=>My,kl:()=>tg,Xk:()=>ng,PL:()=>rv,UQ:()=>sv,zN:()=>ov,nP:()=>yv,b9:()=>Qv,vh:()=>Ti,Pb:()=>Io,L$:()=>oo,cf:()=>ky,sc:()=>lv,Xo:()=>Dy,IO:()=>Nf,iE:()=>o,Eo:()=>u,i3:()=>ig,Bt:()=>Ly,pl:()=>Oy,Ub:()=>Ni,qK:()=>Ay,TQ:()=>Jy,e0:()=>Xy,r7:()=>Ry,Mx:()=>Yn,ar:()=>Qy});var _e,f=T(5861),R=T(6881),E=T(4859),me=T(1877),ce=T(2090),Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue={},Ke=Ke||{},oe=Fe||self;function ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ye(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var We="closure_uid_"+(1e9*Math.random()>>>0),Je=0;function gt(i,e,t){return i.call.apply(i.bind,arguments)}function tt(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function Ge(i,e,t){return(Ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gt:tt).apply(null,arguments)}function Pe(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function kt(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(s,c,m){for(var y=Array(arguments.length-2),k=2;k<arguments.length;k++)y[k-2]=arguments[k];return e.prototype[c].apply(s,y)}}function Qe(){this.s=this.s,this.o=this.o}Qe.prototype.s=!1,Qe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Le(i){Object.prototype.hasOwnProperty.call(i,We)&&i[We]||(i[We]=++Je)}(this)},Qe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Nt(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function It(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ge(s)){const c=i.length||0,m=s.length||0;i.length=c+m;for(let y=0;y<m;y++)i[c+y]=s[y]}else i.push(s)}}function Ye(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var Xt=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch{}return i}();function yn(i){return/^[\s\xa0]*$/.test(i)}function sn(){var i=oe.navigator;return i&&(i=i.userAgent)?i:""}function En(i){return-1!=sn().indexOf(i)}function gn(i){return gn[" "](i),i}gn[" "]=function(){};var Be,i,Ut=En("Opera"),Dt=En("Trident")||En("MSIE"),Bt=En("Edge"),Vt=Bt||Dt,Tt=En("Gecko")&&!(-1!=sn().toLowerCase().indexOf("webkit")&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),nt=-1!=sn().toLowerCase().indexOf("webkit")&&!En("Edge");function lt(){var i=oe.document;return i?i.documentMode:void 0}e:{var ct="",it=(i=sn(),Tt?/rv:([^\);]+)(\)|;)/.exec(i):Bt?/Edge\/([\d\.]+)/.exec(i):Dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nt?/WebKit\/(\S+)/.exec(i):Ut?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(it&&(ct=it?it[1]:""),Dt){var He=lt();if(null!=He&&He>parseFloat(ct)){Be=String(He);break e}}Be=ct}var Ht=oe.document&&Dt&&(lt()||parseInt(Be,10))||void 0;function Ze(i,e){if(Ye.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Tt){e:{try{gn(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:At[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ze.$.h.call(this)}}kt(Ze,Ye);var At={2:"touch",3:"pen",4:"mouse"};Ze.prototype.h=function(){Ze.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function qn(i,e,t,s,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=c,this.key=++Cn,this.fa=this.ia=!1}function bt(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function rt(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Te(i){const e={};for(const t in i)e[t]=i[t];return e}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oe(i,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)i[t]=s[t];for(let m=0;m<ne.length;m++)t=ne[m],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function ut(i){this.src=i,this.g={},this.h=0}function Pt(i,e){var t=e.type;if(t in i.g){var m,s=i.g[t],c=qe(s,e);(m=0<=c)&&Array.prototype.splice.call(s,c,1),m&&(bt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function zt(i,e,t,s){for(var c=0;c<i.length;++c){var m=i[c];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==s)return c}return-1}ut.prototype.add=function(i,e,t,s,c){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var y=zt(i,e,s,c);return-1<y?(e=i[y],t||(e.ia=!1)):((e=new qn(e,this.src,m,!!s,c)).ia=t,i.push(e)),e};var _t="closure_lm_"+(1e6*Math.random()|0),Zt={};function Me(i,e,t,s,c){if(s&&s.once)return ve(i,e,t,s,c);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Me(i,e[m],t,s,c);return null}return t=Wn(t),i&&i[on]?i.O(e,t,ye(s)?!!s.capture:!!s,c):$e(i,e,t,!1,s,c)}function $e(i,e,t,s,c,m){if(!e)throw Error("Invalid event type");var y=ye(c)?!!c.capture:!!c,k=fn(i);if(k||(i[_t]=k=new ut(i)),(t=k.add(e,t,s,y,m)).proxy)return t;if(s=function he(){const e=xn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Xt||(c=y),void 0===c&&(c=!1),i.addEventListener(e.toString(),s,c);else if(i.attachEvent)i.attachEvent(wt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function ve(i,e,t,s,c){if(Array.isArray(e)){for(var m=0;m<e.length;m++)ve(i,e[m],t,s,c);return null}return t=Wn(t),i&&i[on]?i.P(e,t,ye(s)?!!s.capture:!!s,c):$e(i,e,t,!0,s,c)}function ft(i,e,t,s,c){if(Array.isArray(e))for(var m=0;m<e.length;m++)ft(i,e[m],t,s,c);else s=ye(s)?!!s.capture:!!s,t=Wn(t),i&&i[on]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=zt(m=i.g[e],t,s,c))&&(bt(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=fn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=zt(e,t,s,c)),(t=-1<i?e[i]:null)&&je(t))}function je(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[on])Pt(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(wt(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=fn(e))?(Pt(t,i),0==t.h&&(t.src=null,e[_t]=null)):bt(i)}}}function wt(i){return i in Zt?Zt[i]:Zt[i]="on"+i}function xn(i,e){if(i.fa)i=!0;else{e=new Ze(e,this);var t=i.listener,s=i.la||i.src;i.ia&&je(i),i=t.call(s,e)}return i}function fn(i){return(i=i[_t])instanceof ut?i:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wn(i){return"function"==typeof i?i:(i[Zn]||(i[Zn]=function(e){return i.handleEvent(e)}),i[Zn])}function ni(){Qe.call(this),this.i=new ut(this),this.S=this,this.J=null}function Ft(i,e){var t,s=i.J;if(s)for(t=[];s;s=s.J)t.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Ye(e,i);else if(e instanceof Ye)e.target=e.target||i;else{var c=e;Oe(e=new Ye(s,i),c)}if(c=!0,t)for(var m=t.length-1;0<=m;m--){var y=e.g=t[m];c=Re(y,s,!0,e)&&c}if(c=Re(y=e.g=i,s,!0,e)&&c,c=Re(y,s,!1,e)&&c,t)for(m=0;m<t.length;m++)c=Re(y=e.g=t[m],s,!1,e)&&c}function Re(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,m=0;m<e.length;++m){var y=e[m];if(y&&!y.fa&&y.capture==t){var k=y.listener,G=y.la||y.src;y.ia&&Pt(i.i,y),c=!1!==k.call(G,s)&&c}}return c&&!s.defaultPrevented}kt(ni,Qe),ni.prototype[on]=!0,ni.prototype.removeEventListener=function(i,e,t,s){ft(this,i,e,t,s)},ni.prototype.N=function(){if(ni.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)bt(t[s]);delete i.g[e],i.h--}}this.J=null},ni.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},ni.prototype.P=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var H=oe.JSON.stringify;function ae(){var i=W;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var $t=new class X{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Jt,i=>i.reset());class Jt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ve(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function ze(i){oe.setTimeout(()=>{throw i},0)}let ue,fe=!1,W=new class Ne{constructor(){this.h=this.g=null}add(e,t){const s=$t.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},le=()=>{const i=oe.Promise.resolve(void 0);ue=()=>{i.then(j)}};var j=()=>{for(var i;i=ae();){try{i.h.call(i.g)}catch(t){ze(t)}var e=$t;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}fe=!1};function J(i,e){ni.call(this),this.h=i||1,this.g=e||oe,this.j=Ge(this.qb,this),this.l=Date.now()}function Q(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function xe(i,e,t){if("function"==typeof i)t&&(i=Ge(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ge(i.handleEvent,i)}return 2147483647<Number(e)?-1:oe.setTimeout(i,e||0)}function pt(i){i.g=xe(()=>{i.g=null,i.i&&(i.i=!1,pt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}kt(J,ni),(_e=J.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(Q(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){J.$.N.call(this),Q(this),delete this.g};class Qt extends Qe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(i){Qe.call(this),this.h=i,this.g={}}kt(vn,Qe);var An=[];function vi(i,e,t,s){Array.isArray(t)||(t&&(An[0]=t.toString()),t=An);for(var c=0;c<t.length;c++){var m=Me(e,t[c],s||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function ur(i){rt(i.g,function(e,t){this.g.hasOwnProperty(t)&&je(e)},i),i.g={}}function Wt(){this.g=!0}function zn(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var m=c[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var y=1;y<c.length;y++)c[y]=""}}}return H(t)}catch{return e}}(i,t)+(s?" "+s:"")})}vn.prototype.N=function(){vn.$.N.call(this),ur(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Ea=function(){this.g=!1},Wt.prototype.info=function(){};var $n={},ki=null;function ai(){return ki=ki||new ni}function pr(i){Ye.call(this,$n.Ta,i)}function vr(i){const e=ai();Ft(e,new pr(e))}function Kr(i,e){Ye.call(this,$n.STAT_EVENT,i),this.stat=e}function mr(i){const e=ai();Ft(e,new Kr(e,i))}function Yr(i,e){Ye.call(this,$n.Ua,i),this.size=e}function qi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){i()},e)}$n.Ta="serverreachability",kt(pr,Ye),$n.STAT_EVENT="statevent",kt(Kr,Ye),$n.Ua="timingevent",kt(Yr,Ye);var Pn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zi(){}function ts(){}Zi.prototype.h=null;var Ct,Hi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sr(){Ye.call(this,"d")}function $i(){Ye.call(this,"c")}function dt(){}function yt(i,e,t,s){this.l=i,this.j=e,this.m=t,this.W=s||1,this.U=new vn(this),this.P=In,this.V=new J(i=Vt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cn}function cn(){this.i=null,this.g="",this.h=!1}kt(Sr,Ye),kt($i,Ye),kt(dt,Zi),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},Ct=new dt;var In=45e3,ii={},Ei={};function di(i,e,t){i.L=1,i.v=$r(Cr(e)),i.s=t,i.S=!0,zi(i,null)}function zi(i,e){i.G=Date.now(),wr(i),i.A=Cr(i.v);var t=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Qs(t.i,"t",s),i.C=0,t=i.l.J,i.h=new cn,i.g=yo(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Qt(Ge(i.Pa,i,i.g),i.O)),vi(i.U,i.g,"readystatechange",i.nb),e=i.I?Te(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),vr(),function jt(i,e,t,s,c,m){i.info(function(){if(i.g)if(m)for(var y="",k=m.split("&"),G=0;G<k.length;G++){var ie=k[G].split("=");if(1<ie.length){var De=ie[0];ie=ie[1];var ot=De.split("_");y=2<=ot.length&&"type"==ot[1]?y+(De+"=")+ie+"&":y+(De+"=redacted&")}}else y=null;else y=m;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ys(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Fr(i,e,t){let c,s=!0;for(;!i.J&&i.C<t.length;){if(c=Lr(i,t),c==Ei){4==e&&(i.o=4,mr(14),s=!1),zn(i.j,i.m,null,"[Incomplete Response]");break}if(c==ii){i.o=4,mr(15),zn(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}zn(i.j,i.m,c,null),Do(i,c)}ys(i)&&c!=Ei&&c!=ii&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,mr(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ks(e),e.M=!0,mr(11))):(zn(i.j,i.m,t,"[Invalid Chunked Response]"),Os(i),Ms(i))}function Lr(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Ei:(t=Number(e.substring(t,s)),isNaN(t)?ii:(s+=1)+t>e.length?Ei:(e=e.slice(s,s+t),i.C=s+t,e))}function wr(i){i.Y=Date.now()+i.P,rr(i,i.P)}function rr(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=qi(Ge(i.lb,i),e)}function Hr(i){i.B&&(oe.clearTimeout(i.B),i.B=null)}function Ms(i){0==i.l.H||i.J||Jl(i.l,i)}function Os(i){Hr(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Q(i.V),ur(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Do(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||fo(t.i,i)))if(!i.K&&fo(t.i,i)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;wa(t),Gn(t)}_o(t),mr(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=qi(Ge(t.ib,t),6e3));if(1>=bs(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Xs(t,11)}else if((i.K||t.g==i)&&wa(t),!yn(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let ie=c[e];if(t.V=ie[0],ie=ie[1],2==t.H)if("c"==ie[0]){t.K=ie[1],t.pa=ie[2];const De=ie[3];null!=De&&(t.ra=De,t.l.info("VER="+t.ra));const ot=ie[4];null!=ot&&(t.Ga=ot,t.l.info("SVER="+t.Ga));const Gt=ie[5];null!=Gt&&"number"==typeof Gt&&0<Gt&&(t.L=s=1.5*Gt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const hn=i.g;if(hn){const Rn=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rn){var m=s.i;m.g||-1==Rn.indexOf("spdy")&&-1==Rn.indexOf("quic")&&-1==Rn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(va(m,m.h),m.h=null))}if(s.F){const Qn=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qn&&(s.Da=Qn,Wi(s.I,s.F,Qn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var y=i;if((s=t).wa=Ts(s,s.J?s.pa:null,s.Y),y.K){ba(s.i,y);var k=y,G=s.L;G&&k.setTimeout(G),k.B&&(Hr(k),wr(k)),s.g=y}else Tl(s);0<t.j.length&&en(t)}else"stop"!=ie[0]&&"close"!=ie[0]||Xs(t,7);else 3==t.H&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Xs(t,7):tn(t):"noop"!=ie[0]&&t.h&&t.h.Aa(ie),t.A=0)}vr()}catch{}}function Br(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ge(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Zs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ge(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function co(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ge(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),c=s.length,m=0;m<c;m++)e.call(void 0,s[m],t&&t[m],i)}(_e=yt.prototype).setTimeout=function(i){this.P=i},_e.nb=function(i){i=i.target;const e=this.M;e&&3==ws(i)?e.l():this.Pa(i)},_e.Pa=function(i){try{if(i==this.g)e:{const De=ws(this.g);var e=this.g.Ia();if(this.g.da(),!(3>De)&&(3!=De||Vt||this.g&&(this.h.h||this.g.ja()||li(this.g)))){this.J||4!=De||7==e||vr(),Hr(this);var t=this.g.da();this.ca=t;t:if(ys(this)){var s=li(this.g);i="";var c=s.length,m=4==ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),Ms(this);var y="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:m&&e==c-1});s.splice(0,c),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ja();if(this.i=200==t,function wn(i,e,t,s,c,m,y){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+m+" "+y})}(this.j,this.u,this.A,this.m,this.W,De,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yn(k)){var ie=k;break t}}ie=null}if(!(t=ie)){this.i=!1,this.o=3,mr(12),Os(this),Ms(this);break e}zn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Do(this,t)}this.S?(Fr(this,De,y),Vt&&this.i&&3==De&&(vi(this.U,this.V,"tick",this.mb),this.V.start())):(zn(this.j,this.m,y,null),Do(this,y)),4==De&&Os(this),this.i&&!this.J&&(4==De?Jl(this.l,this):(this.i=!1,wr(this)))}else(function To(i){const e={};i=(i.g&&2<=ws(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(yn(i[s]))continue;var t=Ve(i[s]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[c]||[];e[c]=m,m.push(t)}!function Et(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<y.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),Os(this),Ms(this)}}}catch{}},_e.mb=function(){if(this.g){var i=ws(this.g),e=this.g.ja();this.C<e.length&&(Hr(this),Fr(this,i,e),this.i&&4!=i&&wr(this))}},_e.cancel=function(){this.J=!0,Os(this)},_e.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Jn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(vr(),mr(17)),Os(this),this.o=2,Ms(this)):rr(this,this.Y-i)};var Ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Mr){this.h=i.h,vs(this,i.j),this.s=i.s,this.g=i.g,uo(this,i.m),this.l=i.l;var e=i.i,t=new zs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gr(this,t),this.o=i.o}else i&&(e=String(i).match(Ba))?(this.h=!1,vs(this,e[1]||"",!0),this.s=xo(e[2]||""),this.g=xo(e[3]||"",!0),uo(this,e[4]),this.l=xo(e[5]||"",!0),gr(this,e[6]||"",!0),this.o=xo(e[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}function Cr(i){return new Mr(i)}function vs(i,e,t){i.j=t?xo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function uo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function gr(i,e,t){e instanceof zs?(i.i=e,function So(i,e){e&&!i.j&&(ds(i),i.i=null,i.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(ya(this,s),Qs(this,c,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ns(e,ea)),i.i=new zs(e,i.h))}function Wi(i,e,t){i.i.set(e,t)}function $r(i){return Wi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function xo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ns(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Va),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Va(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Mr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ns(e,Ua,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ns(e,Ua,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ns(t,"/"==t.charAt(0)?ll:_a,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ns(t,za)),i.join("")};var Ua=/[#\/\?@]/g,_a=/[#\?:]/g,ll=/[#\?]/g,ea=/[#\?@]/g,za=/#/g;function zs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ds(i){i.g||(i.g=new Map,i.h=0,i.i&&function zr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),c=null;if(0<=s){var m=i[t].substring(0,s);c=i[t].substring(s+1)}else m=i[t];e(m,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ya(i,e){ds(i),e=ta(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function qs(i,e){return ds(i),e=ta(i,e),i.g.has(e)}function Qs(i,e,t){ya(i,e),0<t.length&&(i.i=null,i.g.set(ta(i,e),Nt(t)),i.h+=t.length)}function ta(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ha(i){this.l=i||ho,i=oe.PerformanceNavigationTiming?0<(i=oe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=zs.prototype).add=function(i,e){ds(this),this.i=null,i=ta(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(i,e){ds(this),this.g.forEach(function(t,s){t.forEach(function(c){i.call(e,c,s,this)},this)},this)},_e.ta=function(){ds(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=i[s];for(let m=0;m<c.length;m++)t.push(e[s])}return t},_e.Z=function(i){ds(this);let e=[];if("string"==typeof i)qs(this,i)&&(e=e.concat(this.g.get(ta(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},_e.set=function(i,e){return ds(this),this.i=null,qs(this,i=ta(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},_e.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const m=encodeURIComponent(String(s)),y=this.Z(s);for(s=0;s<y.length;s++){var c=m;""!==y[s]&&(c+="="+encodeURIComponent(String(y[s]))),i.push(c)}}return this.i=i.join("&")};var ho=10;function is(i){return!!i.h||!!i.g&&i.g.size>=i.j}function bs(i){return i.h?1:i.g?i.g.size:0}function fo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function va(i,e){i.g?i.g.add(e):i.h=e}function ba(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function $a(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Nt(i.i)}Ha.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var po=class{stringify(i){return oe.JSON.stringify(i,void 0)}parse(i){return oe.JSON.parse(i,void 0)}};function Wa(){this.g=new po}function Ga(i,e,t){const s=t||"";try{Br(i,function(c,m){let y=c;ye(c)&&(y=H(c)),e.push(s+m+"="+encodeURIComponent(y))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function mo(i,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Es(i){this.l=i.fc||null,this.j=i.ob||!1}function dr(i,e){ni.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Es,Zi),Es.prototype.g=function(){return new dr(this.l,this.j)},Es.prototype.i=function(i){return function(){return i}}({}),kt(dr,ni);var zo=0;function jo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function _r(i){i.readyState=4,i.l=null,i.j=null,i.A=null,yr(i)}function yr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(_e=dr.prototype).open=function(i,e){if(this.readyState!=zo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,yr(this)},_e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_r(this)),this.readyState=zo},_e.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?_r(this):yr(this),3==this.readyState&&jo(this)}},_e.Za=function(i){this.g&&(this.response=this.responseText=i,_r(this))},_e.Ya=function(i){this.g&&(this.response=i,_r(this))},_e.ka=function(){this.g&&_r(this)},_e.setRequestHeader=function(i,e){this.v.append(i,e)},_e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ho=oe.JSON.parse;function xi(i){ni.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xl,this.L=this.M=!1}kt(xi,ni);var Xl="",Ka=/^https?$/i,Wr=["POST","PUT"];function rs(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Rs(i),Zr(i)}function Rs(i){i.F||(i.F=!0,Ft(i,"complete"),Ft(i,"error"))}function Ps(i){if(i.h&&typeof Ke<"u"&&(!i.C[1]||4!=ws(i)||2!=i.da()))if(i.v&&4==ws(i))xe(i.La,0,i);else if(Ft(i,"readystatechange"),4==ws(i)){i.h=!1;try{const y=i.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===y){var c=String(i.I).match(Ba)[1]||null;!c&&oe.self&&oe.self.location&&(c=oe.self.location.protocol.slice(0,-1)),s=!Ka.test(c?c.toLowerCase():"")}t=s}if(t)Ft(i,"complete"),Ft(i,"success");else{i.m=6;try{var m=2<ws(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.da()+"]",Rs(i)}}finally{Zr(i)}}}function Zr(i,e){if(i.g){Ea(i);const t=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Ft(i,"ready");try{t.onreadystatechange=s}catch{}}}function Ea(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(oe.clearTimeout(i.A),i.A=null)}function ws(i){return i.g?i.g.readyState:0}function li(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Xl:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function q(i){let e="";return rt(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function $(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=q(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Wi(i,e,t))}function V(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function we(i){this.Ga=0,this.j=[],this.l=new Wt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=V("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=V("baseRetryDelayMs",5e3,i),this.hb=V("retryDelaySeedMs",1e4,i),this.eb=V("forwardChannelMaxRetries",2,i),this.xa=V("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ha(i&&i.concurrentRequestLimit),this.Ja=new Wa,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tn(i){if(sr(i),3==i.H){var e=i.W++,t=Cr(i.I);if(Wi(t,"SID",i.K),Wi(t,"RID",e),Wi(t,"TYPE","terminate"),Ss(i,t),(e=new yt(i,i.l,e)).L=2,e.v=$r(Cr(t)),t=!1,oe.navigator&&oe.navigator.sendBeacon)try{t=oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&oe.Image&&((new Image).src=e.v,t=!0),t||(e.g=yo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wr(e)}qr(i)}function Gn(i){i.g&&(ks(i),i.g.cancel(),i.g=null)}function sr(i){Gn(i),i.u&&(oe.clearTimeout(i.u),i.u=null),wa(i),i.i.cancel(),i.m&&("number"==typeof i.m&&oe.clearTimeout(i.m),i.m=null)}function en(i){if(!is(i.i)&&!i.m){i.m=!0;var e=i.Na;ue||le(),fe||(ue(),fe=!0),W.add(e,i),i.C=0}}function go(i,e){var t;t=e?e.m:i.W++;const s=Cr(i.I);Wi(s,"SID",i.K),Wi(s,"RID",t),Wi(s,"AID",i.V),Ss(i,s),i.o&&i.s&&$(s,i.o,i.s),t=new yt(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ur(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),va(i.i,t),di(t,s,e)}function Ss(i,e){i.na&&rt(i.na,function(t,s){Wi(e,s,t)}),i.h&&Br({},function(t,s){Wi(e,s,t)})}function Ur(i,e,t){t=Math.min(i.j.length,t);var s=i.h?Ge(i.h.Va,i.h,i):null;e:{var c=i.j;let m=-1;for(;;){const y=["count="+t];-1==m?0<t?(m=c[0].g,y.push("ofs="+m)):m=0:y.push("ofs="+m);let k=!0;for(let G=0;G<t;G++){let ie=c[G].g;const De=c[G].map;if(ie-=m,0>ie)m=Math.max(0,c[G].g-100),k=!1;else try{Ga(De,y,"req"+ie+"_")}catch{s&&s(De)}}if(k){s=y.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,s}function Tl(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;ue||le(),fe||(ue(),fe=!0),W.add(e,i),i.A=0}}function _o(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=qi(Ge(i.Ma,i),Ao(i,i.A)),i.A++,0))}function ks(i){null!=i.B&&(oe.clearTimeout(i.B),i.B=null)}function cl(i){i.g=new yt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Cr(i.wa);Wi(e,"RID","rpc"),Wi(e,"SID",i.K),Wi(e,"AID",i.V),Wi(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Wi(e,"TO",i.qa),Wi(e,"TYPE","xmlhttp"),Ss(i,e),i.o&&i.s&&$(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=$r(Cr(e)),t.s=null,t.S=!0,zi(t,i)}function wa(i){null!=i.v&&(oe.clearTimeout(i.v),i.v=null)}function Jl(i,e){var t=null;if(i.g==e){wa(i),ks(i),i.g=null;var s=2}else{if(!fo(i.i,e))return;t=e.F,ba(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=i.C;Ft(s=ai(),new Yr(s,t)),en(i)}else Tl(i);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==s&&function hi(i,e){return!(bs(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=qi(Ge(i.Na,i,e),Ao(i,i.C)),i.C++,0)))}(i,e)||2==s&&_o(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),c){case 1:Xs(i,5);break;case 4:Xs(i,10);break;case 3:Xs(i,6);break;default:Xs(i,2)}}function Ao(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function Xs(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var s=Ge(i.pb,i);t||(t=new Mr("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||vs(t,"https"),$r(t)),function bc(i,e){const t=new Wt;if(oe.Image){const s=new Image;s.onload=Pe(mo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Pe(mo,t,s,"TestLoadImage: error",!1,e),s.onabort=Pe(mo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Pe(mo,t,s,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else mr(2);i.H=0,i.h&&i.h.za(e),qr(i),sr(i)}function qr(i){if(i.H=0,i.ma=[],i.h){const e=$a(i.i);(0!=e.length||0!=i.j.length)&&(It(i.ma,e),It(i.ma,i.j),i.i.i.length=0,Nt(i.j),i.j.length=0),i.h.ya()}}function Ts(i,e,t){var s=t instanceof Mr?Cr(t):new Mr(t);if(""!=s.g)e&&(s.g=e+"."+s.g),uo(s,s.m);else{var c=oe.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var m=new Mr(null);s&&vs(m,s),e&&(m.g=e),c&&uo(m,c),t&&(m.l=t),s=m}return e=i.Da,(t=i.F)&&e&&Wi(s,t,e),Wi(s,"VER",i.ra),Ss(i,s),s}function yo(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xi(t&&i.Ha&&!i.va?new Es({ob:!0}):i.va)).Oa(i.J),e}function Js(){}function ss(){if(Dt&&!(10<=Number(Ht)))throw Error("Environmental error: no available transport.")}function os(i,e){ni.call(this),this.g=new we(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!yn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ul(this)}function na(i){Sr.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Al(){$i.call(this),this.status=1}function ul(i){this.g=i}function hs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ia(i,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)s[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=i.g[3],y=(e=i.g[0])+(m^(t=i.g[1])&((c=i.g[2])^m))+s[0]+3614090360&4294967295;y=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=t+(y<<7&4294967295|y>>>25))+((y=m+(c^e&(t^c))+s[1]+3905402710&4294967295)<<12&4294967295|y>>>20))+((y=c+(t^m&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^c&(m^e))+s[3]+3250441966&4294967295)<<22&4294967295|y>>>10))+((y=e+(m^t&(c^m))+s[4]+4118548399&4294967295)<<7&4294967295|y>>>25))+((y=m+(c^e&(t^c))+s[5]+1200080426&4294967295)<<12&4294967295|y>>>20))+((y=c+(t^m&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^c&(m^e))+s[7]+4249261313&4294967295)<<22&4294967295|y>>>10))+((y=e+(m^t&(c^m))+s[8]+1770035416&4294967295)<<7&4294967295|y>>>25))+((y=m+(c^e&(t^c))+s[9]+2336552879&4294967295)<<12&4294967295|y>>>20))+((y=c+(t^m&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^c&(m^e))+s[11]+2304563134&4294967295)<<22&4294967295|y>>>10))+((y=e+(m^t&(c^m))+s[12]+1804603682&4294967295)<<7&4294967295|y>>>25))+((y=m+(c^e&(t^c))+s[13]+4254626195&4294967295)<<12&4294967295|y>>>20))+((y=c+(t^m&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^c&(m^e))+s[15]+1236535329&4294967295)<<22&4294967295|y>>>10))+((y=e+(c^m&(t^c))+s[1]+4129170786&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^c&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|y>>>23))+((y=c+(e^t&(m^e))+s[11]+643717713&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(c^m))+s[0]+3921069994&4294967295)<<20&4294967295|y>>>12))+((y=e+(c^m&(t^c))+s[5]+3593408605&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^c&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|y>>>23))+((y=c+(e^t&(m^e))+s[15]+3634488961&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(c^m))+s[4]+3889429448&4294967295)<<20&4294967295|y>>>12))+((y=e+(c^m&(t^c))+s[9]+568446438&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^c&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|y>>>23))+((y=c+(e^t&(m^e))+s[3]+4107603335&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(c^m))+s[8]+1163531501&4294967295)<<20&4294967295|y>>>12))+((y=e+(c^m&(t^c))+s[13]+2850285829&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^c&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|y>>>23))+((y=c+(e^t&(m^e))+s[7]+1735328473&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(c^m))+s[12]+2368359562&4294967295)<<20&4294967295|y>>>12))+((y=e+(t^c^m)+s[5]+4294588738&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^c)+s[8]+2272392833&4294967295)<<11&4294967295|y>>>21))+((y=c+(m^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|y>>>16))+((y=t+(c^m^e)+s[14]+4259657740&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^c^m)+s[1]+2763975236&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^c)+s[4]+1272893353&4294967295)<<11&4294967295|y>>>21))+((y=c+(m^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|y>>>16))+((y=t+(c^m^e)+s[10]+3200236656&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^c^m)+s[13]+681279174&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^c)+s[0]+3936430074&4294967295)<<11&4294967295|y>>>21))+((y=c+(m^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|y>>>16))+((y=t+(c^m^e)+s[6]+76029189&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^c^m)+s[9]+3654602809&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^c)+s[12]+3873151461&4294967295)<<11&4294967295|y>>>21))+((y=c+(m^e^t)+s[15]+530742520&4294967295)<<16&4294967295|y>>>16))+((y=t+(c^m^e)+s[2]+3299628645&4294967295)<<23&4294967295|y>>>9))+((y=e+(c^(t|~m))+s[0]+4096336452&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|y>>>22))+((y=c+(e^(m|~t))+s[14]+2878612391&4294967295)<<15&4294967295|y>>>17))+((y=t+(m^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|y>>>11))+((y=e+(c^(t|~m))+s[12]+1700485571&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|y>>>22))+((y=c+(e^(m|~t))+s[10]+4293915773&4294967295)<<15&4294967295|y>>>17))+((y=t+(m^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|y>>>11))+((y=e+(c^(t|~m))+s[8]+1873313359&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|y>>>22))+((y=c+(e^(m|~t))+s[6]+2734768916&4294967295)<<15&4294967295|y>>>17))+((y=t+(m^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|y>>>11))+((m=(e=t+((y=e+(c^(t|~m))+s[4]+4149444226&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|y>>>22))^((c=m+((y=c+(e^(m|~t))+s[2]+718787259&4294967295)<<15&4294967295|y>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(c+(y<<21&4294967295|y>>>11))&4294967295,i.g[2]=i.g[2]+c&4294967295,i.g[3]=i.g[3]+m&4294967295}function or(i,e){this.h=e;for(var t=[],s=!0,c=i.length-1;0<=c;c--){var m=0|i[c];s&&m==e||(t[c]=m,s=!1)}this.g=t}(_e=xi.prototype).Oa=function(i){this.M=i},_e.ha=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ct.g(),this.C=function Oi(i){return i.h||(i.h=i.i())}(this.u?this.u:Ct),this.g.onreadystatechange=Ge(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(m){return void rs(this,m)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const m of s.keys())t.set(m,s.get(m))}s=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),c=oe.FormData&&i instanceof oe.FormData,!(0<=qe(Wr,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,y]of t)this.g.setRequestHeader(m,y);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ea(this),0<this.B&&((this.L=function Vr(i){return Dt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.ua,this)):this.A=xe(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){rs(this,m)}},_e.ua=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},_e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ft(this,"complete"),Ft(this,"abort"),Zr(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zr(this,!0)),xi.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?Ps(this):this.kb())},_e.kb=function(){Ps(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ho(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=we.prototype).ra=8,_e.H=1,_e.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const c=new yt(this,this.l,i);let m=this.s;if(this.U&&(m?(m=Te(m),Oe(m,this.U)):m=this.U),null!==this.o||this.O||(c.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ur(this,c,e),Wi(t=Cr(this.I),"RID",i),Wi(t,"CVER",22),this.F&&Wi(t,"X-HTTP-Session-Id",this.F),Ss(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(q(m)))+"&"+e:this.o&&$(t,this.o,m)),va(this.i,c),this.bb&&Wi(t,"TYPE","init"),this.P?(Wi(t,"$req",e),Wi(t,"SID","null"),c.aa=!0,di(c,t,null)):di(c,t,e),this.H=2}}else 3==this.H&&(i?go(this,i):0==this.j.length||is(this.i)||go(this))},_e.Ma=function(){if(this.u=null,cl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=qi(Ge(this.jb,this),i)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mr(10),Gn(this),cl(this))},_e.ib=function(){null!=this.v&&(this.v=null,Gn(this),_o(this),mr(19))},_e.pb=function(i){i?(this.l.info("Successfully pinged google.com"),mr(2)):(this.l.info("Failed to ping google.com"),mr(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=Js.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},ss.prototype.g=function(i,e){return new os(i,e)},kt(os,ni),os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;mr(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Ts(i,null,i.Y),en(i)},os.prototype.close=function(){tn(this.g)},os.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=H(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&en(e)},os.prototype.N=function(){this.g.h=null,delete this.j,tn(this.g),delete this.g,os.$.N.call(this)},kt(na,Sr),kt(Al,$i),kt(ul,Js),ul.prototype.Ba=function(){Ft(this.g,"a")},ul.prototype.Aa=function(i){Ft(this.g,new na(i))},ul.prototype.za=function(i){Ft(this.g,new Al)},ul.prototype.ya=function(){Ft(this.g,"b")},kt(hs,function jr(){this.blockSize=-1}),hs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,s=this.m,c=this.h,m=0;m<e;){if(0==c)for(;m<=t;)ia(this,i,m),m+=this.blockSize;if("string"==typeof i){for(;m<e;)if(s[c++]=i.charCodeAt(m++),c==this.blockSize){ia(this,s),c=0;break}}else for(;m<e;)if(s[c++]=i[m++],c==this.blockSize){ia(this,s),c=0;break}}this.h=c,this.i+=e},hs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)i[t++]=this.g[e]>>>s&255;return i};var Ca={};function ra(i){return-128<=i&&128>i?function si(i,e){var t=Ca;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new or([0|e],0>e?-1:0)}):new or([0|i],0>i?-1:0)}function as(i){if(isNaN(i)||!isFinite(i))return Ia;if(0>i)return Qi(as(-i));for(var e=[],t=1,s=0;i>=t;s++)e[s]=i/t|0,t*=sa;return new or(e,0)}var sa=4294967296,Ia=ra(0),dl=ra(1),Ec=ra(16777216);function Cs(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function fs(i){return-1==i.h}function Qi(i){for(var e=i.g.length,t=[],s=0;s<e;s++)t[s]=~i.g[s];return new or(t,~i.h).add(dl)}function eo(i,e){return i.add(Qi(e))}function Lt(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function to(i,e){this.g=i,this.h=e}function Mo(i,e){if(Cs(e))throw Error("division by zero");if(Cs(i))return new to(Ia,Ia);if(fs(i))return e=Mo(Qi(i),e),new to(Qi(e.g),Qi(e.h));if(fs(e))return e=Mo(i,Qi(e)),new to(Qi(e.g),e.h);if(30<i.g.length){if(fs(i)||fs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=dl,s=e;0>=s.X(i);)t=hl(t),s=hl(s);var c=Ya(t,1),m=Ya(s,1);for(s=Ya(s,2),t=Ya(t,2);!Cs(s);){var y=m.add(s);0>=y.X(i)&&(c=c.add(t),m=y),s=Ya(s,1),t=Ya(t,1)}return e=eo(i,c.R(e)),new to(c,e)}for(c=Ia;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),y=(m=as(t)).R(e);fs(y)||0<y.X(i);)y=(m=as(t-=s)).R(e);Cs(m)&&(m=dl),c=c.add(m),i=eo(i,y)}return new to(c,i)}function hl(i){for(var e=i.g.length+1,t=[],s=0;s<e;s++)t[s]=i.D(s)<<1|i.D(s-1)>>>31;return new or(t,i.h)}function Ya(i,e){var t=e>>5;e%=32;for(var s=i.g.length-t,c=[],m=0;m<s;m++)c[m]=0<e?i.D(m+t)>>>e|i.D(m+t+1)<<32-e:i.D(m+t);return new or(c,i.h)}(_e=or.prototype).ea=function(){if(fs(this))return-Qi(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);i+=(0<=s?s:sa+s)*e,e*=sa}return i},_e.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Cs(this))return"0";if(fs(this))return"-"+Qi(this).toString(i);for(var e=as(Math.pow(i,6)),t=this,s="";;){var c=Mo(t,e).g,m=((0<(t=eo(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Cs(t=c))return m+s;for(;6>m.length;)m="0"+m;s=m+s}},_e.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},_e.X=function(i){return fs(i=eo(this,i))?-1:Cs(i)?0:1},_e.abs=function(){return fs(this)?Qi(this):this},_e.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0,c=0;c<=e;c++){var m=s+(65535&this.D(c))+(65535&i.D(c)),y=(m>>>16)+(this.D(c)>>>16)+(i.D(c)>>>16);s=y>>>16,t[c]=(y&=65535)<<16|(m&=65535)}return new or(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(i){if(Cs(this)||Cs(i))return Ia;if(fs(this))return fs(i)?Qi(this).R(Qi(i)):Qi(Qi(this).R(i));if(fs(i))return Qi(this.R(Qi(i)));if(0>this.X(Ec)&&0>i.X(Ec))return as(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<i.g.length;c++){var m=this.D(s)>>>16,y=65535&this.D(s),k=i.D(c)>>>16,G=65535&i.D(c);t[2*s+2*c]+=y*G,Lt(t,2*s+2*c),t[2*s+2*c+1]+=m*G,Lt(t,2*s+2*c+1),t[2*s+2*c+1]+=y*k,Lt(t,2*s+2*c+1),t[2*s+2*c+2]+=m*k,Lt(t,2*s+2*c+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new or(t,0)},_e.gb=function(i){return Mo(this,i).h},_e.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&i.D(s);return new or(t,this.h&i.h)},_e.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|i.D(s);return new or(t,this.h|i.h)},_e.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^i.D(s);return new or(t,this.h^i.h)},ss.prototype.createWebChannel=ss.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,pi.COMPLETE="complete",ts.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",ni.prototype.listen=ni.prototype.O,xi.prototype.listenOnce=xi.prototype.P,xi.prototype.getLastError=xi.prototype.Sa,xi.prototype.getLastErrorCode=xi.prototype.Ia,xi.prototype.getStatus=xi.prototype.da,xi.prototype.getResponseJson=xi.prototype.Wa,xi.prototype.getResponseText=xi.prototype.ja,xi.prototype.send=xi.prototype.ha,xi.prototype.setWithCredentials=xi.prototype.Oa,hs.prototype.digest=hs.prototype.l,hs.prototype.reset=hs.prototype.reset,hs.prototype.update=hs.prototype.j,or.prototype.add=or.prototype.add,or.prototype.multiply=or.prototype.R,or.prototype.modulo=or.prototype.gb,or.prototype.compare=or.prototype.X,or.prototype.toNumber=or.prototype.ea,or.prototype.toString=or.prototype.toString,or.prototype.getBits=or.prototype.D,or.fromNumber=as,or.fromString=function $o(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Qi($o(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=as(Math.pow(e,8)),s=Ia,c=0;c<i.length;c+=8){var m=Math.min(8,i.length-c),y=parseInt(i.substring(c,c+m),e);8>m?(m=as(Math.pow(e,m)),s=s.R(m).add(as(y))):s=(s=s.R(t)).add(as(y))}return s};var Ml=Ue.createWebChannelTransport=function(){return new ss},wc=Ue.getStatEventTarget=function(){return ai()},fl=Ue.ErrorCode=Pn,Za=Ue.EventType=pi,ec=Ue.Event=$n,F=Ue.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},te=Ue.FetchXmlHttpFactory=Es,z=Ue.WebChannel=ts,be=Ue.XhrIo=xi,et=Ue.Md5=hs,nn=Ue.Integer=or;const mn="@firebase/firestore";class Fn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");let tr="9.22.1";const Si=new me.Yd("@firebase/firestore");function Yi(){return Si.logLevel}function Ni(i){Si.setLogLevel(i)}function dn(i,...e){if(Si.logLevel<=me.in.DEBUG){const t=e.map(js);Si.debug(`Firestore (${tr}): ${i}`,...t)}}function fi(i,...e){if(Si.logLevel<=me.in.ERROR){const t=e.map(js);Si.error(`Firestore (${tr}): ${i}`,...t)}}function fr(i,...e){if(Si.logLevel<=me.in.WARN){const t=e.map(js);Si.warn(`Firestore (${tr}): ${i}`,...t)}}function js(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function kn(i="Unexpected state"){const e=`FIRESTORE (${tr}) INTERNAL ASSERTION FAILED: `+i;throw fi(e),new Error(e)}function Kn(i,e){i||kn()}function Is(i,e){i||kn()}function Mn(i,e){return i}const Kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends ce.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fn.UNAUTHENTICATED))}shutdown(){}}class tc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Cu{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const m=ie=>this.i!==c?(c=this.i,t(ie)):Promise.resolve();let y=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new ls,e.enqueueRetryable(()=>m(this.currentUser))};const k=()=>{const ie=y;e.enqueueRetryable((0,f.Z)(function*(){yield ie.promise,yield m(s.currentUser)}))},G=ie=>{dn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ie=>G(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?G(ie):(dn("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new ls)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(dn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kn("string"==typeof s.accessToken),new Cc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Kn(null===e||"string"==typeof e),new Fn(e)}}class dd{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class vo{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new dd(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=m=>{null!=m.error&&dn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const y=m.token!==this.T;return this.T=m.token,dn("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const c=m=>{dn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>c(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?c(m):dn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Kn("string"==typeof t.token),this.T=t.token,new Zd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qd(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class nr{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=qd(40);for(let m=0;m<c.length;++m)s.length<20&&c[m]<t&&(s+=e.charAt(c[m]%e.length))}return s}}function _i(i,e){return i<e?-1:i>e?1:0}function oa(i,e,t){return i.length===e.length&&i.every((s,c)=>t(s,e[c]))}function $c(i){return i+"\0"}class Tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _n(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _n(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _n(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tr.fromMillis(Date.now())}static fromDate(e){return Tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Tr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_i(this.nanoseconds,e.nanoseconds):_i(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ri{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ri(e)}static min(){return new ri(new Tr(0,0))}static max(){return new ri(new Tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ol{constructor(e,t,s){void 0===t?t=0:t>e.length&&kn(),void 0===s?s=e.length-t:s>e.length-t&&kn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ol.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const m=e.get(c),y=t.get(c);if(m<y)return-1;if(m>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yi extends Ol{construct(e,t,s){return new yi(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _n(Kt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new yi(t)}static emptyPath(){return new yi([])}}const Wc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends Ol{construct(e,t,s){return new Ci(e,t,s)}static isValidIdentifier(e){return Wc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const m=()=>{if(0===s.length)throw new _n(Kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let y=!1;for(;c<e.length;){const k=e[c];if("\\"===k){if(c+1===e.length)throw new _n(Kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[c+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new _n(Kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=G,c+=2}else"`"===k?(y=!y,c++):"."!==k||y?(s+=k,c++):(m(),c++)}if(m(),y)throw new _n(Kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(t)}static emptyPath(){return new Ci([])}}class Bn{constructor(e){this.path=e}static fromPath(e){return new Bn(yi.fromString(e))}static fromName(e){return new Bn(yi.fromString(e).popFirst(5))}static empty(){return new Bn(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bn(new yi(e.slice()))}}class Qr{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function Rl(i){return i.fields.find(e=>2===e.kind)}function Ns(i){return i.fields.filter(e=>2!==e.kind)}Qr.UNKNOWN_ID=-1;class Pl{constructor(e,t){this.fieldPath=e,this.kind=t}}class kl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kl(0,Fs.min())}}function Nl(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,c=ri.fromTimestamp(1e9===s?new Tr(t+1,0):new Tr(t,s));return new Fs(c,Bn.empty(),e)}function Gc(i){return new Fs(i.readTime,i.key,-1)}class Fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Fs(ri.min(),Bn.empty(),-1)}static max(){return new Fs(ri.max(),Bn.empty(),-1)}}function qa(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Bn.comparator(i.documentKey,e.documentKey),0!==t?t:_i(i.largestBatchId,e.largestBatchId))}const Fl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Da(i){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,f.Z)(function*(i){if(i.code!==Kt.FAILED_PRECONDITION||i.message!==Fl)throw i;dn("LocalStore","Unexpectedly lost primary lease")}),Qa.apply(this,arguments)}class Yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&kn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yt((s,c)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,c)},this.catchCallback=m=>{this.wrapFailure(t,m).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Yt?t:Yt.resolve(t)}catch(t){return Yt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Yt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Yt.reject(t)}static resolve(e){return new Yt((t,s)=>{t(e)})}static reject(e){return new Yt((t,s)=>{s(e)})}static waitFor(e){return new Yt((t,s)=>{let c=0,m=0,y=!1;e.forEach(k=>{++c,k.next(()=>{++m,y&&m===c&&t()},G=>s(G))}),y=!0,m===c&&t()})}static or(e){let t=Yt.resolve(!1);for(const s of e)t=t.next(c=>c?Yt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,m)=>{s.push(t.call(this,c,m))}),this.waitFor(s)}static mapArray(e,t){return new Yt((s,c)=>{const m=e.length,y=new Array(m);let k=0;for(let G=0;G<m;G++){const ie=G;t(e[ie]).next(De=>{y[ie]=De,++k,k===m&&s(y)},De=>c(De))}})}static doWhile(e,t){return new Yt((s,c)=>{const m=()=>{!0===e()?t().next(()=>{m()},c):s()};m()})}}class ic{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ls,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ml(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const c=Xa(s.target.error);this.v.reject(new ml(e,c))}}static open(e,t,s,c){try{return new ic(t,e.transaction(c,s))}catch(m){throw new ml(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(dn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ll(t)}}class ji{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===ji.S((0,ce.z$)())&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return dn("SimpleDb","Removing database:",e),_l(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ce.hl)())return!1;if(ji.C())return!0;const e=(0,ce.z$)(),t=ji.S(e),s=0<t&&t<10,c=ji.N(e),m=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,f.Z)(function*(){return t.db||(dn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=y=>{s(y.target.result)},m.onblocked=()=>{c(new ml(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=y=>{const k=y.target.error;c("VersionError"===k.name?new _n(Kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new _n(Kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new ml(e,k))},m.onupgradeneeded=y=>{dn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.V.O(y.target.result,m.transaction,y.oldVersion,t.version).next(()=>{dn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var m=this;return(0,f.Z)(function*(){const y="readonly"===t;let k=0;for(;;){++k;try{m.db=yield m.$(e);const G=ic.open(m.db,e,y?"readonly":"readwrite",s),ie=c(G).next(De=>(G.P(),De)).catch(De=>(G.abort(De),Yt.reject(De))).toPromise();return ie.catch(()=>{}),yield G.R,ie}catch(G){const ie=G,De="FirebaseError"!==ie.name&&k<3;if(dn("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",De),m.close(),!De)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Kc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return _l(this.L.delete())}}class ml extends _n{constructor(e,t){super(Kt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gl(i){return"IndexedDbTransactionError"===i.name}class Ll{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(dn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(dn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),_l(s)}add(e){return dn("SimpleDb","ADD",this.store.name,e,e),_l(this.store.add(e))}get(e){return _l(this.store.get(e)).next(t=>(void 0===t&&(t=null),dn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return dn("SimpleDb","DELETE",this.store.name,e),_l(this.store.delete(e))}count(){return dn("SimpleDb","COUNT",this.store.name),_l(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),m=[];return this.W(c,(y,k)=>{m.push(k)}).next(()=>m)}{const c=this.store.getAll(s.range);return new Yt((m,y)=>{c.onerror=k=>{y(k.target.error)},c.onsuccess=k=>{m(k.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Yt((c,m)=>{s.onerror=y=>{m(y.target.error)},s.onsuccess=y=>{c(y.target.result)}})}J(e,t){dn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const c=this.cursor(s);return this.W(c,(m,y,k)=>k.delete())}X(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.W(c,t)}Z(e){const t=this.cursor({});return new Yt((s,c)=>{t.onerror=m=>{const y=Xa(m.target.error);c(y)},t.onsuccess=m=>{const y=m.target.result;y?e(y.primaryKey,y.value).next(k=>{k?y.continue():s()}):s()}})}W(e,t){const s=[];return new Yt((c,m)=>{e.onerror=y=>{m(y.target.error)},e.onsuccess=y=>{const k=y.target.result;if(!k)return void c();const G=new Kc(k),ie=t(k.primaryKey,k.value,G);if(ie instanceof Yt){const De=ie.catch(ot=>(G.done(),Yt.reject(ot)));s.push(De)}G.isDone?c():null===G.K?k.continue():k.continue(G.K)}}).next(()=>Yt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _l(i){return new Yt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const c=Xa(s.target.error);t(c)}})}let Yc=!1;function Xa(i){const e=ji.S((0,ce.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new _n("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yc||(Yc=!0,setTimeout(()=>{throw s},0)),s}}return i}class xa{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;dn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{dn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){gl(s)?dn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Da(s)}yield t.et(6e4)}))}}class rc{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let c=t,m=!0;return Yt.doWhile(()=>!0===m&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return dn("IndexBackiller",`Processing collection: ${y}`),this.it(e,y,c).next(k=>{c-=k,s.add(y)});m=!1})).next(()=>t-c)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(m=>{const y=m.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.rt(c,m)).next(k=>(dn("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>y.size)}))}rt(e,t){let s=e;return t.changes.forEach((c,m)=>{const y=Gc(m);qa(y,s)>0&&(s=y)}),new Fs(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Hs=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ot(c),this.ut=c=>s.writeSequenceNumber(c))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function Or(i){return null==i}function Eo(i){return 0===i&&1/i==-1/0}function Oo(i){return"number"==typeof i&&Number.isInteger(i)&&!Eo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function ps(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ir(e)),e=Ls(i.get(t),e);return Ir(e)}function Ls(i,e){let t=e;const s=i.length;for(let c=0;c<s;c++){const m=i.charAt(c);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function Ir(i){return i+"\x01\x01"}function Bs(i){const e=i.length;if(Kn(e>=2),2===e)return Kn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),yi.emptyPath();const t=e-2,s=[];let c="";for(let m=0;m<e;){const y=i.indexOf("\x01",m);switch((y<0||y>t)&&kn(),i.charAt(y+1)){case"\x01":const k=i.substring(m,y);let G;0===c.length?G=k:(c+=k,G=c,c=""),s.push(G);break;case"\x10":c+=i.substring(m,y),c+="\0";break;case"\x11":c+=i.substring(m,y+1);break;default:kn()}m=y+2}return new yi(s)}const D=["userId","batchId"];function S(i,e){return[i,ps(e)]}function w(i,e,t){return[i,ps(e),t]}const L={},Y=["prefixPath","collectionGroup","readTime","documentId"],pe=["prefixPath","collectionGroup","documentId"],Ie=["collectionGroup","readTime","prefixPath","documentId"],xt=["canonicalId","targetId"],un=["targetId","path"],Vn=["path","targetId"],jn=["collectionId","parent"],Ai=["indexId","uid"],cs=["uid","sequenceNumber"],Ar=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$s=["indexId","uid","orderedDocumentKey"],Sa=["userId","collectionPath","documentId"],Ro=["userId","collectionPath","largestBatchId"],Wo=["userId","collectionGroup","largestBatchId"],Go=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zc=[...Go,"documentOverlays"],Bl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Du=Bl,Ta=[...Du,"indexConfiguration","indexState","indexEntries"];class qc extends nc{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Xr(i,e){const t=Mn(i);return ji.M(t.ht,e)}function aa(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ja(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ic(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class hr{constructor(e,t){this.comparator=e,this.root=t||Gr.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gr.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?s(e.key,t):1,t&&c&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gr{constructor(e,t,s,c,m){this.key=e,this.value=t,this.color=s??Gr.RED,this.left=c??Gr.EMPTY,this.right=m??Gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,m){return new Gr(e??this.key,t??this.value,s??this.color,c??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const m=s(e,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===m?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Gr.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kn();const e=this.left.check();if(e!==this.right.check())throw kn();return e+(this.isRed()?0:1)}}Gr.EMPTY=null,Gr.RED=!0,Gr.BLACK=!1,Gr.EMPTY=new class{constructor(){this.size=0}get key(){throw kn()}get value(){throw kn()}get color(){throw kn()}get left(){throw kn()}get right(){throw kn()}copy(i,e,t,s,c){return this}insert(i,e,t){return new Gr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dr{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fd(this.data.getIterator())}getIteratorFrom(e){return new fd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=s.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dr(this.comparator);return t.data=e,t}}class fd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sc(i){return i.hasNext()?i.getNext():void 0}class no{constructor(e){this.fields=e,e.sort(Ci.comparator)}static empty(){return new no([])}unionWith(e){let t=new Dr(Ci.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new no(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class xu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function pd(){return typeof atob<"u"}class us{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xu("Invalid base64 string: "+c):c}}(e);return new us(t)}static fromUint8Array(e){const t=function(s){let c="";for(let m=0;m<s.length;++m)c+=String.fromCharCode(s[m]);return c}(e);return new us(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _i(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}us.EMPTY_BYTE_STRING=new us("");const Qd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(i){if(Kn(!!i),"string"==typeof i){let e=0;const t=Qd.exec(i);if(Kn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rr(i.seconds),nanos:Rr(i.nanos)}}function Rr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Aa(i){return"string"==typeof i?us.fromBase64String(i):us.fromUint8Array(i)}function Su(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vl(i){const e=i.mapValue.fields.__previous_value__;return Su(e)?Vl(e):e}function xc(i){const e=el(i.mapValue.fields.__local_write_time__.timestampValue);return new Tr(e.seconds,e.nanos)}class oc{constructor(e,t,s,c,m,y,k,G,ie){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=k,this.longPollingOptions=G,this.useFetchStreams=ie}}class yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ac={nullValue:"NULL_VALUE"};function la(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Su(i)?4:Ra(i)?9007199254740991:10:kn()}function Oa(i,e){if(i===e)return!0;const t=la(i);if(t!==la(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return xc(i).isEqual(xc(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const m=el(s.timestampValue),y=el(c.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Aa(i.bytesValue).isEqual(Aa(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,c){return Rr(s.geoPointValue.latitude)===Rr(c.geoPointValue.latitude)&&Rr(s.geoPointValue.longitude)===Rr(c.geoPointValue.longitude)}(i,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Rr(s.integerValue)===Rr(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const m=Rr(s.doubleValue),y=Rr(c.doubleValue);return m===y?Eo(m)===Eo(y):isNaN(m)&&isNaN(y)}return!1}(i,e);case 9:return oa(i.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:return function(s,c){const m=s.mapValue.fields||{},y=c.mapValue.fields||{};if(aa(m)!==aa(y))return!1;for(const k in m)if(m.hasOwnProperty(k)&&(void 0===y[k]||!Oa(m[k],y[k])))return!1;return!0}(i,e);default:return kn()}var c}function lc(i,e){return void 0!==(i.values||[]).find(t=>Oa(t,e))}function Po(i,e){if(i===e)return 0;const t=la(i),s=la(e);if(t!==s)return _i(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return _i(i.booleanValue,e.booleanValue);case 2:return function(c,m){const y=Rr(c.integerValue||c.doubleValue),k=Rr(m.integerValue||m.doubleValue);return y<k?-1:y>k?1:y===k?0:isNaN(y)?isNaN(k)?0:-1:1}(i,e);case 3:return Qc(i.timestampValue,e.timestampValue);case 4:return Qc(xc(i),xc(e));case 5:return _i(i.stringValue,e.stringValue);case 6:return function(c,m){const y=Aa(c),k=Aa(m);return y.compareTo(k)}(i.bytesValue,e.bytesValue);case 7:return function(c,m){const y=c.split("/"),k=m.split("/");for(let G=0;G<y.length&&G<k.length;G++){const ie=_i(y[G],k[G]);if(0!==ie)return ie}return _i(y.length,k.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,m){const y=_i(Rr(c.latitude),Rr(m.latitude));return 0!==y?y:_i(Rr(c.longitude),Rr(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,m){const y=c.values||[],k=m.values||[];for(let G=0;G<y.length&&G<k.length;++G){const ie=Po(y[G],k[G]);if(ie)return ie}return _i(y.length,k.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,m){if(c===Ma.mapValue&&m===Ma.mapValue)return 0;if(c===Ma.mapValue)return 1;if(m===Ma.mapValue)return-1;const y=c.fields||{},k=Object.keys(y),G=m.fields||{},ie=Object.keys(G);k.sort(),ie.sort();for(let De=0;De<k.length&&De<ie.length;++De){const ot=_i(k[De],ie[De]);if(0!==ot)return ot;const Gt=Po(y[k[De]],G[ie[De]]);if(0!==Gt)return Gt}return _i(k.length,ie.length)}(i.mapValue,e.mapValue);default:throw kn()}}function Qc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _i(i,e);const t=el(i),s=el(e),c=_i(t.seconds,s.seconds);return 0!==c?c:_i(t.nanos,s.nanos)}function Ul(i){return Xc(i)}function Xc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const c=el(s);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Aa(i.bytesValue).toBase64():"referenceValue"in i?Bn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let c="[",m=!0;for(const y of s.values||[])m?m=!1:c+=",",c+=Xc(y);return c+"]"}(i.arrayValue):"mapValue"in i?function(s){const c=Object.keys(s.fields||{}).sort();let m="{",y=!0;for(const k of c)y?y=!1:m+=",",m+=`${k}:${Xc(s.fields[k])}`;return m+"}"}(i.mapValue):kn();var e}function Jc(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Xd(i){return!!i&&"integerValue"in i}function eu(i){return!!i&&"arrayValue"in i}function uc(i){return!!i&&"nullValue"in i}function Tu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function tl(i){return!!i&&"mapValue"in i}function zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ja(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=zl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Ra(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Pa(i){return"nullValue"in i?ac:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Jc(yl.empty(),Bn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:kn()}function vl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Jc(yl.empty(),Bn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ma:kn()}function Jd(i,e){const t=Po(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function bl(i,e){const t=Po(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!tl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=Ci.emptyPath(),s={},c=[];e.forEach((y,k)=>{if(!t.isImmediateParentOf(k)){const G=this.getFieldsMap(t);this.applyChanges(G,s,c),s={},c=[],t=k.popLast()}y?s[k.lastSegment()]=zl(y):c.push(k.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,s,c)}delete(e){const t=this.field(e.popLast());tl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];tl(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){Ja(t,(c,m)=>e[c]=m);for(const c of s)delete e[c]}clone(){return new ms(zl(this.value))}}function Sc(i){const e=[];return Ja(i.fields,(t,s)=>{const c=new Ci([t]);if(tl(s)){const m=Sc(s.mapValue).fields;if(0===m.length)e.push(c);else for(const y of m)e.push(c.child(y))}else e.push(c)}),new no(e)}class Pr{constructor(e,t,s,c,m,y,k){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=m,this.data=y,this.documentState=k}static newInvalidDocument(e){return new Pr(e,0,ri.min(),ri.min(),ri.min(),ms.empty(),0)}static newFoundDocument(e,t,s,c){return new Pr(e,1,t,ri.min(),s,c,0)}static newNoDocument(e,t){return new Pr(e,2,t,ri.min(),ri.min(),ms.empty(),0)}static newUnknownDocument(e,t){return new Pr(e,3,t,ri.min(),ri.min(),ms.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ri.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ri.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jl{constructor(e,t){this.position=e,this.inclusive=t}}function md(i,e,t){let s=0;for(let c=0;c<i.position.length;c++){const m=e[c],y=i.position[c];if(s=m.field.isKeyField()?Bn.comparator(Bn.fromName(y.referenceValue),t.key):Po(y,t.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function Au(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Oa(i.position[t],e.position[t]))return!1;return!0}class M{constructor(e,t="asc"){this.field=e,this.dir=t}}function B(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class re{}class ke extends re{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Vs(e,t,s):"array-contains"===t?new Bi(e,s):"in"===t?new Ri(e,s):"not-in"===t?new Gi(e,s):"array-contains-any"===t?new El(e,s):new ke(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new nl(e,s):new Mu(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Po(t,this.value)):null!==t&&la(this.value)===la(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class st extends re{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new st(e,t)}matches(e){return St(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function St(i){return"and"===i.op}function an(i){return"or"===i.op}function Un(i){return Nn(i)&&St(i)}function Nn(i){for(const e of i.filters)if(e instanceof st)return!1;return!0}function ti(i){if(i instanceof ke)return i.field.canonicalString()+i.op.toString()+Ul(i.value);if(Un(i))return i.filters.map(e=>ti(e)).join(",");{const e=i.filters.map(t=>ti(t)).join(",");return`${i.op}(${e})`}}function Ii(i,e){return i instanceof ke?(t=i,(s=e)instanceof ke&&t.op===s.op&&t.field.isEqual(s.field)&&Oa(t.value,s.value)):i instanceof st?function(t,s){return s instanceof st&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,m,y)=>c&&Ii(m,s.filters[y]),!0)}(i,e):void kn();var t,s}function wi(i,e){const t=i.filters.concat(e);return st.create(t,i.op)}function Ws(i){return i instanceof ke?`${(e=i).field.canonicalString()} ${e.op} ${Ul(e.value)}`:i instanceof st?function(e){return e.op.toString()+" {"+e.getFilters().map(Ws).join(" ,")+"}"}(i):"Filter";var e}class Vs extends ke{constructor(e,t,s){super(e,t,s),this.key=Bn.fromName(s.referenceValue)}matches(e){const t=Bn.comparator(e.key,this.key);return this.matchesComparison(t)}}class nl extends ke{constructor(e,t){super(e,"in",t),this.keys=Hl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mu extends ke{constructor(e,t){super(e,"not-in",t),this.keys=Hl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hl(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Bn.fromName(s.referenceValue))}class Bi extends ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eu(t)&&lc(t.arrayValue,this.value)}}class Ri extends ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lc(this.value.arrayValue,t)}}class Gi extends ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lc(this.value.arrayValue,t)}}class El extends ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>lc(this.value.arrayValue,s))}}class kr{constructor(e,t=null,s=[],c=[],m=null,y=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=m,this.startAt=y,this.endAt=k,this.dt=null}}function Ou(i,e=null,t=[],s=[],c=null,m=null,y=null){return new kr(i,e,t,s,c,m,y)}function il(i){const e=Mn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ti(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),Or(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ul(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ul(s)).join(",")),e.dt=t}return e.dt}function rl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!B(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Ii(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Au(i.startAt,e.startAt)&&Au(i.endAt,e.endAt)}function tu(i){return Bn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function br(i,e){return i.filters.filter(t=>t instanceof ke&&t.field.isEqual(e))}function Ki(i,e,t){let s=ac,c=!0;for(const m of br(i,e)){let y=ac,k=!0;switch(m.op){case"<":case"<=":y=Pa(m.value);break;case"==":case"in":case">=":y=m.value;break;case">":y=m.value,k=!1;break;case"!=":case"not-in":y=ac}Jd({value:s,inclusive:c},{value:y,inclusive:k})<0&&(s=y,c=k)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const y=t.position[m];Jd({value:s,inclusive:c},{value:y,inclusive:t.inclusive})<0&&(s=y,c=t.inclusive);break}return{value:s,inclusive:c}}function wo(i,e,t){let s=Ma,c=!0;for(const m of br(i,e)){let y=Ma,k=!0;switch(m.op){case">=":case">":y=vl(m.value),k=!1;break;case"==":case"in":case"<=":y=m.value;break;case"<":y=m.value,k=!1;break;case"!=":case"not-in":y=Ma}bl({value:s,inclusive:c},{value:y,inclusive:k})>0&&(s=y,c=k)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const y=t.position[m];bl({value:s,inclusive:c},{value:y,inclusive:t.inclusive})>0&&(s=y,c=t.inclusive);break}return{value:s,inclusive:c}}class dc{constructor(e,t=null,s=[],c=[],m=null,y="F",k=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=m,this.limitType=y,this.startAt=k,this.endAt=G,this.wt=null,this._t=null}}function Ru(i,e,t,s,c,m,y,k){return new dc(i,e,t,s,c,m,y,k)}function io(i){return new dc(i)}function Uf(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function zf(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function x(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function g(i){return null!==i.collectionGroup}function b(i){const e=Mn(i);if(null===e.wt){e.wt=[];const t=x(e),s=zf(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new M(t)),e.wt.push(new M(Ci.keyField(),"asc"));else{let c=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(c=!0);if(!c){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new M(Ci.keyField(),m))}}}return e.wt}function O(i){const e=Mn(i);if(!e._t)if("F"===e.limitType)e._t=Ou(e.path,e.collectionGroup,b(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of b(e))t.push(new M(m.field,"desc"===m.dir?"asc":"desc"));const s=e.endAt?new jl(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new jl(e.startAt.position,e.startAt.inclusive):null;e._t=Ou(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function se(i,e){e.getFirstInequalityField(),x(i);const t=i.filters.concat([e]);return new dc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Se(i,e,t){return new dc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Mt(i,e){return rl(O(i),O(e))&&i.limitType===e.limitType}function ln(i){return`${il(O(i))}|lt:${i.limitType}`}function On(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Ws(s)).join(", ")}]`),Or(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ul(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ul(s)).join(",")),`Target(${t})`}(O(i))}; limitType=${i.limitType})`}function Hn(i,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Bn.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,s){for(const c of b(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(i,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(c,m,y){const k=md(c,m,y);return c.inclusive?k<=0:k<0}(t.startAt,b(t),s)||t.endAt&&!function(c,m,y){const k=md(c,m,y);return c.inclusive?k>=0:k>0}(t.endAt,b(t),s)));var t,s}function oi(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Di(i){return(e,t)=>{let s=!1;for(const c of b(i)){const m=bi(c,e,t);if(0!==m)return m;s=s||c.field.isKeyField()}return 0}}function bi(i,e,t){const s=i.field.isKeyField()?Bn.comparator(e.key,t.key):function(c,m,y){const k=m.data.field(c),G=y.data.field(c);return null!==k&&null!==G?Po(k,G):kn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return kn()}}class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,m]of s)if(this.equalsFn(c,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return void(c[m]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(t,s)=>{for(const[c,m]of s)e(c,m)})}isEmpty(){return Ic(this.inner)}size(){return this.innerSize}}const nu=new hr(Bn.comparator);function Ko(){return nu}const ko=new hr(Bn.comparator);function hc(...i){let e=ko;for(const t of i)e=e.insert(t.key,t);return e}function ca(i){let e=ko;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ka(){return Tc()}function Co(){return Tc()}function Tc(){return new Us(i=>i.toString(),(i,e)=>i.isEqual(e))}const Pu=new hr(Bn.comparator),iu=new Dr(Bn.comparator);function Fi(...i){let e=iu;for(const t of i)e=e.add(t);return e}const gd=new Dr(_i);function ku(){return gd}function Uh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eo(e)?"-0":e}}function ru(i){return{integerValue:""+i}}function _d(i,e){return Oo(e)?ru(e):Uh(i,e)}class zh{constructor(){this._=void 0}}function sg(i,e,t){return i instanceof Nr?function(s,c){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&Su(c)&&(c=Vl(c)),c&&(m.fields.__previous_value__=c),{mapValue:m}}(t,e):i instanceof Nu?Yp(i,e):i instanceof wl?eh(i,e):function(s,c){const m=og(s,c),y=Ac(m)+Ac(s.gt);return Xd(m)&&Xd(s.gt)?ru(y):Uh(s.serializer,y)}(i,e)}function f_(i,e,t){return i instanceof Nu?Yp(i,e):i instanceof wl?eh(i,e):t}function og(i,e){return i instanceof ua?Xd(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Nr extends zh{}class Nu extends zh{constructor(e){super(),this.elements=e}}function Yp(i,e){const t=th(e);for(const s of i.elements)t.some(c=>Oa(c,s))||t.push(s);return{arrayValue:{values:t}}}class wl extends zh{constructor(e){super(),this.elements=e}}function eh(i,e){let t=th(e);for(const s of i.elements)t=t.filter(c=>!Oa(c,s));return{arrayValue:{values:t}}}class ua extends zh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ac(i){return Rr(i.integerValue||i.doubleValue)}function th(i){return eu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Vi{constructor(e,t){this.field=e,this.transform=t}}class yd{constructor(e,t){this.version=e,this.transformResults=t}}class Ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ds}static exists(e){return new Ds(void 0,e)}static updateTime(e){return new Ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jr(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class su{}function jf(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new da(i.key,Ds.none()):new Mc(i.key,i.data,Ds.none());{const t=i.data,s=ms.empty();let c=new Dr(Ci.comparator);for(let m of e.fields)if(!c.has(m)){let y=t.field(m);null===y&&m.length>1&&(m=m.popLast(),y=t.field(m)),null===y?s.delete(m):s.set(m,y),c=c.add(m)}return new ou(i.key,s,new no(c.toArray()),Ds.none())}}function Hf(i,e,t){i instanceof Mc?function(s,c,m){const y=s.value.clone(),k=nh(s.fieldTransforms,c,m.transformResults);y.setAll(k),c.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(i,e,t):i instanceof ou?function(s,c,m){if(!Jr(s.precondition,c))return void c.convertToUnknownDocument(m.version);const y=nh(s.fieldTransforms,c,m.transformResults),k=c.data;k.setAll($f(s)),k.setAll(y),c.convertToFoundDocument(m.version,k).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function vd(i,e,t,s){return i instanceof Mc?function(c,m,y,k){if(!Jr(c.precondition,m))return y;const G=c.value.clone(),ie=ag(c.fieldTransforms,k,m);return G.setAll(ie),m.convertToFoundDocument(m.version,G).setHasLocalMutations(),null}(i,e,t,s):i instanceof ou?function(c,m,y,k){if(!Jr(c.precondition,m))return y;const G=ag(c.fieldTransforms,k,m),ie=m.data;return ie.setAll($f(c)),ie.setAll(G),m.convertToFoundDocument(m.version,ie).setHasLocalMutations(),null===y?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(De=>De.field))}(i,e,t,s):(y=t,Jr(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y);var m,y}function bd(i,e){let t=null;for(const s of i.fieldTransforms){const c=e.data.field(s.field),m=og(s.transform,c||null);null!=m&&(null===t&&(t=ms.empty()),t.set(s.field,m))}return t||null}function $l(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&oa(t,s,(c,m)=>function p_(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Nu&&s instanceof Nu||t instanceof wl&&s instanceof wl?oa(t.elements,s.elements,Oa):t instanceof ua&&s instanceof ua?Oa(t.gt,s.gt):t instanceof Nr&&s instanceof Nr);var t,s}(c,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Mc extends su{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ou extends su{constructor(e,t,s,c,m=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function $f(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function nh(i,e,t){const s=new Map;Kn(i.length===t.length);for(let c=0;c<t.length;c++){const m=i[c],y=m.transform,k=e.data.field(m.field);s.set(m.field,f_(y,k,t[c]))}return s}function ag(i,e,t){const s=new Map;for(const c of i){const m=c.transform,y=t.data.field(c.field);s.set(c.field,sg(m,y,e))}return s}class da extends su{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fu extends su{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zp{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(e.key)&&Hf(m,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=vd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=vd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Co();return this.mutations.forEach(c=>{const m=e.get(c.key),y=m.overlayedDocument;let k=this.applyToLocalView(y,m.mutatedFields);k=t.has(c.key)?null:k;const G=jf(y,k);null!==G&&s.set(c.key,G),y.isValidDocument()||y.convertToNoDocument(ri.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fi())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,s)=>$l(t,s))&&oa(this.baseMutations,e.baseMutations,(t,s)=>$l(t,s))}}class qp{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){Kn(e.mutations.length===s.length);let c=Pu;const m=e.mutations;for(let y=0;y<m.length;y++)c=c.insert(m[y].key,s[y].version);return new qp(e,t,s,c)}}class jh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qp{constructor(e,t){this.count=e,this.unchangedNames=t}}var ro,lr;function Xp(i){switch(i){default:return kn();case Kt.CANCELLED:case Kt.UNKNOWN:case Kt.DEADLINE_EXCEEDED:case Kt.RESOURCE_EXHAUSTED:case Kt.INTERNAL:case Kt.UNAVAILABLE:case Kt.UNAUTHENTICATED:return!1;case Kt.INVALID_ARGUMENT:case Kt.NOT_FOUND:case Kt.ALREADY_EXISTS:case Kt.PERMISSION_DENIED:case Kt.FAILED_PRECONDITION:case Kt.ABORTED:case Kt.OUT_OF_RANGE:case Kt.UNIMPLEMENTED:case Kt.DATA_LOSS:return!0}}function Jp(i){if(void 0===i)return fi("GRPC error has no .code"),Kt.UNKNOWN;switch(i){case ro.OK:return Kt.OK;case ro.CANCELLED:return Kt.CANCELLED;case ro.UNKNOWN:return Kt.UNKNOWN;case ro.DEADLINE_EXCEEDED:return Kt.DEADLINE_EXCEEDED;case ro.RESOURCE_EXHAUSTED:return Kt.RESOURCE_EXHAUSTED;case ro.INTERNAL:return Kt.INTERNAL;case ro.UNAVAILABLE:return Kt.UNAVAILABLE;case ro.UNAUTHENTICATED:return Kt.UNAUTHENTICATED;case ro.INVALID_ARGUMENT:return Kt.INVALID_ARGUMENT;case ro.NOT_FOUND:return Kt.NOT_FOUND;case ro.ALREADY_EXISTS:return Kt.ALREADY_EXISTS;case ro.PERMISSION_DENIED:return Kt.PERMISSION_DENIED;case ro.FAILED_PRECONDITION:return Kt.FAILED_PRECONDITION;case ro.ABORTED:return Kt.ABORTED;case ro.OUT_OF_RANGE:return Kt.OUT_OF_RANGE;case ro.UNIMPLEMENTED:return Kt.UNIMPLEMENTED;case ro.DATA_LOSS:return Kt.DATA_LOSS;default:return kn()}}(lr=ro||(ro={}))[lr.OK=0]="OK",lr[lr.CANCELLED=1]="CANCELLED",lr[lr.UNKNOWN=2]="UNKNOWN",lr[lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lr[lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lr[lr.NOT_FOUND=5]="NOT_FOUND",lr[lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",lr[lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",lr[lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",lr[lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lr[lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lr[lr.ABORTED=10]="ABORTED",lr[lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",lr[lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",lr[lr.INTERNAL=13]="INTERNAL",lr[lr.UNAVAILABLE=14]="UNAVAILABLE",lr[lr.DATA_LOSS=15]="DATA_LOSS";class ih{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Wf}static getOrCreateInstance(){return null===Wf&&(Wf=new ih),Wf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Wf=null;function Lu(){return new TextEncoder}const sl=new nn([4294967295,4294967295],0);function Bu(i){const e=Lu().encode(i),t=new et;return t.update(e),new Uint8Array(t.digest())}function Hh(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new nn([t,s],0),new nn([c,m],0)]}class Gf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new rh(`Invalid padding: ${t}`);if(s<0)throw new rh(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new rh(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new rh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=nn.fromNumber(this.It)}Et(e,t,s){let c=e.add(t.multiply(nn.fromNumber(s)));return 1===c.compare(sl)&&(c=new nn([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Bu(e),[s,c]=Hh(t);for(let m=0;m<this.hashCount;m++){const y=this.Et(s,c,m);if(!this.At(y))return!1}return!0}static create(e,t,s){const c=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),y=new Gf(m,c,t);return s.forEach(k=>y.insert(k)),y}insert(e){if(0===this.It)return;const t=Bu(e),[s,c]=Hh(t);for(let m=0;m<this.hashCount;m++){const y=this.Et(s,c,m);this.Rt(y)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $h{constructor(e,t,s,c,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new $h(ri.min(),c,new hr(_i),Ko(),Fi())}}class Kf{constructor(e,t,s,c,m){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Kf(s,t,Fi(),Fi(),Fi())}}class em{constructor(e,t,s,c){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=c}}class Yf{constructor(e,t){this.targetId=e,this.Vt=t}}class Na{constructor(e,t,s=us.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class tm{constructor(){this.St=0,this.Dt=Gh(),this.Ct=us.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Fi(),t=Fi(),s=Fi();return this.Dt.forEach((c,m)=>{switch(m){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:kn()}}),new Kf(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Gh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ko(),this.zt=Wh(),this.Wt=new hr(_i)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:kn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,c)=>{this.te(c)&&t(c)})}ne(e){var t;const s=e.targetId,c=e.Vt.count,m=this.se(s);if(m){const y=m.target;if(tu(y))if(0===c){const k=new Bn(y.path);this.Yt(s,k,Pr.newNoDocument(k,ri.min()))}else Kn(1===c);else{const k=this.ie(s);if(k!==c){const G=this.re(e,k);0!==G&&(this.ee(s),this.Wt=this.Wt.insert(s,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ih.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ie,De,ot){var Gt,hn,Rn,Qn,ei,Ji;const xr={localCacheCount:De,existenceFilterCount:ot.count},cr=ot.unchangedNames;return cr&&(xr.bloomFilter={applied:0===ie,hashCount:null!==(Gt=cr?.hashCount)&&void 0!==Gt?Gt:0,bitmapLength:null!==(Qn=null===(Rn=null===(hn=cr?.bits)||void 0===hn?void 0:hn.bitmap)||void 0===Rn?void 0:Rn.length)&&void 0!==Qn?Qn:0,padding:null!==(Ji=null===(ei=cr?.bits)||void 0===ei?void 0:ei.padding)&&void 0!==Ji?Ji:0}),xr}(G,k,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:c}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:m="",padding:y=0},hashCount:k=0}=s;let G,ie;try{G=Aa(m).toUint8Array()}catch(De){if(De instanceof xu)return fr("Decoding the base64 bloom filter in existence filter failed ("+De.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw De}try{ie=new Gf(G,y,k)}catch(De){return fr(De instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",De),1}return 0===ie.It?1:c!==t-this.oe(e.targetId,ie)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let c=0;return s.forEach(m=>{const y=this.Gt.ue(),k=`projects/${y.projectId}/databases/${y.database}/documents/${m.path.canonicalString()}`;t.vt(k)||(this.Yt(e,m,null),c++)}),c}ce(e){const t=new Map;this.Qt.forEach((m,y)=>{const k=this.se(y);if(k){if(m.current&&tu(k.target)){const G=new Bn(k.target.path);null!==this.jt.get(G)||this.ae(y,G)||this.Yt(y,G,Pr.newNoDocument(G,e))}m.Mt&&(t.set(y,m.Ot()),m.Ft())}});let s=Fi();this.zt.forEach((m,y)=>{let k=!0;y.forEachWhile(G=>{const ie=this.se(G);return!ie||"TargetPurposeLimboResolution"===ie.purpose||(k=!1,!1)}),k&&(s=s.add(m))}),this.jt.forEach((m,y)=>y.setReadTime(e));const c=new $h(e,t,this.Wt,this.jt,s);return this.jt=Ko(),this.zt=Wh(),this.Wt=new hr(_i),c}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const c=this.Zt(e);this.ae(e,t)?c.Bt(t,1):c.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new tm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Dr(_i),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||dn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new tm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Wh(){return new hr(Bn.comparator)}function Gh(){return new hr(Bn.comparator)}const Kh={asc:"ASCENDING",desc:"DESCENDING"},Ed={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sh={and:"AND",or:"OR"};class au{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oh(i,e){return i.useProto3Json||Or(e)?e:{value:e}}function wd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function g_(i,e){return wd(i,e.toTimestamp())}function Xi(i){return Kn(!!i),ri.fromTimestamp(function(e){const t=el(e);return new Tr(t.seconds,t.nanos)}(i))}function ah(i,e){return(t=i,new yi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lh(i){const e=yi.fromString(i);return Kn(uu(e)),e}function Uu(i,e){return ah(i.databaseId,e.path)}function Fa(i,e){const t=lh(e);if(t.get(1)!==i.databaseId.projectId)throw new _n(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _n(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Bn(es(t))}function lu(i,e){return ah(i.databaseId,e)}function Zf(i){const e=lh(i);return 4===e.length?yi.emptyPath():es(e)}function Yh(i){return new yi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function es(i){return Kn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Cl(i,e,t){return{name:Uu(i,e),fields:t.value.mapValue.fields}}function Zh(i,e,t){const s=Fa(i,e.name),c=Xi(e.updateTime),m=e.createTime?Xi(e.createTime):ri.min(),y=new ms({mapValue:{fields:e.fields}}),k=Pr.newFoundDocument(s,c,m,y);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function cu(i,e){let t;if(e instanceof Mc)t={update:Cl(i,e.key,e.value)};else if(e instanceof da)t={delete:Uu(i,e.key)};else if(e instanceof ou)t={update:Cl(i,e.key,e.data),updateMask:ug(e.fieldMask)};else{if(!(e instanceof Fu))return kn();t={verify:Uu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,m){const y=m.transform;if(y instanceof Nr)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Nu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof wl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ua)return{fieldPath:m.field.canonicalString(),increment:y.gt};throw kn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:g_(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:kn()),t;var c}function Oc(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Ds.updateTime(Xi(c.updateTime)):void 0!==c.exists?Ds.exists(c.exists):Ds.none():Ds.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(m,y){let k=null;"setToServerValue"in y?(Kn("REQUEST_TIME"===y.setToServerValue),k=new Nr):"appendMissingElements"in y?k=new Nu(y.appendMissingElements.values||[]):"removeAllFromArray"in y?k=new wl(y.removeAllFromArray.values||[]):"increment"in y?k=new ua(m,y.increment):kn();const G=Ci.fromServerFormat(y.fieldPath);return new Vi(G,k)}(i,c)):[];var c;if(e.update){const c=Fa(i,e.update.name),m=new ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new no((e.updateMask.fieldPaths||[]).map(ie=>Ci.fromServerFormat(ie)));return new ou(c,m,y,t,s)}return new Mc(c,m,t,s)}if(e.delete){const c=Fa(i,e.delete);return new da(c,t)}if(e.verify){const c=Fa(i,e.verify);return new Fu(c,t)}return kn()}function Rc(i,e){return{documents:[lu(i,e.path)]}}function qh(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=lu(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lu(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(G){if(0!==G.length)return om(st.create(G,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const m=function(G){if(0!==G.length)return G.map(ie=>{return{field:zu((De=ie).field),direction:rm(De.dir)};var De})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const y=oh(i,e.limit);var k,G;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function Cd(i){let e=Zf(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){Kn(1===s);const De=t.from[0];De.allDescendants?c=De.collectionId:e=e.child(De.collectionId)}let m=[];t.where&&(m=function(De){const ot=uh(De);return ot instanceof st&&Un(ot)?ot.getFilters():[ot]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(De=>{return new M(ju((ot=De).field),function(Gt){switch(Gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ot.direction));var ot}));let k=null;t.limit&&(k=function(De){let ot;return ot="object"==typeof De?De.value:De,Or(ot)?null:ot}(t.limit));let G=null;var De;t.startAt&&(G=new jl((De=t.startAt).values||[],!!De.before));let ie=null;return t.endAt&&(ie=function(De){return new jl(De.values||[],!De.before)}(t.endAt)),Ru(e,c,y,m,k,"F",G,ie)}function uh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ju(e.unaryFilter.field);return ke.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=ju(e.unaryFilter.field);return ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ju(e.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ju(e.unaryFilter.field);return ke.create(m,"!=",{nullValue:"NULL_VALUE"});default:return kn()}}(i):void 0!==i.fieldFilter?ke.create(ju((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return st.create(e.compositeFilter.filters.map(t=>uh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return kn()}}(e.compositeFilter.op))}(i):kn();var e}function rm(i){return Kh[i]}function ry(i){return Ed[i]}function sm(i){return sh[i]}function zu(i){return{fieldPath:i.canonicalString()}}function ju(i){return Ci.fromServerFormat(i.fieldPath)}function om(i){return i instanceof ke?function(e){if("=="===e.op){if(Tu(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NAN"}};if(uc(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tu(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NOT_NAN"}};if(uc(e.value))return{unaryFilter:{field:zu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zu(e.field),op:ry(e.op),value:e.value}}}(i):i instanceof st?function(e){const t=e.getFilters().map(s=>om(s));return 1===t.length?t[0]:{compositeFilter:{op:sm(e.op),filters:t}}}(i):kn()}function ug(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Pc{constructor(e,t,s,c,m=ri.min(),y=ri.min(),k=us.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=k,this.expectedCount=G}withSequenceNumber(e){return new Pc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qf{constructor(e){this.fe=e}}function dg(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:dh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Uu(c=i.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:wd(c,m.version.toTimestamp()),createTime:wd(c,m.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:kc(e.version)};else{if(!e.isUnknownDocument())return kn();s.unknownDocument={path:t.path.toArray(),version:kc(e.version)}}var c,m;return s}function dh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function kc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Il(i){const e=new Tr(i.seconds,i.nanoseconds);return ri.fromTimestamp(e)}function fc(i,e){const t=(e.baseMutations||[]).map(m=>Oc(i.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>Oc(i.fe,m)),c=Tr.fromMillis(e.localWriteTimeMs);return new Zp(e.batchId,c,t,s)}function du(i){const e=Il(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Il(i.lastLimboFreeSnapshotVersion):ri.min();let s;var c;return void 0!==i.query.documents?(Kn(1===(c=i.query).documents.length),s=O(io(Zf(c.documents[0])))):s=O(Cd(i.query)),new Pc(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,us.fromBase64String(i.resumeToken))}function am(i,e){const t=kc(e.snapshotVersion),s=kc(e.lastLimboFreeSnapshotVersion);let c;c=tu(e.target)?Rc(i.fe,e.target):qh(i.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:il(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function hh(i){const e=Cd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Se(e,e.limit,"L"):e}function Xf(i,e){return new jh(e.largestBatchId,Oc(i.fe,e.overlayMutation))}function hu(i,e){const t=e.path.lastSegment();return[i,ps(e.path.popLast()),t]}function lm(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:kc(s.readTime),documentKey:ps(s.documentKey.path),largestBatchId:s.largestBatchId}}class hg{getBundleMetadata(e,t){return fg(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:Il(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return fg(e).put({bundleId:(s=t).id,createTime:kc(Xi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Jf(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:hh(c.bundledQuery),readTime:Il(c.readTime)};var c})}saveNamedQuery(e,t){return Jf(e).put({name:(s=t).name,readTime:kc(Xi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function fg(i){return Xr(i,"bundles")}function Jf(i){return Xr(i,"namedQueries")}class Qh{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qh(e,t.uid||"")}getOverlay(e,t){return Hu(e).get(hu(this.userId,t)).next(s=>s?Xf(this.serializer,s):null)}getOverlays(e,t){const s=ka();return Yt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&s.set(c,m)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((m,y)=>{const k=new jh(t,y);c.push(this.we(e,k))}),Yt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(y=>c.add(ps(y.getCollectionPath())));const m=[];return c.forEach(y=>{const k=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);m.push(Hu(e).J("collectionPathOverlayIndex",k))}),Yt.waitFor(m)}getOverlaysForCollection(e,t,s){const c=ka(),m=ps(t),y=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Hu(e).j("collectionPathOverlayIndex",y).next(k=>{for(const G of k){const ie=Xf(this.serializer,G);c.set(ie.getKey(),ie)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const m=ka();let y;const k=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hu(e).X({index:"collectionGroupOverlayIndex",range:k},(G,ie,De)=>{const ot=Xf(this.serializer,ie);m.size()<c||ot.largestBatchId===y?(m.set(ot.getKey(),ot),y=ot.largestBatchId):De.done()}).next(()=>m)}we(e,t){return Hu(e).put(function(s,c,m){const[y,k,G]=hu(c,m.mutation.key);return{userId:c,collectionPath:k,documentId:G,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:cu(s.fe,m.mutation)}}(this.serializer,this.userId,t))}}function Hu(i){return Xr(i,"documentOverlays")}class Id{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Rr(e.integerValue));else if("doubleValue"in e){const s=Rr(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Eo(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Aa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?Ra(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):kn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const c of Object.keys(s))this.Te(c,t),this.me(s[c],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const c of s)this.me(c,t)}ve(e,t){this.ye(t,37),Bn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function pg(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function __(i){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const m=pg(255&t[c]);if(s+=m,8!==m)break}return s}(i);return Math.ceil(e/8)}Id.Ve=new Id;class y_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const c=t.codePointAt(0);this.De(240|c>>>18),this.De(128|63&c>>>12),this.De(128|63&c>>>6),this.De(128|63&c)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const c=t.codePointAt(0);this.Ne(240|c>>>18),this.Ne(128|63&c>>>12),this.Ne(128|63&c>>>6),this.Ne(128|63&c)}}this.ke()}Oe(e){const t=this.Fe(e),s=__(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Le(e){const t=this.Fe(e),s=__(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(c){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,c,!1),new Uint8Array(m.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class fh{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ep{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Wl{constructor(){this.je=new y_,this.ze=new fh(this.je),this.We=new ep(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Gl{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Gl(this.indexId,this.documentKey,this.arrayValue,s)}}function $u(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=tp(i.arrayValue,e.arrayValue),0!==t?t:(t=tp(i.directionalValue,e.directionalValue),0!==t?t:Bn.comparator(i.documentKey,e.documentKey)))}function tp(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class cm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){Kn(e.collectionGroup===this.collectionId);const t=Rl(e);if(void 0!==t&&!this.en(t))return!1;const s=Ns(e);let c=0,m=0;for(;c<s.length&&this.en(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Ze){const y=s[c];if(!this.nn(this.Ze,y)||!this.sn(this.Ye[m++],y))return!1;++c}for(;c<s.length;++c)if(m>=this.Ye.length||!this.sn(this.Ye[m++],s[c]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function mg(i){var e,t;if(Kn(i instanceof ke||i instanceof st),i instanceof ke){if(i instanceof Ri){const c=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>ke.create(i.field,"==",m)))||[];return st.create(c,"or")}return i}const s=i.filters.map(c=>mg(c));return st.create(s,i.op)}function v_(i){if(0===i.getFilters().length)return[];const e=Xh(mg(i));return Kn(rp(e)),np(e)||ip(e)?[e]:e.getFilters()}function np(i){return i instanceof ke}function ip(i){return i instanceof st&&Un(i)}function rp(i){return np(i)||ip(i)||function(e){if(e instanceof st&&an(e)){for(const t of e.getFilters())if(!np(t)&&!ip(t))return!1;return!0}return!1}(i)}function Xh(i){if(Kn(i instanceof ke||i instanceof st),i instanceof ke)return i;if(1===i.filters.length)return Xh(i.filters[0]);const e=i.filters.map(s=>Xh(s));let t=st.create(e,i.op);return t=Wu(t),rp(t)?t:(Kn(t instanceof st),Kn(St(t)),Kn(t.filters.length>1),t.filters.reduce((s,c)=>um(s,c)))}function um(i,e){let t;return Kn(i instanceof ke||i instanceof st),Kn(e instanceof ke||e instanceof st),t=i instanceof ke?e instanceof ke?st.create([i,e],"and"):Jh(i,e):e instanceof ke?Jh(e,i):function(s,c){if(Kn(s.filters.length>0&&c.filters.length>0),St(s)&&St(c))return wi(s,c.getFilters());const m=an(s)?s:c,y=an(s)?c:s,k=m.filters.map(G=>um(G,y));return st.create(k,"or")}(i,e),Wu(t)}function Jh(i,e){if(St(e))return wi(e,i.getFilters());{const t=e.filters.map(s=>um(i,s));return st.create(t,"or")}}function Wu(i){if(Kn(i instanceof ke||i instanceof st),i instanceof ke)return i;const e=i.getFilters();if(1===e.length)return Wu(e[0]);if(Nn(i))return i;const t=e.map(c=>Wu(c)),s=[];return t.forEach(c=>{c instanceof ke?s.push(c):c instanceof st&&(c.op===i.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:st.create(s,i.op)}class gg{constructor(){this.rn=new sp}addToCollectionParentIndex(e,t){return this.rn.add(t),Yt.resolve()}getCollectionParents(e,t){return Yt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Yt.resolve()}deleteFieldIndex(e,t){return Yt.resolve()}getDocumentsMatchingTarget(e,t){return Yt.resolve(null)}getIndexType(e,t){return Yt.resolve(0)}getFieldIndexes(e,t){return Yt.resolve([])}getNextCollectionGroupToUpdate(e){return Yt.resolve(null)}getMinOffset(e,t){return Yt.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return Yt.resolve(Fs.min())}updateCollectionGroup(e,t,s){return Yt.resolve()}updateIndexEntries(e,t){return Yt.resolve()}}class sp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new Dr(yi.comparator),m=!c.has(s);return this.index[t]=c.add(s),m}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Dr(yi.comparator)).toArray()}}const op=new Uint8Array(0);class _g{constructor(e,t){this.user=e,this.databaseId=t,this.on=new sp,this.un=new Us(s=>il(s),(s,c)=>rl(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:s,parent:ps(c)};return ph(e).put(m)}return Yt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[$c(t),""],!1,!0);return ph(e).j(c).next(m=>{for(const y of m){if(y.collectionId!==t)break;s.push(Bs(y.parent))}return s})}addFieldIndex(e,t){const s=ap(e),c={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var y;delete c.indexId;const m=s.add(c);if(t.indexState){const y=Nc(e);return m.next(k=>{y.put(lm(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const s=ap(e),c=Nc(e),m=Dd(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Dd(e);let c=!0;const m=new Map;return Yt.forEach(this.cn(t),y=>this.an(e,y).next(k=>{c&&(c=!!k),m.set(y,k)})).next(()=>{if(c){let y=Fi();const k=[];return Yt.forEach(m,(G,ie)=>{var De;dn("IndexedDbIndexManager",`Using index ${De=G,`id=${De.indexId}|cg=${De.collectionGroup}|f=${De.fields.map(cr=>`${cr.fieldPath}:${cr.kind}`).join(",")}`} to execute ${il(t)}`);const ot=function(cr,Xo){const ao=Rl(Xo);if(void 0===ao)return null;for(const xs of br(cr,ao.fieldPath))switch(xs.op){case"array-contains-any":return xs.value.arrayValue.values||[];case"array-contains":return[xs.value]}return null}(ie,G),Gt=function(cr,Xo){const ao=new Map;for(const xs of Ns(Xo))for(const Ql of br(cr,xs.fieldPath))switch(Ql.op){case"==":case"in":ao.set(xs.fieldPath.canonicalString(),Ql.value);break;case"not-in":case"!=":return ao.set(xs.fieldPath.canonicalString(),Ql.value),Array.from(ao.values())}return null}(ie,G),hn=function(cr,Xo){const ao=[];let xs=!0;for(const Ql of Ns(Xo)){const Bf=0===Ql.kind?Ki(cr,Ql.fieldPath,cr.startAt):wo(cr,Ql.fieldPath,cr.startAt);ao.push(Bf.value),xs&&(xs=Bf.inclusive)}return new jl(ao,xs)}(ie,G),Rn=function(cr,Xo){const ao=[];let xs=!0;for(const Ql of Ns(Xo)){const Bf=0===Ql.kind?wo(cr,Ql.fieldPath,cr.endAt):Ki(cr,Ql.fieldPath,cr.endAt);ao.push(Bf.value),xs&&(xs=Bf.inclusive)}return new jl(ao,xs)}(ie,G),Qn=this.hn(G,ie,hn),ei=this.hn(G,ie,Rn),Ji=this.ln(G,ie,Gt),xr=this.fn(G.indexId,ot,Qn,hn.inclusive,ei,Rn.inclusive,Ji);return Yt.forEach(xr,cr=>s.H(cr,t.limit).next(Xo=>{Xo.forEach(ao=>{const xs=Bn.fromSegments(ao.documentKey);y.has(xs)||(y=y.add(xs),k.push(xs))})}))}).next(()=>k)}return Yt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:v_(st.create(e.filters,"and")).map(s=>Ou(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,c,m,y,k){const G=(null!=t?t.length:1)*Math.max(s.length,m.length),ie=G/(null!=t?t.length:1),De=[];for(let ot=0;ot<G;++ot){const Gt=t?this.dn(t[ot/ie]):op,hn=this.wn(e,Gt,s[ot%ie],c),Rn=this._n(e,Gt,m[ot%ie],y),Qn=k.map(ei=>this.wn(e,Gt,ei,!0));De.push(...this.createRange(hn,Rn,Qn))}return De}wn(e,t,s,c){const m=new Gl(e,Bn.empty(),t,s);return c?m:m.Je()}_n(e,t,s,c){const m=new Gl(e,Bn.empty(),t,s);return c?m.Je():m}an(e,t){const s=new cm(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(m=>{let y=null;for(const k of m)s.tn(k)&&(!y||k.fields.length>y.fields.length)&&(y=k);return y})}getIndexType(e,t){let s=2;const c=this.cn(t);return Yt.forEach(c,m=>this.an(e,m).next(y=>{y?0!==s&&y.fields.length<function(k){let G=new Dr(Ci.comparator),ie=!1;for(const De of k.filters)for(const ot of De.getFlattenedFilters())ot.field.isKeyField()||("array-contains"===ot.op||"array-contains-any"===ot.op?ie=!0:G=G.add(ot.field));for(const De of k.orderBy)De.field.isKeyField()||(G=G.add(De.field));return G.size+(ie?1:0)}(m)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}mn(e,t){const s=new Wl;for(const c of Ns(e)){const m=t.data.field(c.fieldPath);if(null==m)return null;const y=s.He(c.kind);Id.Ve._e(m,y)}return s.Qe()}dn(e){const t=new Wl;return Id.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Wl;return Id.Ve._e(Jc(this.databaseId,t),s.He(function(c){const m=Ns(c);return 0===m.length?0:m[m.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let c=[];c.push(new Wl);let m=0;for(const y of Ns(e)){const k=s[m++];for(const G of c)if(this.yn(t,y.fieldPath)&&eu(k))c=this.pn(c,y,k);else{const ie=G.He(y.kind);Id.Ve._e(k,ie)}}return this.In(c)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const c=[...e],m=[];for(const y of s.arrayValue.values||[])for(const k of c){const G=new Wl;G.seed(k.Qe()),Id.Ve._e(y,G.He(t.kind)),m.push(G)}return m}yn(e,t){return!!e.filters.find(s=>s instanceof ke&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=ap(e),c=Nc(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(m=>{const y=[];return Yt.forEach(m,k=>c.get([k.indexId,this.uid]).next(G=>{y.push(function(ie,De){const ot=De?new kl(De.sequenceNumber,new Fs(Il(De.readTime),new Bn(Bs(De.documentKey)),De.largestBatchId)):kl.empty(),Gt=ie.fields.map(([hn,Rn])=>new Pl(Ci.fromServerFormat(hn),Rn));return new Qr(ie.indexId,ie.collectionGroup,Gt,ot)}(k,G))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const m=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==m?m:_i(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=ap(e),m=Nc(e);return this.Tn(e).next(y=>c.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>Yt.forEach(k,G=>m.put(lm(G.indexId,this.user,y,s)))))}updateIndexEntries(e,t){const s=new Map;return Yt.forEach(t,(c,m)=>{const y=s.get(c.collectionGroup);return(y?Yt.resolve(y):this.getFieldIndexes(e,c.collectionGroup)).next(k=>(s.set(c.collectionGroup,k),Yt.forEach(k,G=>this.En(e,c,G).next(ie=>{const De=this.An(m,G);return ie.isEqual(De)?Yt.resolve():this.vn(e,m,G,ie,De)}))))})}Rn(e,t,s,c){return Dd(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,c){return Dd(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const c=Dd(e);let m=new Dr($u);return c.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(y,k)=>{m=m.add(new Gl(s.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>m)}An(e,t){let s=new Dr($u);const c=this.mn(t,e);if(null==c)return s;const m=Rl(t);if(null!=m){const y=e.data.field(m.fieldPath);if(eu(y))for(const k of y.arrayValue.values||[])s=s.add(new Gl(t.indexId,e.key,this.dn(k),c))}else s=s.add(new Gl(t.indexId,e.key,op,c));return s}vn(e,t,s,c,m){dn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(k,G,ie,De,ot){const Gt=k.getIterator(),hn=G.getIterator();let Rn=sc(Gt),Qn=sc(hn);for(;Rn||Qn;){let ei=!1,Ji=!1;if(Rn&&Qn){const xr=ie(Rn,Qn);xr<0?Ji=!0:xr>0&&(ei=!0)}else null!=Rn?Ji=!0:ei=!0;ei?(De(Qn),Qn=sc(hn)):Ji?(ot(Rn),Rn=sc(Gt)):(Rn=sc(Gt),Qn=sc(hn))}}(c,m,$u,k=>{y.push(this.Rn(e,t,s,k))},k=>{y.push(this.Pn(e,t,s,k))}),Yt.waitFor(y)}Tn(e){let t=1;return Nc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,m)=>{m.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((y,k)=>$u(y,k)).filter((y,k,G)=>!k||0!==$u(y,G[k-1]));const c=[];c.push(e);for(const y of s){const k=$u(y,e),G=$u(y,t);if(0===k)c[0]=e.Je();else if(k>0&&G<0)c.push(y),c.push(y.Je());else if(G>0)break}c.push(t);const m=[];for(let y=0;y<c.length;y+=2){if(this.bn(c[y],c[y+1]))return[];m.push(IDBKeyRange.bound([c[y].indexId,this.uid,c[y].arrayValue,c[y].directionalValue,op,[]],[c[y+1].indexId,this.uid,c[y+1].arrayValue,c[y+1].directionalValue,op,[]]))}return m}bn(e,t){return $u(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Fc)}getMinOffset(e,t){return Yt.mapArray(this.cn(t),s=>this.an(e,s).next(c=>c||kn())).next(Fc)}}function ph(i){return Xr(i,"collectionParents")}function Dd(i){return Xr(i,"indexEntries")}function ap(i){return Xr(i,"indexConfiguration")}function Nc(i){return Xr(i,"indexState")}function Fc(i){Kn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const c=i[s].indexState.offset;qa(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Fs(e.readTime,e.documentKey,t)}const lp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Yo(e,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function b_(i,e,t){const s=i.store("mutations"),c=i.store("documentMutations"),m=[],y=IDBKeyRange.only(t.batchId);let k=0;const G=s.X({range:y},(De,ot,Gt)=>(k++,Gt.delete()));m.push(G.next(()=>{Kn(1===k)}));const ie=[];for(const De of t.mutations){const ot=w(e,De.key.path,t.batchId);m.push(c.delete(ot)),ie.push(De.key)}return Yt.waitFor(m).next(()=>ie)}function dm(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw kn();e=i.noDocument}return JSON.stringify(e).length}Yo.DEFAULT_COLLECTION_PERCENTILE=10,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yo.DEFAULT=new Yo(41943040,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yo.DISABLED=new Yo(-1,0,0);class mh{constructor(e,t,s,c){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=c,this.Vn={}}static de(e,t,s,c){Kn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new mh(m,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lc(e).X({index:"userMutationsIndex",range:s},(c,m,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const m=Ku(e),y=Lc(e);return y.add({}).next(k=>{Kn("number"==typeof k);const G=new Zp(k,t,s,c),ie=function(Gt,hn,Rn){const Qn=Rn.baseMutations.map(Ji=>cu(Gt.fe,Ji)),ei=Rn.mutations.map(Ji=>cu(Gt.fe,Ji));return{userId:hn,batchId:Rn.batchId,localWriteTimeMs:Rn.localWriteTime.toMillis(),baseMutations:Qn,mutations:ei}}(this.serializer,this.userId,G),De=[];let ot=new Dr((Gt,hn)=>_i(Gt.canonicalString(),hn.canonicalString()));for(const Gt of c){const hn=w(this.userId,Gt.key.path,k);ot=ot.add(Gt.key.path.popLast()),De.push(y.put(ie)),De.push(m.put(hn,L))}return ot.forEach(Gt=>{De.push(this.indexManager.addToCollectionParentIndex(e,Gt))}),e.addOnCommittedListener(()=>{this.Vn[k]=G.keys()}),Yt.waitFor(De).next(()=>G)})}lookupMutationBatch(e,t){return Lc(e).get(t).next(s=>s?(Kn(s.userId===this.userId),fc(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?Yt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.Vn[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return Lc(e).X({index:"userMutationsIndex",range:c},(y,k,G)=>{k.userId===this.userId&&(Kn(k.batchId>=s),m=fc(this.serializer,k)),G.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Lc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(c,m,y)=>{s=m.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lc(e).j("userMutationsIndex",t).next(s=>s.map(c=>fc(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=S(this.userId,t.path),c=IDBKeyRange.lowerBound(s),m=[];return Ku(e).X({range:c},(y,k,G)=>{const[ie,De,ot]=y,Gt=Bs(De);if(ie===this.userId&&t.path.isEqual(Gt))return Lc(e).get(ot).next(hn=>{if(!hn)throw kn();Kn(hn.userId===this.userId),m.push(fc(this.serializer,hn))});G.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dr(_i);const c=[];return t.forEach(m=>{const y=S(this.userId,m.path),k=IDBKeyRange.lowerBound(y),G=Ku(e).X({range:k},(ie,De,ot)=>{const[Gt,hn,Rn]=ie,Qn=Bs(hn);Gt===this.userId&&m.path.isEqual(Qn)?s=s.add(Rn):ot.done()});c.push(G)}),Yt.waitFor(c).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,m=S(this.userId,s),y=IDBKeyRange.lowerBound(m);let k=new Dr(_i);return Ku(e).X({range:y},(G,ie,De)=>{const[ot,Gt,hn]=G,Rn=Bs(Gt);ot===this.userId&&s.isPrefixOf(Rn)?Rn.length===c&&(k=k.add(hn)):De.done()}).next(()=>this.Dn(e,k))}Dn(e,t){const s=[],c=[];return t.forEach(m=>{c.push(Lc(e).get(m).next(y=>{if(null===y)throw kn();Kn(y.userId===this.userId),s.push(fc(this.serializer,y))}))}),Yt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return b_(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Yt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Yt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return Ku(e).X({range:s},(m,y,k)=>{if(m[0]===this.userId){const G=Bs(m[1]);c.push(G)}else k.done()}).next(()=>{Kn(0===c.length)})})}containsKey(e,t){return Gu(e,this.userId,t)}xn(e){return fu(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gu(i,e,t){const s=S(e,t.path),c=s[1],m=IDBKeyRange.lowerBound(s);let y=!1;return Ku(i).X({range:m,Y:!0},(k,G,ie)=>{const[De,ot,Gt]=k;De===e&&ot===c&&(y=!0),ie.done()}).next(()=>y)}function Lc(i){return Xr(i,"mutations")}function Ku(i){return Xr(i,"documentMutations")}function fu(i){return Xr(i,"mutationQueues")}class pc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pc(0)}static Mn(){return new pc(-1)}}class cp{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new pc(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ri.fromTimestamp(new Tr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.On(e,c)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gh(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(Kn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let c=0;const m=[];return gh(e).X((y,k)=>{const G=du(k);G.sequenceNumber<=t&&null===s.get(G.targetId)&&(c++,m.push(this.removeTargetData(e,G)))}).next(()=>Yt.waitFor(m)).next(()=>c)}forEachTarget(e,t){return gh(e).X((s,c)=>{const m=du(c);t(m)})}$n(e){return Kl(e).get("targetGlobalKey").next(t=>(Kn(null!==t),t))}On(e,t){return Kl(e).put("targetGlobalKey",t)}Fn(e,t){return gh(e).put(am(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=il(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return gh(e).X({range:c,index:"queryTargetsIndex"},(y,k,G)=>{const ie=du(k);rl(t,ie.target)&&(m=ie,G.done())}).next(()=>m)}addMatchingKeys(e,t,s){const c=[],m=Yu(e);return t.forEach(y=>{const k=ps(y.path);c.push(m.put({targetId:s,path:k})),c.push(this.referenceDelegate.addReference(e,s,y))}),Yt.waitFor(c)}removeMatchingKeys(e,t,s){const c=Yu(e);return Yt.forEach(t,m=>{const y=ps(m.path);return Yt.waitFor([c.delete([s,y]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,t){const s=Yu(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=Yu(e);let m=Fi();return c.X({range:s,Y:!0},(y,k,G)=>{const ie=Bs(y[1]),De=new Bn(ie);m=m.add(De)}).next(()=>m)}containsKey(e,t){const s=ps(t.path),c=IDBKeyRange.bound([s],[$c(s)],!1,!0);let m=0;return Yu(e).X({index:"documentTargetsIndex",Y:!0,range:c},([y,k],G,ie)=>{0!==y&&(m++,ie.done())}).next(()=>m>0)}le(e,t){return gh(e).get(t).next(s=>s?du(s):null)}}function gh(i){return Xr(i,"targets")}function Kl(i){return Xr(i,"targetGlobal")}function Yu(i){return Xr(i,"targetDocuments")}function up([i,e],[t,s]){const c=_i(i,t);return 0===c?_i(e,s):c}class hm{constructor(e){this.Ln=e,this.buffer=new Dr(up),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();up(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yg{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;dn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){gl(s)?dn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Da(s)}yield t.Qn(3e5)}))}}class Zu{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Yt.resolve(Hs.ct);const s=new hm(t);return this.jn.forEachTarget(e,c=>s.Kn(c.sequenceNumber)).next(()=>this.jn.Wn(e,c=>s.Kn(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(dn("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(lp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(dn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lp):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,c,m,y,k,G,ie;const De=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ot=>(ot>this.params.maximumSequenceNumbersToCollect?(dn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ot}`),c=this.params.maximumSequenceNumbersToCollect):c=ot,y=Date.now(),this.nthSequenceNumber(e,c))).next(ot=>(s=ot,k=Date.now(),this.removeTargets(e,s,t))).next(ot=>(m=ot,G=Date.now(),this.removeOrphanedDocuments(e,s))).next(ot=>(ie=Date.now(),Yi()<=me.in.DEBUG&&dn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-De}ms\n\tDetermined least recently used ${c} in `+(k-y)+`ms\n\tRemoved ${m} targets in `+(G-k)+`ms\n\tRemoved ${ot} documents in `+(ie-G)+`ms\nTotal Duration: ${ie-De}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:ot})))}}class vg{constructor(e,t){this.db=e,this.garbageCollector=function _h(i,e){return new Zu(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,c)=>t(c))}addReference(e,t,s){return dp(e,s)}removeReference(e,t,s){return dp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return dp(e,t)}Xn(e,t){return function(s,c){let m=!1;return fu(s).Z(y=>Gu(s,y,c).next(k=>(k&&(m=!0),Yt.resolve(!k)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.Yn(e,(y,k)=>{if(k<=t){const G=this.Xn(e,y).next(ie=>{if(!ie)return m++,s.getEntry(e,y).next(()=>(s.removeEntry(y,ri.min()),Yu(e).delete([0,ps(y.path)])))});c.push(G)}}).next(()=>Yt.waitFor(c)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return dp(e,t)}Yn(e,t){const s=Yu(e);let c,m=Hs.ct;return s.X({index:"documentTargetsIndex"},([y,k],{path:G,sequenceNumber:ie})=>{0===y?(m!==Hs.ct&&t(new Bn(Bs(c)),m),m=ie,c=G):m=Hs.ct}).next(()=>{m!==Hs.ct&&t(new Bn(Bs(c)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dp(i,e){return Yu(i).put((s=i.currentSequenceNumber,{targetId:0,path:ps(e.path),sequenceNumber:s}));var s}class bg{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Yt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return mc(e).put(s)}removeEntry(e,t,s){return mc(e).delete(function(c,m){const y=c.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],dh(m),y[y.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=Pr.newInvalidDocument(t);return mc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(c,m)=>{s=this.ts(t,m)}).next(()=>s)}es(e,t){let s={size:0,document:Pr.newInvalidDocument(t)};return mc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(c,m)=>{s={document:this.ts(t,m),size:dm(m)}}).next(()=>s)}getEntries(e,t){let s=Ko();return this.ns(e,t,(c,m)=>{const y=this.ts(c,m);s=s.insert(c,y)}).next(()=>s)}ss(e,t){let s=Ko(),c=new hr(Bn.comparator);return this.ns(e,t,(m,y)=>{const k=this.ts(m,y);s=s.insert(m,k),c=c.insert(m,dm(y))}).next(()=>({documents:s,rs:c}))}ns(e,t,s){if(t.isEmpty())return Yt.resolve();let c=new Dr(fp);t.forEach(G=>c=c.add(G));const m=IDBKeyRange.bound(tf(c.first()),tf(c.last())),y=c.getIterator();let k=y.getNext();return mc(e).X({index:"documentKeyIndex",range:m},(G,ie,De)=>{const ot=Bn.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;k&&fp(k,ot)<0;)s(k,null),k=y.getNext();k&&k.isEqual(ot)&&(s(k,ie),k=y.hasNext()?y.getNext():null),k?De.G(tf(k)):De.done()}).next(()=>{for(;k;)s(k,null),k=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,t,s,c){const m=t.path,y=[m.popLast().toArray(),m.lastSegment(),dh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],k=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mc(e).j(IDBKeyRange.bound(y,k,!0)).next(G=>{let ie=Ko();for(const De of G){const ot=this.ts(Bn.fromSegments(De.prefixPath.concat(De.collectionGroup,De.documentId)),De);ot.isFoundDocument()&&(Hn(t,ot)||c.has(ot.key))&&(ie=ie.insert(ot.key,ot))}return ie})}getAllFromCollectionGroup(e,t,s,c){let m=Ko();const y=xd(t,s),k=xd(t,Fs.max());return mc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,k,!0)},(G,ie,De)=>{const ot=this.ts(Bn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);m=m.insert(ot.key,ot),m.size===c&&De.done()}).next(()=>m)}newChangeBuffer(e){return new Eg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ef(e).get("remoteDocumentGlobalKey").next(t=>(Kn(!!t),t))}Zn(e,t){return ef(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Qf(i,e){let t;if(e.document)t=Zh(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Bn.fromSegments(e.noDocument.path),c=Il(e.noDocument.readTime);t=Pr.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return kn();{const s=Bn.fromSegments(e.unknownDocument.path),c=Il(e.unknownDocument.version);t=Pr.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new Tr(s[0],s[1]);return ri.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(ri.min()))return s}return Pr.newInvalidDocument(e)}}function Ui(i){return new hp(i)}class Eg extends bg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Us(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new Dr((m,y)=>_i(m.canonicalString(),y.canonicalString()));return this.changes.forEach((m,y)=>{const k=this.us.get(m);if(t.push(this.os.removeEntry(e,m,k.readTime)),y.isValidDocument()){const G=dg(this.os.serializer,y);c=c.add(m.path.popLast());const ie=dm(G);s+=ie-k.size,t.push(this.os.addEntry(e,m,G))}else if(s-=k.size,this.trackRemovals){const G=dg(this.os.serializer,y.convertToNoDocument(ri.min()));t.push(this.os.addEntry(e,m,G))}}),c.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,s)),Yt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:c})=>(c.forEach((m,y)=>{this.us.set(m,{size:y,readTime:s.get(m).readTime})}),s))}}function ef(i){return Xr(i,"remoteDocumentGlobal")}function mc(i){return Xr(i,"remoteDocumentsV14")}function tf(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xd(i,e){const t=e.documentKey.path.toArray();return[i,dh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fp(i,e){const t=i.path.toArray(),s=e.path.toArray();let c=0;for(let m=0;m<t.length-2&&m<s.length-2;++m)if(c=_i(t[m],s[m]),c)return c;return c=_i(t.length,s.length),c||(c=_i(t[t.length-2],s[s.length-2]),c||_i(t[t.length-1],s[s.length-1]))}class wg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pp{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&vd(s.mutation,c,no.empty(),Tr.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Fi()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Fi()){const c=ka();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(m=>{let y=hc();return m.forEach((k,G)=>{y=y.insert(k,G.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const s=ka();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Fi()))}populateOverlays(e,t,s){const c=[];return s.forEach(m=>{t.has(m)||c.push(m)}),this.documentOverlayCache.getOverlays(e,c).next(m=>{m.forEach((y,k)=>{t.set(y,k)})})}computeViews(e,t,s,c){let m=Ko();const y=Tc(),k=Tc();return t.forEach((G,ie)=>{const De=s.get(ie.key);c.has(ie.key)&&(void 0===De||De.mutation instanceof ou)?m=m.insert(ie.key,ie):void 0!==De?(y.set(ie.key,De.mutation.getFieldMask()),vd(De.mutation,ie,De.mutation.getFieldMask(),Tr.now())):y.set(ie.key,no.empty())}),this.recalculateAndSaveOverlays(e,m).next(G=>(G.forEach((ie,De)=>y.set(ie,De)),t.forEach((ie,De)=>{var ot;return k.set(ie,new wg(De,null!==(ot=y.get(ie))&&void 0!==ot?ot:null))}),k))}recalculateAndSaveOverlays(e,t){const s=Tc();let c=new hr((y,k)=>y-k),m=Fi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const k of y)k.keys().forEach(G=>{const ie=t.get(G);if(null===ie)return;let De=s.get(G)||no.empty();De=k.applyToLocalView(ie,De),s.set(G,De);const ot=(c.get(k.batchId)||Fi()).add(G);c=c.insert(k.batchId,ot)})}).next(()=>{const y=[],k=c.getReverseIterator();for(;k.hasNext();){const G=k.getNext(),ie=G.key,De=G.value,ot=Co();De.forEach(Gt=>{if(!m.has(Gt)){const hn=jf(t.get(Gt),s.get(Gt));null!==hn&&ot.set(Gt,hn),m=m.add(Gt)}}),y.push(this.documentOverlayCache.saveOverlays(e,ie,ot))}return Yt.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Bn.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):g(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(m=>{const y=c-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-m.size):Yt.resolve(ka());let k=-1,G=m;return y.next(ie=>Yt.forEach(ie,(De,ot)=>(k<ot.largestBatchId&&(k=ot.largestBatchId),m.get(De)?Yt.resolve():this.remoteDocumentCache.getEntry(e,De).next(Gt=>{G=G.insert(De,Gt)}))).next(()=>this.populateOverlays(e,ie,m)).next(()=>this.computeViews(e,G,ie,Fi())).next(De=>({batchId:k,changes:ca(De)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Bn(t)).next(s=>{let c=hc();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let m=hc();return this.indexManager.getCollectionParents(e,c).next(y=>Yt.forEach(y,k=>{const G=(ie=t,De=k.child(c),new dc(De,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,De;return this.getDocumentsMatchingCollectionQuery(e,G,s).next(ie=>{ie.forEach((De,ot)=>{m=m.insert(De,ot)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c))).next(m=>{c.forEach((k,G)=>{const ie=G.getKey();null===m.get(ie)&&(m=m.insert(ie,Pr.newInvalidDocument(ie)))});let y=hc();return m.forEach((k,G)=>{const ie=c.get(k);void 0!==ie&&vd(ie.mutation,G,no.empty(),Tr.now()),Hn(t,G)&&(y=y.insert(k,G))}),y})}}class nf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Yt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Xi(s.createTime)}),Yt.resolve()}getNamedQuery(e,t){return Yt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:hh(s.bundledQuery),readTime:Xi(s.readTime)}),Yt.resolve();var s}}class mp{constructor(){this.overlays=new hr(Bn.comparator),this.ls=new Map}getOverlay(e,t){return Yt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ka();return Yt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&s.set(c,m)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,m)=>{this.we(e,t,m)}),Yt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.ls.get(s);return void 0!==c&&(c.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(s)),Yt.resolve()}getOverlaysForCollection(e,t,s){const c=ka(),m=t.length+1,y=new Bn(t.child("")),k=this.overlays.getIteratorFrom(y);for(;k.hasNext();){const G=k.getNext().value,ie=G.getKey();if(!t.isPrefixOf(ie.path))break;ie.path.length===m&&G.largestBatchId>s&&c.set(G.getKey(),G)}return Yt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let m=new hr((ie,De)=>ie-De);const y=this.overlays.getIterator();for(;y.hasNext();){const ie=y.getNext().value;if(ie.getKey().getCollectionGroup()===t&&ie.largestBatchId>s){let De=m.get(ie.largestBatchId);null===De&&(De=ka(),m=m.insert(ie.largestBatchId,De)),De.set(ie.getKey(),ie)}}const k=ka(),G=m.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((ie,De)=>k.set(ie,De)),!(k.size()>=c)););return Yt.resolve(k)}we(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const y=this.ls.get(c.largestBatchId).delete(s.key);this.ls.set(c.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new jh(t,s));let m=this.ls.get(t);void 0===m&&(m=Fi(),this.ls.set(t,m)),this.ls.set(t,m.add(s.key))}}class gp{constructor(){this.fs=new Dr(Gs.ds),this.ws=new Dr(Gs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Gs(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Gs(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Bn(new yi([])),s=new Gs(t,e),c=new Gs(t,e+1),m=[];return this.ws.forEachInRange([s,c],y=>{this.ys(y),m.push(y.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Bn(new yi([])),s=new Gs(t,e),c=new Gs(t,e+1);let m=Fi();return this.ws.forEachInRange([s,c],y=>{m=m.add(y.key)}),m}containsKey(e){const t=new Gs(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Gs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Bn.comparator(e.key,t.key)||_i(e.As,t.As)}static _s(e,t){return _i(e.As,t.As)||Bn.comparator(e.key,t.key)}}class _p{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Dr(Gs.ds)}checkEmpty(e){return Yt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const m=this.vs;this.vs++;const y=new Zp(m,t,s,c);this.mutationQueue.push(y);for(const k of c)this.Rs=this.Rs.add(new Gs(k.key,m)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Yt.resolve(y)}lookupMutationBatch(e,t){return Yt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.bs(t+1),m=c<0?0:c;return Yt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gs(t,0),c=new Gs(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([s,c],y=>{const k=this.Ps(y.As);m.push(k)}),Yt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dr(_i);return t.forEach(c=>{const m=new Gs(c,0),y=new Gs(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,y],k=>{s=s.add(k.As)})}),Yt.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let m=s;Bn.isDocumentKey(m)||(m=m.child(""));const y=new Gs(new Bn(m),0);let k=new Dr(_i);return this.Rs.forEachWhile(G=>{const ie=G.key.path;return!!s.isPrefixOf(ie)&&(ie.length===c&&(k=k.add(G.As)),!0)},y),Yt.resolve(this.Vs(k))}Vs(e){const t=[];return e.forEach(s=>{const c=this.Ps(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Kn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Yt.forEach(t.mutations,c=>{const m=new Gs(c.key,t.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Gs(t,0),c=this.Rs.firstAfterOrEqual(s);return Yt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Yt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sd{constructor(e){this.Ds=e,this.docs=new hr(Bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),m=c?c.size:0,y=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:y}),this.size+=y-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Yt.resolve(s?s.document.mutableCopy():Pr.newInvalidDocument(t))}getEntries(e,t){let s=Ko();return t.forEach(c=>{const m=this.docs.get(c);s=s.insert(c,m?m.document.mutableCopy():Pr.newInvalidDocument(c))}),Yt.resolve(s)}getDocumentsMatchingQuery(e,t,s,c){let m=Ko();const y=t.path,k=new Bn(y.child("")),G=this.docs.getIteratorFrom(k);for(;G.hasNext();){const{key:ie,value:{document:De}}=G.getNext();if(!y.isPrefixOf(ie.path))break;ie.path.length>y.length+1||qa(Gc(De),s)<=0||(c.has(De.key)||Hn(t,De))&&(m=m.insert(De.key,De.mutableCopy()))}return Yt.resolve(m)}getAllFromCollectionGroup(e,t,s,c){kn()}Cs(e,t){return Yt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new rf(this)}getSize(e){return Yt.resolve(this.size)}}class rf extends bg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.os.addEntry(e,c)):this.os.removeEntry(s)}),Yt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class fm{constructor(e){this.persistence=e,this.xs=new Us(t=>il(t),rl),this.lastRemoteSnapshotVersion=ri.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gp,this.targetCount=0,this.Ms=pc.kn()}forEachTarget(e,t){return this.xs.forEach((s,c)=>t(c)),Yt.resolve()}getLastRemoteSnapshotVersion(e){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Yt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new pc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Yt.resolve()}updateTargetData(e,t){return this.Fn(t),Yt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(e,t,s){let c=0;const m=[];return this.xs.forEach((y,k)=>{k.sequenceNumber<=t&&null===s.get(k.targetId)&&(this.xs.delete(y),m.push(this.removeMatchingKeysForTargetId(e,k.targetId)),c++)}),Yt.waitFor(m).next(()=>c)}getTargetCount(e){return Yt.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Yt.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Yt.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const c=this.persistence.referenceDelegate,m=[];return c&&t.forEach(y=>{m.push(c.markPotentiallyOrphaned(e,y))}),Yt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Yt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Yt.resolve(s)}containsKey(e,t){return Yt.resolve(this.ks.containsKey(t))}}class sf{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fm(this),this.indexManager=new gg,this.remoteDocumentCache=new Sd(s=>this.referenceDelegate.Ls(s)),this.serializer=new qf(t),this.qs=new nf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new _p(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){dn("MemoryPersistence","Starting transaction:",e);const c=new E_(this.Os.next());return this.referenceDelegate.Us(),s(c).next(m=>this.referenceDelegate.Ks(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}Gs(e,t){return Yt.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class E_ extends nc{constructor(e){super(),this.currentSequenceNumber=e}}class af{constructor(e){this.persistence=e,this.Qs=new gp,this.js=null}static zs(e){return new af(e)}get Ws(){if(this.js)return this.js;throw kn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Yt.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Yt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Yt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(c=>this.Ws.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(m=>this.Ws.add(m.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.Ws,s=>{const c=Bn.fromPath(s);return this.Hs(e,c).next(m=>{m||t.removeEntry(c,ri.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Yt.or([()=>Yt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class sy{constructor(e){this.serializer=e}O(e,t,s,c){const m=new ic("createOrUpgrade",t);var k;s<1&&c>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D,{unique:!0}),k.createObjectStore("documentMutations"),pm(e),function(k){k.createObjectStore("remoteDocuments")}(e));let y=Yt.resolve();return s<3&&c>=3&&(0!==s&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),pm(e)),y=y.next(()=>function(k){const G=k.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ri.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",ie)}(m))),s<4&&c>=4&&(0!==s&&(y=y.next(()=>function(k,G){return G.store("mutations").j().next(ie=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D,{unique:!0});const De=G.store("mutations"),ot=ie.map(Gt=>De.put(Gt));return Yt.waitFor(ot)})}(e,m))),y=y.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(y=y.next(()=>this.Ys(m))),s<6&&c>=6&&(y=y.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),s<7&&c>=7&&(y=y.next(()=>this.Zs(m))),s<8&&c>=8&&(y=y.next(()=>this.ti(e,m))),s<9&&c>=9&&(y=y.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(y=y.next(()=>this.ei(m))),s<11&&c>=11&&(y=y.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(y=y.next(()=>{!function(k){const G=k.createObjectStore("documentOverlays",{keyPath:Sa});G.createIndex("collectionPathOverlayIndex",Ro,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Wo,{unique:!1})}(e)})),s<13&&c>=13&&(y=y.next(()=>function(k){const G=k.createObjectStore("remoteDocumentsV14",{keyPath:Y});G.createIndex("documentKeyIndex",pe),G.createIndex("collectionGroupIndex",Ie)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(y=y.next(()=>this.si(e,m))),s<15&&c>=15&&(y=y.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Ai}).createIndex("sequenceNumberIndex",cs,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Ar}).createIndex("documentKeyIndex",$s,{unique:!1})}(e))),y}Xs(e){let t=0;return e.store("remoteDocuments").X((s,c)=>{t+=dm(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(c=>Yt.forEach(c,m=>{const y=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",y).next(k=>Yt.forEach(k,G=>{Kn(G.userId===m.userId);const ie=fc(this.serializer,G);return b_(e,m.userId,ie).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const m=[];return s.X((y,k)=>{const G=new yi(y),ie=[0,ps(G)];m.push(t.get(ie).next(De=>De?Yt.resolve():t.put({targetId:0,path:ps(G),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Yt.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:jn});const s=t.store("collectionParents"),c=new sp,m=y=>{if(c.add(y)){const k=y.lastSegment(),G=y.popLast();return s.put({collectionId:k,parent:ps(G)})}};return t.store("remoteDocuments").X({Y:!0},(y,k)=>{const G=new yi(y);return m(G.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([y,k,G],ie)=>{const De=Bs(k);return m(De.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,c)=>{const m=du(c),y=am(this.serializer,m);return t.put(y)})}ni(e,t){const s=t.store("remoteDocuments"),c=[];return s.X((m,y)=>{const k=t.store("remoteDocumentsV14"),G=(ie=y,ie.document?new Bn(yi.fromString(ie.document.name).popFirst(5)):ie.noDocument?Bn.fromSegments(ie.noDocument.path):ie.unknownDocument?Bn.fromSegments(ie.unknownDocument.path):kn()).path.toArray();var ie;const De={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};c.push(k.put(De))}).next(()=>Yt.waitFor(c))}si(e,t){const s=t.store("mutations"),c=Ui(this.serializer),m=new sf(af.zs,this.serializer.fe);return s.j().next(y=>{const k=new Map;return y.forEach(G=>{var ie;let De=null!==(ie=k.get(G.userId))&&void 0!==ie?ie:Fi();fc(this.serializer,G).keys().forEach(ot=>De=De.add(ot)),k.set(G.userId,De)}),Yt.forEach(k,(G,ie)=>{const De=new Fn(ie),ot=Qh.de(this.serializer,De),Gt=m.getIndexManager(De),hn=mh.de(De,this.serializer,Gt,m.referenceDelegate);return new pp(c,hn,ot,Gt).recalculateAndSaveOverlaysForDocumentKeys(new qc(t,Hs.ct),G).next()})})}}function pm(i){i.createObjectStore("targetDocuments",{keyPath:un}).createIndex("documentTargetsIndex",Vn,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xt,{unique:!0}),i.createObjectStore("targetGlobal")}const yp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cg{constructor(e,t,s,c,m,y,k,G,ie,De,ot=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=m,this.window=y,this.document=k,this.ri=ie,this.oi=De,this.ui=ot,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Gt=>Promise.resolve(),!Cg.D())throw new _n(Kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vg(this,c),this.di=t+"main",this.serializer=new qf(G),this.wi=new ji(this.di,this.ui,new sy(this.serializer)),this.Bs=new cp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ui(this.serializer),this.qs=new hg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===De&&fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _n(Kt.FAILED_PRECONDITION,yp);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Hs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,f.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,f.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(gl(e))return dn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return dn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return yh(e).get("owner").next(t=>Yt.resolve(this.Ri(t)))}Pi(e){return gc(e).delete(this.clientId)}bi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Xr(s,"clientMetadata");return c.j().next(m=>{const y=e.Si(m,18e5),k=m.filter(G=>-1===y.indexOf(G));return Yt.forEach(k,G=>c.delete(G.clientId)).next(()=>k)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Yt.resolve(!0):yh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new _n(Kt.FAILED_PRECONDITION,yp);return!1}}return!(!this.networkEnabled||!this.inForeground)||gc(e).j().next(s=>void 0===this.Si(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(t=>(this.isPrimary!==t&&dn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new qc(t,Hs.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gc(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return mh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _g(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){dn("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",m=15===(y=this.ui)?Ta:14===y?Du:13===y?Bl:12===y?Zc:11===y?Go:void kn();var y;let k;return this.wi.runTransaction(e,c,m,G=>(k=new qc(G,this.Os?this.Os.next():Hs.ct),"readwrite-primary"===t?this.Ti(k).next(ie=>!!ie||this.Ei(k)).next(ie=>{if(!ie)throw fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new _n(Kt.FAILED_PRECONDITION,Fl);return s(k)}).next(ie=>this.vi(k).next(()=>ie)):this.Oi(k).next(()=>s(k)))).then(G=>(k.raiseOnCommittedEvent(),G))}Oi(e){return yh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _n(Kt.FAILED_PRECONDITION,yp)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yh(e).put("owner",t)}static D(){return ji.D()}Ai(e){const t=yh(e);return t.get("owner").next(s=>this.Ri(s)?(dn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Yt.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(fi(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ce.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return dn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return fi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){fi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yh(i){return Xr(i,"owner")}function gc(i){return Xr(i,"clientMetadata")}function cf(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class vh{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=c}static Li(e,t){let s=Fi(),c=Fi();for(const m of t.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new vh(e,t.fromCache,s,c)}}class qu{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,c){return this.Ki(e,t).next(m=>m||this.Gi(e,t,c,s)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(Uf(t))return Yt.resolve(null);let s=O(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Se(t,null,"F"),s=O(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const y=Fi(...m);return this.Ui.getDocuments(e,y).next(k=>this.indexManager.getMinOffset(e,s).next(G=>{const ie=this.ji(t,k);return this.zi(t,ie,y,G.readTime)?this.Ki(e,Se(t,null,"F")):this.Wi(e,ie,t,G)}))})))}Gi(e,t,s,c){return Uf(t)||c.isEqual(ri.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(m=>{const y=this.ji(t,m);return this.zi(t,y,s,c)?this.Qi(e,t):(Yi()<=me.in.DEBUG&&dn("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),On(t)),this.Wi(e,y,t,Nl(c,-1)))})}ji(e,t){let s=new Dr(Di(e));return t.forEach((c,m)=>{Hn(e,m)&&(s=s.add(m))}),s}zi(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}Qi(e,t){return Yi()<=me.in.DEBUG&&dn("QueryEngine","Using full collection scan to execute query:",On(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fs.min())}Wi(e,t,s,c){return this.Ui.getDocumentsMatchingQuery(e,s,c).next(m=>(t.forEach(y=>{m=m.insert(y.key,y)}),m))}}class Td{constructor(e,t,s,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new hr(_i),this.Yi=new Us(m=>il(m),rl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function uf(i,e,t,s){return new Td(i,e,t,s)}function mm(i,e){return gm.apply(this,arguments)}function gm(){return gm=(0,f.Z)(function*(i,e){const t=Mn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(m=>(c=m,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(m=>{const y=[],k=[];let G=Fi();for(const ie of c){y.push(ie.batchId);for(const De of ie.mutations)G=G.add(De.key)}for(const ie of m){k.push(ie.batchId);for(const De of ie.mutations)G=G.add(De.key)}return t.localDocuments.getDocuments(s,G).next(ie=>({er:ie,removedBatchIds:y,addedBatchIds:k}))})})}),gm.apply(this,arguments)}function _m(i){const e=Mn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Ad(i,e,t){let s=Fi(),c=Fi();return t.forEach(m=>s=s.add(m)),e.getEntries(i,s).next(m=>{let y=Ko();return t.forEach((k,G)=>{const ie=m.get(k);G.isFoundDocument()!==ie.isFoundDocument()&&(c=c.add(k)),G.isNoDocument()&&G.version.isEqual(ri.min())?(e.removeEntry(k,G.readTime),y=y.insert(k,G)):!ie.isValidDocument()||G.version.compareTo(ie.version)>0||0===G.version.compareTo(ie.version)&&ie.hasPendingWrites?(e.addEntry(G),y=y.insert(k,G)):dn("LocalStore","Ignoring outdated watch update for ",k,". Current version:",ie.version," Watch version:",G.version)}),{nr:y,sr:c}})}function ym(i,e){const t=Mn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Md(i,e){const t=Mn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Bs.getTargetData(s,e).next(m=>m?(c=m,Yt.resolve(c)):t.Bs.allocateTargetId(s).next(y=>(c=new Pc(e,y,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.Ji.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function Od(i,e,t){return df.apply(this,arguments)}function df(){return df=(0,f.Z)(function*(i,e,t){const s=Mn(i),c=s.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",m,y=>s.persistence.referenceDelegate.removeTarget(y,c)))}catch(y){if(!gl(y))throw y;dn("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(c.target)}),df.apply(this,arguments)}function hf(i,e,t){const s=Mn(i);let c=ri.min(),m=Fi();return s.persistence.runTransaction("Execute query","readonly",y=>function(k,G,ie){const De=Mn(k),ot=De.Yi.get(ie);return void 0!==ot?Yt.resolve(De.Ji.get(ot)):De.Bs.getTargetData(G,ie)}(s,y,O(e)).next(k=>{if(k)return c=k.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(y,k.targetId).next(G=>{m=G})}).next(()=>s.Hi.getDocumentsMatchingQuery(y,e,t?c:ri.min(),t?m:Fi())).next(k=>(C_(s,oi(e),k),{documents:k,ir:m})))}function Rd(i,e){const t=Mn(i),s=Mn(t.Bs),c=t.Ji.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",m=>s.le(m,e).next(y=>y?y.target:null))}function vm(i,e){const t=Mn(i),s=t.Xi.get(e)||ri.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Zi.getAllFromCollectionGroup(c,e,Nl(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(C_(t,e,c),c))}function C_(i,e,t){let s=i.Xi.get(e)||ri.min();t.forEach((c,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),i.Xi.set(e,s)}function Dl(){return Dl=(0,f.Z)(function*(i,e,t,s){const c=Mn(i);let m=Fi(),y=Ko();for(const ie of t){const De=e.rr(ie.metadata.name);ie.document&&(m=m.add(De));const ot=e.ur(ie);ot.setReadTime(e.cr(ie.metadata.readTime)),y=y.insert(De,ot)}const k=c.Zi.newChangeBuffer({trackRemovals:!0}),G=yield Md(c,(ie=s,O(io(yi.fromString(`__bundle__/docs/${ie}`)))));var ie;return c.persistence.runTransaction("Apply bundle documents","readwrite",ie=>Ad(ie,k,y).next(De=>(k.apply(ie),De)).next(De=>c.Bs.removeMatchingKeysForTargetId(ie,G.targetId).next(()=>c.Bs.addMatchingKeys(ie,m,G.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(ie,De.nr,De.sr)).next(()=>De.nr)))}),Dl.apply(this,arguments)}function ff(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,f.Z)(function*(i,e,t=Fi()){const s=yield Md(i,O(hh(e.bundledQuery))),c=Mn(i);return c.persistence.runTransaction("Save named query","readwrite",m=>{const y=Xi(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return c.qs.saveNamedQuery(m,e);const k=s.withResumeToken(us.EMPTY_BYTE_STRING,y);return c.Ji=c.Ji.insert(k.targetId,k),c.Bs.updateTargetData(m,k).next(()=>c.Bs.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>c.Bs.addMatchingKeys(m,t,s.targetId)).next(()=>c.qs.saveNamedQuery(m,e))})}),bp.apply(this,arguments)}function bm(i,e){return`firestore_clients_${i}_${e}`}function Ep(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Vc(i,e){return`firestore_targets_${i}_${e}`}class _c{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static ar(e,t,s){const c=JSON.parse(s);let m,y="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(m=new _n(c.error.code,c.error.message))),y?new _c(e,t,c.state,m):(fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let c,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(c=new _n(s.error.code,s.error.message))),m?new Pd(e,s.state,c):(fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zo{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,m=ku();for(let y=0;c&&y<s.activeTargetIds.length;++y)c=Oo(s.activeTargetIds[y]),m=m.add(s.activeTargetIds[y]);return c?new Zo(e,m):(fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bh{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bh(t.clientId,t.onlineState):(fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Eh{constructor(){this.activeTargetIds=ku()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kd{constructor(e,t,s,c,m){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new hr(_i),this.started=!1,this.yr=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=bm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Eh),this.Tr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const t=yield e.syncEngine.$i();for(const c of t){if(c===e.wr)continue;const m=e.getItem(bm(e.persistenceKey,c));if(m){const y=Zo.ar(c,m);y&&(e.gr=e.gr.insert(y.clientId,y))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const c=e.br(s);c&&e.Vr(c)}for(const c of e.yr)e.mr(c);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Vc(this.persistenceKey,e));if(s){const c=Pd.ar(e,s);c&&(t=c.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vc(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Cr(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return dn("SharedClientState","READ",e,t),t}setItem(e,t){dn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){dn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(dn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,f.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const c=t.Or(s.key);return t.Fr(c,null)}{const c=t.Br(s.key,s.newValue);if(c)return t.Fr(c.clientId,c)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const c=t.Lr(s.key,s.newValue);if(c)return t.qr(c)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const c=t.Ur(s.key,s.newValue);if(c)return t.Kr(c)}}else if(s.key===t.vr){if(null!==s.newValue){const c=t.br(s.newValue);if(c)return t.Vr(c)}}else if(s.key===t.Ir){const c=function(m){let y=Hs.ct;if(null!=m)try{const k=JSON.parse(m);Kn("number"==typeof k),y=k}catch(k){fi("SharedClientState","Failed to read sequence number from WebStorage",k)}return y}(s.newValue);c!==Hs.ct&&t.sequenceNumberHandler(c)}else if(s.key===t.Rr){const c=t.Gr(s.newValue);yield Promise.all(c.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const c=new _c(this.currentUser,e,t,s),m=Ep(this.persistenceKey,this.currentUser,e);this.setItem(m,c.hr())}Cr(e){const t=Ep(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const c=Vc(this.persistenceKey,e),m=new Pd(e,t,s);this.setItem(c,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Zo.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),c=Number(s[1]);return _c.ar(new Fn(void 0!==s[2]?s[2]:null),c,t)}Ur(e,t){const s=this.Ar.exec(e),c=Number(s[1]);return Pd.ar(c,t)}br(e){return bh.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,f.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);dn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),c=this.Sr(this.gr),m=this.Sr(s),y=[],k=[];return m.forEach(G=>{c.has(G)||y.push(G)}),c.forEach(G=>{m.has(G)||k.push(G)}),this.syncEngine.Wr(y,k).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=ku();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class pf{constructor(){this.Hr=new Eh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Eh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class La{Yr(e){}shutdown(){}}class mf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){dn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){dn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gf=null;function wh(){return null===gf?gf=268435456+Math.round(2147483648*Math.random()):gf++,"0x"+gf.toString(16)}const I_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const qo="WebChannelConnection";class Ig extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,c,m){const y=wh(),k=this.To(e,t);dn("RestConnection",`Sending RPC '${e}' ${y}:`,k,s);const G={};return this.Eo(G,c,m),this.Ao(e,k,G,s).then(ie=>(dn("RestConnection",`Received RPC '${e}' ${y}: `,ie),ie),ie=>{throw fr("RestConnection",`RPC '${e}' ${y} failed with error: `,ie,"url: ",k,"request:",s),ie})}vo(e,t,s,c,m,y){return this.Io(e,t,s,c,m)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+tr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,m)=>e[m]=c),s&&s.headers.forEach((c,m)=>e[m]=c)}To(e,t){return`${this.mo}/v1/${t}:${I_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,c){const m=wh();return new Promise((y,k)=>{const G=new be;G.setWithCredentials(!0),G.listenOnce(Za.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case fl.NO_ERROR:const De=G.getResponseJson();dn(qo,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(De)),y(De);break;case fl.TIMEOUT:dn(qo,`RPC '${e}' ${m} timed out`),k(new _n(Kt.DEADLINE_EXCEEDED,"Request time out"));break;case fl.HTTP_ERROR:const ot=G.getStatus();if(dn(qo,`RPC '${e}' ${m} failed with status:`,ot,"response text:",G.getResponseText()),ot>0){let Gt=G.getResponseJson();Array.isArray(Gt)&&(Gt=Gt[0]);const hn=Gt?.error;if(hn&&hn.status&&hn.message){const Rn=function(Qn){const ei=Qn.toLowerCase().replace(/_/g,"-");return Object.values(Kt).indexOf(ei)>=0?ei:Kt.UNKNOWN}(hn.status);k(new _n(Rn,hn.message))}else k(new _n(Kt.UNKNOWN,"Server responded with status "+G.getStatus()))}else k(new _n(Kt.UNAVAILABLE,"Connection failed."));break;default:kn()}}finally{dn(qo,`RPC '${e}' ${m} completed.`)}});const ie=JSON.stringify(c);dn(qo,`RPC '${e}' ${m} sending request:`,c),G.send(t,"POST",ie,s,15)})}Ro(e,t,s){const c=wh(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Ml(),k=wc(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ie=this.longPollingOptions.timeoutSeconds;void 0!==ie&&(G.longPollingTimeout=Math.round(1e3*ie)),this.useFetchStreams&&(G.xmlHttpFactory=new te({})),this.Eo(G.initMessageHeaders,t,s),G.encodeInitMessageHeaders=!0;const De=m.join("");dn(qo,`Creating RPC '${e}' stream ${c}: ${De}`,G);const ot=y.createWebChannel(De,G);let Gt=!1,hn=!1;const Rn=new D_({ro:ei=>{hn?dn(qo,`Not sending because RPC '${e}' stream ${c} is closed:`,ei):(Gt||(dn(qo,`Opening RPC '${e}' stream ${c} transport.`),ot.open(),Gt=!0),dn(qo,`RPC '${e}' stream ${c} sending:`,ei),ot.send(ei))},oo:()=>ot.close()}),Qn=(ei,Ji,xr)=>{ei.listen(Ji,cr=>{try{xr(cr)}catch(Xo){setTimeout(()=>{throw Xo},0)}})};return Qn(ot,z.EventType.OPEN,()=>{hn||dn(qo,`RPC '${e}' stream ${c} transport opened.`)}),Qn(ot,z.EventType.CLOSE,()=>{hn||(hn=!0,dn(qo,`RPC '${e}' stream ${c} transport closed`),Rn.wo())}),Qn(ot,z.EventType.ERROR,ei=>{hn||(hn=!0,fr(qo,`RPC '${e}' stream ${c} transport errored:`,ei),Rn.wo(new _n(Kt.UNAVAILABLE,"The operation could not be completed")))}),Qn(ot,z.EventType.MESSAGE,ei=>{var Ji;if(!hn){const xr=ei.data[0];Kn(!!xr);const Xo=xr.error||(null===(Ji=xr[0])||void 0===Ji?void 0:Ji.error);if(Xo){dn(qo,`RPC '${e}' stream ${c} received error:`,Xo);const ao=Xo.status;let xs=function(Bf){const c_=ro[Bf];if(void 0!==c_)return Jp(c_)}(ao),Ql=Xo.message;void 0===xs&&(xs=Kt.INTERNAL,Ql="Unknown error status: "+ao+" with message "+Xo.message),hn=!0,Rn.wo(new _n(xs,Ql)),ot.close()}else dn(qo,`RPC '${e}' stream ${c} received:`,xr),Rn._o(xr)}}),Qn(k,ec.STAT_EVENT,ei=>{ei.stat===F.PROXY?dn(qo,`RPC '${e}' stream ${c} detected buffering proxy`):ei.stat===F.NOPROXY&&dn(qo,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Rn.fo()},0),Rn}}function Nd(){return typeof window<"u"?window:null}function Ch(){return typeof document<"u"?document:null}function Ih(i){return new au(i,!0)}class Em{constructor(e,t,s=1e3,c=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=c,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-s);c>0&&dn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ha{constructor(e,t,s,c,m,y,k,G){this.ii=e,this.$o=s,this.Oo=c,this.connection=m,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=k,this.listener=G,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Em(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,f.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,f.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,f.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Kt.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Kt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Fo===t&&this.Zo(s,c)},s=>{e(()=>{const c=new _n(Kt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(c)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(c=>{s(()=>this.tu(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Go(){var e=this;this.state=5,this.qo.No((0,f.Z)(function*(){e.state=0,e.start()}))}tu(e){return dn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(dn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wp extends ha{constructor(e,t,s,c,m,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,y),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ch(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:kn(),c=e.targetChange.targetIds||[],m=function(G,ie){return G.useProto3Json?(Kn(void 0===ie||"string"==typeof ie),us.fromBase64String(ie||"")):(Kn(void 0===ie||ie instanceof Uint8Array),us.fromUint8Array(ie||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,k=y&&function(G){const ie=void 0===G.code?Kt.UNKNOWN:Jp(G.code);return new _n(ie,G.message||"")}(y);t=new Na(s,c,m,k||null)}else if("documentChange"in e){const s=e.documentChange,c=Fa(i,s.document.name),m=Xi(s.document.updateTime),y=s.document.createTime?Xi(s.document.createTime):ri.min(),k=new ms({mapValue:{fields:s.document.fields}}),G=Pr.newFoundDocument(c,m,y,k);t=new em(s.targetIds||[],s.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const s=e.documentDelete,c=Fa(i,s.document),m=s.readTime?Xi(s.readTime):ri.min(),y=Pr.newNoDocument(c,m);t=new em([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,c=Fa(i,s.document);t=new em([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return kn();{const s=e.filter,{count:c=0,unchangedNames:m}=s,y=new Qp(c,m);t=new Yf(s.targetId,y)}}var G;return t}(this.serializer,e),s=function(c){if(!("targetChange"in c))return ri.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?ri.min():m.readTime?Xi(m.readTime):ri.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Yh(this.serializer),t.addTarget=function(c,m){let y;const k=m.target;if(y=tu(k)?{documents:Rc(c,k)}:{query:qh(c,k)},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=Vu(c,m.resumeToken);const G=oh(c,m.expectedCount);null!==G&&(y.expectedCount=G)}else if(m.snapshotVersion.compareTo(ri.min())>0){y.readTime=wd(c,m.snapshotVersion.toTimestamp());const G=oh(c,m.expectedCount);null!==G&&(y.expectedCount=G)}return y}(this.serializer,e);const s=function im(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Yh(this.serializer),t.removeTarget=e,this.Wo(t)}}class x_ extends ha{constructor(e,t,s,c,m,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,y),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Kn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function nm(i,e){return i&&i.length>0?(Kn(void 0!==e),i.map(t=>function(s,c){let m=Xi(s.updateTime?s.updateTime:c);return m.isEqual(ri.min())&&(m=Xi(c)),new yd(m,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.cu(s,t)}return Kn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>cu(this.serializer,s))};this.Wo(t)}}class Dg extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=c,this.lu=!1}fu(){if(this.lu)throw new _n(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Io(e,t,s,c,m)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _n(Kt.UNKNOWN,c.toString())})}vo(e,t,s,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.vo(e,t,s,m,y,c)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new _n(Kt.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class S_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(fi(t),this.mu=!1):dn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xg{constructor(e,t,s,c,m){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(k=>{s.enqueueAndForget((0,f.Z)(function*(){var G;so(y)&&(dn("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,f.Z)(function*(ie){const De=Mn(ie);De.vu.add(4),yield Dh(De),De.bu.set("Unknown"),De.vu.delete(4),yield _f(De)}),function(ie){return G.apply(this,arguments)})(y))}))}),this.bu=new S_(s,c)}}function _f(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,f.Z)(function*(i){if(so(i))for(const e of i.Ru)yield e(!0)}),Ip.apply(this,arguments)}function Dh(i){return yf.apply(this,arguments)}function yf(){return yf=(0,f.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),yf.apply(this,arguments)}function Fd(i,e){const t=Mn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bf(t)?Cm(t):wf(t).Ko()&&Qu(t,e))}function vf(i,e){const t=Mn(i),s=wf(t);t.Au.delete(e),s.Ko()&&pu(t,e),0===t.Au.size&&(s.Ko()?s.jo():so(t)&&t.bu.set("Unknown"))}function Qu(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ri.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wf(i).su(e)}function pu(i,e){i.Vu.qt(e),wf(i).iu(e)}function Cm(i){i.Vu=new lg({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),wf(i).start(),i.bu.gu()}function bf(i){return so(i)&&!wf(i).Uo()&&i.Au.size>0}function so(i){return 0===Mn(i).vu.size}function Dp(i){i.Vu=void 0}function xh(i){return Im.apply(this,arguments)}function Im(){return Im=(0,f.Z)(function*(i){i.Au.forEach((e,t)=>{Qu(i,e)})}),Im.apply(this,arguments)}function Dm(i,e){return xp.apply(this,arguments)}function xp(){return xp=(0,f.Z)(function*(i,e){Dp(i),bf(i)?(i.bu.Iu(e),Cm(i)):i.bu.set("Unknown")}),xp.apply(this,arguments)}function Sg(i,e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,f.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Na&&2===e.state&&e.cause)try{yield(s=(0,f.Z)(function*(c,m){const y=m.cause;for(const k of m.targetIds)c.Au.has(k)&&(yield c.remoteSyncer.rejectListen(k,y),c.Au.delete(k),c.Vu.removeTarget(k))}),function(c,m){return s.apply(this,arguments)})(i,e)}catch(s){dn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Xu(i,s)}else if(e instanceof em?i.Vu.Ht(e):e instanceof Yf?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(ri.min()))try{const s=yield _m(i.localStore);t.compareTo(s)>=0&&(yield function(c,m){const y=c.Vu.ce(m);return y.targetChanges.forEach((k,G)=>{if(k.resumeToken.approximateByteSize()>0){const ie=c.Au.get(G);ie&&c.Au.set(G,ie.withResumeToken(k.resumeToken,m))}}),y.targetMismatches.forEach((k,G)=>{const ie=c.Au.get(k);if(!ie)return;c.Au.set(k,ie.withResumeToken(us.EMPTY_BYTE_STRING,ie.snapshotVersion)),pu(c,k);const De=new Pc(ie.target,k,G,ie.sequenceNumber);Qu(c,De)}),c.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(s){dn("RemoteStore","Failed to raise snapshot:",s),yield Xu(i,s)}var s}),Sh.apply(this,arguments)}function Xu(i,e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,f.Z)(function*(i,e,t){if(!gl(e))throw e;i.vu.add(1),yield Dh(i),i.bu.set("Offline"),t||(t=()=>_m(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){dn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield _f(i)}))}),Ef.apply(this,arguments)}function Tg(i,e){return e().catch(t=>Xu(i,t,e))}function mu(i){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,f.Z)(function*(i){const e=Mn(i),t=Bd(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Sp(e);)try{const c=yield ym(e.localStore,s);if(null===c){0===e.Eu.length&&t.jo();break}s=c.batchId,T_(e,c)}catch(c){yield Xu(e,c)}Tp(e)&&Ag(e)}),Ju.apply(this,arguments)}function Sp(i){return so(i)&&i.Eu.length<10}function T_(i,e){i.Eu.push(e);const t=Bd(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Tp(i){return so(i)&&!Bd(i).Uo()&&i.Eu.length>0}function Ag(i){Bd(i).start()}function xm(i){return Th.apply(this,arguments)}function Th(){return Th=(0,f.Z)(function*(i){Bd(i).hu()}),Th.apply(this,arguments)}function Mg(i){return fa.apply(this,arguments)}function fa(){return fa=(0,f.Z)(function*(i){const e=Bd(i);for(const t of i.Eu)e.uu(t.mutations)}),fa.apply(this,arguments)}function Ah(i,e,t){return No.apply(this,arguments)}function No(){return No=(0,f.Z)(function*(i,e,t){const s=i.Eu.shift(),c=qp.from(s,e,t);yield Tg(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield mu(i)}),No.apply(this,arguments)}function Ld(i,e){return pa.apply(this,arguments)}function pa(){return pa=(0,f.Z)(function*(i,e){var t;e&&Bd(i).ou&&(yield(t=(0,f.Z)(function*(s,c){if(Xp(m=c.code)&&m!==Kt.ABORTED){const y=s.Eu.shift();Bd(s).Qo(),yield Tg(s,()=>s.remoteSyncer.rejectFailedWrite(y.batchId,c)),yield mu(s)}var m}),function(s,c){return t.apply(this,arguments)})(i,e)),Tp(i)&&Ag(i)}),pa.apply(this,arguments)}function Yl(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,f.Z)(function*(i,e){const t=Mn(i);t.asyncQueue.verifyOperationInProgress(),dn("RemoteStore","RemoteStore received new credentials");const s=so(t);t.vu.add(3),yield Dh(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield _f(t)}),Sm.apply(this,arguments)}function Tm(i,e){return gu.apply(this,arguments)}function gu(){return gu=(0,f.Z)(function*(i,e){const t=Mn(i);e?(t.vu.delete(2),yield _f(t)):e||(t.vu.add(2),yield Dh(t),t.bu.set("Unknown"))}),gu.apply(this,arguments)}function wf(i){return i.Su||(i.Su=function(e,t,s){const c=Mn(e);return c.fu(),new wp(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(i.datastore,i.asyncQueue,{uo:xh.bind(null,i),ao:Dm.bind(null,i),nu:Sg.bind(null,i)}),i.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(i.Su.Qo(),bf(i)?Cm(i):i.bu.set("Unknown")):(yield i.Su.stop(),Dp(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function Bd(i){return i.Du||(i.Du=function(e,t,s){const c=Mn(e);return c.fu(),new x_(t,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(i.datastore,i.asyncQueue,{uo:xm.bind(null,i),ao:Ld.bind(null,i),au:Mg.bind(null,i),cu:Ah.bind(null,i)}),i.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(i.Du.Qo(),yield mu(i)):(yield i.Du.stop(),i.Eu.length>0&&(dn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Mh{constructor(e,t,s,c,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=m,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,s,c,m){const y=Date.now()+s,k=new Mh(e,t,y,c,m);return k.start(s),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(Kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(i,e){if(fi("AsyncQueue",`${e}: ${i}`),gl(i))return new _n(Kt.UNAVAILABLE,`${e}: ${i}`);throw i}class Ap{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Bn.comparator(t.key,s.key):(t,s)=>Bn.comparator(t.key,s.key),this.keyedMap=hc(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Ap(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ap)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=s.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Ap;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class A_{constructor(){this.Cu=new hr(Bn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):kn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Cf{constructor(e,t,s,c,m,y,k,G,ie){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=m,this.fromCache=y,this.syncStateChanged=k,this.excludesMetadataChanges=G,this.hasCachedResults=ie}static fromInitialDocuments(e,t,s,c,m){const y=[];return t.forEach(k=>{y.push({type:0,doc:k})}),new Cf(e,t,Ap.emptySet(t),y,s,c,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class oy{constructor(){this.Nu=void 0,this.listeners=[]}}class If{constructor(){this.queries=new Us(e=>ln(e),Mt),this.onlineState="Unknown",this.ku=new Set}}function Oh(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,f.Z)(function*(i,e){const t=Mn(i),s=e.query;let c=!1,m=t.queries.get(s);if(m||(c=!0,m=new oy),c)try{m.Nu=yield t.onListen(s)}catch(y){const k=Vd(y,`Initialization of query '${On(e.query)}' failed`);return void e.onError(k)}t.queries.set(s,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&Mp(t)}),Ud.apply(this,arguments)}function Am(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,f.Z)(function*(i,e){const t=Mn(i),s=e.query;let c=!1;const m=t.queries.get(s);if(m){const y=m.listeners.indexOf(e);y>=0&&(m.listeners.splice(y,1),c=0===m.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),Mm.apply(this,arguments)}function Og(i,e){const t=Mn(i);let s=!1;for(const c of e){const y=t.queries.get(c.query);if(y){for(const k of y.listeners)k.$u(c)&&(s=!0);y.Nu=c}}s&&Mp(t)}function ay(i,e,t){const s=Mn(i),c=s.queries.get(e);if(c)for(const m of c.listeners)m.onError(t);s.queries.delete(e)}function Mp(i){i.ku.forEach(e=>{e.next()})}class Rg{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new Cf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ly{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Om{constructor(e){this.serializer=e}rr(e){return Fa(this.serializer,e)}ur(e){return e.metadata.exists?Zh(this.serializer,e.document,!1):Pr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Xi(e)}}class cy{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=yi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new Om(this.serializer);for(const c of e)if(c.metadata.queries){const m=s.rr(c.metadata.name);for(const y of c.metadata.queries){const k=(t.get(y)||Fi()).add(m);t.set(y,k)}}return t}complete(){var e=this;return(0,f.Z)(function*(){const t=yield function Bc(i,e,t,s){return Dl.apply(this,arguments)}(e.localStore,new Om(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const c of e.queries)yield ff(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Pg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class M_{constructor(e){this.key=e}}class Op{constructor(e){this.key=e}}class kg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Fi(),this.mutatedKeys=Fi(),this.tc=Di(e),this.ec=new Ap(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new A_,c=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,y=c,k=!1;const G="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,ie="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((De,ot)=>{const Gt=c.get(De),hn=Hn(this.query,ot)?ot:null,Rn=!!Gt&&this.mutatedKeys.has(Gt.key),Qn=!!hn&&(hn.hasLocalMutations||this.mutatedKeys.has(hn.key)&&hn.hasCommittedMutations);let ei=!1;Gt&&hn?Gt.data.isEqual(hn.data)?Rn!==Qn&&(s.track({type:3,doc:hn}),ei=!0):this.rc(Gt,hn)||(s.track({type:2,doc:hn}),ei=!0,(G&&this.tc(hn,G)>0||ie&&this.tc(hn,ie)<0)&&(k=!0)):!Gt&&hn?(s.track({type:0,doc:hn}),ei=!0):Gt&&!hn&&(s.track({type:1,doc:Gt}),ei=!0,(G||ie)&&(k=!0)),ei&&(hn?(y=y.add(hn),m=Qn?m.add(De):m.delete(De)):(y=y.delete(De),m=m.delete(De)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const De="F"===this.query.limitType?y.last():y.first();y=y.delete(De.key),m=m.delete(De.key),s.track({type:1,doc:De})}return{ec:y,ic:s,zi:k,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((ie,De)=>function(ot,Gt){const hn=Rn=>{switch(Rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kn()}};return hn(ot)-hn(Gt)}(ie.type,De.type)||this.tc(ie.doc,De.doc)),this.oc(s);const y=t?this.uc():[],k=0===this.Zu.size&&this.current?1:0,G=k!==this.Xu;return this.Xu=k,0!==m.length||G?{snapshot:new Cf(this.query,e.ec,c,m,e.mutatedKeys,0===k,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:y}:{cc:y}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new A_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Fi(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Op(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new M_(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Fi();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Cf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ng{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uy{constructor(e){this.key=e,this.fc=!1}}class dy{constructor(e,t,s,c,m,y){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=y,this.dc={},this.wc=new Us(k=>ln(k),Mt),this._c=new Map,this.mc=new Set,this.gc=new hr(Bn.comparator),this.yc=new Map,this.Ic=new gp,this.Tc={},this.Ec=new Map,this.Ac=pc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function O_(i,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,f.Z)(function*(i,e){const t=Lp(i);let s,c;const m=t.wc.get(e);if(m)s=m.targetId,t.sharedClientState.addLocalQueryTarget(s),c=m.view.lc();else{const y=yield Md(t.localStore,O(e)),k=t.sharedClientState.addLocalQueryTarget(y.targetId);s=y.targetId,c=yield Df(t,e,s,"current"===k,y.resumeToken),t.isPrimaryClient&&Fd(t.remoteStore,y)}return c}),Fg.apply(this,arguments)}function Df(i,e,t,s,c){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,f.Z)(function*(i,e,t,s,c){i.Rc=(ot,Gt,hn)=>{return(Rn=(0,f.Z)(function*(Qn,ei,Ji,xr){let cr=ei.view.sc(Ji);cr.zi&&(cr=yield hf(Qn.localStore,ei.query,!1).then(({documents:xs})=>ei.view.sc(xs,cr)));const Xo=xr&&xr.targetChanges.get(ei.targetId),ao=ei.view.applyChanges(cr,Qn.isPrimaryClient,Xo);return Tf(Qn,ei.targetId,ao.cc),ao.snapshot}),function(Qn,ei,Ji,xr){return Rn.apply(this,arguments)})(i,ot,Gt,hn);var Rn};const m=yield hf(i.localStore,e,!0),y=new kg(e,m.ir),k=y.sc(m.documents),G=Kf.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,c),ie=y.applyChanges(k,i.isPrimaryClient,G);Tf(i,t,ie.cc);const De=new Ng(e,t,y);return i.wc.set(e,De),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),ie.snapshot}),Rm.apply(this,arguments)}function hy(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,f.Z)(function*(i,e){const t=Mn(i),s=t.wc.get(e),c=t._c.get(s.targetId);if(c.length>1)return t._c.set(s.targetId,c.filter(m=>!Mt(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Od(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),vf(t.remoteStore,s.targetId),yc(t,s.targetId)}).catch(Da))):(yc(t,s.targetId),yield Od(t.localStore,s.targetId,!0))}),xf.apply(this,arguments)}function Zl(){return Zl=(0,f.Z)(function*(i,e,t){const s=kh(i);try{const c=yield function(m,y){const k=Mn(m),G=Tr.now(),ie=y.reduce((Gt,hn)=>Gt.add(hn.key),Fi());let De,ot;return k.persistence.runTransaction("Locally write mutations","readwrite",Gt=>{let hn=Ko(),Rn=Fi();return k.Zi.getEntries(Gt,ie).next(Qn=>{hn=Qn,hn.forEach((ei,Ji)=>{Ji.isValidDocument()||(Rn=Rn.add(ei))})}).next(()=>k.localDocuments.getOverlayedDocuments(Gt,hn)).next(Qn=>{De=Qn;const ei=[];for(const Ji of y){const xr=bd(Ji,De.get(Ji.key).overlayedDocument);null!=xr&&ei.push(new ou(Ji.key,xr,Sc(xr.value.mapValue),Ds.exists(!0)))}return k.mutationQueue.addMutationBatch(Gt,G,ei,y)}).next(Qn=>{ot=Qn;const ei=Qn.applyToLocalDocumentSet(De,Rn);return k.documentOverlayCache.saveOverlays(Gt,Qn.batchId,ei)})}).then(()=>({batchId:ot.batchId,changes:ca(De)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(m,y,k){let G=m.Tc[m.currentUser.toKey()];G||(G=new hr(_i)),G=G.insert(y,k),m.Tc[m.currentUser.toKey()]=G}(s,c.batchId,t),yield Uc(s,c.changes),yield mu(s.remoteStore)}catch(c){const m=Vd(c,"Failed to persist write");t.reject(m)}}),Zl.apply(this,arguments)}function Sf(i,e){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,f.Z)(function*(i,e){const t=Mn(i);try{const s=yield function w_(i,e){const t=Mn(i),s=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const y=t.Zi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const k=[];e.targetChanges.forEach((De,ot)=>{const Gt=c.get(ot);if(!Gt)return;k.push(t.Bs.removeMatchingKeys(m,De.removedDocuments,ot).next(()=>t.Bs.addMatchingKeys(m,De.addedDocuments,ot)));let hn=Gt.withSequenceNumber(m.currentSequenceNumber);var Rn,Qn,ei;null!==e.targetMismatches.get(ot)?hn=hn.withResumeToken(us.EMPTY_BYTE_STRING,ri.min()).withLastLimboFreeSnapshotVersion(ri.min()):De.resumeToken.approximateByteSize()>0&&(hn=hn.withResumeToken(De.resumeToken,s)),c=c.insert(ot,hn),Qn=hn,ei=De,(0===(Rn=Gt).resumeToken.approximateByteSize()||Qn.snapshotVersion.toMicroseconds()-Rn.snapshotVersion.toMicroseconds()>=3e8||ei.addedDocuments.size+ei.modifiedDocuments.size+ei.removedDocuments.size>0)&&k.push(t.Bs.updateTargetData(m,hn))});let G=Ko(),ie=Fi();if(e.documentUpdates.forEach(De=>{e.resolvedLimboDocuments.has(De)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(m,De))}),k.push(Ad(m,y,e.documentUpdates).next(De=>{G=De.nr,ie=De.sr})),!s.isEqual(ri.min())){const De=t.Bs.getLastRemoteSnapshotVersion(m).next(ot=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,s));k.push(De)}return Yt.waitFor(k).next(()=>y.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,G,ie)).next(()=>G)}).then(m=>(t.Ji=c,m))}(t.localStore,e);e.targetChanges.forEach((c,m)=>{const y=t.yc.get(m);y&&(Kn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.fc=!0:c.modifiedDocuments.size>0?Kn(y.fc):c.removedDocuments.size>0&&(Kn(y.fc),y.fc=!1))}),yield Uc(t,s,e)}catch(s){yield Da(s)}}),Fo.apply(this,arguments)}function zd(i,e,t){const s=Mn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.wc.forEach((m,y)=>{const k=y.view.Mu(e);k.snapshot&&c.push(k.snapshot)}),function(m,y){const k=Mn(m);k.onlineState=y;let G=!1;k.queries.forEach((ie,De)=>{for(const ot of De.listeners)ot.Mu(y)&&(G=!0)}),G&&Mp(k)}(s.eventManager,e),c.length&&s.dc.nu(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Rp(i,e,t){return xl.apply(this,arguments)}function xl(){return xl=(0,f.Z)(function*(i,e,t){const s=Mn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.yc.get(e),m=c&&c.key;if(m){let y=new hr(Bn.comparator);y=y.insert(m,Pr.newNoDocument(m,ri.min()));const k=Fi().add(m),G=new $h(ri.min(),new Map,new hr(_i),y,k);yield Sf(s,G),s.gc=s.gc.remove(m),s.yc.delete(e),Pm(s)}else yield Od(s.localStore,e,!1).then(()=>yc(s,e,t)).catch(Da)}),xl.apply(this,arguments)}function Lg(i,e){return ed.apply(this,arguments)}function ed(){return ed=(0,f.Z)(function*(i,e){const t=Mn(i),s=e.batch.batchId;try{const c=yield function vp(i,e){const t=Mn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(y,k,G,ie){const De=G.batch,ot=De.keys();let Gt=Yt.resolve();return ot.forEach(hn=>{Gt=Gt.next(()=>ie.getEntry(k,hn)).next(Rn=>{const Qn=G.docVersions.get(hn);Kn(null!==Qn),Rn.version.compareTo(Qn)<0&&(De.applyToRemoteDocument(Rn,G),Rn.isValidDocument()&&(Rn.setReadTime(G.commitVersion),ie.addEntry(Rn)))})}),Gt.next(()=>y.mutationQueue.removeMutationBatch(k,De))}(t,s,e,m).next(()=>m.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(y){let k=Fi();for(let G=0;G<y.mutationResults.length;++G)y.mutationResults[G].transformResults.length>0&&(k=k.add(y.batch.mutations[G].key));return k}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}(t.localStore,e);rd(t,s,null),id(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Uc(t,c)}catch(c){yield Da(c)}}),ed.apply(this,arguments)}function td(i,e,t){return _u.apply(this,arguments)}function _u(){return _u=(0,f.Z)(function*(i,e,t){const s=Mn(i);try{const c=yield function(m,y){const k=Mn(m);return k.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ie;return k.mutationQueue.lookupMutationBatch(G,y).next(De=>(Kn(null!==De),ie=De.keys(),k.mutationQueue.removeMutationBatch(G,De))).next(()=>k.mutationQueue.performConsistencyCheck(G)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(G,ie,y)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,ie)).next(()=>k.localDocuments.getDocuments(G,ie))})}(s.localStore,e);rd(s,e,t),id(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Uc(s,c)}catch(c){yield Da(c)}}),_u.apply(this,arguments)}function nd(){return nd=(0,f.Z)(function*(i,e){const t=Mn(i);so(t.remoteStore)||dn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const y=Mn(m);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>y.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===s)return void e.resolve();const c=t.Ec.get(s)||[];c.push(e),t.Ec.set(s,c)}catch(s){const c=Vd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),nd.apply(this,arguments)}function id(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function rd(i,e,t){const s=Mn(i);let c=s.Tc[s.currentUser.toKey()];if(c){const m=c.get(e);m&&(t?m.reject(t):m.resolve(),c=c.remove(e)),s.Tc[s.currentUser.toKey()]=c}}function yc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),t&&i.dc.Pc(s,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||jd(i,s)})}function jd(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(vf(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Pm(i))}function Tf(i,e,t){for(const s of t)s instanceof M_?(i.Ic.addReference(s.key,e),R_(i,s)):s instanceof Op?(dn("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||jd(i,s.key)):kn()}function R_(i,e){const t=e.key,s=t.path.canonicalString();i.gc.get(t)||i.mc.has(s)||(dn("SyncEngine","New document in limbo: "+t),i.mc.add(s),Pm(i))}function Pm(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Bn(yi.fromString(e)),s=i.Ac.next();i.yc.set(s,new uy(t)),i.gc=i.gc.insert(t,s),Fd(i.remoteStore,new Pc(O(io(t.path)),s,"TargetPurposeLimboResolution",Hs.ct))}}function Uc(i,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,f.Z)(function*(i,e,t){const s=Mn(i),c=[],m=[],y=[];var k;s.wc.isEmpty()||(s.wc.forEach((k,G)=>{y.push(s.Rc(G,e,t).then(ie=>{if((ie||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(G.targetId,ie?.fromCache?"not-current":"current"),ie){c.push(ie);const De=vh.Li(G.targetId,ie);m.push(De)}}))}),yield Promise.all(y),s.dc.nu(c),yield(k=(0,f.Z)(function*(G,ie){const De=Mn(G);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>Yt.forEach(ie,Gt=>Yt.forEach(Gt.Fi,hn=>De.persistence.referenceDelegate.addReference(ot,Gt.targetId,hn)).next(()=>Yt.forEach(Gt.Bi,hn=>De.persistence.referenceDelegate.removeReference(ot,Gt.targetId,hn)))))}catch(ot){if(!gl(ot))throw ot;dn("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of ie){const Gt=ot.targetId;if(!ot.fromCache){const hn=De.Ji.get(Gt),Qn=hn.withLastLimboFreeSnapshotVersion(hn.snapshotVersion);De.Ji=De.Ji.insert(Gt,Qn)}}}),function(G,ie){return k.apply(this,arguments)})(s.localStore,m))}),Pp.apply(this,arguments)}function P_(i,e){return km.apply(this,arguments)}function km(){return km=(0,f.Z)(function*(i,e){const t=Mn(i);if(!t.currentUser.isEqual(e)){dn("SyncEngine","User change. New user:",e.toKey());const s=yield mm(t.localStore,e);t.currentUser=e,(c=t).Ec.forEach(y=>{y.forEach(k=>{k.reject(new _n(Kt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Uc(t,s.er)}var c}),km.apply(this,arguments)}function k_(i,e){const t=Mn(i),s=t.yc.get(e);if(s&&s.fc)return Fi().add(s.key);{let c=Fi();const m=t._c.get(e);if(!m)return c;for(const y of m){const k=t.wc.get(y);c=c.unionWith(k.view.nc)}return c}}function Bg(i,e){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,f.Z)(function*(i,e){const t=Mn(i),s=yield hf(t.localStore,e.query,!0),c=e.view.hc(s);return t.isPrimaryClient&&Tf(t,e.targetId,c.cc),c}),Nm.apply(this,arguments)}function py(i,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,f.Z)(function*(i,e){const t=Mn(i);return vm(t.localStore,e).then(s=>Uc(t,s))}),Fm.apply(this,arguments)}function N_(i,e,t,s){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,f.Z)(function*(i,e,t,s){const c=Mn(i),m=yield function(y,k){const G=Mn(y),ie=Mn(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",De=>ie.Sn(De,k).next(ot=>ot?G.localDocuments.getDocuments(De,ot):Yt.resolve(null)))}(c.localStore,e);var k;null!==m?("pending"===t?yield mu(c.remoteStore):"acknowledged"===t||"rejected"===t?(rd(c,e,s||null),id(c,e),k=e,Mn(Mn(c.localStore).mutationQueue).Cn(k)):kn(),yield Uc(c,m)):dn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Lm.apply(this,arguments)}function kp(){return kp=(0,f.Z)(function*(i,e){const t=Mn(i);if(Lp(t),kh(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield Np(t,s.toArray());t.vc=!0,yield Tm(t.remoteStore,!0);for(const m of c)Fd(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const s=[];let c=Promise.resolve();t._c.forEach((m,y)=>{t.sharedClientState.isLocalQueryTarget(y)?s.push(y):c=c.then(()=>(yc(t,y),Od(t.localStore,y,!0))),vf(t.remoteStore,y)}),yield c,yield Np(t,s),function(m){const y=Mn(m);y.yc.forEach((k,G)=>{vf(y.remoteStore,G)}),y.Ic.Ts(),y.yc=new Map,y.gc=new hr(Bn.comparator)}(t),t.vc=!1,yield Tm(t.remoteStore,!1)}}),kp.apply(this,arguments)}function Np(i,e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(i,e,t){const s=Mn(i),c=[],m=[];for(const y of e){let k;const G=s._c.get(y);if(G&&0!==G.length){k=yield Md(s.localStore,O(G[0]));for(const ie of G){const De=s.wc.get(ie),ot=yield Bg(s,De);ot.snapshot&&m.push(ot.snapshot)}}else{const ie=yield Rd(s.localStore,y);k=yield Md(s.localStore,ie),yield Df(s,Af(ie),y,!1,k.resumeToken)}c.push(k)}return s.dc.nu(m),c}),Hd.apply(this,arguments)}function Af(i){return Ru(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Ug(i){const e=Mn(i);return Mn(Mn(e.localStore).persistence).$i()}function Bm(i,e,t,s){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,f.Z)(function*(i,e,t,s){const c=Mn(i);if(c.vc)return void dn("SyncEngine","Ignoring unexpected query state notification.");const m=c._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const y=yield vm(c.localStore,oi(m[0])),k=$h.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,us.EMPTY_BYTE_STRING);yield Uc(c,y,k);break}case"rejected":yield Od(c.localStore,e,!0),yc(c,e,s);break;default:kn()}}),Ph.apply(this,arguments)}function Fp(i,e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,f.Z)(function*(i,e,t){const s=Lp(i);if(s.vc){for(const c of e){if(s._c.has(c)){dn("SyncEngine","Adding an already active target "+c);continue}const m=yield Rd(s.localStore,c),y=yield Md(s.localStore,m);yield Df(s,Af(m),y.targetId,!1,y.resumeToken),Fd(s.remoteStore,y)}for(const c of t)s._c.has(c)&&(yield Od(s.localStore,c,!1).then(()=>{vf(s.remoteStore,c),yc(s,c)}).catch(Da))}}),Mf.apply(this,arguments)}function Lp(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rp.bind(null,e),e.dc.nu=Og.bind(null,e.eventManager),e.dc.Pc=ay.bind(null,e.eventManager),e}function kh(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=td.bind(null,e),e}class Of{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.serializer=Ih(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return uf(this.persistence,new qu,e.initialUser,this.serializer)}createPersistence(e){return new sf(af.zs,this.serializer)}createSharedClientState(e){return new pf}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bp extends Of{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield kh(s.Vc.syncEngine),yield mu(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return uf(this.persistence,new qu,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new yg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new rc(t,this.persistence);return new xa(e.asyncQueue,s)}createPersistence(e){const t=cf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Yo.withCacheSize(this.cacheSizeBytes):Yo.DEFAULT;return new Cg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Nd(),Ch(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pf}}class F_ extends Bp{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,f.Z)(function*(){yield t().call(s,e);const c=s.Vc.syncEngine;s.sharedClientState instanceof kd&&(s.sharedClientState.syncEngine={jr:N_.bind(null,c),zr:Bm.bind(null,c),Wr:Fp.bind(null,c),$i:Ug.bind(null,c),Qr:py.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var m=(0,f.Z)(function*(y){yield function Vg(i,e){return kp.apply(this,arguments)}(s.Vc.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Nd();if(!kd.D(t))throw new _n(Kt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=cf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Nh{initialize(e,t){var s=this;return(0,f.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>zd(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=P_.bind(null,s.syncEngine),yield Tm(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new If}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),s=new Ig(e.databaseInfo);return new Dg(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,m=k=>zd(this.syncEngine,k,0),y=mf.D()?new mf:new La,new xg(t,s,c,m,y);var t,s,c,m,y}createSyncEngine(e,t){return function(s,c,m,y,k,G,ie){const De=new dy(s,c,m,y,k,G);return ie&&(De.vc=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const s=Mn(t);dn("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Dh(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hg(i,e=10240){let t=0;return{read:()=>(0,f.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class L_{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ls,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,f.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),c=Number(s);isNaN(c)&&e.Mc(`length string (${s}) is not valid number`);const m=yield e.$c(c);return new ly(JSON.parse(m),t.length+c)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,f.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,f.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,f.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class my{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,f.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _n(Kt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,f.Z)(function*(m,y){const k=Mn(m),G=Yh(k.serializer)+"/documents",ie={documents:y.map(hn=>Uu(k.serializer,hn))},De=yield k.vo("BatchGetDocuments",G,ie,y.length),ot=new Map;De.forEach(hn=>{const Rn=function cg(i,e){return"found"in e?function(t,s){Kn(!!s.found);const c=Fa(t,s.found.name),m=Xi(s.found.updateTime),y=s.found.createTime?Xi(s.found.createTime):ri.min(),k=new ms({mapValue:{fields:s.found.fields}});return Pr.newFoundDocument(c,m,y,k)}(i,e):"missing"in e?function(t,s){Kn(!!s.missing),Kn(!!s.readTime);const c=Fa(t,s.missing),m=Xi(s.readTime);return Pr.newNoDocument(c,m)}(i,e):kn()}(k.serializer,hn);ot.set(Rn.key.toString(),Rn)});const Gt=[];return y.forEach(hn=>{const Rn=ot.get(hn.toString());Kn(!!Rn),Gt.push(Rn)}),Gt}),function(m,y){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const m=Bn.fromPath(c);e.mutations.push(new Fu(m,e.precondition(m)))}),yield(s=(0,f.Z)(function*(c,m){const y=Mn(c),k=Yh(y.serializer)+"/documents",G={writes:m.map(ie=>cu(y.serializer,ie))};yield y.Io("Commit",k,G)}),function(c,m){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw kn();t=ri.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new _n(Kt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ri.min())?Ds.exists(!1):Ds.updateTime(t):Ds.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ri.min()))throw new _n(Kt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ds.updateTime(t)}return Ds.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class B_{constructor(e,t,s,c,m){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=m,this.Bc=s.maxAttempts,this.qo=new Em(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,f.Z)(function*(){const t=new my(e.datastore),s=e.qc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(m=>{e.Uc(m)}))}).catch(c=>{e.Uc(c)})}))}qc(e){try{const t=this.updateFunction(e);return!Or(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Xp(t)}return!1}}class V_{constructor(e,t,s,c){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=Fn.UNAUTHENTICATED,this.clientId=nr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,f.Z)(function*(k){dn("FirestoreClient","Received user=",k.uid),yield m.authCredentialListener(k),m.user=k});return function(k){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(dn("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _n(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=Vd(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function Rf(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),dn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,f.Z)(function*(m){s.isEqual(m)||(yield mm(e.localStore,m),s=m)});return function(m){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Pf.apply(this,arguments)}function Vm(i,e){return Um.apply(this,arguments)}function Um(){return Um=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield zm(i);dn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(c=>Yl(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,m)=>Yl(e.remoteStore,m)),i._onlineComponents=e}),Um.apply(this,arguments)}function $g(i){return"FirebaseError"===i.name?i.code===Kt.FAILED_PRECONDITION||i.code===Kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function zm(i){return jm.apply(this,arguments)}function jm(){return jm=(0,f.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){dn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rf(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!$g(t))throw t;fr("Error using user provided cache. Falling back to memory cache: "+t),yield Rf(i,new Of)}}else dn("FirestoreClient","Using default OfflineComponentProvider"),yield Rf(i,new Of);return i._offlineComponents}),jm.apply(this,arguments)}function Up(i){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,f.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(dn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vm(i,i._uninitializedComponentsProvider._online)):(dn("FirestoreClient","Using default OnlineComponentProvider"),yield Vm(i,new Nh))),i._onlineComponents}),Hm.apply(this,arguments)}function Wg(i){return zm(i).then(e=>e.persistence)}function Fh(i){return zm(i).then(e=>e.localStore)}function sd(i){return Up(i).then(e=>e.remoteStore)}function Gg(i){return Up(i).then(e=>e.syncEngine)}function $d(i){return od.apply(this,arguments)}function od(){return od=(0,f.Z)(function*(i){const e=yield Up(i),t=e.eventManager;return t.onListen=O_.bind(null,e.syncEngine),t.onUnlisten=hy.bind(null,e.syncEngine),t}),od.apply(this,arguments)}function _y(i,e,t={}){const s=new ls;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(c,m,y,k,G){const ie=new Vp({next:ot=>{m.enqueueAndForget(()=>Am(c,De));const Gt=ot.docs.has(y);!Gt&&ot.fromCache?G.reject(new _n(Kt.UNAVAILABLE,"Failed to get document because the client is offline.")):Gt&&ot.fromCache&&k&&"server"===k.source?G.reject(new _n(Kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(ot)},error:ot=>G.reject(ot)}),De=new Rg(io(y.path),ie,{includeMetadataChanges:!0,Ku:!0});return Oh(c,De)}(yield $d(i),i.asyncQueue,e,t,s)})),s.promise}function z_(i,e,t={}){const s=new ls;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(c,m,y,k,G){const ie=new Vp({next:ot=>{m.enqueueAndForget(()=>Am(c,De)),ot.fromCache&&"server"===k.source?G.reject(new _n(Kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(ot)},error:ot=>G.reject(ot)}),De=new Rg(y,ie,{includeMetadataChanges:!0,Ku:!0});return Oh(c,De)}(yield $d(i),i.asyncQueue,e,t,s)})),s.promise}function Zg(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const H_=new Map;function qg(i,e,t){if(!t)throw new _n(Kt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Qg(i,e,t,s){if(!0===e&&!0===s)throw new _n(Kt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function $_(i){if(!Bn.isDocumentKey(i))throw new _n(Kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Xg(i){if(Bn.isDocumentKey(i))throw new _n(Kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":kn()}function ir(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _n(Kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zp(i);throw new _n(Kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function W_(i,e){if(e<=0)throw new _n(Kt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class G_{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new _n(Kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _n(Kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Zg(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new _n(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _n(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _n(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _n(Kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n(Kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yd;switch(t.type){case"firstParty":return new vo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _n(Kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=H_.get(e);t&&(dn("ComponentProvider","Removing Datastore"),H_.delete(e),t.terminate())}(this),Promise.resolve()}}function Jg(i,e,t,s={}){var c;const m=(i=ir(i,Wd))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let y,k;if("string"==typeof s.mockUserToken)y=s.mockUserToken,k=Fn.MOCK_USER;else{y=(0,ce.Sg)(s.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new _n(Kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new Fn(G)}i._authCredentials=new tc(new Cc(y,k))}}class gs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class ma{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class ql extends ma{constructor(e,t,s){super(e,t,io(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new Bn(e))}withConverter(e){return new ql(this.firestore,e,this._path)}}function $m(i,e,...t){if(i=(0,ce.m9)(i),qg("collection","path",e),i instanceof Wd){const s=yi.fromString(e,...t);return Xg(s),new ql(i,null,s)}{if(!(i instanceof gs||i instanceof ql))throw new _n(Kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(yi.fromString(e,...t));return Xg(s),new ql(i.firestore,null,s)}}function zc(i,e){if(i=ir(i,Wd),qg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _n(Kt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ma(i,null,(t=e,new dc(yi.emptyPath(),t)));var t}function e_(i,e,...t){if(i=(0,ce.m9)(i),1===arguments.length&&(e=nr.A()),qg("doc","path",e),i instanceof Wd){const s=yi.fromString(e,...t);return $_(s),new gs(i,null,new Bn(s))}{if(!(i instanceof gs||i instanceof ql))throw new _n(Kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(yi.fromString(e,...t));return $_(s),new gs(i.firestore,i instanceof ql?i.converter:null,new Bn(s))}}function u(i,e){return i=(0,ce.m9)(i),e=(0,ce.m9)(e),(i instanceof gs||i instanceof ql)&&(e instanceof gs||e instanceof ql)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function o(i,e){return i=(0,ce.m9)(i),e=(0,ce.m9)(e),i instanceof ma&&e instanceof ma&&i.firestore===e.firestore&&Mt(i._query,e._query)&&i.converter===e.converter}class l{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Em(this,"async_queue_retry"),this.Xc=()=>{const t=Ch();t&&dn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ch();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ch();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ls;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,f.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!gl(t))throw t;dn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,fi("INTERNAL UNHANDLED ERROR: ",function(m){let y=m.message||"";return m.stack&&(y=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),y}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const c=Mh.createAndSchedule(this,e,t,s,m=>this.na(m));return this.zc.push(c),c}Zc(){this.Wc&&kn()}verifyOperationInProgress(){}sa(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function h(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(i)}class v{constructor(){this._progressObserver={},this._taskCompletionResolver=new ls,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const I=-1;class P extends Wd{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new l,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vt(this),this._firestoreClient.terminate()}}function Ee(i){return i._firestoreClient||vt(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function vt(i){var e,t,s;const c=i._freezeSettings(),m=(k=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new oc(i._databaseId,k,i._persistenceKey,(ie=c).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,Zg(ie.experimentalLongPollingOptions),ie.useFetchStreams));var k,ie;i._firestoreClient=new V_(i._authCredentials,i._appCheckCredentials,i._queue,m),null!==(t=c.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=c.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}function Ot(i,e){ad(i=ir(i,P));const t=Ee(i);if(t._uninitializedComponentsProvider)throw new _n(Kt.FAILED_PRECONDITION,"SDK cache is already specified.");fr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),c=new Nh;return Dn(t,c,new Bp(c,s.cacheSizeBytes,e?.forceOwnership))}function rn(i){ad(i=ir(i,P));const e=Ee(i);if(e._uninitializedComponentsProvider)throw new _n(Kt.FAILED_PRECONDITION,"SDK cache is already specified.");fr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),s=new Nh;return Dn(e,s,new F_(s,t.cacheSizeBytes))}function Dn(i,e,t){const s=new ls;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield Rf(i,t),yield Vm(i,e),s.resolve()}catch(c){const m=c;if(!$g(m))throw m;fr("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function Sn(i){if(i._initialized&&!i._terminated)throw new _n(Kt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ls;return i._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(t=(0,f.Z)(function*(s){if(!ji.D())return Promise.resolve();const c=s+"main";yield ji.delete(c)}),function(s){return t.apply(this,arguments)})(cf(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Yn(i){return function(e){const t=new ls;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Rh(i,e){return nd.apply(this,arguments)}(yield Gg(e),t)})),t.promise}(Ee(i=ir(i,P)))}function Pi(i){return function Kg(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Wg(i),t=yield sd(i);return e.setNetworkEnabled(!0),function(s){const c=Mn(s);return c.vu.delete(0),_f(c)}(t)}))}(Ee(i=ir(i,P)))}function Er(i){return function gy(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Wg(i),t=yield sd(i);return e.setNetworkEnabled(!1),(s=(0,f.Z)(function*(c){const m=Mn(c);m.vu.add(0),yield Dh(m),m.bu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(Ee(i=ir(i,P)))}function Io(i,e){const t=Ee(i=ir(i,P)),s=new v;return function j_(i,e,t,s){const c=function(m,y){let k;return k="string"==typeof m?Lu().encode(m):m,G=function(G,ie){if(G instanceof Uint8Array)return Hg(G,void 0);if(G instanceof ArrayBuffer)return Hg(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new L_(G,y);var G}(t,Ih(e));i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function zg(i,e,t){const s=Mn(i);var c;(c=(0,f.Z)(function*(m,y,k){try{const G=yield y.getMetadata();if(yield function(Gt,hn){const Rn=Mn(Gt),Qn=Xi(hn.createTime);return Rn.persistence.runTransaction("hasNewerBundle","readonly",ei=>Rn.qs.getBundleMetadata(ei,hn.id)).then(ei=>!!ei&&ei.createTime.compareTo(Qn)>=0)}(m.localStore,G))return yield y.close(),k._completeWith({taskState:"Success",documentsLoaded:(Gt=G).totalDocuments,bytesLoaded:Gt.totalBytes,totalDocuments:Gt.totalDocuments,totalBytes:Gt.totalBytes}),Promise.resolve(new Set);k._updateProgress(Pg(G));const ie=new cy(G,m.localStore,y.serializer);let De=yield y.bc();for(;De;){const Gt=yield ie.zu(De);Gt&&k._updateProgress(Gt),De=yield y.bc()}const ot=yield ie.complete();return yield Uc(m,ot.Ju,void 0),yield function(Gt,hn){const Rn=Mn(Gt);return Rn.persistence.runTransaction("Save bundle","readwrite",Qn=>Rn.qs.saveBundleMetadata(Qn,hn))}(m.localStore,G),k._completeWith(ot.progress),Promise.resolve(ot.Hu)}catch(G){return fr("SyncEngine",`Loading bundle failed with ${G}`),k._failWith(G),Promise.resolve(new Set)}var Gt}),function(m,y,k){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield Gg(i),c,s)}))}(t,i._databaseId,e,s),s}function oo(i,e){return function vy(i,e){return i.asyncQueue.enqueue((0,f.Z)(function*(){return function(t,s){const c=Mn(t);return c.persistence.runTransaction("Get named query","readonly",m=>c.qs.getNamedQuery(m,s))}(yield Fh(i),e)}))}(Ee(i=ir(i,P)),e).then(t=>t?new ma(i,null,t.query):null)}function ad(i){if(i._initialized||i._terminated)throw new _n(Kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(us.fromBase64String(e))}catch(t){throw new _n(Kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vo(us.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qo{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _n(Kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vu{constructor(e){this._methodName=e}}class bu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _n(Kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _n(Kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _i(this._lat,e._lat)||_i(this._long,e._long)}}const ld=/^__.*__$/;class Wm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ou(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mc(e,this.data,t,this.fieldTransforms)}}class jp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ou(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ci(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kn()}}class gi{constructor(e,t,s,c,m,y){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=y||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new gi(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:s,la:!1});return c.fa(e),c}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.aa({path:s,la:!1});return c.ua(),c}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Km(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ci(this.ca)&&ld.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Mi{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ih(e)}ya(e,t,s,c=!1){return new gi({ca:e,methodName:t,ga:s,path:Ci.emptyPath(),la:!1,ma:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ar(i){const e=i._freezeSettings(),t=Ih(i._databaseId);return new Mi(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ks(i,e,t,s,c,m={}){const y=i.ya(m.merge||m.mergeFields?2:0,e,t,c);Y_("Data must be an object, but it was:",y,s);const k=Hp(s,y);let G,ie;if(m.merge)G=new no(y.fieldMask),ie=y.fieldTransforms;else if(m.mergeFields){const De=[];for(const ot of m.mergeFields){const Gt=$p(e,ot,t);if(!y.contains(Gt))throw new _n(Kt.INVALID_ARGUMENT,`Field '${Gt}' is specified in your field mask but missing from your input data.`);Z_(De,Gt)||De.push(Gt)}G=new no(De),ie=y.fieldTransforms.filter(ot=>G.covers(ot.field))}else G=null,ie=y.fieldTransforms;return new Wm(new ms(k),G,ie)}class ol extends vu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}function al(i,e,t){return new gi({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jc extends vu{_toFieldTransform(e){return new Vi(e.path,new Nr)}isEqual(e){return e instanceof jc}}class As extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=al(this,e,!0),s=this.pa.map(m=>Hc(m,t)),c=new Nu(s);return new Vi(e.path,c)}isEqual(e){return this===e}}class t_ extends vu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=al(this,e,!0),s=this.pa.map(m=>Hc(m,t)),c=new wl(s);return new Vi(e.path,c)}isEqual(e){return this===e}}class K_ extends vu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ua(e.serializer,_d(e.serializer,this.Ia));return new Vi(e.path,t)}isEqual(e){return this===e}}function Uo(i,e,t,s){const c=i.ya(1,e,t);Y_("Data must be an object, but it was:",c,s);const m=[],y=ms.empty();Ja(s,(G,ie)=>{const De=Gm(e,G,t);ie=(0,ce.m9)(ie);const ot=c.da(De);if(ie instanceof ol)m.push(De);else{const Gt=Hc(ie,ot);null!=Gt&&(m.push(De),y.set(De,Gt))}});const k=new no(m);return new jp(y,k,c.fieldTransforms)}function Eu(i,e,t,s,c,m){const y=i.ya(1,e,t),k=[$p(e,s,t)],G=[c];if(m.length%2!=0)throw new _n(Kt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Gt=0;Gt<m.length;Gt+=2)k.push($p(e,m[Gt])),G.push(m[Gt+1]);const ie=[],De=ms.empty();for(let Gt=k.length-1;Gt>=0;--Gt)if(!Z_(ie,k[Gt])){const hn=k[Gt];let Rn=G[Gt];Rn=(0,ce.m9)(Rn);const Qn=y.da(hn);if(Rn instanceof ol)ie.push(hn);else{const ei=Hc(Rn,Qn);null!=ei&&(ie.push(hn),De.set(hn,ei))}}const ot=new no(ie);return new jp(De,ot,y.fieldTransforms)}function Sl(i,e,t,s=!1){return Hc(t,i.ya(s?4:3,e))}function Hc(i,e){if(by(i=(0,ce.m9)(i)))return Y_("Unsupported field value:",e,i),Hp(i,e);if(i instanceof vu)return function(t,s){if(!ci(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const c=[];let m=0;for(const y of t){let k=Hc(y,s.wa(m));null==k&&(k={nullValue:"NULL_VALUE"}),c.push(k),m++}return{arrayValue:{values:c}}}(i,e)}return function(t,s){if(null===(t=(0,ce.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _d(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Tr.fromDate(t);return{timestampValue:wd(s.serializer,c)}}if(t instanceof Tr){const c=new Tr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wd(s.serializer,c)}}if(t instanceof bu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vo)return{bytesValue:Vu(s.serializer,t._byteString)};if(t instanceof gs){const c=s.databaseId,m=t.firestore._databaseId;if(!m.isEqual(c))throw s._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ah(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${zp(t)}`)}(i,e)}function Hp(i,e){const t={};return Ic(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(i,(s,c)=>{const m=Hc(c,e.ha(s));null!=m&&(t[s]=m)}),{mapValue:{fields:t}}}function by(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Tr||i instanceof bu||i instanceof Vo||i instanceof gs||i instanceof vu)}function Y_(i,e,t){if(!by(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=zp(t);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function $p(i,e,t){if((e=(0,ce.m9)(e))instanceof Qo)return e._internalPath;if("string"==typeof e)return Gm(i,e);throw Km("Field path arguments must be of type string or ",i,!1,void 0,t)}const Ey=new RegExp("[~\\*/\\[\\]]");function Gm(i,e,t){if(e.search(Ey)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Qo(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Km(i,e,t,s,c){const m=s&&!s.isEmpty(),y=void 0!==c;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let G="";return(m||y)&&(G+=" (found",m&&(G+=` in field ${s}`),y&&(G+=` in document ${c}`),G+=")"),new _n(Kt.INVALID_ARGUMENT,k+i+G)}function Z_(i,e){return i.some(t=>t.isEqual(e))}class Wp{constructor(e,t,s,c,m){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wy extends Wp{data(){return super.data()}}function Ym(i,e){return"string"==typeof e?Gm(i,e):e instanceof Qo?e._internalPath:e._delegate._internalPath}function q_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _n(Kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class kf extends Zm{}function Nf(i,e,...t){let s=[];e instanceof Zm&&s.push(e),s=s.concat(t),function(c){const m=c.filter(k=>k instanceof wu).length,y=c.filter(k=>k instanceof qm).length;if(m>1||m>0&&y>0)throw new _n(Kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)i=c._apply(i);return i}class qm extends kf{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new qm(e,t,s)}_apply(e){const t=this._parse(e);return Q_(e._query,t),new ma(e.firestore,e.converter,se(e._query,t))}_parse(e){const t=ar(e.firestore);return function(c,m,y,k,G,ie,De){let ot;if(G.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new _n(Kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){tv(De,ie);const Gt=[];for(const hn of De)Gt.push(Ys(k,c,hn));ot={arrayValue:{values:Gt}}}else ot=Ys(k,c,De)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||tv(De,ie),ot=Sl(y,"where",De,"in"===ie||"not-in"===ie);return ke.create(G,ie,ot)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Qy(i,e,t){const s=e,c=Ym("where",i);return qm._create(c,s,t)}class wu extends Zm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wu(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:st.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let m=s;const y=c.getFlattenedFilters();for(const k of y)Q_(m,k),m=se(m,k)}(e._query,t),new ma(e.firestore,e.converter,se(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Iy extends kf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Iy(e,t)}_apply(e){const t=function(s,c,m){if(null!==s.startAt)throw new _n(Kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new _n(Kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new M(c,m);return function(k,G){if(null===zf(k)){const ie=x(k);null!==ie&&X_(0,ie,G.field)}}(s,y),y}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(s,c){const m=s.explicitOrderBy.concat([c]);return new dc(s.path,s.collectionGroup,m,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Dy(i,e="asc"){const t=e,s=Ym("orderBy",i);return Iy._create(s,t)}class Qm extends kf{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Qm(e,t,s)}_apply(e){return new ma(e.firestore,e.converter,Se(e._query,this._limit,this._limitType))}}function Qv(i){return W_("limit",i),Qm._create("limit",i,"F")}function Ti(i){return W_("limitToLast",i),Qm._create("limitToLast",i,"L")}class n_ extends kf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new n_(e,t,s)}_apply(e){const t=Xm(e,this.type,this._docOrFields,this._inclusive);return new ma(e.firestore,e.converter,(c=t,new dc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}function Xy(...i){return n_._create("startAt",i,!0)}function Jy(...i){return n_._create("startAfter",i,!1)}class Gd extends kf{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Gd(e,t,s)}_apply(e){const t=Xm(e,this.type,this._docOrFields,this._inclusive);return new ma(e.firestore,e.converter,(c=t,new dc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function ev(...i){return Gd._create("endBefore",i,!1)}function i_(...i){return Gd._create("endAt",i,!0)}function Xm(i,e,t,s){if(t[0]=(0,ce.m9)(t[0]),t[0]instanceof Wp)return function(c,m,y,k,G){if(!k)throw new _n(Kt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const ie=[];for(const De of b(c))if(De.field.isKeyField())ie.push(Jc(m,k.key));else{const ot=k.data.field(De.field);if(Su(ot))throw new _n(Kt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ot){const Gt=De.field.canonicalString();throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Gt}' (used as the orderBy) does not exist.`)}ie.push(ot)}return new jl(ie,G)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const c=ar(i.firestore);return function(m,y,k,G,ie,De){const ot=m.explicitOrderBy;if(ie.length>ot.length)throw new _n(Kt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Gt=[];for(let hn=0;hn<ie.length;hn++){const Rn=ie[hn];if(ot[hn].field.isKeyField()){if("string"!=typeof Rn)throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Rn}`);if(!g(m)&&-1!==Rn.indexOf("/"))throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Rn}' contains a slash.`);const Qn=m.path.child(yi.fromString(Rn));if(!Bn.isDocumentKey(Qn))throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${Qn}' is not because it contains an odd number of segments.`);const ei=new Bn(Qn);Gt.push(Jc(y,ei))}else{const Qn=Sl(k,G,Rn);Gt.push(Qn)}}return new jl(Gt,De)}(i._query,i.firestore._databaseId,c,e,t,s)}}function Ys(i,e,t){if("string"==typeof(t=(0,ce.m9)(t))){if(""===t)throw new _n(Kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g(e)&&-1!==t.indexOf("/"))throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(yi.fromString(t));if(!Bn.isDocumentKey(s))throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jc(i,new Bn(s))}if(t instanceof gs)return Jc(i,t._key);throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zp(t)}.`)}function tv(i,e){if(!Array.isArray(i)||0===i.length)throw new _n(Kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q_(i,e){if(e.isInequality()){const s=x(i),c=e.field;if(null!==s&&!s.isEqual(c))throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const m=zf(i);null!==m&&X_(0,c,m)}const t=function(s,c){for(const m of s)for(const y of m.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _n(Kt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function X_(i,e,t){if(!t.isEqual(e))throw new _n(Kt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class r_{convertValue(e,t="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw kn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ja(e,(c,m)=>{s[c]=this.convertValue(m,t)}),s}convertGeoPoint(e){return new bu(Rr(e.latitude),Rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Vl(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(xc(e));default:return null}}convertTimestamp(e){const t=el(e);return new Tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=yi.fromString(e);Kn(uu(s));const c=new yl(s.get(1),s.get(3)),m=new Bn(s.popFirst(5));return c.isEqual(t)||fi(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Jm(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Sy extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}class Ff{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lf extends Wp{constructor(e,t,s,c,m,y){super(e,t,s,c,y),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class eg extends Lf{data(e={}){return super.data(e)}}class cd{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new Ff(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new eg(this._firestore,this._userDataWriter,s.key,s,new Ff(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _n(Kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let m=0;return s._snapshot.docChanges.map(y=>({type:"added",doc:new eg(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Ff(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:m++}))}{let m=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(y=>c||3!==y.type).map(y=>{const k=new eg(s._firestore,s._userDataWriter,y.doc.key,y.doc,new Ff(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter);let G=-1,ie=-1;return 0!==y.type&&(G=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),1!==y.type&&(m=m.add(y.doc),ie=m.indexOf(y.doc.key)),{type:Ty(y.type),doc:k,oldIndex:G,newIndex:ie}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ty(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kn()}}function Ay(i,e){return i instanceof Lf&&e instanceof Lf?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof cd&&e instanceof cd&&i._firestore===e._firestore&&o(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function My(i){i=ir(i,gs);const e=ir(i.firestore,P);return _y(Ee(e),i._key).then(t=>Ny(e,i,t))}class Lh extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,t)}}function tg(i){i=ir(i,gs);const e=ir(i.firestore,P),t=Ee(e),s=new Lh(e);return function Yg(i,e){const t=new ls;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(c,m,y){try{const k=yield function(G,ie){const De=Mn(G);return De.persistence.runTransaction("read document","readonly",ot=>De.localDocuments.getDocument(ot,ie))}(c,m);k.isFoundDocument()?y.resolve(k):k.isNoDocument()?y.resolve(null):y.reject(new _n(Kt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const G=Vd(k,`Failed to get document '${m} from cache`);y.reject(G)}}),function(c,m,y){return s.apply(this,arguments)})(yield Fh(i),e,t);var s})),t.promise}(t,i._key).then(c=>new Lf(e,s,i._key,c,new Ff(null!==c&&c.hasLocalMutations,!0),i.converter))}function ng(i){i=ir(i,gs);const e=ir(i.firestore,P);return _y(Ee(e),i._key,{source:"server"}).then(t=>Ny(e,i,t))}function rv(i){i=ir(i,ma);const e=ir(i.firestore,P),t=Ee(e),s=new Lh(e);return q_(i._query),z_(t,i._query).then(c=>new cd(e,s,i,c))}function sv(i){i=ir(i,ma);const e=ir(i.firestore,P),t=Ee(e),s=new Lh(e);return function qy(i,e){const t=new ls;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(s=(0,f.Z)(function*(c,m,y){try{const k=yield hf(c,m,!0),G=new kg(m,k.ir),ie=G.sc(k.documents),De=G.applyChanges(ie,!1);y.resolve(De.snapshot)}catch(k){const G=Vd(k,`Failed to execute query '${m} against cache`);y.reject(G)}}),function(c,m,y){return s.apply(this,arguments)})(yield Fh(i),e,t);var s})),t.promise}(t,i._query).then(c=>new cd(e,s,i,c))}function ov(i){i=ir(i,ma);const e=ir(i.firestore,P),t=Ee(e),s=new Lh(e);return z_(t,i._query,{source:"server"}).then(c=>new cd(e,s,i,c))}function Oy(i,e,t){i=ir(i,gs);const s=ir(i.firestore,P),c=Jm(i.converter,e,t);return Gp(s,[Ks(ar(s),"setDoc",i._key,c,null!==i.converter,t).toMutation(i._key,Ds.none())])}function Ry(i,e,t,...s){i=ir(i,gs);const c=ir(i.firestore,P),m=ar(c);let y;return y="string"==typeof(e=(0,ce.m9)(e))||e instanceof Qo?Eu(m,"updateDoc",i._key,e,t,s):Uo(m,"updateDoc",i._key,e),Gp(c,[y.toMutation(i._key,Ds.exists(!0))])}function Py(i){return Gp(ir(i.firestore,P),[new da(i._key,Ds.none())])}function av(i,e){const t=ir(i.firestore,P),s=e_(i),c=Jm(i.converter,e);return Gp(t,[Ks(ar(i.firestore),"addDoc",s._key,c,null!==i.converter,{}).toMutation(s._key,Ds.exists(!1))]).then(()=>s)}function ky(i,...e){var t,s,c;i=(0,ce.m9)(i);let m={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||h(e[y])||(m=e[y],y++);const k={includeMetadataChanges:m.includeMetadataChanges};if(h(e[y])){const ot=e[y];e[y]=null===(t=ot.next)||void 0===t?void 0:t.bind(ot),e[y+1]=null===(s=ot.error)||void 0===s?void 0:s.bind(ot),e[y+2]=null===(c=ot.complete)||void 0===c?void 0:c.bind(ot)}let G,ie,De;if(i instanceof gs)ie=ir(i.firestore,P),De=io(i._key.path),G={next:ot=>{e[y]&&e[y](Ny(ie,i,ot))},error:e[y+1],complete:e[y+2]};else{const ot=ir(i,ma);ie=ir(ot.firestore,P),De=ot._query;const Gt=new Lh(ie);G={next:hn=>{e[y]&&e[y](new cd(ie,Gt,ot,hn))},error:e[y+1],complete:e[y+2]},q_(i._query)}return function(ot,Gt,hn,Rn){const Qn=new Vp(Rn),ei=new Rg(Gt,Qn,hn);return ot.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Oh(yield $d(ot),ei)})),()=>{Qn.Dc(),ot.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Am(yield $d(ot),ei)}))}}(Ee(ie),De,k,G)}function lv(i,e){return function yy(i,e){const t=new Vp(e);return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return s=yield $d(i),c=t,Mn(s).ku.add(c),void c.next();var s,c})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return s=yield $d(i),c=t,void Mn(s).ku.delete(c);var s,c}))}}(Ee(i=ir(i,P)),h(e)?e:{next:e})}function Gp(i,e){return function(t,s){const c=new ls;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function fy(i,e,t){return Zl.apply(this,arguments)}(yield Gg(t),s,c)})),c.promise}(Ee(i),e)}function Ny(i,e,t){const s=t.docs.get(e._key),c=new Lh(i);return new Lf(i,c,e._key,s,new Ff(t.hasPendingWrites,t.fromCache),e.converter)}const pv={maxAttempts:5};class J_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ar(e)}set(e,t,s){this._verifyNotCommitted();const c=Bh(e,this._firestore),m=Jm(c.converter,t,s),y=Ks(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,s);return this._mutations.push(y.toMutation(c._key,Ds.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const m=Bh(e,this._firestore);let y;return y="string"==typeof(t=(0,ce.m9)(t))||t instanceof Qo?Eu(this._dataReader,"WriteBatch.update",m._key,t,s,c):Uo(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(y.toMutation(m._key,Ds.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bh(e,this._firestore);return this._mutations=this._mutations.concat(new da(t._key,Ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _n(Kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bh(i,e){if((i=(0,ce.m9)(i)).firestore!==e)throw new _n(Kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ar(e)}get(e){const t=Bh(e,this._firestore),s=new Sy(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return kn();const m=c[0];if(m.isFoundDocument())return new Wp(this._firestore,s,m.key,m,t.converter);if(m.isNoDocument())return new Wp(this._firestore,s,t._key,null,t.converter);throw kn()})}set(e,t,s){const c=Bh(e,this._firestore),m=Jm(c.converter,t,s),y=Ks(this._dataReader,"Transaction.set",c._key,m,null!==c.converter,s);return this._transaction.set(c._key,y),this}update(e,t,s,...c){const m=Bh(e,this._firestore);let y;return y="string"==typeof(t=(0,ce.m9)(t))||t instanceof Qo?Eu(this._dataReader,"Transaction.update",m._key,t,s,c):Uo(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,y),this}delete(e){const t=Bh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bh(e,this._firestore),s=new Lh(this._firestore);return super.get(e).then(c=>new Lf(this._firestore,s,t._key,c._document,new Ff(!1,!1),t.converter))}}function ig(i,e,t){i=ir(i,P);const s=Object.assign(Object.assign({},pv),t);return function(c){if(c.maxAttempts<1)throw new _n(Kt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,m,y){const k=new ls;return c.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const G=yield function U_(i){return Up(i).then(e=>e.datastore)}(c);new B_(c.asyncQueue,G,y,m,k).run()})),k.promise}(Ee(i),c=>e(new mv(i,c)),s)}function gv(){return new ol("deleteField")}function Ly(){return new jc("serverTimestamp")}function _v(...i){return new As("arrayUnion",i)}function By(...i){return new t_("arrayRemove",i)}function yv(i){return new K_("increment",i)}!function(i,e=!0){tr=R.SDK_VERSION,(0,R._registerComponent)(new E.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const m=t.getProvider("app").getImmediate(),y=new P(new Cu(t.getProvider("auth-internal")),new Iu(t.getProvider("app-check-internal")),function(k,G){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new _n(Kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(k.options.projectId,G)}(m,s),m);return c=Object.assign({useFetchStreams:e},c),y._setSettings(c),y},"PUBLIC").setMultipleInstances(!0)),(0,R.registerVersion)(mn,"3.12.1",i),(0,R.registerVersion)(mn,"3.12.1","esm2017")}()},2090:(pn,at,T)=>{T.d(at,{$s:()=>ae,BH:()=>qe,DV:()=>bt,G6:()=>Bt,GJ:()=>Cn,L:()=>Ke,LL:()=>ct,P0:()=>kt,Pz:()=>Ae,Sg:()=>Nt,UG:()=>Xt,UI:()=>Et,US:()=>Fe,Wl:()=>mt,Yr:()=>Dt,ZB:()=>ye,ZR:()=>Be,aH:()=>Qe,b$:()=>En,cI:()=>ht,dS:()=>Zn,eu:()=>Tt,g5:()=>E,gK:()=>je,gQ:()=>_t,h$:()=>_e,hl:()=>Vt,hu:()=>R,jU:()=>yn,m9:()=>Jt,ne:()=>Zt,p$:()=>ge,pd:()=>zt,r3:()=>qn,ru:()=>sn,tV:()=>oe,uI:()=>Ye,ug:()=>Wn,vZ:()=>Te,w1:()=>si,w9:()=>on,xO:()=>ut,xb:()=>rt,z$:()=>It,zI:()=>nt,zd:()=>Pt});const f={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},R=function(Ve,ze){if(!Ve)throw E(ze)},E=function(Ve){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ve)},me=function(Ve){const ze=[];let ue=0;for(let fe=0;fe<Ve.length;fe++){let W=Ve.charCodeAt(fe);W<128?ze[ue++]=W:W<2048?(ze[ue++]=W>>6|192,ze[ue++]=63&W|128):55296==(64512&W)&&fe+1<Ve.length&&56320==(64512&Ve.charCodeAt(fe+1))?(W=65536+((1023&W)<<10)+(1023&Ve.charCodeAt(++fe)),ze[ue++]=W>>18|240,ze[ue++]=W>>12&63|128,ze[ue++]=W>>6&63|128,ze[ue++]=63&W|128):(ze[ue++]=W>>12|224,ze[ue++]=W>>6&63|128,ze[ue++]=63&W|128)}return ze},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ve,ze){if(!Array.isArray(Ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=ze?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let W=0;W<Ve.length;W+=3){const le=Ve[W],j=W+1<Ve.length,J=j?Ve[W+1]:0,Q=W+2<Ve.length,xe=Q?Ve[W+2]:0;let vn=(15&J)<<2|xe>>6,An=63&xe;Q||(An=64,j||(vn=64)),fe.push(ue[le>>2],ue[(3&le)<<4|J>>4],ue[vn],ue[An])}return fe.join("")},encodeString(Ve,ze){return this.HAS_NATIVE_SUPPORT&&!ze?btoa(Ve):this.encodeByteArray(me(Ve),ze)},decodeString(Ve,ze){return this.HAS_NATIVE_SUPPORT&&!ze?atob(Ve):function(Ve){const ze=[];let ue=0,fe=0;for(;ue<Ve.length;){const W=Ve[ue++];if(W<128)ze[fe++]=String.fromCharCode(W);else if(W>191&&W<224){const le=Ve[ue++];ze[fe++]=String.fromCharCode((31&W)<<6|63&le)}else if(W>239&&W<365){const Q=((7&W)<<18|(63&Ve[ue++])<<12|(63&Ve[ue++])<<6|63&Ve[ue++])-65536;ze[fe++]=String.fromCharCode(55296+(Q>>10)),ze[fe++]=String.fromCharCode(56320+(1023&Q))}else{const le=Ve[ue++],j=Ve[ue++];ze[fe++]=String.fromCharCode((15&W)<<12|(63&le)<<6|63&j)}}return ze.join("")}(this.decodeStringToByteArray(Ve,ze))},decodeStringToByteArray(Ve,ze){this.init_();const ue=ze?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let W=0;W<Ve.length;){const le=ue[Ve.charAt(W++)],J=W<Ve.length?ue[Ve.charAt(W)]:0;++W;const xe=W<Ve.length?ue[Ve.charAt(W)]:64;++W;const Qt=W<Ve.length?ue[Ve.charAt(W)]:64;if(++W,null==le||null==J||null==xe||null==Qt)throw new Ue;fe.push(le<<2|J>>4),64!==xe&&(fe.push(J<<4&240|xe>>2),64!==Qt&&fe.push(xe<<6&192|Qt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ve=0;Ve<this.ENCODED_VALS.length;Ve++)this.byteToCharMap_[Ve]=this.ENCODED_VALS.charAt(Ve),this.charToByteMap_[this.byteToCharMap_[Ve]]=Ve,this.byteToCharMapWebSafe_[Ve]=this.ENCODED_VALS_WEBSAFE.charAt(Ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ve]]=Ve,Ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ve)]=Ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ve)]=Ve)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(Ve){const ze=me(Ve);return Fe.encodeByteArray(ze,!0)},Ke=function(Ve){return _e(Ve).replace(/\./g,"")},oe=function(Ve){try{return Fe.decodeString(Ve,!0)}catch(ze){console.error("base64Decode failed: ",ze)}return null};function ge(Ve){return ye(void 0,Ve)}function ye(Ve,ze){if(!(ze instanceof Object))return ze;switch(ze.constructor){case Date:return new Date(ze.getTime());case Object:void 0===Ve&&(Ve={});break;case Array:Ve=[];break;default:return ze}for(const ue in ze)!ze.hasOwnProperty(ue)||!Le(ue)||(Ve[ue]=ye(Ve[ue],ze[ue]));return Ve}function Le(Ve){return"__proto__"!==Ve}const Ge=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ve=process.env.__FIREBASE_DEFAULTS__;return Ve?JSON.parse(Ve):void 0})()||(()=>{if(typeof document>"u")return;let Ve;try{Ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ze=Ve&&oe(Ve[1]);return ze&&JSON.parse(ze)})()}catch(Ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ve}`)}},kt=Ve=>{const ze=(Ve=>{var ze,ue;return null===(ue=null===(ze=Ge())||void 0===ze?void 0:ze.emulatorHosts)||void 0===ue?void 0:ue[Ve]})(Ve);if(!ze)return;const ue=ze.lastIndexOf(":");if(ue<=0||ue+1===ze.length)throw new Error(`Invalid host ${ze} with no separate hostname and port!`);const fe=parseInt(ze.substring(ue+1),10);return"["===ze[0]?[ze.substring(1,ue-1),fe]:[ze.substring(0,ue),fe]},Qe=()=>{var Ve;return null===(Ve=Ge())||void 0===Ve?void 0:Ve.config},Ae=Ve=>{var ze;return null===(ze=Ge())||void 0===ze?void 0:ze[`_${Ve}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ze,ue)=>{this.resolve=ze,this.reject=ue})}wrapCallback(ze){return(ue,fe)=>{ue?this.reject(ue):this.resolve(fe),"function"==typeof ze&&(this.promise.catch(()=>{}),1===ze.length?ze(ue):ze(ue,fe))}}}function Nt(Ve,ze){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=ze||"demo-project",W=Ve.iat||0,le=Ve.sub||Ve.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:W,exp:W+3600,auth_time:W,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},Ve);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(j)),""].join(".")}function It(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function Xt(){var Ve;const ze=null===(Ve=Ge())||void 0===Ve?void 0:Ve.forceEnvironment;if("node"===ze)return!0;if("browser"===ze)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yn(){return"object"==typeof self&&self.self===self}function sn(){const Ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ve&&void 0!==Ve.id}function En(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function si(){const Ve=It();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function Dt(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN}function Bt(){return!Xt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vt(){try{return"object"==typeof indexedDB}catch{return!1}}function Tt(){return new Promise((Ve,ze)=>{try{let ue=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(fe);W.onsuccess=()=>{W.result.close(),ue||self.indexedDB.deleteDatabase(fe),Ve(!0)},W.onupgradeneeded=()=>{ue=!1},W.onerror=()=>{var le;ze((null===(le=W.error)||void 0===le?void 0:le.message)||"")}}catch(ue){ze(ue)}})}function nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Be extends Error{constructor(ze,ue,fe){super(ue),this.code=ze,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(ze,ue,fe){this.service=ze,this.serviceName=ue,this.errors=fe}create(ze,...ue){const fe=ue[0]||{},W=`${this.service}/${ze}`,le=this.errors[ze],j=le?function it(Ve,ze){return Ve.replace(He,(ue,fe)=>{const W=ze[fe];return null!=W?String(W):`<${fe}?>`})}(le,fe):"Error";return new Be(W,`${this.serviceName}: ${j} (${W}).`,fe)}}const He=/\{\$([^}]+)}/g;function ht(Ve){return JSON.parse(Ve)}function mt(Ve){return JSON.stringify(Ve)}const Ht=function(Ve){let ze={},ue={},fe={},W="";try{const le=Ve.split(".");ze=ht(oe(le[0])||""),ue=ht(oe(le[1])||""),W=le[2],fe=ue.d||{},delete ue.d}catch{}return{header:ze,claims:ue,data:fe,signature:W}},on=function(Ve){const ue=Ht(Ve).claims;return!!ue&&"object"==typeof ue&&ue.hasOwnProperty("iat")},Cn=function(Ve){const ze=Ht(Ve).claims;return"object"==typeof ze&&!0===ze.admin};function qn(Ve,ze){return Object.prototype.hasOwnProperty.call(Ve,ze)}function bt(Ve,ze){if(Object.prototype.hasOwnProperty.call(Ve,ze))return Ve[ze]}function rt(Ve){for(const ze in Ve)if(Object.prototype.hasOwnProperty.call(Ve,ze))return!1;return!0}function Et(Ve,ze,ue){const fe={};for(const W in Ve)Object.prototype.hasOwnProperty.call(Ve,W)&&(fe[W]=ze.call(ue,Ve[W],W,Ve));return fe}function Te(Ve,ze){if(Ve===ze)return!0;const ue=Object.keys(Ve),fe=Object.keys(ze);for(const W of ue){if(!fe.includes(W))return!1;const le=Ve[W],j=ze[W];if(ne(le)&&ne(j)){if(!Te(le,j))return!1}else if(le!==j)return!1}for(const W of fe)if(!ue.includes(W))return!1;return!0}function ne(Ve){return null!==Ve&&"object"==typeof Ve}function ut(Ve){const ze=[];for(const[ue,fe]of Object.entries(Ve))Array.isArray(fe)?fe.forEach(W=>{ze.push(encodeURIComponent(ue)+"="+encodeURIComponent(W))}):ze.push(encodeURIComponent(ue)+"="+encodeURIComponent(fe));return ze.length?"&"+ze.join("&"):""}function Pt(Ve){const ze={};return Ve.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[W,le]=fe.split("=");ze[decodeURIComponent(W)]=decodeURIComponent(le)}}),ze}function zt(Ve){const ze=Ve.indexOf("?");if(!ze)return"";const ue=Ve.indexOf("#",ze);return Ve.substring(ze,ue>0?ue:void 0)}class _t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ze=1;ze<this.blockSize;++ze)this.pad_[ze]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ze,ue){ue||(ue=0);const fe=this.W_;if("string"==typeof ze)for(let Qt=0;Qt<16;Qt++)fe[Qt]=ze.charCodeAt(ue)<<24|ze.charCodeAt(ue+1)<<16|ze.charCodeAt(ue+2)<<8|ze.charCodeAt(ue+3),ue+=4;else for(let Qt=0;Qt<16;Qt++)fe[Qt]=ze[ue]<<24|ze[ue+1]<<16|ze[ue+2]<<8|ze[ue+3],ue+=4;for(let Qt=16;Qt<80;Qt++){const vn=fe[Qt-3]^fe[Qt-8]^fe[Qt-14]^fe[Qt-16];fe[Qt]=4294967295&(vn<<1|vn>>>31)}let xe,pt,W=this.chain_[0],le=this.chain_[1],j=this.chain_[2],J=this.chain_[3],Q=this.chain_[4];for(let Qt=0;Qt<80;Qt++){Qt<40?Qt<20?(xe=J^le&(j^J),pt=1518500249):(xe=le^j^J,pt=1859775393):Qt<60?(xe=le&j|J&(le|j),pt=2400959708):(xe=le^j^J,pt=3395469782);const vn=(W<<5|W>>>27)+xe+Q+pt+fe[Qt]&4294967295;Q=J,J=j,j=4294967295&(le<<30|le>>>2),le=W,W=vn}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+le&4294967295,this.chain_[2]=this.chain_[2]+j&4294967295,this.chain_[3]=this.chain_[3]+J&4294967295,this.chain_[4]=this.chain_[4]+Q&4294967295}update(ze,ue){if(null==ze)return;void 0===ue&&(ue=ze.length);const fe=ue-this.blockSize;let W=0;const le=this.buf_;let j=this.inbuf_;for(;W<ue;){if(0===j)for(;W<=fe;)this.compress_(ze,W),W+=this.blockSize;if("string"==typeof ze){for(;W<ue;)if(le[j]=ze.charCodeAt(W),++j,++W,j===this.blockSize){this.compress_(le),j=0;break}}else for(;W<ue;)if(le[j]=ze[W],++j,++W,j===this.blockSize){this.compress_(le),j=0;break}}this.inbuf_=j,this.total_+=ue}digest(){const ze=[];let ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&ue,ue/=256;this.compress_(this.buf_);let fe=0;for(let W=0;W<5;W++)for(let le=24;le>=0;le-=8)ze[fe]=this.chain_[W]>>le&255,++fe;return ze}}function Zt(Ve,ze){const ue=new Me(Ve,ze);return ue.subscribe.bind(ue)}class Me{constructor(ze,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{ze(this)}).catch(fe=>{this.error(fe)})}next(ze){this.forEachObserver(ue=>{ue.next(ze)})}error(ze){this.forEachObserver(ue=>{ue.error(ze)}),this.close(ze)}complete(){this.forEachObserver(ze=>{ze.complete()}),this.close()}subscribe(ze,ue,fe){let W;if(void 0===ze&&void 0===ue&&void 0===fe)throw new Error("Missing Observer.");W=function he(Ve,ze){if("object"!=typeof Ve||null===Ve)return!1;for(const ue of ze)if(ue in Ve&&"function"==typeof Ve[ue])return!0;return!1}(ze,["next","error","complete"])?ze:{next:ze,error:ue,complete:fe},void 0===W.next&&(W.next=ve),void 0===W.error&&(W.error=ve),void 0===W.complete&&(W.complete=ve);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),le}unsubscribeOne(ze){void 0===this.observers||void 0===this.observers[ze]||(delete this.observers[ze],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ze){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,ze)}sendOne(ze,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ze])try{ue(this.observers[ze])}catch(fe){typeof console<"u"&&console.error&&console.error(fe)}})}close(ze){this.finalized||(this.finalized=!0,void 0!==ze&&(this.finalError=ze),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ve(){}function je(Ve,ze){return`${Ve} failed: ${ze} argument `}const Zn=function(Ve){const ze=[];let ue=0;for(let fe=0;fe<Ve.length;fe++){let W=Ve.charCodeAt(fe);if(W>=55296&&W<=56319){const le=W-55296;fe++,R(fe<Ve.length,"Surrogate pair missing trail surrogate."),W=65536+(le<<10)+(Ve.charCodeAt(fe)-56320)}W<128?ze[ue++]=W:W<2048?(ze[ue++]=W>>6|192,ze[ue++]=63&W|128):W<65536?(ze[ue++]=W>>12|224,ze[ue++]=W>>6&63|128,ze[ue++]=63&W|128):(ze[ue++]=W>>18|240,ze[ue++]=W>>12&63|128,ze[ue++]=W>>6&63|128,ze[ue++]=63&W|128)}return ze},Wn=function(Ve){let ze=0;for(let ue=0;ue<Ve.length;ue++){const fe=Ve.charCodeAt(ue);fe<128?ze++:fe<2048?ze+=2:fe>=55296&&fe<=56319?(ze+=4,ue++):ze+=3}return ze},Ft=1e3,Re=2,H=144e5,X=.5;function ae(Ve,ze=Ft,ue=Re){const fe=ze*Math.pow(ue,Ve),W=Math.round(X*fe*(Math.random()-.5)*2);return Math.min(H,fe+W)}function Jt(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}},1933:(pn,at,T)=>{T.d(at,{q:()=>zt});var f=T(7392),R=T(266),E=T(3162),me=T(3683),ce=T(6895),Fe=T(4650),Ue=T(7579),_e=T(9101),Ke=T(8184),oe=T(3238),ge=T(9549),ye=T(8605);T(7340);const gn={provide:new Fe.OlP("mat-select-scroll-strategy"),deps:[Ke.aV],useFactory:function sn(_t){return()=>_t.scrollStrategies.reposition()}};let nt=(()=>{class _t{}return _t.\u0275fac=function(Me){return new(Me||_t)},_t.\u0275mod=Fe.oAB({type:_t}),_t.\u0275inj=Fe.cJS({providers:[gn],imports:[ce.ez,Ke.U8,oe.Ng,oe.BQ,ye.ZD,ge.lN,oe.Ng,oe.BQ]}),_t})(),mt=(()=>{class _t{constructor(){this.changes=new Ue.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(Me,$e,he)=>{if(0==he||0==$e)return`0 of ${he}`;const ve=Me*$e;return`${ve+1} \u2013 ${ve<(he=Math.max(he,0))?Math.min(ve+$e,he):ve+$e} of ${he}`}}}return _t.\u0275fac=function(Me){return new(Me||_t)},_t.\u0275prov=Fe.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();const Ze={provide:mt,deps:[[new Fe.FiY,new Fe.tp0,mt]],useFactory:function Ht(_t){return _t||new mt}};let Te=(()=>{class _t{}return _t.\u0275fac=function(Me){return new(Me||_t)},_t.\u0275mod=Fe.oAB({type:_t}),_t.\u0275inj=Fe.cJS({providers:[Ze],imports:[ce.ez,_e.ot,nt,R.AV]}),_t})();var ne=T(284),Oe=T(1572),ut=T(3267);const Pt=[f.Ps,R.AV,_e.ot,E.Cv,me.g0,Te,ge.lN,ne.c,Oe.Cq,E.Cv,ut.SJ];let zt=(()=>{class _t{}return _t.\u0275fac=function(Me){return new(Me||_t)},_t.\u0275mod=Fe.oAB({type:_t}),_t.\u0275inj=Fe.cJS({imports:[Pt,f.Ps,R.AV,_e.ot,E.Cv,me.g0,Te,ge.lN,ne.c,Oe.Cq,E.Cv,ut.SJ]}),_t})()},3602:(pn,at,T)=>{T.d(at,{Z:()=>E});var f=T(1135),R=T(4650);let E=(()=>{class me{constructor(){this.$sidenavStatus=new f.X("closed")}openSidenav(){this.$sidenavStatus.next("open")}closeSidenav(){this.$sidenavStatus.next("closed")}}return me.\u0275fac=function(Fe){return new(Fe||me)},me.\u0275prov=R.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},4672:(pn,at,T)=>{T.d(at,{e:()=>oe});var f=T(5861),R=(()=>{return(ge=R||(R={})).EMAIlL_ALREADY_IN_USE="auth/email-already-in-use",ge.EMAIL_INVALID="auth/invalid-email",ge.WEAK_PASSWORD="auth/weak-password",ge.WRONG_PASSWORD="auth/wrong-password",ge.INVALID_EMAIL="auth/invalid-email",ge.USER_NOT_FOUND="auth/user-not-found",R;var ge})(),E=T(1135),me=T(3905),ce=T(4650),Fe=T(1205),Ue=T(7977),_e=T(1779),Ke=T(3602);let oe=(()=>{class ge{constructor(Le,We,Je,gt){this.afAuth=Le,this.db=We,this.router=Je,this.sidenavService=gt,this.currentUser$=new E.X(null)}registerUser(Le){var We=this;return(0,f.Z)(function*(){try{const Je=yield We.afAuth.createUserWithEmailAndPassword(Le.email,Le.password);return Je.user&&(yield We.db.collection("users").doc(Je.user.uid).set({name:Le.name,email:Le.email})),Je}catch(Je){const gt=Je.code;return gt===R.EMAIL_INVALID?{errorType:"email",message:"The email format is invalid. Please try another one."}:gt===R.EMAIlL_ALREADY_IN_USE?{errorType:"email",message:"This email is already being used. Please try another one."}:gt===R.WEAK_PASSWORD?{errorType:"password",message:"Weak password. Please try another one."}:{errorType:"generic",message:"Invalid credentials. Please try again."}}})()}login(Le){var We=this;return(0,f.Z)(function*(){try{const Je=yield We.afAuth.signInWithEmailAndPassword(Le.email,Le.password);return Je.user&&(localStorage.setItem("userToken",Je.user.uid),We.setCurrentUser(Je.user.uid),We.getUserInfo()),Je}catch(Je){const gt=Je.code;return gt===R.EMAIL_INVALID?{errorType:"email",message:"The email is invalid. Please try again."}:gt===R.USER_NOT_FOUND?{errorType:"email",message:"User not found. Please try again."}:gt===R.WRONG_PASSWORD?{errorType:"password",message:"Wrong password. Please try again."}:{errorType:"generic",message:"Invalid credentials. Please try again."}}})()}sendPasswordResetEmail(Le){return this.afAuth.sendPasswordResetEmail(Le).catch(We=>We.code===R.EMAIL_INVALID?{hasError:!0,error:"The email is invalid. Please try again."}:We.code===R.USER_NOT_FOUND?{hasError:!0,error:"User not found. Please try again."}:{hasError:!1})}setCurrentUser(Le){this.currentUser$.next({...this.currentUser$.getValue(),id:Le})}logout(){localStorage.removeItem("userToken"),this.router.navigate(["/login"]),this.currentUser$.next(null),this.sidenavService.closeSidenav()}getUserInfo(){var Le=this;return(0,f.Z)(function*(){const We=Le.currentUser$.getValue()?.id;if(!We)return;const Je=Le.db.collection("users").doc(We),gt=yield(0,me.z)(Je.get());gt.exists&&Le.currentUser$.next(gt.data())})()}}return ge.\u0275fac=function(Le){return new(Le||ge)(ce.LFG(Fe.zQ),ce.LFG(Ue.ST),ce.LFG(_e.F0),ce.LFG(Ke.Z))},ge.\u0275prov=ce.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},1261:(pn,at,T)=>{T.d(at,{N:()=>f});const f={apiUrls:{moviesUrl:"https://api.themoviedb.org/3/movie",seriesUrl:"https://api.themoviedb.org/3/tv"},apiKey:"17acd9c39b103a235bc6dcaa22e3957a",production:!1,firebase:{apiKey:"AIzaSyD0I49OsQmZR5Czg_10tgs5BDAUY9K8K0o",authDomain:"movies-project-764fe.firebaseapp.com",databaseURL:"https://movies-project-764fe-default-rtdb.firebaseio.com",projectId:"movies-project-764fe",storageBucket:"movies-project-764fe.appspot.com",messagingSenderId:"240134275038",appId:"1:240134275038:web:016155843bc10fbd45e74f",measurementId:"G-KBMNJBCPZM"}}},8849:(pn,at,T)=>{var f=T(1481),R=T(1779),E=T(4650);let me=(()=>{class u{constructor(l){this.router=l}canActivate(l,h){return!!localStorage.getItem("userToken")||this.router.navigate(["/login"])}}return u.\u0275fac=function(l){return new(l||u)(E.LFG(R.F0))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),ce=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({imports:[R.Bz.forRoot([{path:"home",loadChildren:()=>Promise.all([T.e(111),T.e(453)]).then(T.bind(T,2453)).then(o=>o.HomeModule),canActivate:[me]},{path:"programs",loadChildren:()=>T.e(111).then(T.bind(T,4111)).then(o=>o.ProgramsModule),canActivate:[me]},{path:"login",loadChildren:()=>T.e(907).then(T.bind(T,1907)).then(o=>o.AuthModule)},{path:"account",loadChildren:()=>T.e(588).then(T.bind(T,2588)).then(o=>o.AccountModule),canActivate:[me]},{path:"**",redirectTo:"home"}],{onSameUrlNavigation:"reload",scrollPositionRestoration:"enabled"}),R.Bz]}),u})();var Fe=T(4672),Ue=T(3602),_e=T(6895),Ke=T(7392),oe=T(3267);function ge(u,o){if(1&u&&(E.TgZ(0,"span",12),E._uU(1),E.qZA()),2&u){const l=E.oxw().ngIf;E.xp6(1),E.hij("Hey ",l.name,"!")}}const ye=function(){return{color:"white"}};function Le(u,o){if(1&u){const l=E.EpF();E.TgZ(0,"mat-sidenav-container",1),E.ALo(1,"async"),E.TgZ(2,"mat-sidenav-content",2)(3,"mat-icon",3),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.KtG(v.closeSidenav())}),E._uU(4,"close"),E.qZA(),E.TgZ(5,"div",4)(6,"mat-icon"),E._uU(7,"person"),E.qZA(),E.YNc(8,ge,2,1,"span",5),E.qZA(),E.TgZ(9,"ul",6)(10,"li",7)(11,"mat-icon"),E._uU(12,"person"),E.qZA(),E.TgZ(13,"span"),E._uU(14,"My Profile"),E.qZA()(),E.TgZ(15,"li",8)(16,"mat-icon"),E._uU(17,"favorite"),E.qZA(),E.TgZ(18,"span"),E._uU(19,"Favorite Movies"),E.qZA()()(),E.TgZ(20,"div",9),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.KtG(v.logout())}),E.TgZ(21,"mat-icon",10),E._uU(22,"keyboard_return"),E.qZA(),E.TgZ(23,"span",11),E._uU(24,"Logout"),E.qZA()()()()}if(2&u){const l=o.ngIf,h=E.oxw();E.ekj("active","open"===E.lcZ(1,4,h.sidenavStatus)),E.xp6(8),E.Q6J("ngIf",l),E.xp6(13),E.Q6J("ngStyle",E.DdM(6,ye))}}let We=(()=>{class u{constructor(l,h){this.sidenavService=l,this.authService=h,this.sidenavStatus=this.sidenavService.$sidenavStatus,this.currentUser$=this.authService.currentUser$}logout(){this.authService.logout()}closeSidenav(){this.sidenavService.closeSidenav()}}return u.\u0275fac=function(l){return new(l||u)(E.Y36(Ue.Z),E.Y36(Fe.e))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-sidebar"]],decls:2,vars:3,consts:[["class","sidenav-container",3,"active",4,"ngIf"],[1,"sidenav-container"],[1,"flex","flex-col"],[1,"close-icon",3,"click"],[1,"user-info-wrapper"],["class","text-[16px] text-center text-white",4,"ngIf"],[1,"options-list"],["routerLinkActive","link-active",1,"li"],["routerLink","/programs/favorites/1","routerLinkActive","link-active",1,"li"],[1,"hover:-translate-y-[0.1rem]","transition-all","d-flex","mt-auto","mb-2","gap-2","cursor-pointer",3,"click"],[3,"ngStyle"],[1,"text-white"],[1,"text-[16px]","text-center","text-white"]],template:function(l,h){1&l&&(E.YNc(0,Le,25,7,"mat-sidenav-container",0),E.ALo(1,"async")),2&l&&E.Q6J("ngIf",E.lcZ(1,1,h.currentUser$))},dependencies:[_e.O5,_e.PC,Ke.Hw,oe.TM,oe.Rh,R.rH,R.Od,_e.Ov],styles:[".sidenav-container[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;width:0;background-color:#0f2027;transition:.4s ease;z-index:1000;padding-block:2em}.sidenav-container.active[_ngcontent-%COMP%]{padding:1em;width:10vw}.sidenav-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{color:#fff;position:absolute;top:2px;right:2px;cursor:pointer}.sidenav-container[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1em}.sidenav-container[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;align-items:center;font-size:40px;border:1px solid white;padding:.8em;overflow:visible;border-radius:100%}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{margin-top:2em;padding:0;list-style:none;display:flex;flex-direction:column;gap:1em}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;padding-bottom:.5em;margin:0;display:flex;gap:1em;align-items:center;border-bottom:1px solid rgba(255,255,255,.3);transition:.4s ease}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;transition:.3s ease}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{overflow:visible;color:#fff}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{transform:translateY(-1px)}.sidenav-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   li.link-active[_ngcontent-%COMP%]{border-bottom:1px solid white}"]}),u})();var Je=T(266),gt=T(9101),tt=T(3683);const Ge=function(){return{color:"white"}};function Pe(u,o){if(1&u){const l=E.EpF();E.TgZ(0,"button",4),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.MAs(2).value="",E.KtG(v.setValue(""))}),E.TgZ(1,"mat-icon",5),E._uU(2,"close"),E.qZA()()}2&u&&(E.xp6(1),E.Q6J("ngStyle",E.DdM(1,Ge)))}let kt=(()=>{class u{constructor(l){this.router=l}search(l){this.searchValue=l,this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["programs/search"],{queryParams:{q:l}}))}setValue(l){this.searchValue=l}}return u.\u0275fac=function(l){return new(l||u)(E.Y36(R.F0))},u.\u0275cmp=E.Xpm({type:u,selectors:[["search-bar"]],decls:4,vars:1,consts:[[1,"flex","items-center","mr-2","shadow-lg","justify-between"],["type","text","placeholder","Search",1,"w-full","text-[16px]","flex","justify-center","items-center",3,"keyup.enter","keydown"],["searchbar",""],["class","z-50","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",1,"z-50",3,"click"],[3,"ngStyle"]],template:function(l,h){if(1&l){const v=E.EpF();E.TgZ(0,"div",0)(1,"input",1,2),E.NdJ("keyup.enter",function(){E.CHM(v);const P=E.MAs(2);return E.KtG(h.search(P.value))})("keydown",function(){E.CHM(v);const P=E.MAs(2);return E.KtG(h.setValue(P.value))}),E.qZA(),E.YNc(3,Pe,3,2,"button",3),E.qZA()}2&l&&(E.xp6(3),E.Q6J("ngIf",h.searchValue))},dependencies:[_e.O5,_e.PC,Ke.Hw,gt.RK],styles:["input[_ngcontent-%COMP%]{background-color:transparent;padding:.5em 1em;color:#fff;position:relative}input[_ngcontent-%COMP%]::placeholder{padding-left:.5em}input[_ngcontent-%COMP%]:focus-visible{outline:none}"]}),u})();const Qe=function(){return{color:"white"}};function Ae(u,o){if(1&u){const l=E.EpF();E.ynx(0),E.TgZ(1,"mat-toolbar",1),E.ALo(2,"async"),E.TgZ(3,"div",2)(4,"div",3)(5,"button",4),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.KtG(v.openSidenav())}),E.TgZ(6,"mat-icon",5),E._uU(7,"menu"),E.qZA()(),E.TgZ(8,"button",6)(9,"mat-icon",5),E._uU(10,"home"),E.qZA()()(),E._UZ(11,"search-bar",7),E.TgZ(12,"div",8)(13,"button",9),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.KtG(v.navigate("popular"))}),E._uU(14,"Popular "),E.qZA(),E.TgZ(15,"button",9),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.KtG(v.navigate("now_playing"))}),E._uU(16,"Now Playing "),E.qZA(),E.TgZ(17,"button",9),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.KtG(v.navigate("top_rated"))}),E._uU(18,"Top Rated "),E.qZA(),E.TgZ(19,"button",9),E.NdJ("click",function(){E.CHM(l);const v=E.oxw();return E.KtG(v.navigate("upcoming"))}),E._uU(20,"Upcoming "),E.qZA()()()(),E.BQk()}if(2&u){const l=E.oxw();E.xp6(1),E.ekj("sidenav-active","open"===E.lcZ(2,8,l.$sidenavStatus)),E.xp6(5),E.Q6J("ngStyle",E.DdM(10,Qe)),E.xp6(3),E.Q6J("ngStyle",E.DdM(11,Qe)),E.xp6(4),E.MGl("routerLink","/programs/",l.currentCategory,"/popular/1"),E.xp6(2),E.MGl("routerLink","/programs/",l.currentCategory,"/now_playing/1"),E.xp6(2),E.MGl("routerLink","/programs/",l.currentCategory,"/top_rated/1"),E.xp6(2),E.MGl("routerLink","/programs/",l.currentCategory,"/upcoming/1")}}let qe=(()=>{class u{constructor(l,h,v){this.authService=l,this.sidenavService=h,this.router=v,this.currentUser$=this.authService.currentUser$,this.currentCategory="movies"}ngOnInit(){this.$sidenavStatus=this.sidenavService.$sidenavStatus}openSidenav(){this.sidenavService.openSidenav()}navigate(l){this.currentCategory=this.router.url.includes("tv")?"tv":"movies",this.router.navigate(["/programs",this.currentCategory,l,1])}}return u.\u0275fac=function(l){return new(l||u)(E.Y36(Fe.e),E.Y36(Ue.Z),E.Y36(R.F0))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-header"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"dashboard"],[1,"dashboard-inner"],[1,"dashboard-left"],["matTooltip","Menu","mat-icon-button","",3,"click"],[3,"ngStyle"],["matTooltip","Home","mat-icon-button","","routerLink","/home"],[1,"w-full"],[1,"dashboard-right"],["mat-flat-button","","routerLinkActive","link-active",1,"bg-transparent","text-white",3,"routerLink","click"]],template:function(l,h){1&l&&(E.YNc(0,Ae,21,12,"ng-container",0),E.ALo(1,"async")),2&l&&E.Q6J("ngIf",E.lcZ(1,1,h.currentUser$))},dependencies:[_e.O5,_e.PC,Ke.Hw,Je.gM,gt.lW,gt.RK,tt.Ye,kt,R.rH,R.Od,_e.Ov],styles:[".dashboard[_ngcontent-%COMP%]{min-height:20px;position:fixed;z-index:999;top:0;left:0;right:0;padding-block:1em;align-items:center;background:linear-gradient(to right,#0F2027,#203A43,#0F2027);transition:.4s ease;display:flex;justify-content:center}.dashboard.sidenav-active[_ngcontent-%COMP%]   .dashboard-inner[_ngcontent-%COMP%]{padding-left:10vw;width:90vw}.dashboard[_ngcontent-%COMP%]   app-search-bar[_ngcontent-%COMP%]{width:80%}.dashboard[_ngcontent-%COMP%]   .dashboard-inner[_ngcontent-%COMP%]{display:flex;width:95vw;justify-content:space-between;transition:.4s ease}.dashboard[_ngcontent-%COMP%]   .dashboard-left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1em}.dashboard[_ngcontent-%COMP%]   .dashboard-right[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:auto;gap:1em}.dashboard[_ngcontent-%COMP%]   .dashboard-right[_ngcontent-%COMP%]   button.link-active[_ngcontent-%COMP%]{background-color:#0f2027!important}.dashboard[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{cursor:pointer;margin:0;color:#fff}"]}),u})(),Nt=(()=>{class u{constructor(l,h){this.authService=l,this.sidenavService=h,this.$sidenavStatus=this.sidenavService.$sidenavStatus}ngOnInit(){const l=localStorage.getItem("userToken");l&&(this.authService.setCurrentUser(l),this.authService.getUserInfo())}}return u.\u0275fac=function(l){return new(l||u)(E.Y36(Fe.e),E.Y36(Ue.Z))},u.\u0275cmp=E.Xpm({type:u,selectors:[["app-root"]],decls:6,vars:4,consts:[[1,"app-container"],[1,"content-container"]],template:function(l,h){1&l&&(E.TgZ(0,"div",0),E._UZ(1,"app-sidebar"),E.TgZ(2,"div",1),E.ALo(3,"async"),E._UZ(4,"app-header")(5,"router-outlet"),E.qZA()()),2&l&&(E.xp6(2),E.ekj("sidenav-open","open"===E.lcZ(3,2,h.$sidenavStatus)))},dependencies:[R.lC,We,qe,_e.Ov],styles:[".content-container[_ngcontent-%COMP%]{max-width:95vw;padding:0 0 2em;margin-top:6em;transition:.4s ease;margin-inline:auto}.content-container.sidenav-open[_ngcontent-%COMP%]{padding-left:10vw;max-width:90vw}"]}),u})();var It=T(529),Ye=T(7340);function yn(u){return new E.vHH(3e3,!1)}function he(){return typeof window<"u"&&typeof window.document<"u"}function ve(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ft(u){switch(u.length){case 0:return new Ye.ZN;case 1:return u[0];default:return new Ye.ZE(u)}}function je(u,o,l,h,v=new Map,I=new Map){const P=[],K=[];let de=-1,Ee=null;if(h.forEach(vt=>{const Ot=vt.get("offset"),rn=Ot==de,Dn=rn&&Ee||new Map;vt.forEach((Sn,Yn)=>{let Pi=Yn,Er=Sn;if("offset"!==Yn)switch(Pi=o.normalizePropertyName(Pi,P),Er){case Ye.k1:Er=v.get(Yn);break;case Ye.l3:Er=I.get(Yn);break;default:Er=o.normalizeStyleValue(Yn,Pi,Er,P)}Dn.set(Pi,Er)}),rn||K.push(Dn),Ee=Dn,de=Ot}),P.length)throw function bt(u){return new E.vHH(3502,!1)}();return K}function wt(u,o,l,h){switch(o){case"start":u.onStart(()=>h(l&&xn(l,"start",u)));break;case"done":u.onDone(()=>h(l&&xn(l,"done",u)));break;case"destroy":u.onDestroy(()=>h(l&&xn(l,"destroy",u)))}}function xn(u,o,l){const I=fn(u.element,u.triggerName,u.fromState,u.toState,o||u.phaseName,l.totalTime??u.totalTime,!!l.disabled),P=u._data;return null!=P&&(I._data=P),I}function fn(u,o,l,h,v="",I=0,P){return{element:u,triggerName:o,fromState:l,toState:h,phaseName:v,totalTime:I,disabled:!!P}}function Zn(u,o,l){let h=u.get(o);return h||u.set(o,h=l),h}function Wn(u){const o=u.indexOf(":");return[u.substring(1,o),u.slice(o+1)]}let ni=(u,o)=>!1,Ft=(u,o,l)=>[],Re=null;function H(u){const o=u.parentNode||u.host;return o===Re?null:o}(ve()||typeof Element<"u")&&(he()?(Re=(()=>document.documentElement)(),ni=(u,o)=>{for(;o;){if(o===u)return!0;o=H(o)}return!1}):ni=(u,o)=>u.contains(o),Ft=(u,o,l)=>{if(l)return Array.from(u.querySelectorAll(o));const h=u.querySelector(o);return h?[h]:[]});let Ne=null,$t=!1;const ue=ni,fe=Ft;let le=(()=>{class u{validateStyleProperty(l){return function Jt(u){Ne||(Ne=function ze(){return typeof document<"u"?document.body:null}()||{},$t=!!Ne.style&&"WebkitAppearance"in Ne.style);let o=!0;return Ne.style&&!function ae(u){return"ebkit"==u.substring(1,6)}(u)&&(o=u in Ne.style,!o&&$t&&(o="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Ne.style)),o}(l)}matchesElement(l,h){return!1}containsElement(l,h){return ue(l,h)}getParentElement(l){return H(l)}query(l,h,v){return fe(l,h,v)}computeStyle(l,h,v){return v||""}animate(l,h,v,I,P,K=[],de){return new Ye.ZN(v,I)}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})(),j=(()=>{class u{}return u.NOOP=new le,u})();const J=1e3,pt="ng-enter",Qt="ng-leave",vn="ng-trigger",An=".ng-trigger",vi="ng-animating",ur=".ng-animating";function Wt(u){if("number"==typeof u)return u;const o=u.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:jt(parseFloat(o[1]),o[2])}function jt(u,o){return"s"===o?u*J:u}function wn(u,o,l){return u.hasOwnProperty("duration")?u:function zn(u,o,l){let v,I=0,P="";if("string"==typeof u){const K=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===K)return o.push(yn()),{duration:0,delay:0,easing:""};v=jt(parseFloat(K[1]),K[2]);const de=K[3];null!=de&&(I=jt(parseFloat(de),K[4]));const Ee=K[5];Ee&&(P=Ee)}else v=u;if(!l){let K=!1,de=o.length;v<0&&(o.push(function sn(){return new E.vHH(3100,!1)}()),K=!0),I<0&&(o.push(function En(){return new E.vHH(3101,!1)}()),K=!0),K&&o.splice(de,0,yn())}return{duration:v,delay:I,easing:P}}(u,o,l)}function Jn(u,o={}){return Object.keys(u).forEach(l=>{o[l]=u[l]}),o}function mi(u){const o=new Map;return Object.keys(u).forEach(l=>{o.set(l,u[l])}),o}function ai(u,o=new Map,l){if(l)for(let[h,v]of l)o.set(h,v);for(let[h,v]of u)o.set(h,v);return o}function pr(u,o,l){return l?o+":"+l+";":""}function vr(u){let o="";for(let l=0;l<u.style.length;l++){const h=u.style.item(l);o+=pr(0,h,u.style.getPropertyValue(h))}for(const l in u.style)u.style.hasOwnProperty(l)&&!l.startsWith("_")&&(o+=pr(0,Sr(l),u.style[l]));u.setAttribute("style",o)}function Kr(u,o,l){u.style&&(o.forEach((h,v)=>{const I=Hi(v);l&&!l.has(v)&&l.set(v,u.style[I]),u.style[I]=h}),ve()&&vr(u))}function mr(u,o){u.style&&(o.forEach((l,h)=>{const v=Hi(h);u.style[v]=""}),ve()&&vr(u))}function Yr(u){return Array.isArray(u)?1==u.length?u[0]:(0,Ye.vP)(u):u}const Pn=new RegExp("{{\\s*(.+?)\\s*}}","g");function pi(u){let o=[];if("string"==typeof u){let l;for(;l=Pn.exec(u);)o.push(l[1]);Pn.lastIndex=0}return o}function Zi(u,o,l){const h=u.toString(),v=h.replace(Pn,(I,P)=>{let K=o[P];return null==K&&(l.push(function si(u){return new E.vHH(3003,!1)}()),K=""),K.toString()});return v==h?u:v}function Oi(u){const o=[];let l=u.next();for(;!l.done;)o.push(l.value),l=u.next();return o}const ts=/-+([a-z0-9])/g;function Hi(u){return u.replace(ts,(...o)=>o[1].toUpperCase())}function Sr(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dt(u,o,l){switch(o.type){case 7:return u.visitTrigger(o,l);case 0:return u.visitState(o,l);case 1:return u.visitTransition(o,l);case 2:return u.visitSequence(o,l);case 3:return u.visitGroup(o,l);case 4:return u.visitAnimate(o,l);case 5:return u.visitKeyframes(o,l);case 6:return u.visitStyle(o,l);case 8:return u.visitReference(o,l);case 9:return u.visitAnimateChild(o,l);case 10:return u.visitAnimateRef(o,l);case 11:return u.visitQuery(o,l);case 12:return u.visitStagger(o,l);default:throw function Ut(u){return new E.vHH(3004,!1)}()}}function yt(u,o){return window.getComputedStyle(u)[o]}const Fr="*";function Lr(u,o){const l=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(h=>function wr(u,o,l){if(":"==u[0]){const de=function rr(u,o){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,h)=>parseFloat(h)>parseFloat(l);case":decrement":return(l,h)=>parseFloat(h)<parseFloat(l);default:return o.push(function At(u){return new E.vHH(3016,!1)}()),"* => *"}}(u,l);if("function"==typeof de)return void o.push(de);u=de}const h=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return l.push(function Ze(u){return new E.vHH(3015,!1)}()),o;const v=h[1],I=h[2],P=h[3];o.push(Os(v,P));"<"==I[0]&&!(v==Fr&&P==Fr)&&o.push(Os(P,v))}(h,l,o)):l.push(u),l}const Hr=new Set(["true","1"]),Ms=new Set(["false","0"]);function Os(u,o){const l=Hr.has(u)||Ms.has(u),h=Hr.has(o)||Ms.has(o);return(v,I)=>{let P=u==Fr||u==v,K=o==Fr||o==I;return!P&&l&&"boolean"==typeof v&&(P=v?Hr.has(u):Ms.has(u)),!K&&h&&"boolean"==typeof I&&(K=I?Hr.has(o):Ms.has(o)),P&&K}}const co=new RegExp("s*:selfs*,?","g");function Zs(u,o,l,h){return new Ba(u).build(o,l,h)}class Ba{constructor(o){this._driver=o}build(o,l,h){const v=new Cr(l);return this._resetContextStyleTimingState(v),dt(this,Yr(o),v)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,l){let h=l.queryCount=0,v=l.depCount=0;const I=[],P=[];return"@"==o.name.charAt(0)&&l.errors.push(function Bt(){return new E.vHH(3006,!1)}()),o.definitions.forEach(K=>{if(this._resetContextStyleTimingState(l),0==K.type){const de=K,Ee=de.name;Ee.toString().split(/\s*,\s*/).forEach(vt=>{de.name=vt,I.push(this.visitState(de,l))}),de.name=Ee}else if(1==K.type){const de=this.visitTransition(K,l);h+=de.queryCount,v+=de.depCount,P.push(de)}else l.errors.push(function Vt(){return new E.vHH(3007,!1)}())}),{type:7,name:o.name,states:I,transitions:P,queryCount:h,depCount:v,options:null}}visitState(o,l){const h=this.visitStyle(o.styles,l),v=o.options&&o.options.params||null;if(h.containsDynamicStyles){const I=new Set,P=v||{};h.styles.forEach(K=>{K instanceof Map&&K.forEach(de=>{pi(de).forEach(Ee=>{P.hasOwnProperty(Ee)||I.add(Ee)})})}),I.size&&(Oi(I.values()),l.errors.push(function Tt(u,o){return new E.vHH(3008,!1)}()))}return{type:0,name:o.name,style:h,options:v?{params:v}:null}}visitTransition(o,l){l.queryCount=0,l.depCount=0;const h=dt(this,Yr(o.animation),l);return{type:1,matchers:Lr(o.expr,l.errors),animation:h,queryCount:l.queryCount,depCount:l.depCount,options:gr(o.options)}}visitSequence(o,l){return{type:2,steps:o.steps.map(h=>dt(this,h,l)),options:gr(o.options)}}visitGroup(o,l){const h=l.currentTime;let v=0;const I=o.steps.map(P=>{l.currentTime=h;const K=dt(this,P,l);return v=Math.max(v,l.currentTime),K});return l.currentTime=v,{type:3,steps:I,options:gr(o.options)}}visitAnimate(o,l){const h=function uo(u,o){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return Wi(wn(u,o).duration,0,"");const l=u;if(l.split(/\s+/).some(I=>"{"==I.charAt(0)&&"{"==I.charAt(1))){const I=Wi(0,0,"");return I.dynamic=!0,I.strValue=l,I}const v=wn(l,o);return Wi(v.duration,v.delay,v.easing)}(o.timings,l.errors);l.currentAnimateTimings=h;let v,I=o.styles?o.styles:(0,Ye.oB)({});if(5==I.type)v=this.visitKeyframes(I,l);else{let P=o.styles,K=!1;if(!P){K=!0;const Ee={};h.easing&&(Ee.easing=h.easing),P=(0,Ye.oB)(Ee)}l.currentTime+=h.duration+h.delay;const de=this.visitStyle(P,l);de.isEmptyStep=K,v=de}return l.currentAnimateTimings=null,{type:4,timings:h,style:v,options:null}}visitStyle(o,l){const h=this._makeStyleAst(o,l);return this._validateStyleAst(h,l),h}_makeStyleAst(o,l){const h=[],v=Array.isArray(o.styles)?o.styles:[o.styles];for(let K of v)"string"==typeof K?K===Ye.l3?h.push(K):l.errors.push(new E.vHH(3002,!1)):h.push(mi(K));let I=!1,P=null;return h.forEach(K=>{if(K instanceof Map&&(K.has("easing")&&(P=K.get("easing"),K.delete("easing")),!I))for(let de of K.values())if(de.toString().indexOf("{{")>=0){I=!0;break}}),{type:6,styles:h,easing:P,offset:o.offset,containsDynamicStyles:I,options:null}}_validateStyleAst(o,l){const h=l.currentAnimateTimings;let v=l.currentTime,I=l.currentTime;h&&I>0&&(I-=h.duration+h.delay),o.styles.forEach(P=>{"string"!=typeof P&&P.forEach((K,de)=>{const Ee=l.collectedStyles.get(l.currentQuerySelector),vt=Ee.get(de);let Ot=!0;vt&&(I!=v&&I>=vt.startTime&&v<=vt.endTime&&(l.errors.push(function Be(u,o,l,h,v){return new E.vHH(3010,!1)}()),Ot=!1),I=vt.startTime),Ot&&Ee.set(de,{startTime:I,endTime:v}),l.options&&function qi(u,o,l){const h=o.params||{},v=pi(u);v.length&&v.forEach(I=>{h.hasOwnProperty(I)||l.push(function gn(u){return new E.vHH(3001,!1)}())})}(K,l.options,l.errors)})})}visitKeyframes(o,l){const h={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function ct(){return new E.vHH(3011,!1)}()),h;let I=0;const P=[];let K=!1,de=!1,Ee=0;const vt=o.steps.map(Er=>{const _s=this._makeStyleAst(Er,l);let Io=null!=_s.offset?_s.offset:function vs(u){if("string"==typeof u)return null;let o=null;if(Array.isArray(u))u.forEach(l=>{if(l instanceof Map&&l.has("offset")){const h=l;o=parseFloat(h.get("offset")),h.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const l=u;o=parseFloat(l.get("offset")),l.delete("offset")}return o}(_s.styles),oo=0;return null!=Io&&(I++,oo=_s.offset=Io),de=de||oo<0||oo>1,K=K||oo<Ee,Ee=oo,P.push(oo),_s});de&&l.errors.push(function it(){return new E.vHH(3012,!1)}()),K&&l.errors.push(function He(){return new E.vHH(3200,!1)}());const Ot=o.steps.length;let rn=0;I>0&&I<Ot?l.errors.push(function ht(){return new E.vHH(3202,!1)}()):0==I&&(rn=1/(Ot-1));const Dn=Ot-1,Sn=l.currentTime,Yn=l.currentAnimateTimings,Pi=Yn.duration;return vt.forEach((Er,_s)=>{const Io=rn>0?_s==Dn?1:rn*_s:P[_s],oo=Io*Pi;l.currentTime=Sn+Yn.delay+oo,Yn.duration=oo,this._validateStyleAst(Er,l),Er.offset=Io,h.styles.push(Er)}),h}visitReference(o,l){return{type:8,animation:dt(this,Yr(o.animation),l),options:gr(o.options)}}visitAnimateChild(o,l){return l.depCount++,{type:9,options:gr(o.options)}}visitAnimateRef(o,l){return{type:10,animation:this.visitReference(o.animation,l),options:gr(o.options)}}visitQuery(o,l){const h=l.currentQuerySelector,v=o.options||{};l.queryCount++,l.currentQuery=o;const[I,P]=function zr(u){const o=!!u.split(/\s*,\s*/).find(l=>":self"==l);return o&&(u=u.replace(co,"")),u=u.replace(/@\*/g,An).replace(/@\w+/g,l=>An+"-"+l.slice(1)).replace(/:animating/g,ur),[u,o]}(o.selector);l.currentQuerySelector=h.length?h+" "+I:I,Zn(l.collectedStyles,l.currentQuerySelector,new Map);const K=dt(this,Yr(o.animation),l);return l.currentQuery=null,l.currentQuerySelector=h,{type:11,selector:I,limit:v.limit||0,optional:!!v.optional,includeSelf:P,animation:K,originalSelector:o.selector,options:gr(o.options)}}visitStagger(o,l){l.currentQuery||l.errors.push(function mt(){return new E.vHH(3013,!1)}());const h="full"===o.timings?{duration:0,delay:0,easing:"full"}:wn(o.timings,l.errors,!0);return{type:12,animation:dt(this,Yr(o.animation),l),timings:h,options:null}}}class Cr{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gr(u){return u?(u=Jn(u)).params&&(u.params=function Mr(u){return u?Jn(u):null}(u.params)):u={},u}function Wi(u,o,l){return{duration:u,delay:o,easing:l}}function $r(u,o,l,h,v,I,P=null,K=!1){return{type:1,element:u,keyframes:o,preStyleProps:l,postStyleProps:h,duration:v,delay:I,totalTime:v+I,easing:P,subTimeline:K}}class xo{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,l){let h=this._map.get(o);h||this._map.set(o,h=[]),h.push(...l)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const Ua=new RegExp(":enter","g"),ll=new RegExp(":leave","g");function ea(u,o,l,h,v,I=new Map,P=new Map,K,de,Ee=[]){return(new za).buildKeyframes(u,o,l,h,v,I,P,K,de,Ee)}class za{buildKeyframes(o,l,h,v,I,P,K,de,Ee,vt=[]){Ee=Ee||new xo;const Ot=new ds(o,l,Ee,v,I,vt,[]);Ot.options=de;const rn=de.delay?Wt(de.delay):0;Ot.currentTimeline.delayNextStep(rn),Ot.currentTimeline.setStyles([P],null,Ot.errors,de),dt(this,h,Ot);const Dn=Ot.timelines.filter(Sn=>Sn.containsAnimation());if(Dn.length&&K.size){let Sn;for(let Yn=Dn.length-1;Yn>=0;Yn--){const Pi=Dn[Yn];if(Pi.element===l){Sn=Pi;break}}Sn&&!Sn.allowOnlyTimelineStyles()&&Sn.setStyles([K],null,Ot.errors,de)}return Dn.length?Dn.map(Sn=>Sn.buildKeyframes()):[$r(l,[],[],[],0,rn,"",!1)]}visitTrigger(o,l){}visitState(o,l){}visitTransition(o,l){}visitAnimateChild(o,l){const h=l.subInstructions.get(l.element);if(h){const v=l.createSubContext(o.options),I=l.currentTimeline.currentTime,P=this._visitSubInstructions(h,v,v.options);I!=P&&l.transformIntoNewTimeline(P)}l.previousNode=o}visitAnimateRef(o,l){const h=l.createSubContext(o.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],l,h),this.visitReference(o.animation,h),l.transformIntoNewTimeline(h.currentTimeline.currentTime),l.previousNode=o}_applyAnimationRefDelays(o,l,h){for(const v of o){const I=v?.delay;if(I){const P="number"==typeof I?I:Wt(Zi(I,v?.params??{},l.errors));h.delayNextStep(P)}}}_visitSubInstructions(o,l,h){let I=l.currentTimeline.currentTime;const P=null!=h.duration?Wt(h.duration):null,K=null!=h.delay?Wt(h.delay):null;return 0!==P&&o.forEach(de=>{const Ee=l.appendInstructionToTimeline(de,P,K);I=Math.max(I,Ee.duration+Ee.delay)}),I}visitReference(o,l){l.updateOptions(o.options,!0),dt(this,o.animation,l),l.previousNode=o}visitSequence(o,l){const h=l.subContextCount;let v=l;const I=o.options;if(I&&(I.params||I.delay)&&(v=l.createSubContext(I),v.transformIntoNewTimeline(),null!=I.delay)){6==v.previousNode.type&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=zs);const P=Wt(I.delay);v.delayNextStep(P)}o.steps.length&&(o.steps.forEach(P=>dt(this,P,v)),v.currentTimeline.applyStylesToKeyframe(),v.subContextCount>h&&v.transformIntoNewTimeline()),l.previousNode=o}visitGroup(o,l){const h=[];let v=l.currentTimeline.currentTime;const I=o.options&&o.options.delay?Wt(o.options.delay):0;o.steps.forEach(P=>{const K=l.createSubContext(o.options);I&&K.delayNextStep(I),dt(this,P,K),v=Math.max(v,K.currentTimeline.currentTime),h.push(K.currentTimeline)}),h.forEach(P=>l.currentTimeline.mergeTimelineCollectedStyles(P)),l.transformIntoNewTimeline(v),l.previousNode=o}_visitTiming(o,l){if(o.dynamic){const h=o.strValue;return wn(l.params?Zi(h,l.params,l.errors):h,l.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,l){const h=l.currentAnimateTimings=this._visitTiming(o.timings,l),v=l.currentTimeline;h.delay&&(l.incrementTime(h.delay),v.snapshotCurrentStyles());const I=o.style;5==I.type?this.visitKeyframes(I,l):(l.incrementTime(h.duration),this.visitStyle(I,l),v.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=o}visitStyle(o,l){const h=l.currentTimeline,v=l.currentAnimateTimings;!v&&h.hasCurrentStyleProperties()&&h.forwardFrame();const I=v&&v.easing||o.easing;o.isEmptyStep?h.applyEmptyStep(I):h.setStyles(o.styles,I,l.errors,l.options),l.previousNode=o}visitKeyframes(o,l){const h=l.currentAnimateTimings,v=l.currentTimeline.duration,I=h.duration,K=l.createSubContext().currentTimeline;K.easing=h.easing,o.styles.forEach(de=>{K.forwardTime((de.offset||0)*I),K.setStyles(de.styles,de.easing,l.errors,l.options),K.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(K),l.transformIntoNewTimeline(v+I),l.previousNode=o}visitQuery(o,l){const h=l.currentTimeline.currentTime,v=o.options||{},I=v.delay?Wt(v.delay):0;I&&(6===l.previousNode.type||0==h&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=zs);let P=h;const K=l.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!v.optional,l.errors);l.currentQueryTotal=K.length;let de=null;K.forEach((Ee,vt)=>{l.currentQueryIndex=vt;const Ot=l.createSubContext(o.options,Ee);I&&Ot.delayNextStep(I),Ee===l.element&&(de=Ot.currentTimeline),dt(this,o.animation,Ot),Ot.currentTimeline.applyStylesToKeyframe(),P=Math.max(P,Ot.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(P),de&&(l.currentTimeline.mergeTimelineCollectedStyles(de),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=o}visitStagger(o,l){const h=l.parentContext,v=l.currentTimeline,I=o.timings,P=Math.abs(I.duration),K=P*(l.currentQueryTotal-1);let de=P*l.currentQueryIndex;switch(I.duration<0?"reverse":I.easing){case"reverse":de=K-de;break;case"full":de=h.currentStaggerTime}const vt=l.currentTimeline;de&&vt.delayNextStep(de);const Ot=vt.currentTime;dt(this,o.animation,l),l.previousNode=o,h.currentStaggerTime=v.currentTime-Ot+(v.startTime-h.currentTimeline.startTime)}}const zs={};class ds{constructor(o,l,h,v,I,P,K,de){this._driver=o,this.element=l,this.subInstructions=h,this._enterClassName=v,this._leaveClassName=I,this.errors=P,this.timelines=K,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=de||new ya(this._driver,l,0),K.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,l){if(!o)return;const h=o;let v=this.options;null!=h.duration&&(v.duration=Wt(h.duration)),null!=h.delay&&(v.delay=Wt(h.delay));const I=h.params;if(I){let P=v.params;P||(P=this.options.params={}),Object.keys(I).forEach(K=>{(!l||!P.hasOwnProperty(K))&&(P[K]=Zi(I[K],P,this.errors))})}}_copyOptions(){const o={};if(this.options){const l=this.options.params;if(l){const h=o.params={};Object.keys(l).forEach(v=>{h[v]=l[v]})}}return o}createSubContext(o=null,l,h){const v=l||this.element,I=new ds(this._driver,v,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(v,h||0));return I.previousNode=this.previousNode,I.currentAnimateTimings=this.currentAnimateTimings,I.options=this._copyOptions(),I.updateOptions(o),I.currentQueryIndex=this.currentQueryIndex,I.currentQueryTotal=this.currentQueryTotal,I.parentContext=this,this.subContextCount++,I}transformIntoNewTimeline(o){return this.previousNode=zs,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,l,h){const v={duration:l??o.duration,delay:this.currentTimeline.currentTime+(h??0)+o.delay,easing:""},I=new qs(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,v,o.stretchStartingKeyframe);return this.timelines.push(I),v}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,l,h,v,I,P){let K=[];if(v&&K.push(this.element),o.length>0){o=(o=o.replace(Ua,"."+this._enterClassName)).replace(ll,"."+this._leaveClassName);let Ee=this._driver.query(this.element,o,1!=h);0!==h&&(Ee=h<0?Ee.slice(Ee.length+h,Ee.length):Ee.slice(0,h)),K.push(...Ee)}return!I&&0==K.length&&P.push(function Ht(u){return new E.vHH(3014,!1)}()),K}}class ya{constructor(o,l,h,v){this._driver=o,this.element=l,this.startTime=h,this._elementTimelineStylesLookup=v,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+o),l&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,l){return this.applyStylesToKeyframe(),new ya(this._driver,o,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,l){this._localTimelineStyles.set(o,l),this._globalTimelineStyles.set(o,l),this._styleSummary.set(o,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[l,h]of this._globalTimelineStyles)this._backFill.set(l,h||Ye.l3),this._currentKeyframe.set(l,Ye.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,l,h,v){l&&this._previousKeyframe.set("easing",l);const I=v&&v.params||{},P=function ta(u,o){const l=new Map;let h;return u.forEach(v=>{if("*"===v){h=h||o.keys();for(let I of h)l.set(I,Ye.l3)}else ai(v,l)}),l}(o,this._globalTimelineStyles);for(let[K,de]of P){const Ee=Zi(de,I,h);this._pendingStyles.set(K,Ee),this._localTimelineStyles.has(K)||this._backFill.set(K,this._globalTimelineStyles.get(K)??Ye.l3),this._updateStyle(K,Ee)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,l)=>{this._currentKeyframe.set(l,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,o)}))}snapshotCurrentStyles(){for(let[o,l]of this._localTimelineStyles)this._pendingStyles.set(o,l),this._updateStyle(o,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let l in this._currentKeyframe)o.push(l);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((l,h)=>{const v=this._styleSummary.get(h);(!v||l.time>v.time)&&this._updateStyle(h,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,l=new Set,h=1===this._keyframes.size&&0===this.duration;let v=[];this._keyframes.forEach((K,de)=>{const Ee=ai(K,new Map,this._backFill);Ee.forEach((vt,Ot)=>{vt===Ye.k1?o.add(Ot):vt===Ye.l3&&l.add(Ot)}),h||Ee.set("offset",de/this.duration),v.push(Ee)});const I=o.size?Oi(o.values()):[],P=l.size?Oi(l.values()):[];if(h){const K=v[0],de=new Map(K);K.set("offset",0),de.set("offset",1),v=[K,de]}return $r(this.element,v,I,P,this.duration,this.startTime,this.easing,!1)}}class qs extends ya{constructor(o,l,h,v,I,P,K=!1){super(o,l,P.delay),this.keyframes=h,this.preStyleProps=v,this.postStyleProps=I,this._stretchStartingKeyframe=K,this.timings={duration:P.duration,delay:P.delay,easing:P.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:l,duration:h,easing:v}=this.timings;if(this._stretchStartingKeyframe&&l){const I=[],P=h+l,K=l/P,de=ai(o[0]);de.set("offset",0),I.push(de);const Ee=ai(o[0]);Ee.set("offset",Qs(K)),I.push(Ee);const vt=o.length-1;for(let Ot=1;Ot<=vt;Ot++){let rn=ai(o[Ot]);const Dn=rn.get("offset");rn.set("offset",Qs((l+Dn*h)/P)),I.push(rn)}h=P,l=0,v="",o=I}return $r(this.element,o,this.preStyleProps,this.postStyleProps,h,l,v,!0)}}function Qs(u,o=3){const l=Math.pow(10,o-1);return Math.round(u*l)/l}class ja{}const ho=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class is extends ja{normalizePropertyName(o,l){return Hi(o)}normalizeStyleValue(o,l,h,v){let I="";const P=h.toString().trim();if(ho.has(l)&&0!==h&&"0"!==h)if("number"==typeof h)I="px";else{const K=h.match(/^[+-]?[\d\.]+([a-z]*)$/);K&&0==K[1].length&&v.push(function Dt(u,o){return new E.vHH(3005,!1)}())}return P+I}}function bs(u,o,l,h,v,I,P,K,de,Ee,vt,Ot,rn){return{type:0,element:u,triggerName:o,isRemovalTransition:v,fromState:l,fromStyles:I,toState:h,toStyles:P,timelines:K,queriedElements:de,preStyleProps:Ee,postStyleProps:vt,totalTime:Ot,errors:rn}}const fo={};class va{constructor(o,l,h){this._triggerName=o,this.ast=l,this._stateStyles=h}match(o,l,h,v){return function $a(u,o,l,h,v){return u.some(I=>I(o,l,h,v))}(this.ast.matchers,o,l,h,v)}buildStyles(o,l,h){let v=this._stateStyles.get("*");return void 0!==o&&(v=this._stateStyles.get(o?.toString())||v),v?v.buildStyles(l,h):new Map}build(o,l,h,v,I,P,K,de,Ee,vt){const Ot=[],rn=this.ast.options&&this.ast.options.params||fo,Sn=this.buildStyles(h,K&&K.params||fo,Ot),Yn=de&&de.params||fo,Pi=this.buildStyles(v,Yn,Ot),Er=new Set,_s=new Map,Io=new Map,oo="void"===v,ad={params:po(Yn,rn),delay:this.ast.options?.delay},ga=vt?[]:ea(o,l,this.ast.animation,I,P,Sn,Pi,ad,Ee,Ot);let Bo=0;if(ga.forEach(Qo=>{Bo=Math.max(Qo.duration+Qo.delay,Bo)}),Ot.length)return bs(l,this._triggerName,h,v,oo,Sn,Pi,[],[],_s,Io,Bo,Ot);ga.forEach(Qo=>{const yu=Qo.element,vu=Zn(_s,yu,new Set);Qo.preStyleProps.forEach(ld=>vu.add(ld));const bu=Zn(Io,yu,new Set);Qo.postStyleProps.forEach(ld=>bu.add(ld)),yu!==l&&Er.add(yu)});const Vo=Oi(Er.values());return bs(l,this._triggerName,h,v,oo,Sn,Pi,ga,Vo,_s,Io,Bo)}}function po(u,o){const l=Jn(o);for(const h in u)u.hasOwnProperty(h)&&null!=u[h]&&(l[h]=u[h]);return l}class Wa{constructor(o,l,h){this.styles=o,this.defaultParams=l,this.normalizer=h}buildStyles(o,l){const h=new Map,v=Jn(this.defaultParams);return Object.keys(o).forEach(I=>{const P=o[I];null!==P&&(v[I]=P)}),this.styles.styles.forEach(I=>{"string"!=typeof I&&I.forEach((P,K)=>{P&&(P=Zi(P,v,l));const de=this.normalizer.normalizePropertyName(K,l);P=this.normalizer.normalizeStyleValue(K,de,P,l),h.set(K,P)})}),h}}class bc{constructor(o,l,h){this.name=o,this.ast=l,this._normalizer=h,this.transitionFactories=[],this.states=new Map,l.states.forEach(v=>{this.states.set(v.name,new Wa(v.style,v.options&&v.options.params||{},h))}),Es(this.states,"true","1"),Es(this.states,"false","0"),l.transitions.forEach(v=>{this.transitionFactories.push(new va(o,v,this.states))}),this.fallbackTransition=function mo(u,o,l){return new va(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(P,K)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,l,h,v){return this.transitionFactories.find(P=>P.match(o,l,h,v))||null}matchStyles(o,l,h){return this.fallbackTransition.buildStyles(o,l,h)}}function Es(u,o,l){u.has(o)?u.has(l)||u.set(l,u.get(o)):u.has(l)&&u.set(o,u.get(l))}const dr=new xo;class zo{constructor(o,l,h){this.bodyNode=o,this._driver=l,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,l){const h=[],v=[],I=Zs(this._driver,l,h,v);if(h.length)throw function rt(u){return new E.vHH(3503,!1)}();this._animations.set(o,I)}_buildPlayer(o,l,h){const v=o.element,I=je(0,this._normalizer,0,o.keyframes,l,h);return this._driver.animate(v,I,o.duration,o.delay,o.easing,[],!0)}create(o,l,h={}){const v=[],I=this._animations.get(o);let P;const K=new Map;if(I?(P=ea(this._driver,l,I,pt,Qt,new Map,new Map,h,dr,v),P.forEach(vt=>{const Ot=Zn(K,vt.element,new Map);vt.postStyleProps.forEach(rn=>Ot.set(rn,null))})):(v.push(function Et(){return new E.vHH(3300,!1)}()),P=[]),v.length)throw function Te(u){return new E.vHH(3504,!1)}();K.forEach((vt,Ot)=>{vt.forEach((rn,Dn)=>{vt.set(Dn,this._driver.computeStyle(Ot,Dn,Ye.l3))})});const Ee=ft(P.map(vt=>{const Ot=K.get(vt.element);return this._buildPlayer(vt,new Map,Ot)}));return this._playersById.set(o,Ee),Ee.onDestroy(()=>this.destroy(o)),this.players.push(Ee),Ee}destroy(o){const l=this._getPlayer(o);l.destroy(),this._playersById.delete(o);const h=this.players.indexOf(l);h>=0&&this.players.splice(h,1)}_getPlayer(o){const l=this._playersById.get(o);if(!l)throw function ne(u){return new E.vHH(3301,!1)}();return l}listen(o,l,h,v){const I=fn(l,"","","");return wt(this._getPlayer(o),h,I,v),()=>{}}command(o,l,h,v){if("register"==h)return void this.register(o,v[0]);if("create"==h)return void this.create(o,l,v[0]||{});const I=this._getPlayer(o);switch(h){case"play":I.play();break;case"pause":I.pause();break;case"reset":I.reset();break;case"restart":I.restart();break;case"finish":I.finish();break;case"init":I.init();break;case"setPosition":I.setPosition(parseFloat(v[0]));break;case"destroy":this.destroy(o)}}}const jo="ng-animate-queued",yr="ng-animate-disabled",Ka=[],Wr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rs="__ng_removed";class Rs{get params(){return this.options.params}constructor(o,l=""){this.namespaceId=l;const h=o&&o.hasOwnProperty("value");if(this.value=function q(u){return u??null}(h?o.value:o),h){const I=Jn(o);delete I.value,this.options=I}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){const l=o.params;if(l){const h=this.options.params;Object.keys(l).forEach(v=>{null==h[v]&&(h[v]=l[v])})}}}const Ps="void",Zr=new Rs(Ps);class Ea{constructor(o,l,h){this.id=o,this.hostElement=l,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,sr(l,this._hostClassName)}listen(o,l,h,v){if(!this._triggers.has(l))throw function Oe(u,o){return new E.vHH(3302,!1)}();if(null==h||0==h.length)throw function ut(u){return new E.vHH(3303,!1)}();if(!function V(u){return"start"==u||"done"==u}(h))throw function Pt(u,o){return new E.vHH(3400,!1)}();const I=Zn(this._elementListeners,o,[]),P={name:l,phase:h,callback:v};I.push(P);const K=Zn(this._engine.statesByElement,o,new Map);return K.has(l)||(sr(o,vn),sr(o,vn+"-"+l),K.set(l,Zr)),()=>{this._engine.afterFlush(()=>{const de=I.indexOf(P);de>=0&&I.splice(de,1),this._triggers.has(l)||K.delete(l)})}}register(o,l){return!this._triggers.has(o)&&(this._triggers.set(o,l),!0)}_getTrigger(o){const l=this._triggers.get(o);if(!l)throw function zt(u){return new E.vHH(3401,!1)}();return l}trigger(o,l,h,v=!0){const I=this._getTrigger(l),P=new li(this.id,l,o);let K=this._engine.statesByElement.get(o);K||(sr(o,vn),sr(o,vn+"-"+l),this._engine.statesByElement.set(o,K=new Map));let de=K.get(l);const Ee=new Rs(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&de&&Ee.absorbOptions(de.options),K.set(l,Ee),de||(de=Zr),Ee.value!==Ps&&de.value===Ee.value){if(!function Ur(u,o){const l=Object.keys(u),h=Object.keys(o);if(l.length!=h.length)return!1;for(let v=0;v<l.length;v++){const I=l[v];if(!o.hasOwnProperty(I)||u[I]!==o[I])return!1}return!0}(de.params,Ee.params)){const Yn=[],Pi=I.matchStyles(de.value,de.params,Yn),Er=I.matchStyles(Ee.value,Ee.params,Yn);Yn.length?this._engine.reportError(Yn):this._engine.afterFlush(()=>{mr(o,Pi),Kr(o,Er)})}return}const rn=Zn(this._engine.playersByElement,o,[]);rn.forEach(Yn=>{Yn.namespaceId==this.id&&Yn.triggerName==l&&Yn.queued&&Yn.destroy()});let Dn=I.matchTransition(de.value,Ee.value,o,Ee.params),Sn=!1;if(!Dn){if(!v)return;Dn=I.fallbackTransition,Sn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:l,transition:Dn,fromState:de,toState:Ee,player:P,isFallbackTransition:Sn}),Sn||(sr(o,jo),P.onStart(()=>{en(o,jo)})),P.onDone(()=>{let Yn=this.players.indexOf(P);Yn>=0&&this.players.splice(Yn,1);const Pi=this._engine.playersByElement.get(o);if(Pi){let Er=Pi.indexOf(P);Er>=0&&Pi.splice(Er,1)}}),this.players.push(P),rn.push(P),P}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(l=>l.delete(o)),this._elementListeners.forEach((l,h)=>{this._elementListeners.set(h,l.filter(v=>v.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const l=this._engine.playersByElement.get(o);l&&(l.forEach(h=>h.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,l){const h=this._engine.driver.query(o,An,!0);h.forEach(v=>{if(v[rs])return;const I=this._engine.fetchNamespacesByElement(v);I.size?I.forEach(P=>P.triggerLeaveAnimation(v,l,!1,!0)):this.clearElementCache(v)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(v=>this.clearElementCache(v)))}triggerLeaveAnimation(o,l,h,v){const I=this._engine.statesByElement.get(o),P=new Map;if(I){const K=[];if(I.forEach((de,Ee)=>{if(P.set(Ee,de.value),this._triggers.has(Ee)){const vt=this.trigger(o,Ee,Ps,v);vt&&K.push(vt)}}),K.length)return this._engine.markElementAsRemoved(this.id,o,!0,l,P),h&&ft(K).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const l=this._elementListeners.get(o),h=this._engine.statesByElement.get(o);if(l&&h){const v=new Set;l.forEach(I=>{const P=I.name;if(v.has(P))return;v.add(P);const de=this._triggers.get(P).fallbackTransition,Ee=h.get(P)||Zr,vt=new Rs(Ps),Ot=new li(this.id,P,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:P,transition:de,fromState:Ee,toState:vt,player:Ot,isFallbackTransition:!0})})}}removeNode(o,l){const h=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,l),this.triggerLeaveAnimation(o,l,!0))return;let v=!1;if(h.totalAnimations){const I=h.players.length?h.playersByQueriedElement.get(o):[];if(I&&I.length)v=!0;else{let P=o;for(;P=P.parentNode;)if(h.statesByElement.get(P)){v=!0;break}}}if(this.prepareLeaveAnimationListeners(o),v)h.markElementAsRemoved(this.id,o,!1,l);else{const I=o[rs];(!I||I===Wr)&&(h.afterFlush(()=>this.clearElementCache(o)),h.destroyInnerAnimations(o),h._onRemovalComplete(o,l))}}insertNode(o,l){sr(o,this._hostClassName)}drainQueuedTransitions(o){const l=[];return this._queue.forEach(h=>{const v=h.player;if(v.destroyed)return;const I=h.element,P=this._elementListeners.get(I);P&&P.forEach(K=>{if(K.name==h.triggerName){const de=fn(I,h.triggerName,h.fromState.value,h.toState.value);de._data=o,wt(h.player,K.phase,de,K.callback)}}),v.markedForDestroy?this._engine.afterFlush(()=>{v.destroy()}):l.push(h)}),this._queue=[],l.sort((h,v)=>{const I=h.transition.ast.depCount,P=v.transition.ast.depCount;return 0==I||0==P?I-P:this._engine.driver.containsElement(h.element,v.element)?1:-1})}destroy(o){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}elementContainsData(o){let l=!1;return this._elementListeners.has(o)&&(l=!0),l=!!this._queue.find(h=>h.element===o)||l,l}}class ws{_onRemovalComplete(o,l){this.onRemovalComplete(o,l)}constructor(o,l,h){this.bodyNode=o,this.driver=l,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(v,I)=>{}}get queuedPlayers(){const o=[];return this._namespaceList.forEach(l=>{l.players.forEach(h=>{h.queued&&o.push(h)})}),o}createNamespace(o,l){const h=new Ea(o,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(h,l):(this.newHostElements.set(l,h),this.collectEnterElement(l)),this._namespaceLookup[o]=h}_balanceNamespaceList(o,l){const h=this._namespaceList,v=this.namespacesByHostElement;if(h.length-1>=0){let P=!1,K=this.driver.getParentElement(l);for(;K;){const de=v.get(K);if(de){const Ee=h.indexOf(de);h.splice(Ee+1,0,o),P=!0;break}K=this.driver.getParentElement(K)}P||h.unshift(o)}else h.push(o);return v.set(l,o),o}register(o,l){let h=this._namespaceLookup[o];return h||(h=this.createNamespace(o,l)),h}registerTrigger(o,l,h){let v=this._namespaceLookup[o];v&&v.register(l,h)&&this.totalAnimations++}destroy(o,l){if(!o)return;const h=this._fetchNamespace(o);this.afterFlush(()=>{this.namespacesByHostElement.delete(h.hostElement),delete this._namespaceLookup[o];const v=this._namespaceList.indexOf(h);v>=0&&this._namespaceList.splice(v,1)}),this.afterFlushAnimationsDone(()=>h.destroy(l))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const l=new Set,h=this.statesByElement.get(o);if(h)for(let v of h.values())if(v.namespaceId){const I=this._fetchNamespace(v.namespaceId);I&&l.add(I)}return l}trigger(o,l,h,v){if($(l)){const I=this._fetchNamespace(o);if(I)return I.trigger(l,h,v),!0}return!1}insertNode(o,l,h,v){if(!$(l))return;const I=l[rs];if(I&&I.setForRemoval){I.setForRemoval=!1,I.setForMove=!0;const P=this.collectedLeaveElements.indexOf(l);P>=0&&this.collectedLeaveElements.splice(P,1)}if(o){const P=this._fetchNamespace(o);P&&P.insertNode(l,h)}v&&this.collectEnterElement(l)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,l){l?this.disabledNodes.has(o)||(this.disabledNodes.add(o),sr(o,yr)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),en(o,yr))}removeNode(o,l,h,v){if($(l)){const I=o?this._fetchNamespace(o):null;if(I?I.removeNode(l,v):this.markElementAsRemoved(o,l,!1,v),h){const P=this.namespacesByHostElement.get(l);P&&P.id!==o&&P.removeNode(l,v)}}else this._onRemovalComplete(l,v)}markElementAsRemoved(o,l,h,v,I){this.collectedLeaveElements.push(l),l[rs]={namespaceId:o,setForRemoval:v,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:I}}listen(o,l,h,v,I){return $(l)?this._fetchNamespace(o).listen(l,h,v,I):()=>{}}_buildInstruction(o,l,h,v,I){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,h,v,o.fromState.options,o.toState.options,l,I)}destroyInnerAnimations(o){let l=this.driver.query(o,An,!0);l.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(o,ur,!0),l.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(o){const l=this.playersByElement.get(o);l&&l.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(o){const l=this.playersByQueriedElement.get(o);l&&l.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return ft(this.players).onDone(()=>o());o()})}processLeaveNode(o){const l=o[rs];if(l&&l.setForRemoval){if(o[rs]=Wr,l.namespaceId){this.destroyInnerAnimations(o);const h=this._fetchNamespace(l.namespaceId);h&&h.clearElementCache(o)}this._onRemovalComplete(o,l.setForRemoval)}o.classList?.contains(yr)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(o=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,v)=>this._balanceNamespaceList(h,v)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)sr(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{l=this._flushAnimations(h,o)}finally{for(let v=0;v<h.length;v++)h[v]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],l.length?ft(l).onDone(()=>{h.forEach(v=>v())}):h.forEach(v=>v())}}reportError(o){throw function _t(u){return new E.vHH(3402,!1)}()}_flushAnimations(o,l){const h=new xo,v=[],I=new Map,P=[],K=new Map,de=new Map,Ee=new Map,vt=new Set;this.disabledNodes.forEach(ci=>{vt.add(ci);const gi=this.driver.query(ci,".ng-animate-queued",!0);for(let Mi=0;Mi<gi.length;Mi++)vt.add(gi[Mi])});const Ot=this.bodyNode,rn=Array.from(this.statesByElement.keys()),Dn=Gn(rn,this.collectedEnterElements),Sn=new Map;let Yn=0;Dn.forEach((ci,gi)=>{const Mi=pt+Yn++;Sn.set(gi,Mi),ci.forEach(ar=>sr(ar,Mi))});const Pi=[],Er=new Set,_s=new Set;for(let ci=0;ci<this.collectedLeaveElements.length;ci++){const gi=this.collectedLeaveElements[ci],Mi=gi[rs];Mi&&Mi.setForRemoval&&(Pi.push(gi),Er.add(gi),Mi.hasAnimation?this.driver.query(gi,".ng-star-inserted",!0).forEach(ar=>Er.add(ar)):_s.add(gi))}const Io=new Map,oo=Gn(rn,Array.from(Er));oo.forEach((ci,gi)=>{const Mi=Qt+Yn++;Io.set(gi,Mi),ci.forEach(ar=>sr(ar,Mi))}),o.push(()=>{Dn.forEach((ci,gi)=>{const Mi=Sn.get(gi);ci.forEach(ar=>en(ar,Mi))}),oo.forEach((ci,gi)=>{const Mi=Io.get(gi);ci.forEach(ar=>en(ar,Mi))}),Pi.forEach(ci=>{this.processLeaveNode(ci)})});const ad=[],ga=[];for(let ci=this._namespaceList.length-1;ci>=0;ci--)this._namespaceList[ci].drainQueuedTransitions(l).forEach(Mi=>{const ar=Mi.player,Ks=Mi.element;if(ad.push(ar),this.collectedEnterElements.length){const Uo=Ks[rs];if(Uo&&Uo.setForMove){if(Uo.previousTriggersValues&&Uo.previousTriggersValues.has(Mi.triggerName)){const Eu=Uo.previousTriggersValues.get(Mi.triggerName),Sl=this.statesByElement.get(Mi.element);if(Sl&&Sl.has(Mi.triggerName)){const Hc=Sl.get(Mi.triggerName);Hc.value=Eu,Sl.set(Mi.triggerName,Hc)}}return void ar.destroy()}}const ol=!Ot||!this.driver.containsElement(Ot,Ks),al=Io.get(Ks),jc=Sn.get(Ks),As=this._buildInstruction(Mi,h,jc,al,ol);if(As.errors&&As.errors.length)return void ga.push(As);if(ol)return ar.onStart(()=>mr(Ks,As.fromStyles)),ar.onDestroy(()=>Kr(Ks,As.toStyles)),void v.push(ar);if(Mi.isFallbackTransition)return ar.onStart(()=>mr(Ks,As.fromStyles)),ar.onDestroy(()=>Kr(Ks,As.toStyles)),void v.push(ar);const t_=[];As.timelines.forEach(Uo=>{Uo.stretchStartingKeyframe=!0,this.disabledNodes.has(Uo.element)||t_.push(Uo)}),As.timelines=t_,h.append(Ks,As.timelines),P.push({instruction:As,player:ar,element:Ks}),As.queriedElements.forEach(Uo=>Zn(K,Uo,[]).push(ar)),As.preStyleProps.forEach((Uo,Eu)=>{if(Uo.size){let Sl=de.get(Eu);Sl||de.set(Eu,Sl=new Set),Uo.forEach((Hc,Hp)=>Sl.add(Hp))}}),As.postStyleProps.forEach((Uo,Eu)=>{let Sl=Ee.get(Eu);Sl||Ee.set(Eu,Sl=new Set),Uo.forEach((Hc,Hp)=>Sl.add(Hp))})});if(ga.length){const ci=[];ga.forEach(gi=>{ci.push(function Me(u,o){return new E.vHH(3505,!1)}())}),ad.forEach(gi=>gi.destroy()),this.reportError(ci)}const Bo=new Map,Vo=new Map;P.forEach(ci=>{const gi=ci.element;h.has(gi)&&(Vo.set(gi,gi),this._beforeAnimationBuild(ci.player.namespaceId,ci.instruction,Bo))}),v.forEach(ci=>{const gi=ci.element;this._getPreviousPlayers(gi,!1,ci.namespaceId,ci.triggerName,null).forEach(ar=>{Zn(Bo,gi,[]).push(ar),ar.destroy()})});const Qo=Pi.filter(ci=>Tl(ci,de,Ee)),yu=new Map;tn(yu,this.driver,_s,Ee,Ye.l3).forEach(ci=>{Tl(ci,de,Ee)&&Qo.push(ci)});const bu=new Map;Dn.forEach((ci,gi)=>{tn(bu,this.driver,new Set(ci),de,Ye.k1)}),Qo.forEach(ci=>{const gi=yu.get(ci),Mi=bu.get(ci);yu.set(ci,new Map([...Array.from(gi?.entries()??[]),...Array.from(Mi?.entries()??[])]))});const ld=[],Wm=[],jp={};P.forEach(ci=>{const{element:gi,player:Mi,instruction:ar}=ci;if(h.has(gi)){if(vt.has(gi))return Mi.onDestroy(()=>Kr(gi,ar.toStyles)),Mi.disabled=!0,Mi.overrideTotalTime(ar.totalTime),void v.push(Mi);let Ks=jp;if(Vo.size>1){let al=gi;const jc=[];for(;al=al.parentNode;){const As=Vo.get(al);if(As){Ks=As;break}jc.push(al)}jc.forEach(As=>Vo.set(As,Ks))}const ol=this._buildAnimation(Mi.namespaceId,ar,Bo,I,bu,yu);if(Mi.setRealPlayer(ol),Ks===jp)ld.push(Mi);else{const al=this.playersByElement.get(Ks);al&&al.length&&(Mi.parentPlayer=ft(al)),v.push(Mi)}}else mr(gi,ar.fromStyles),Mi.onDestroy(()=>Kr(gi,ar.toStyles)),Wm.push(Mi),vt.has(gi)&&v.push(Mi)}),Wm.forEach(ci=>{const gi=I.get(ci.element);if(gi&&gi.length){const Mi=ft(gi);ci.setRealPlayer(Mi)}}),v.forEach(ci=>{ci.parentPlayer?ci.syncPlayerEvents(ci.parentPlayer):ci.destroy()});for(let ci=0;ci<Pi.length;ci++){const gi=Pi[ci],Mi=gi[rs];if(en(gi,Qt),Mi&&Mi.hasAnimation)continue;let ar=[];if(K.size){let ol=K.get(gi);ol&&ol.length&&ar.push(...ol);let al=this.driver.query(gi,ur,!0);for(let jc=0;jc<al.length;jc++){let As=K.get(al[jc]);As&&As.length&&ar.push(...As)}}const Ks=ar.filter(ol=>!ol.destroyed);Ks.length?hi(this,gi,Ks):this.processLeaveNode(gi)}return Pi.length=0,ld.forEach(ci=>{this.players.push(ci),ci.onDone(()=>{ci.destroy();const gi=this.players.indexOf(ci);this.players.splice(gi,1)}),ci.play()}),ld}elementContainsData(o,l){let h=!1;const v=l[rs];return v&&v.setForRemoval&&(h=!0),this.playersByElement.has(l)&&(h=!0),this.playersByQueriedElement.has(l)&&(h=!0),this.statesByElement.has(l)&&(h=!0),this._fetchNamespace(o).elementContainsData(l)||h}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,l,h,v,I){let P=[];if(l){const K=this.playersByQueriedElement.get(o);K&&(P=K)}else{const K=this.playersByElement.get(o);if(K){const de=!I||I==Ps;K.forEach(Ee=>{Ee.queued||!de&&Ee.triggerName!=v||P.push(Ee)})}}return(h||v)&&(P=P.filter(K=>!(h&&h!=K.namespaceId||v&&v!=K.triggerName))),P}_beforeAnimationBuild(o,l,h){const I=l.element,P=l.isRemovalTransition?void 0:o,K=l.isRemovalTransition?void 0:l.triggerName;for(const de of l.timelines){const Ee=de.element,vt=Ee!==I,Ot=Zn(h,Ee,[]);this._getPreviousPlayers(Ee,vt,P,K,l.toState).forEach(Dn=>{const Sn=Dn.getRealPlayer();Sn.beforeDestroy&&Sn.beforeDestroy(),Dn.destroy(),Ot.push(Dn)})}mr(I,l.fromStyles)}_buildAnimation(o,l,h,v,I,P){const K=l.triggerName,de=l.element,Ee=[],vt=new Set,Ot=new Set,rn=l.timelines.map(Sn=>{const Yn=Sn.element;vt.add(Yn);const Pi=Yn[rs];if(Pi&&Pi.removedBeforeQueried)return new Ye.ZN(Sn.duration,Sn.delay);const Er=Yn!==de,_s=function go(u){const o=[];return Ss(u,o),o}((h.get(Yn)||Ka).map(Bo=>Bo.getRealPlayer())).filter(Bo=>!!Bo.element&&Bo.element===Yn),Io=I.get(Yn),oo=P.get(Yn),ad=je(0,this._normalizer,0,Sn.keyframes,Io,oo),ga=this._buildPlayer(Sn,ad,_s);if(Sn.subTimeline&&v&&Ot.add(Yn),Er){const Bo=new li(o,K,Yn);Bo.setRealPlayer(ga),Ee.push(Bo)}return ga});Ee.forEach(Sn=>{Zn(this.playersByQueriedElement,Sn.element,[]).push(Sn),Sn.onDone(()=>function To(u,o,l){let h=u.get(o);if(h){if(h.length){const v=h.indexOf(l);h.splice(v,1)}0==h.length&&u.delete(o)}return h}(this.playersByQueriedElement,Sn.element,Sn))}),vt.forEach(Sn=>sr(Sn,vi));const Dn=ft(rn);return Dn.onDestroy(()=>{vt.forEach(Sn=>en(Sn,vi)),Kr(de,l.toStyles)}),Ot.forEach(Sn=>{Zn(v,Sn,[]).push(Dn)}),Dn}_buildPlayer(o,l,h){return l.length>0?this.driver.animate(o.element,l,o.duration,o.delay,o.easing,h):new Ye.ZN(o.duration,o.delay)}}class li{constructor(o,l,h){this.namespaceId=o,this.triggerName=l,this.element=h,this._player=new Ye.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((l,h)=>{l.forEach(v=>wt(o,h,void 0,v))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const l=this._player;l.triggerCallback&&o.onStart(()=>l.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,l){Zn(this._queuedCallbacks,o,[]).push(l)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const l=this._player;l.triggerCallback&&l.triggerCallback(o)}}function $(u){return u&&1===u.nodeType}function we(u,o){const l=u.style.display;return u.style.display=o??"none",l}function tn(u,o,l,h,v){const I=[];l.forEach(de=>I.push(we(de)));const P=[];h.forEach((de,Ee)=>{const vt=new Map;de.forEach(Ot=>{const rn=o.computeStyle(Ee,Ot,v);vt.set(Ot,rn),(!rn||0==rn.length)&&(Ee[rs]=Vr,P.push(Ee))}),u.set(Ee,vt)});let K=0;return l.forEach(de=>we(de,I[K++])),P}function Gn(u,o){const l=new Map;if(u.forEach(K=>l.set(K,[])),0==o.length)return l;const h=1,v=new Set(o),I=new Map;function P(K){if(!K)return h;let de=I.get(K);if(de)return de;const Ee=K.parentNode;return de=l.has(Ee)?Ee:v.has(Ee)?h:P(Ee),I.set(K,de),de}return o.forEach(K=>{const de=P(K);de!==h&&l.get(de).push(K)}),l}function sr(u,o){u.classList?.add(o)}function en(u,o){u.classList?.remove(o)}function hi(u,o,l){ft(l).onDone(()=>u.processLeaveNode(o))}function Ss(u,o){for(let l=0;l<u.length;l++){const h=u[l];h instanceof Ye.ZE?Ss(h.players,o):o.push(h)}}function Tl(u,o,l){const h=l.get(u);if(!h)return!1;let v=o.get(u);return v?h.forEach(I=>v.add(I)):o.set(u,h),l.delete(u),!0}class _o{constructor(o,l,h){this.bodyNode=o,this._driver=l,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(v,I)=>{},this._transitionEngine=new ws(o,l,h),this._timelineEngine=new zo(o,l,h),this._transitionEngine.onRemovalComplete=(v,I)=>this.onRemovalComplete(v,I)}registerTrigger(o,l,h,v,I){const P=o+"-"+v;let K=this._triggerCache[P];if(!K){const de=[],Ee=[],vt=Zs(this._driver,I,de,Ee);if(de.length)throw function qn(u,o){return new E.vHH(3404,!1)}();K=function Ga(u,o,l){return new bc(u,o,l)}(v,vt,this._normalizer),this._triggerCache[P]=K}this._transitionEngine.registerTrigger(l,v,K)}register(o,l){this._transitionEngine.register(o,l)}destroy(o,l){this._transitionEngine.destroy(o,l)}onInsert(o,l,h,v){this._transitionEngine.insertNode(o,l,h,v)}onRemove(o,l,h,v){this._transitionEngine.removeNode(o,l,v||!1,h)}disableAnimations(o,l){this._transitionEngine.markElementAsDisabled(o,l)}process(o,l,h,v){if("@"==h.charAt(0)){const[I,P]=Wn(h);this._timelineEngine.command(I,l,P,v)}else this._transitionEngine.trigger(o,l,h,v)}listen(o,l,h,v,I){if("@"==h.charAt(0)){const[P,K]=Wn(h);return this._timelineEngine.listen(P,l,K,I)}return this._transitionEngine.listen(o,l,h,v,I)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cl=(()=>{class u{constructor(l,h,v){this._element=l,this._startStyles=h,this._endStyles=v,this._state=0;let I=u.initialStylesByElement.get(l);I||u.initialStylesByElement.set(l,I=new Map),this._initialStyles=I}start(){this._state<1&&(this._startStyles&&Kr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kr(this._element,this._initialStyles),this._endStyles&&(Kr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(mr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mr(this._element,this._endStyles),this._endStyles=null),Kr(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function wa(u){let o=null;return u.forEach((l,h)=>{(function Jl(u){return"display"===u||"position"===u})(h)&&(o=o||new Map,o.set(h,l))}),o}class Ao{constructor(o,l,h,v){this.element=o,this.keyframes=l,this.options=h,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const l=[];return o.forEach(h=>{l.push(Object.fromEntries(h))}),l}_triggerWebAnimation(o,l,h){return o.animate(this._convertKeyframesToObject(l),h)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,v)=>{"offset"!==v&&o.set(v,this._finished?h:yt(this.element,v))}),this.currentSnapshot=o}triggerCallback(o){const l="start"===o?this._onStartFns:this._onDoneFns;l.forEach(h=>h()),l.length=0}}class Xs{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,l){return!1}containsElement(o,l){return ue(o,l)}getParentElement(o){return H(o)}query(o,l,h){return fe(o,l,h)}computeStyle(o,l,h){return window.getComputedStyle(o)[l]}animate(o,l,h,v,I,P=[]){const de={duration:h,delay:v,fill:0==v?"both":"forwards"};I&&(de.easing=I);const Ee=new Map,vt=P.filter(Dn=>Dn instanceof Ao);(function $i(u,o){return 0===u||0===o})(h,v)&&vt.forEach(Dn=>{Dn.currentSnapshot.forEach((Sn,Yn)=>Ee.set(Yn,Sn))});let Ot=function $n(u){return u.length?u[0]instanceof Map?u:u.map(o=>mi(o)):[]}(l).map(Dn=>ai(Dn));Ot=function Ct(u,o,l){if(l.size&&o.length){let h=o[0],v=[];if(l.forEach((I,P)=>{h.has(P)||v.push(P),h.set(P,I)}),v.length)for(let I=1;I<o.length;I++){let P=o[I];v.forEach(K=>P.set(K,yt(u,K)))}}return o}(o,Ot,Ee);const rn=function ks(u,o){let l=null,h=null;return Array.isArray(o)&&o.length?(l=wa(o[0]),o.length>1&&(h=wa(o[o.length-1]))):o instanceof Map&&(l=wa(o)),l||h?new cl(u,l,h):null}(o,Ot);return new Ao(o,Ot,de,rn)}}let qr=(()=>{class u extends Ye._j{constructor(l,h){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(h.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(l){const h=this._nextAnimationId.toString();this._nextAnimationId++;const v=Array.isArray(l)?(0,Ye.vP)(l):l;return Js(this._renderer,null,h,"register",[v]),new Ts(h,this._renderer)}}return u.\u0275fac=function(l){return new(l||u)(E.LFG(E.FYo),E.LFG(_e.K0))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})();class Ts extends Ye.LC{constructor(o,l){super(),this._id=o,this._renderer=l}create(o,l){return new yo(this._id,o,l||{},this._renderer)}}class yo{constructor(o,l,h,v){this.id=o,this.element=l,this._renderer=v,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(o,l){return this._renderer.listen(this.element,`@@${this.id}:${o}`,l)}_command(o,...l){return Js(this._renderer,this.element,this.id,o,l)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Js(u,o,l,h,v){return u.setProperty(o,`@@${l}:${h}`,v)}const os="@.disabled";let na=(()=>{class u{constructor(l,h,v){this.delegate=l,this.engine=h,this._zone=v,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),h.onRemovalComplete=(I,P)=>{const K=P?.parentNode(I);K&&P.removeChild(K,I)}}createRenderer(l,h){const I=this.delegate.createRenderer(l,h);if(!(l&&h&&h.data&&h.data.animation)){let vt=this._rendererCache.get(I);return vt||(vt=new Al("",I,this.engine,()=>this._rendererCache.delete(I)),this._rendererCache.set(I,vt)),vt}const P=h.id,K=h.id+"-"+this._currentId;this._currentId++,this.engine.register(K,l);const de=vt=>{Array.isArray(vt)?vt.forEach(de):this.engine.registerTrigger(P,K,l,vt.name,vt)};return h.data.animation.forEach(de),new ul(this,K,I,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(l,h,v){l>=0&&l<this._microtaskId?this._zone.run(()=>h(v)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(I=>{const[P,K]=I;P(K)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,v]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(l){return new(l||u)(E.LFG(E.FYo),E.LFG(_o),E.LFG(E.R0b))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})();class Al{constructor(o,l,h,v){this.namespaceId=o,this.delegate=l,this.engine=h,this._onDestroy=v,this.destroyNode=this.delegate.destroyNode?I=>l.destroyNode(I):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(o,l){return this.delegate.createElement(o,l)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,l){this.delegate.appendChild(o,l),this.engine.onInsert(this.namespaceId,l,o,!1)}insertBefore(o,l,h,v=!0){this.delegate.insertBefore(o,l,h),this.engine.onInsert(this.namespaceId,l,o,v)}removeChild(o,l,h){this.engine.onRemove(this.namespaceId,l,this.delegate,h)}selectRootElement(o,l){return this.delegate.selectRootElement(o,l)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,l,h,v){this.delegate.setAttribute(o,l,h,v)}removeAttribute(o,l,h){this.delegate.removeAttribute(o,l,h)}addClass(o,l){this.delegate.addClass(o,l)}removeClass(o,l){this.delegate.removeClass(o,l)}setStyle(o,l,h,v){this.delegate.setStyle(o,l,h,v)}removeStyle(o,l,h){this.delegate.removeStyle(o,l,h)}setProperty(o,l,h){"@"==l.charAt(0)&&l==os?this.disableAnimations(o,!!h):this.delegate.setProperty(o,l,h)}setValue(o,l){this.delegate.setValue(o,l)}listen(o,l,h){return this.delegate.listen(o,l,h)}disableAnimations(o,l){this.engine.disableAnimations(o,l)}}class ul extends Al{constructor(o,l,h,v,I){super(l,h,v,I),this.factory=o,this.namespaceId=l}setProperty(o,l,h){"@"==l.charAt(0)?"."==l.charAt(1)&&l==os?this.disableAnimations(o,h=void 0===h||!!h):this.engine.process(this.namespaceId,o,l.slice(1),h):this.delegate.setProperty(o,l,h)}listen(o,l,h){if("@"==l.charAt(0)){const v=function jr(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(o);let I=l.slice(1),P="";return"@"!=I.charAt(0)&&([I,P]=function hs(u){const o=u.indexOf(".");return[u.substring(0,o),u.slice(o+1)]}(I)),this.engine.listen(this.namespaceId,v,I,P,K=>{this.factory.scheduleListenerCallback(K._data||-1,h,K)})}return this.delegate.listen(o,l,h)}}const ra=[{provide:Ye._j,useClass:qr},{provide:ja,useFactory:function or(){return new is}},{provide:_o,useClass:(()=>{class u extends _o{constructor(l,h,v,I){super(l.body,h,v)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(l){return new(l||u)(E.LFG(_e.K0),E.LFG(j),E.LFG(ja),E.LFG(E.z2F))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:E.FYo,useFactory:function Ca(u,o,l){return new na(u,o,l)},deps:[f.se,_o,E.R0b]}],as=[{provide:j,useFactory:()=>new Xs},{provide:E.QbO,useValue:"BrowserAnimations"},...ra],$o=[{provide:j,useClass:le},{provide:E.QbO,useValue:"NoopAnimations"},...ra];let sa=(()=>{class u{static withConfig(l){return{ngModule:u,providers:l.disableAnimations?$o:as}}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({providers:as,imports:[f.b2]}),u})();var Cs=T(4976),fs=T(3692),Qi=T(259),Lt=(T(1389),T(2090)),to=T(6881),Mo=T(1877),hl=T(4859);class wc{constructor(){return(0,Cs.vb)("auth")}}var Yt=T(2313),ic=T(5861);const ji="@firebase/database";let ml="";class Ll{constructor(o){this.domStorage_=o,this.prefix_="firebase:"}set(o,l){null==l?this.domStorage_.removeItem(this.prefixedName_(o)):this.domStorage_.setItem(this.prefixedName_(o),(0,Lt.Wl)(l))}get(o){const l=this.domStorage_.getItem(this.prefixedName_(o));return null==l?null:(0,Lt.cI)(l)}remove(o){this.domStorage_.removeItem(this.prefixedName_(o))}prefixedName_(o){return this.prefix_+o}toString(){return this.domStorage_.toString()}}class _l{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(o,l){null==l?delete this.cache_[o]:this.cache_[o]=l}get(o){return(0,Lt.r3)(this.cache_,o)?this.cache_[o]:null}remove(o){delete this.cache_[o]}}const Yc=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const o=window[u];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new Ll(o)}}catch{}return new _l},Xa=Yc("localStorage"),xa=Yc("sessionStorage"),rc=new Mo.Yd("@firebase/database"),Hs=function(){let u=1;return function(){return u++}}(),Or=function(u){const o=(0,Lt.dS)(u),l=new Lt.gQ;l.update(o);const h=l.digest();return Lt.US.encodeByteArray(h)},Eo=function(...u){let o="";for(let l=0;l<u.length;l++){const h=u[l];Array.isArray(h)||h&&"object"==typeof h&&"number"==typeof h.length?o+=Eo.apply(null,h):o+="object"==typeof h?(0,Lt.Wl)(h):h,o+=" "}return o};let Oo=null,ps=!0;const Ir=function(...u){if(!0===ps&&(ps=!1,null===Oo&&!0===xa.get("logging_enabled")&&function(u,o){(0,Lt.hu)(!o||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(rc.logLevel=Mo.in.VERBOSE,Oo=rc.log.bind(rc),o&&xa.set("logging_enabled",!0)):"function"==typeof u?Oo=u:(Oo=null,xa.remove("logging_enabled"))}(!0)),Oo){const o=Eo.apply(null,u);Oo(o)}},Bs=function(u){return function(...o){Ir(u,...o)}},D=function(...u){const o="FIREBASE INTERNAL ERROR: "+Eo(...u);rc.error(o)},S=function(...u){const o=`FIREBASE FATAL ERROR: ${Eo(...u)}`;throw rc.error(o),new Error(o)},w=function(...u){const o="FIREBASE WARNING: "+Eo(...u);rc.warn(o)},Y=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},Ie="[MIN_NAME]",xt="[MAX_NAME]",un=function(u,o){if(u===o)return 0;if(u===Ie||o===xt)return-1;if(o===Ie||u===xt)return 1;{const l=Du(u),h=Du(o);return null!==l?null!==h?l-h==0?u.length-o.length:l-h:-1:null!==h?1:u<o?-1:1}},Vn=function(u,o){return u===o?0:u<o?-1:1},jn=function(u,o){if(o&&u in o)return o[u];throw new Error("Missing required key ("+u+") in object: "+(0,Lt.Wl)(o))},Ai=function(u){if("object"!=typeof u||null===u)return(0,Lt.Wl)(u);const o=[];for(const h in u)o.push(h);o.sort();let l="{";for(let h=0;h<o.length;h++)0!==h&&(l+=","),l+=(0,Lt.Wl)(o[h]),l+=":",l+=Ai(u[o[h]]);return l+="}",l},cs=function(u,o){const l=u.length;if(l<=o)return[u];const h=[];for(let v=0;v<l;v+=o)h.push(u.substring(v,v+o>l?l:v+o));return h};function Ar(u,o){for(const l in u)u.hasOwnProperty(l)&&o(l,u[l])}const $s=function(u){(0,Lt.hu)(!Y(u),"Invalid JSON number");const h=1023;let v,I,P,K,de;0===u?(I=0,P=0,v=1/u==-1/0?1:0):(v=u<0,(u=Math.abs(u))>=Math.pow(2,1-h)?(K=Math.min(Math.floor(Math.log(u)/Math.LN2),h),I=K+h,P=Math.round(u*Math.pow(2,52-K)-Math.pow(2,52))):(I=0,P=Math.round(u/Math.pow(2,-1074))));const Ee=[];for(de=52;de;de-=1)Ee.push(P%2?1:0),P=Math.floor(P/2);for(de=11;de;de-=1)Ee.push(I%2?1:0),I=Math.floor(I/2);Ee.push(v?1:0),Ee.reverse();const vt=Ee.join("");let Ot="";for(de=0;de<64;de+=8){let rn=parseInt(vt.substr(de,8),2).toString(16);1===rn.length&&(rn="0"+rn),Ot+=rn}return Ot.toLowerCase()},Go=new RegExp("^-?(0*)\\d{1,10}$"),Du=function(u){if(Go.test(u)){const o=Number(u);if(o>=-2147483648&&o<=2147483647)return o}return null},Ta=function(u){try{u()}catch(o){setTimeout(()=>{throw w("Exception was thrown by user callback.",o.stack||""),o},Math.floor(0))}},qc=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xr=function(u,o){const l=setTimeout(u,o);return"number"==typeof l&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class aa{constructor(o,l){this.appName_=o,this.appCheckProvider=l,this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(h=>this.appCheck=h)}getToken(o){return this.appCheck?this.appCheck.getToken(o):new Promise((l,h)=>{setTimeout(()=>{this.appCheck?this.getToken(o).then(l,h):l(null)},0)})}addTokenChangeListener(o){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(h=>h.addTokenListener(o))}notifyForInvalidToken(){w(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ja{constructor(o,l,h){this.appName_=o,this.firebaseOptions_=l,this.authProvider_=h,this.auth_=null,this.auth_=h.getImmediate({optional:!0}),this.auth_||h.onInit(v=>this.auth_=v)}getToken(o){return this.auth_?this.auth_.getToken(o).catch(l=>l&&"auth/token-not-initialized"===l.code?(Ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,h)=>{setTimeout(()=>{this.auth_?this.getToken(o).then(l,h):l(null)},0)})}addTokenChangeListener(o){this.auth_?this.auth_.addAuthTokenListener(o):this.authProvider_.get().then(l=>l.addAuthTokenListener(o))}removeTokenChangeListener(o){this.authProvider_.get().then(l=>l.removeAuthTokenListener(o))}notifyForInvalidToken(){let o='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';o+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',w(o)}}let Ic=(()=>{class u{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const sc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,us="websocket",Qd="long_polling";class el{constructor(o,l,h,v,I=!1,P="",K=!1,de=!1){this.secure=l,this.namespace=h,this.webSocketOnly=v,this.nodeAdmin=I,this.persistenceKey=P,this.includeNamespaceInQueryParams=K,this.isUsingEmulator=de,this._host=o.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xa.get("host:"+o)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(o){o!==this.internalHost&&(this.internalHost=o,this.isCacheableHost()&&Xa.set("host:"+this._host,this.internalHost))}toString(){let o=this.toURLString();return this.persistenceKey&&(o+="<"+this.persistenceKey+">"),o}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Aa(u,o,l){let h;if((0,Lt.hu)("string"==typeof o,"typeof type must == string"),(0,Lt.hu)("object"==typeof l,"typeof params must == object"),o===us)h=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(o!==Qd)throw new Error("Unknown connection type: "+o);h=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function Rr(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(l.ns=u.namespace);const v=[];return Ar(l,(I,P)=>{v.push(I+"="+P)}),h+v.join("&")}class Su{constructor(){this.counters_={}}incrementCounter(o,l=1){(0,Lt.r3)(this.counters_,o)||(this.counters_[o]=0),this.counters_[o]+=l}get(){return(0,Lt.p$)(this.counters_)}}const Vl={},xc={};function oc(u){const o=u.toString();return Vl[o]||(Vl[o]=new Su),Vl[o]}class Ma{constructor(o){this.onMessage_=o,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(o,l){this.closeAfterResponse=o,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(o,l){for(this.pendingResponses[o]=l;this.pendingResponses[this.currentResponseNum];){const h=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let v=0;v<h.length;++v)h[v]&&Ta(()=>{this.onMessage_(h[v])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Pa{constructor(o,l,h,v,I,P,K){this.connId=o,this.repoInfo=l,this.applicationId=h,this.appCheckToken=v,this.authToken=I,this.transportSessionId=P,this.lastSessionId=K,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bs(o),this.stats_=oc(l),this.urlFn=de=>(this.appCheckToken&&(de.ac=this.appCheckToken),Aa(l,Qd,de))}open(o,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Ma(o),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,Lt.Yr)()||"complete"===document.readyState)u();else{let o=!1;const l=function(){document.body?o||(o=!0,u()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vl((...I)=>{const[P,K,de,Ee,vt]=I;if(this.incrementIncomingBytes_(I),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===P)this.id=K,this.password=de;else{if("close"!==P)throw new Error("Unrecognized command received: "+P);K?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(K,()=>{this.onClosed_()})):this.onClosed_()}},(...I)=>{const[P,K]=I;this.incrementIncomingBytes_(I),this.myPacketOrderer.handleResponse(P,K)},()=>{this.onClosed_()},this.urlFn);const h={start:"t"};h.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(h.cb=this.scriptTagHolder.uniqueCallbackIdentifier),h.v="5",this.transportSessionId&&(h.s=this.transportSessionId),this.lastSessionId&&(h.ls=this.lastSessionId),this.applicationId&&(h.p=this.applicationId),this.appCheckToken&&(h.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&sc.test(location.hostname)&&(h.r="f");const v=this.urlFn(h);this.log_("Connecting via long-poll to "+v),this.scriptTagHolder.addTag(v,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pa.forceAllow_=!0}static forceDisallow(){Pa.forceDisallow_=!0}static isAvailable(){return!((0,Lt.Yr)()||!Pa.forceAllow_&&(Pa.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(o){const l=(0,Lt.Wl)(o);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const h=(0,Lt.h$)(l),v=cs(h,1840);for(let I=0;I<v.length;I++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,v.length,v[I]),this.curSegmentNum++}addDisconnectPingFrame(o,l){if((0,Lt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const h={dframe:"t"};h.id=o,h.pw=l,this.myDisconnFrame.src=this.urlFn(h),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(o){const l=(0,Lt.Wl)(o).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class vl{constructor(o,l,h,v){if(this.onDisconnect=h,this.urlFn=v,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Lt.Yr)())this.commandCB=o,this.onMessageCB=l;else{this.uniqueCallbackIdentifier=Hs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=o,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=vl.createIFrame_();let I="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(I='<script>document.domain="'+document.domain+'";<\/script>');const P="<html><body>"+I+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(P),this.myIFrame.doc.close()}catch(K){Ir("frame writing exception"),K.stack&&Ir(K.stack),Ir(K)}}}static createIFrame_(){const o=document.createElement("iframe");if(o.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(o);try{o.contentWindow.document||Ir("No IE domain setting required")}catch{const h=document.domain;o.src="javascript:void((function(){document.open();document.domain='"+h+"';document.close();})())"}return o.contentDocument?o.doc=o.contentDocument:o.contentWindow?o.doc=o.contentWindow.document:o.document&&(o.doc=o.document),o}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const o=this.onDisconnect;o&&(this.onDisconnect=null,o())}startLongPoll(o,l){for(this.myID=o,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const o={};o.id=this.myID,o.pw=this.myPW,o.ser=this.currentSerial;let l=this.urlFn(o),h="",v=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+h.length<=1870;){const P=this.pendingSegs.shift();h=h+"&seg"+v+"="+P.seg+"&ts"+v+"="+P.ts+"&d"+v+"="+P.d,v++}return l+=h,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(o,l,h){this.pendingSegs.push({seg:o,ts:l,d:h}),this.alive&&this.newRequest_()}addLongPollTag_(o,l){this.outstandingRequests.add(l);const h=()=>{this.outstandingRequests.delete(l),this.newRequest_()},v=setTimeout(h,Math.floor(25e3));this.addTag(o,()=>{clearTimeout(v),h()})}addTag(o,l){(0,Lt.Yr)()?this.doNodeLongPoll(o,l):setTimeout(()=>{try{if(!this.sendNewPolls)return;const h=this.myIFrame.doc.createElement("script");h.type="text/javascript",h.async=!0,h.src=o,h.onload=h.onreadystatechange=function(){const v=h.readyState;(!v||"loaded"===v||"complete"===v)&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),l())},h.onerror=()=>{Ir("Long-poll script failed to load: "+o),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(h)}catch{}},Math.floor(1))}}let ms=null;typeof MozWebSocket<"u"?ms=MozWebSocket:typeof WebSocket<"u"&&(ms=WebSocket);let Sc=(()=>{class u{constructor(l,h,v,I,P,K,de){this.connId=l,this.applicationId=v,this.appCheckToken=I,this.authToken=P,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bs(this.connId),this.stats_=oc(h),this.connURL=u.connectionURL_(h,K,de,I,v),this.nodeAdmin=h.nodeAdmin}static connectionURL_(l,h,v,I,P){const K={v:"5"};return!(0,Lt.Yr)()&&typeof location<"u"&&location.hostname&&sc.test(location.hostname)&&(K.r="f"),h&&(K.s=h),v&&(K.ls=v),I&&(K.ac=I),P&&(K.p=P),Aa(l,us,K)}open(l,h){this.onDisconnect=h,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xa.set("previous_websocket_failure",!0);try{let v;if((0,Lt.Yr)()){v={headers:{"User-Agent":`Firebase/5/${ml}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(v.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(v.headers["X-Firebase-AppCheck"]=this.appCheckToken);const P=process.env,K=0===this.connURL.indexOf("wss://")?P.HTTPS_PROXY||P.https_proxy:P.HTTP_PROXY||P.http_proxy;K&&(v.proxy={origin:K})}this.mySock=new ms(this.connURL,[],v)}catch(v){this.log_("Error instantiating WebSocket.");const I=v.message||v.data;return I&&this.log_(I),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const I=v.message||v.data;I&&this.log_(I),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const v=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);v&&v.length>1&&parseFloat(v[1])<4.4&&(l=!0)}return!l&&null!==ms&&!u.forceDisallow_}static previouslyFailed(){return Xa.isInMemoryStorage||!0===Xa.get("previous_websocket_failure")}markConnectionHealthy(){Xa.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const h=this.frames.join("");this.frames=null;const v=(0,Lt.cI)(h);this.onMessage(v)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if((0,Lt.hu)(null===this.frames,"We already have a frame buffer"),l.length<=6){const h=Number(l);if(!isNaN(h))return this.handleNewFrameCount_(h),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const h=l.data;if(this.bytesReceived+=h.length,this.stats_.incrementCounter("bytes_received",h.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(h);else{const v=this.extractFrameCount_(h);null!==v&&this.appendFrame_(v)}}send(l){this.resetKeepAlive();const h=(0,Lt.Wl)(l);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const v=cs(h,16384);v.length>1&&this.sendString_(String(v.length));for(let I=0;I<v.length;I++)this.sendString_(v[I])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(h){this.log_("Exception thrown from WebSocket.send():",h.message||h.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Pr=(()=>{class u{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[Pa,Sc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const h=Sc&&Sc.isAvailable();let v=h&&!Sc.previouslyFailed();if(l.webSocketOnly&&(h||w("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[Sc];else{const I=this.transports_=[];for(const P of u.ALL_TRANSPORTS)P&&P.isAvailable()&&I.push(P);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class wi{constructor(o,l,h,v,I,P,K,de,Ee,vt){this.id=o,this.repoInfo_=l,this.applicationId_=h,this.appCheckToken_=v,this.authToken_=I,this.onMessage_=P,this.onReady_=K,this.onDisconnect_=de,this.onKill_=Ee,this.lastSessionId=vt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bs("c:"+this.id+":"),this.transportManager_=new Pr(l),this.log_("Connection created"),this.start_()}start_(){const o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),h=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,h)},Math.floor(0));const v=o.healthyTimeout||0;v>0&&(this.healthyTimeout_=Xr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(v)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(o){return l=>{o===this.conn_?this.onConnectionLost_(l):o===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(o){return l=>{2!==this.state_&&(o===this.rx_?this.onPrimaryMessageReceived_(l):o===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(o){this.sendData_({t:"d",d:o})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(o){if("t"in o){const l=o.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(o){const l=jn("t",o),h=jn("d",o);if("c"===l)this.onSecondaryControl_(h);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(h)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(o){const l=jn("t",o),h=jn("d",o);"c"===l?this.onControl_(h):"d"===l&&this.onDataMessage_(h)}onDataMessage_(o){this.onPrimaryResponse_(),this.onMessage_(o)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(o){const l=jn("t",o);if("d"in o){const h=o.d;if("h"===l){const v=Object.assign({},h);this.repoInfo_.isUsingEmulator&&(v.h=this.repoInfo_.host),this.onHandshake_(v)}else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let v=0;v<this.pendingDataMessages.length;++v)this.onDataMessage_(this.pendingDataMessages[v]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(h):"r"===l?this.onReset_(h):"e"===l?D("Server Error: "+h):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):D("Unknown control packet command: "+l)}}onHandshake_(o){const l=o.ts,h=o.v,v=o.h;this.sessionId=o.s,this.repoInfo_.host=v,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==h&&w("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const o=this.transportManager_.upgradeTransport();o&&this.startUpgrade_(o)}startUpgrade_(o){this.secondaryConn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),h=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,h),Xr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(o){this.log_("Reset packet received.  New host: "+o),this.repoInfo_.host=o,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(o,l){this.log_("Realtime connection established."),this.conn_=o,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const o=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===o||this.rx_===o)&&this.close()}onConnectionLost_(o){this.conn_=null,o||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(o){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(o),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(o){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(o)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ws{put(o,l,h,v){}merge(o,l,h,v){}refreshAuthToken(o){}refreshAppCheckToken(o){}onDisconnectPut(o,l,h){}onDisconnectMerge(o,l,h){}onDisconnectCancel(o,l){}reportStats(o){}}class Vs{constructor(o){this.allowedEvents_=o,this.listeners_={},(0,Lt.hu)(Array.isArray(o)&&o.length>0,"Requires a non-empty array")}trigger(o,...l){if(Array.isArray(this.listeners_[o])){const h=[...this.listeners_[o]];for(let v=0;v<h.length;v++)h[v].callback.apply(h[v].context,l)}}on(o,l,h){this.validateEventType_(o),this.listeners_[o]=this.listeners_[o]||[],this.listeners_[o].push({callback:l,context:h});const v=this.getInitialEvent(o);v&&l.apply(h,v)}off(o,l,h){this.validateEventType_(o);const v=this.listeners_[o]||[];for(let I=0;I<v.length;I++)if(v[I].callback===l&&(!h||h===v[I].context))return void v.splice(I,1)}validateEventType_(o){(0,Lt.hu)(this.allowedEvents_.find(l=>l===o),"Unknown event: "+o)}}class nl extends Vs{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Lt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nl}getInitialEvent(o){return(0,Lt.hu)("online"===o,"Unknown event type: "+o),[this.online_]}currentlyOnline(){return this.online_}}const Mu=32,Hl=768;class Bi{constructor(o,l){if(void 0===l){this.pieces_=o.split("/");let h=0;for(let v=0;v<this.pieces_.length;v++)this.pieces_[v].length>0&&(this.pieces_[h]=this.pieces_[v],h++);this.pieces_.length=h,this.pieceNum_=0}else this.pieces_=o,this.pieceNum_=l}toString(){let o="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(o+="/"+this.pieces_[l]);return o||"/"}}function Ri(){return new Bi("")}function Gi(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function El(u){return u.pieces_.length-u.pieceNum_}function kr(u){let o=u.pieceNum_;return o<u.pieces_.length&&o++,new Bi(u.pieces_,o)}function Ou(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function rl(u,o=0){return u.pieces_.slice(u.pieceNum_+o)}function tu(u){if(u.pieceNum_>=u.pieces_.length)return null;const o=[];for(let l=u.pieceNum_;l<u.pieces_.length-1;l++)o.push(u.pieces_[l]);return new Bi(o,0)}function br(u,o){const l=[];for(let h=u.pieceNum_;h<u.pieces_.length;h++)l.push(u.pieces_[h]);if(o instanceof Bi)for(let h=o.pieceNum_;h<o.pieces_.length;h++)l.push(o.pieces_[h]);else{const h=o.split("/");for(let v=0;v<h.length;v++)h[v].length>0&&l.push(h[v])}return new Bi(l,0)}function Ki(u){return u.pieceNum_>=u.pieces_.length}function wo(u,o){const l=Gi(u),h=Gi(o);if(null===l)return o;if(l===h)return wo(kr(u),kr(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+u+")")}function Ru(u,o){if(El(u)!==El(o))return!1;for(let l=u.pieceNum_,h=o.pieceNum_;l<=u.pieces_.length;l++,h++)if(u.pieces_[l]!==o.pieces_[h])return!1;return!0}function io(u,o){let l=u.pieceNum_,h=o.pieceNum_;if(El(u)>El(o))return!1;for(;l<u.pieces_.length;){if(u.pieces_[l]!==o.pieces_[h])return!1;++l,++h}return!0}class Uf{constructor(o,l){this.errorPrefix_=l,this.parts_=rl(o,0),this.byteLength_=Math.max(1,this.parts_.length);for(let h=0;h<this.parts_.length;h++)this.byteLength_+=(0,Lt.ug)(this.parts_[h]);g(this)}}function g(u){if(u.byteLength_>Hl)throw new Error(u.errorPrefix_+"has a key path longer than "+Hl+" bytes ("+u.byteLength_+").");if(u.parts_.length>Mu)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mu+") or object contains a cycle "+b(u))}function b(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class O extends Vs{constructor(){let o,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",o="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",o="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",o="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",o="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const h=!document[o];h!==this.visible_&&(this.visible_=h,this.trigger("visible",h))},!1)}static getInstance(){return new O}getInitialEvent(o){return(0,Lt.hu)("visible"===o,"Unknown event type: "+o),[this.visible_]}}const se=1e3;let nu,Di=(()=>{class u extends Ws{constructor(l,h,v,I,P,K,de,Ee){if(super(),this.repoInfo_=l,this.applicationId_=h,this.onDataUpdate_=v,this.onConnectStatus_=I,this.onServerInfoUpdate_=P,this.authTokenProvider_=K,this.appCheckTokenProvider_=de,this.authOverride_=Ee,this.id=u.nextPersistentConnectionId_++,this.log_=Bs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=se,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ee&&!(0,Lt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");O.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&nl.getInstance().on("online",this.onOnline_,this)}sendRequest(l,h,v){const I=++this.requestNumber_,P={r:I,a:l,b:h};this.log_((0,Lt.Wl)(P)),(0,Lt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(P),v&&(this.requestCBHash_[I]=v)}get(l){this.initConnection_();const h=new Lt.BH,I={action:"g",request:{p:l._path.toString(),q:l._queryObject},onComplete:K=>{const de=K.d;"ok"===K.s?h.resolve(de):h.reject(de)}};return this.outstandingGets_.push(I),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),h.promise}listen(l,h,v,I){this.initConnection_();const P=l._queryIdentifier,K=l._path.toString();this.log_("Listen called for "+K+" "+P),this.listens.has(K)||this.listens.set(K,new Map),(0,Lt.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Lt.hu)(!this.listens.get(K).has(P),"listen() called twice for same path/queryId.");const de={onComplete:I,hashFn:h,query:l,tag:v};this.listens.get(K).set(P,de),this.connected_&&this.sendListen_(de)}sendGet_(l){const h=this.outstandingGets_[l];this.sendRequest("g",h.request,v=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),h.onComplete&&h.onComplete(v)})}sendListen_(l){const h=l.query,v=h._path.toString(),I=h._queryIdentifier;this.log_("Listen on "+v+" for "+I);const P={p:v};l.tag&&(P.q=h._queryObject,P.t=l.tag),P.h=l.hashFn(),this.sendRequest("q",P,de=>{const Ee=de.d,vt=de.s;u.warnOnListenWarnings_(Ee,h),(this.listens.get(v)&&this.listens.get(v).get(I))===l&&(this.log_("listen response",de),"ok"!==vt&&this.removeListen_(v,I),l.onComplete&&l.onComplete(vt,Ee))})}static warnOnListenWarnings_(l,h){if(l&&"object"==typeof l&&(0,Lt.r3)(l,"w")){const v=(0,Lt.DV)(l,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const I='".indexOn": "'+h._queryParams.getIndex().toString()+'"',P=h._path.toString();w(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${I} at ${P} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||(0,Lt.GJ)(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,h=(0,Lt.w9)(l)?"auth":"gauth",v={cred:l};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(h,v,I=>{const P=I.s,K=I.d||"error";this.authToken_===l&&("ok"===P?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(P,K))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const h=l.s,v=l.d||"error";"ok"===h?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(h,v)})}unlisten(l,h){const v=l._path.toString(),I=l._queryIdentifier;this.log_("Unlisten called for "+v+" "+I),(0,Lt.hu)(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,I)&&this.connected_&&this.sendUnlisten_(v,I,l._queryObject,h)}sendUnlisten_(l,h,v,I){this.log_("Unlisten on "+l+" for "+h);const P={p:l};I&&(P.q=v,P.t=I),this.sendRequest("n",P)}onDisconnectPut(l,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,h,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:h,onComplete:v})}onDisconnectMerge(l,h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,h,v):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:h,onComplete:v})}onDisconnectCancel(l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,h):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:h})}sendOnDisconnect_(l,h,v,I){const P={p:h,d:v};this.log_("onDisconnect "+l,P),this.sendRequest(l,P,K=>{I&&setTimeout(()=>{I(K.s,K.d)},Math.floor(0))})}put(l,h,v,I){this.putInternal("p",l,h,v,I)}merge(l,h,v,I){this.putInternal("m",l,h,v,I)}putInternal(l,h,v,I,P){this.initConnection_();const K={p:h,d:v};void 0!==P&&(K.h=P),this.outstandingPuts_.push({action:l,request:K,onComplete:I}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+h)}sendPut_(l){const h=this.outstandingPuts_[l].action,v=this.outstandingPuts_[l].request,I=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(h,v,P=>{this.log_(h+" response",P),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),I&&I(P.s,P.d)})}reportStats(l){if(this.connected_){const h={c:l};this.log_("reportStats",h),this.sendRequest("s",h,v=>{"ok"!==v.s&&this.log_("reportStats","Error sending stats: "+v.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+(0,Lt.Wl)(l));const h=l.r,v=this.requestCBHash_[h];v&&(delete this.requestCBHash_[h],v(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,h){this.log_("handleServerMessage",l,h),"d"===l?this.onDataUpdate_(h.p,h.d,!1,h.t):"m"===l?this.onDataUpdate_(h.p,h.d,!0,h.t):"c"===l?this.onListenRevoked_(h.p,h.q):"ac"===l?this.onAuthRevoked_(h.s,h.d):"apc"===l?this.onAppCheckRevoked_(h.s,h.d):"sd"===l?this.onSecurityDebugPacket_(h):D("Unrecognized action received from server: "+(0,Lt.Wl)(l)+"\nAre you using the latest client?")}onReady_(l,h){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=h,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){(0,Lt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=se,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=se,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=se),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let h=Math.max(0,this.reconnectDelay_-l);h=Math.random()*h,this.log_("Trying to reconnect in "+h+"ms"),this.scheduleConnect_(h),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,ic.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const h=l.onDataMessage_.bind(l),v=l.onReady_.bind(l),I=l.onRealtimeDisconnect_.bind(l),P=l.id+":"+u.nextConnectionId_++,K=l.lastSessionId;let de=!1,Ee=null;const vt=function(){Ee?Ee.close():(de=!0,I())};l.realtime_={close:vt,sendRequest:function(Dn){(0,Lt.hu)(Ee,"sendRequest call when we're not connected not allowed."),Ee.sendRequest(Dn)}};const rn=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[Dn,Sn]=yield Promise.all([l.authTokenProvider_.getToken(rn),l.appCheckTokenProvider_.getToken(rn)]);de?Ir("getToken() completed but was canceled"):(Ir("getToken() completed. Creating connection."),l.authToken_=Dn&&Dn.accessToken,l.appCheckToken_=Sn&&Sn.token,Ee=new wi(P,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,h,v,I,Yn=>{w(Yn+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},K))}catch(Dn){l.log_("Failed to get token: "+Dn),de||(l.repoInfo_.nodeAdmin&&w(Dn),vt())}}})()}interrupt(l){Ir("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){Ir("Resuming connection for reason: "+l),delete this.interruptReasons_[l],(0,Lt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=se,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const h=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:h})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const h=this.outstandingPuts_[l];h&&"h"in h.request&&h.queued&&(h.onComplete&&h.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,h){let v;v=h?h.map(P=>Ai(P)).join("$"):"default";const I=this.removeListen_(l,v);I&&I.onComplete&&I.onComplete("permission_denied")}removeListen_(l,h){const v=new Bi(l).toString();let I;if(this.listens.has(v)){const P=this.listens.get(v);I=P.get(h),P.delete(h),0===P.size&&this.listens.delete(v)}else I=void 0;return I}onAuthRevoked_(l,h){Ir("Auth token revoked: "+l+"/"+h),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,h){Ir("App check token revoked: "+l+"/"+h),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const h of l.values())this.sendListen_(h);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let h="js";(0,Lt.Yr)()&&(h=this.repoInfo_.nodeAdmin?"admin_node":"node"),l["sdk."+h+"."+ml.replace(/\./g,"-")]=1,(0,Lt.uI)()?l["framework.cordova"]=1:(0,Lt.b$)()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=nl.getInstance().currentlyOnline();return(0,Lt.xb)(this.interruptReasons_)&&l}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class bi{constructor(o,l){this.name=o,this.node=l}static Wrap(o,l){return new bi(o,l)}}class Us{getCompare(){return this.compare.bind(this)}indexedValueChanged(o,l){const h=new bi(Ie,o),v=new bi(Ie,l);return 0!==this.compare(h,v)}minPost(){return bi.MIN}}class Ko extends Us{static get __EMPTY_NODE(){return nu}static set __EMPTY_NODE(o){nu=o}compare(o,l){return un(o.name,l.name)}isDefinedOn(o){throw(0,Lt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(o,l){return!1}minPost(){return bi.MIN}maxPost(){return new bi(xt,nu)}makePost(o,l){return(0,Lt.hu)("string"==typeof o,"KeyIndex indexValue must always be a string."),new bi(o,nu)}toString(){return".key"}}const ko=new Ko;class hc{constructor(o,l,h,v,I=null){this.isReverse_=v,this.resultGenerator_=I,this.nodeStack_=[];let P=1;for(;!o.isEmpty();)if(P=l?h(o.key,l):1,v&&(P*=-1),P<0)o=this.isReverse_?o.left:o.right;else{if(0===P){this.nodeStack_.push(o);break}this.nodeStack_.push(o),o=this.isReverse_?o.right:o.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,o=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value},this.isReverse_)for(o=o.left;!o.isEmpty();)this.nodeStack_.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack_.push(o),o=o.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const o=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value}}}let iu,ca=(()=>{class u{constructor(l,h,v,I,P){this.key=l,this.value=h,this.color=v??u.RED,this.left=I??Co.EMPTY_NODE,this.right=P??Co.EMPTY_NODE}copy(l,h,v,I,P){return new u(l??this.key,h??this.value,v??this.color,I??this.left,P??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,h,v){let I=this;const P=v(l,I.key);return I=P<0?I.copy(null,null,null,I.left.insert(l,h,v),null):0===P?I.copy(null,h,null,null,null):I.copy(null,null,null,null,I.right.insert(l,h,v)),I.fixUp_()}removeMin_(){if(this.left.isEmpty())return Co.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,h){let v,I;if(v=this,h(l,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(l,h),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===h(l,v.key)){if(v.right.isEmpty())return Co.EMPTY_NODE;I=v.right.min_(),v=v.copy(I.key,I.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(l,h))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Co{constructor(o,l=Co.EMPTY_NODE){this.comparator_=o,this.root_=l}insert(o,l){return new Co(this.comparator_,this.root_.insert(o,l,this.comparator_).copy(null,null,ca.BLACK,null,null))}remove(o){return new Co(this.comparator_,this.root_.remove(o,this.comparator_).copy(null,null,ca.BLACK,null,null))}get(o){let l,h=this.root_;for(;!h.isEmpty();){if(l=this.comparator_(o,h.key),0===l)return h.value;l<0?h=h.left:l>0&&(h=h.right)}return null}getPredecessorKey(o){let l,h=this.root_,v=null;for(;!h.isEmpty();){if(l=this.comparator_(o,h.key),0===l){if(h.left.isEmpty())return v?v.key:null;for(h=h.left;!h.right.isEmpty();)h=h.right;return h.key}l<0?h=h.left:l>0&&(v=h,h=h.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(o){return this.root_.inorderTraversal(o)}reverseTraversal(o){return this.root_.reverseTraversal(o)}getIterator(o){return new hc(this.root_,null,this.comparator_,!1,o)}getIteratorFrom(o,l){return new hc(this.root_,o,this.comparator_,!1,l)}getReverseIteratorFrom(o,l){return new hc(this.root_,o,this.comparator_,!0,l)}getReverseIterator(o){return new hc(this.root_,null,this.comparator_,!0,o)}}function Tc(u,o){return un(u.name,o.name)}function Pu(u,o){return un(u,o)}Co.EMPTY_NODE=new class ka{copy(o,l,h,v,I){return this}insert(o,l,h){return new ca(o,l,null)}remove(o,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gd=function(u){return"number"==typeof u?"number:"+$s(u):"string:"+u},ku=function(u){if(u.isLeafNode()){const o=u.val();(0,Lt.hu)("string"==typeof o||"number"==typeof o||"object"==typeof o&&(0,Lt.r3)(o,".sv"),"Priority must be a string or number.")}else(0,Lt.hu)(u===iu||u.isEmpty(),"priority of unexpected type.");(0,Lt.hu)(u===iu||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Uh,_d,zh,ru=(()=>{class u{constructor(l,h=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=h,this.lazyHash_=null,(0,Lt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ku(this.priorityNode_)}static set __childrenNodeConstructor(l){Uh=l}static get __childrenNodeConstructor(){return Uh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new u(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return Ki(l)?this:".priority"===Gi(l)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,h){return null}updateImmediateChild(l,h){return".priority"===l?this.updatePriority(h):h.isEmpty()&&".priority"!==l?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,h).updatePriority(this.priorityNode_)}updateChild(l,h){const v=Gi(l);return null===v?h:h.isEmpty()&&".priority"!==v?this:((0,Lt.hu)(".priority"!==v||1===El(l),".priority must be the last token in a path"),this.updateImmediateChild(v,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(kr(l),h)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,h){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+gd(this.priorityNode_.val())+":");const h=typeof this.value_;l+=h+":",l+="number"===h?$s(this.value_):this.value_,this.lazyHash_=Or(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===u.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof u.__childrenNodeConstructor?-1:((0,Lt.hu)(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const h=typeof l.value_,v=typeof this.value_,I=u.VALUE_TYPE_ORDER.indexOf(h),P=u.VALUE_TYPE_ORDER.indexOf(v);return(0,Lt.hu)(I>=0,"Unknown leaf type: "+h),(0,Lt.hu)(P>=0,"Unknown leaf type: "+v),I===P?"object"===v?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:P-I}withIndex(){return this}isIndexed(){return!0}equals(l){return l===this||!!l.isLeafNode()&&(this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Nr=new class og extends Us{compare(o,l){const h=o.node.getPriority(),v=l.node.getPriority(),I=h.compareTo(v);return 0===I?un(o.name,l.name):I}isDefinedOn(o){return!o.getPriority().isEmpty()}indexedValueChanged(o,l){return!o.getPriority().equals(l.getPriority())}minPost(){return bi.MIN}maxPost(){return new bi(xt,new ru("[PRIORITY-POST]",zh))}makePost(o,l){const h=_d(o);return new bi(l,new ru("[PRIORITY-POST]",h))}toString(){return".priority"}},Nu=Math.log(2);class Yp{constructor(o){this.count=parseInt(Math.log(o+1)/Nu,10),this.current_=this.count-1;const v=(I=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=o+1&v}nextBitIsOne(){const o=!(this.bits_&1<<this.current_);return this.current_--,o}}const wl=function(u,o,l,h){u.sort(o);const v=function(de,Ee){const vt=Ee-de;let Ot,rn;if(0===vt)return null;if(1===vt)return Ot=u[de],rn=l?l(Ot):Ot,new ca(rn,Ot.node,ca.BLACK,null,null);{const Dn=parseInt(vt/2,10)+de,Sn=v(de,Dn),Yn=v(Dn+1,Ee);return Ot=u[Dn],rn=l?l(Ot):Ot,new ca(rn,Ot.node,ca.BLACK,Sn,Yn)}},K=function(de){let Ee=null,vt=null,Ot=u.length;const rn=function(Sn,Yn){const Pi=Ot-Sn,Er=Ot;Ot-=Sn;const _s=v(Pi+1,Er),Io=u[Pi],oo=l?l(Io):Io;Dn(new ca(oo,Io.node,Yn,null,_s))},Dn=function(Sn){Ee?(Ee.left=Sn,Ee=Sn):(vt=Sn,Ee=Sn)};for(let Sn=0;Sn<de.count;++Sn){const Yn=de.nextBitIsOne(),Pi=Math.pow(2,de.count-(Sn+1));Yn?rn(Pi,ca.BLACK):(rn(Pi,ca.BLACK),rn(Pi,ca.RED))}return vt}(new Yp(u.length));return new Co(h||o,K)};let eh;const ua={};class Ac{constructor(o,l){this.indexes_=o,this.indexSet_=l}static get Default(){return(0,Lt.hu)(ua&&Nr,"ChildrenNode.ts has not been loaded"),eh=eh||new Ac({".priority":ua},{".priority":Nr}),eh}get(o){const l=(0,Lt.DV)(this.indexes_,o);if(!l)throw new Error("No index defined for "+o);return l instanceof Co?l:null}hasIndex(o){return(0,Lt.r3)(this.indexSet_,o.toString())}addIndex(o,l){(0,Lt.hu)(o!==ko,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const h=[];let v=!1;const I=l.getIterator(bi.Wrap);let K,P=I.getNext();for(;P;)v=v||o.isDefinedOn(P.node),h.push(P),P=I.getNext();K=v?wl(h,o.getCompare()):ua;const de=o.toString(),Ee=Object.assign({},this.indexSet_);Ee[de]=o;const vt=Object.assign({},this.indexes_);return vt[de]=K,new Ac(vt,Ee)}addToIndexes(o,l){const h=(0,Lt.UI)(this.indexes_,(v,I)=>{const P=(0,Lt.DV)(this.indexSet_,I);if((0,Lt.hu)(P,"Missing index implementation for "+I),v===ua){if(P.isDefinedOn(o.node)){const K=[],de=l.getIterator(bi.Wrap);let Ee=de.getNext();for(;Ee;)Ee.name!==o.name&&K.push(Ee),Ee=de.getNext();return K.push(o),wl(K,P.getCompare())}return ua}{const K=l.get(o.name);let de=v;return K&&(de=de.remove(new bi(o.name,K))),de.insert(o,o.node)}});return new Ac(h,this.indexSet_)}removeFromIndexes(o,l){const h=(0,Lt.UI)(this.indexes_,v=>{if(v===ua)return v;{const I=l.get(o.name);return I?v.remove(new bi(o.name,I)):v}});return new Ac(h,this.indexSet_)}}let th,Vi=(()=>{class u{constructor(l,h,v){this.children_=l,this.priorityNode_=h,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&ku(this.priorityNode_),this.children_.isEmpty()&&(0,Lt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return th||(th=new u(new Co(Pu),null,Ac.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||th}updatePriority(l){return this.children_.isEmpty()?this:new u(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const h=this.children_.get(l);return null===h?th:h}}getChild(l){const h=Gi(l);return null===h?this:this.getImmediateChild(h).getChild(kr(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,h){if((0,Lt.hu)(h,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(h);{const v=new bi(l,h);let I,P;h.isEmpty()?(I=this.children_.remove(l),P=this.indexMap_.removeFromIndexes(v,this.children_)):(I=this.children_.insert(l,h),P=this.indexMap_.addToIndexes(v,this.children_));const K=I.isEmpty()?th:this.priorityNode_;return new u(I,K,P)}}updateChild(l,h){const v=Gi(l);if(null===v)return h;{(0,Lt.hu)(".priority"!==Gi(l)||1===El(l),".priority must be the last token in a path");const I=this.getImmediateChild(v).updateChild(kr(l),h);return this.updateImmediateChild(v,I)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const h={};let v=0,I=0,P=!0;if(this.forEachChild(Nr,(K,de)=>{h[K]=de.val(l),v++,P&&u.INTEGER_REGEXP_.test(K)?I=Math.max(I,Number(K)):P=!1}),!l&&P&&I<2*v){const K=[];for(const de in h)K[de]=h[de];return K}return l&&!this.getPriority().isEmpty()&&(h[".priority"]=this.getPriority().val()),h}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+gd(this.getPriority().val())+":"),this.forEachChild(Nr,(h,v)=>{const I=v.hash();""!==I&&(l+=":"+h+":"+I)}),this.lazyHash_=""===l?"":Or(l)}return this.lazyHash_}getPredecessorChildName(l,h,v){const I=this.resolveIndex_(v);if(I){const P=I.getPredecessorKey(new bi(l,h));return P?P.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const h=this.resolveIndex_(l);if(h){const v=h.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(l){const h=this.getFirstChildName(l);return h?new bi(h,this.children_.get(h)):null}getLastChildName(l){const h=this.resolveIndex_(l);if(h){const v=h.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(l){const h=this.getLastChildName(l);return h?new bi(h,this.children_.get(h)):null}forEachChild(l,h){const v=this.resolveIndex_(l);return v?v.inorderTraversal(I=>h(I.name,I.node)):this.children_.inorderTraversal(h)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,h){const v=this.resolveIndex_(h);if(v)return v.getIteratorFrom(l,I=>I);{const I=this.children_.getIteratorFrom(l.name,bi.Wrap);let P=I.peek();for(;null!=P&&h.compare(P,l)<0;)I.getNext(),P=I.peek();return I}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,h){const v=this.resolveIndex_(h);if(v)return v.getReverseIteratorFrom(l,I=>I);{const I=this.children_.getReverseIteratorFrom(l.name,bi.Wrap);let P=I.peek();for(;null!=P&&h.compare(P,l)>0;)I.getNext(),P=I.peek();return I}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===yd?-1:0}withIndex(l){if(l===ko||this.indexMap_.hasIndex(l))return this;{const h=this.indexMap_.addIndex(l,this.children_);return new u(this.children_,this.priorityNode_,h)}}isIndexed(l){return l===ko||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const h=l;if(this.getPriority().equals(h.getPriority())){if(this.children_.count()===h.children_.count()){const v=this.getIterator(Nr),I=h.getIterator(Nr);let P=v.getNext(),K=I.getNext();for(;P&&K;){if(P.name!==K.name||!P.node.equals(K.node))return!1;P=v.getNext(),K=I.getNext()}return null===P&&null===K}return!1}return!1}}resolveIndex_(l){return l===ko?null:this.indexMap_.get(l.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const yd=new class p_ extends Vi{constructor(){super(new Co(Pu),Vi.EMPTY_NODE,Ac.Default)}compareTo(o){return o===this?0:1}equals(o){return o===this}getPriority(){return this}getImmediateChild(o){return Vi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(bi,{MIN:{value:new bi(Ie,Vi.EMPTY_NODE)},MAX:{value:new bi(xt,yd)}}),Ko.__EMPTY_NODE=Vi.EMPTY_NODE,ru.__childrenNodeConstructor=Vi,function Fi(u){iu=u}(yd),function f_(u){zh=u}(yd);const Ds=!0;function Jr(u,o=null){if(null===u)return Vi.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(o=u[".priority"]),(0,Lt.hu)(null===o||"string"==typeof o||"number"==typeof o||"object"==typeof o&&".sv"in o,"Invalid priority type found: "+typeof o),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new ru(u,Jr(o));if(u instanceof Array||!Ds){let l=Vi.EMPTY_NODE;return Ar(u,(h,v)=>{if((0,Lt.r3)(u,h)&&"."!==h.substring(0,1)){const I=Jr(v);(I.isLeafNode()||!I.isEmpty())&&(l=l.updateImmediateChild(h,I))}}),l.updatePriority(Jr(o))}{const l=[];let h=!1;if(Ar(u,(P,K)=>{if("."!==P.substring(0,1)){const de=Jr(K);de.isEmpty()||(h=h||!de.getPriority().isEmpty(),l.push(new bi(P,de)))}}),0===l.length)return Vi.EMPTY_NODE;const I=wl(l,Tc,P=>P.name,Pu);if(h){const P=wl(l,Nr.getCompare());return new Vi(I,Jr(o),new Ac({".priority":P},{".priority":Nr}))}return new Vi(I,Jr(o),Ac.Default)}}!function sg(u){_d=u}(Jr);class su extends Us{constructor(o){super(),this.indexPath_=o,(0,Lt.hu)(!Ki(o)&&".priority"!==Gi(o),"Can't create PathIndex with empty path or .priority key")}extractChild(o){return o.getChild(this.indexPath_)}isDefinedOn(o){return!o.getChild(this.indexPath_).isEmpty()}compare(o,l){const h=this.extractChild(o.node),v=this.extractChild(l.node),I=h.compareTo(v);return 0===I?un(o.name,l.name):I}makePost(o,l){const h=Jr(o),v=Vi.EMPTY_NODE.updateChild(this.indexPath_,h);return new bi(l,v)}maxPost(){const o=Vi.EMPTY_NODE.updateChild(this.indexPath_,yd);return new bi(xt,o)}toString(){return rl(this.indexPath_,0).join("/")}}const Hf=new class jf extends Us{compare(o,l){const h=o.node.compareTo(l.node);return 0===h?un(o.name,l.name):h}isDefinedOn(o){return!0}indexedValueChanged(o,l){return!o.equals(l)}minPost(){return bi.MIN}maxPost(){return bi.MAX}makePost(o,l){const h=Jr(o);return new bi(l,h)}toString(){return".value"}};function Mc(u,o,l){return{type:"child_changed",snapshotNode:o,childName:u,oldSnap:l}}class da{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Lt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Lt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ie}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Lt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Lt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Lt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nr}copy(){const o=new da;return o.limitSet_=this.limitSet_,o.limit_=this.limit_,o.startSet_=this.startSet_,o.startAfterSet_=this.startAfterSet_,o.indexStartValue_=this.indexStartValue_,o.startNameSet_=this.startNameSet_,o.indexStartName_=this.indexStartName_,o.endSet_=this.endSet_,o.endBeforeSet_=this.endBeforeSet_,o.indexEndValue_=this.indexEndValue_,o.endNameSet_=this.endNameSet_,o.indexEndName_=this.indexEndName_,o.index_=this.index_,o.viewFrom_=this.viewFrom_,o}}function Xp(u){const o={};if(u.isDefault())return o;let l;if(u.index_===Nr?l="$priority":u.index_===Hf?l="$value":u.index_===ko?l="$key":((0,Lt.hu)(u.index_ instanceof su,"Unrecognized index type!"),l=u.index_.toString()),o.orderBy=(0,Lt.Wl)(l),u.startSet_){const h=u.startAfterSet_?"startAfter":"startAt";o[h]=(0,Lt.Wl)(u.indexStartValue_),u.startNameSet_&&(o[h]+=","+(0,Lt.Wl)(u.indexStartName_))}if(u.endSet_){const h=u.endBeforeSet_?"endBefore":"endAt";o[h]=(0,Lt.Wl)(u.indexEndValue_),u.endNameSet_&&(o[h]+=","+(0,Lt.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?o.limitToFirst=u.limit_:o.limitToLast=u.limit_),o}function Jp(u){const o={};if(u.startSet_&&(o.sp=u.indexStartValue_,u.startNameSet_&&(o.sn=u.indexStartName_),o.sin=!u.startAfterSet_),u.endSet_&&(o.ep=u.indexEndValue_,u.endNameSet_&&(o.en=u.indexEndName_),o.ein=!u.endBeforeSet_),u.limitSet_){o.l=u.limit_;let l=u.viewFrom_;""===l&&(l=u.isViewFromLeft()?"l":"r"),o.vf=l}return u.index_!==Nr&&(o.i=u.index_.toString()),o}class ih extends Ws{constructor(o,l,h,v){super(),this.repoInfo_=o,this.onDataUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=v,this.log_=Bs("p:rest:"),this.listens_={}}reportStats(o){throw new Error("Method not implemented.")}static getListenId_(o,l){return void 0!==l?"tag$"+l:((0,Lt.hu)(o._queryParams.isDefault(),"should have a tag if it's not a default query."),o._path.toString())}listen(o,l,h,v){const I=o._path.toString();this.log_("Listen called for "+I+" "+o._queryIdentifier);const P=ih.getListenId_(o,h),K={};this.listens_[P]=K;const de=Xp(o._queryParams);this.restRequest_(I+".json",de,(Ee,vt)=>{let Ot=vt;if(404===Ee&&(Ot=null,Ee=null),null===Ee&&this.onDataUpdate_(I,Ot,!1,h),(0,Lt.DV)(this.listens_,P)===K){let rn;rn=Ee?401===Ee?"permission_denied":"rest_error:"+Ee:"ok",v(rn,null)}})}unlisten(o,l){const h=ih.getListenId_(o,l);delete this.listens_[h]}get(o){const l=Xp(o._queryParams),h=o._path.toString(),v=new Lt.BH;return this.restRequest_(h+".json",l,(I,P)=>{let K=P;404===I&&(K=null,I=null),null===I?(this.onDataUpdate_(h,K,!1,null),v.resolve(K)):v.reject(new Error(K))}),v.promise}refreshAuthToken(o){}restRequest_(o,l={},h){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([v,I])=>{v&&v.accessToken&&(l.auth=v.accessToken),I&&I.token&&(l.ac=I.token);const P=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+o+"?ns="+this.repoInfo_.namespace+(0,Lt.xO)(l);this.log_("Sending REST request for "+P);const K=new XMLHttpRequest;K.onreadystatechange=()=>{if(h&&4===K.readyState){this.log_("REST Response for "+P+" received. status:",K.status,"response:",K.responseText);let de=null;if(K.status>=200&&K.status<300){try{de=(0,Lt.cI)(K.responseText)}catch{w("Failed to parse JSON response for "+P+": "+K.responseText)}h(null,de)}else 401!==K.status&&404!==K.status&&w("Got unsuccessful REST response for "+P+" Status: "+K.status),h(K.status);h=null}},K.open("GET",P,!0),K.send()})}}class Wf{constructor(){this.rootNode_=Vi.EMPTY_NODE}getNode(o){return this.rootNode_.getChild(o)}updateSnapshot(o,l){this.rootNode_=this.rootNode_.updateChild(o,l)}}function Lu(){return{value:null,children:new Map}}function sl(u,o,l){if(Ki(o))u.value=l,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(o,l);else{const h=Gi(o);u.children.has(h)||u.children.set(h,Lu()),sl(u.children.get(h),o=kr(o),l)}}function Hh(u,o,l){null!==u.value?l(o,u.value):function Gf(u,o){u.children.forEach((l,h)=>{o(h,l)})}(u,(h,v)=>{Hh(v,new Bi(o.toString()+"/"+h),l)})}class rh{constructor(o){this.collection_=o,this.last_=null}get(){const o=this.collection_.get(),l=Object.assign({},o);return this.last_&&Ar(this.last_,(h,v)=>{l[h]=l[h]-v}),this.last_=o,l}}class Yf{constructor(o,l){this.server_=l,this.statsToReport_={},this.statsListener_=new rh(o);const h=1e4+2e4*Math.random();Xr(this.reportStats_.bind(this),Math.floor(h))}reportStats_(){const o=this.statsListener_.get(),l={};let h=!1;Ar(o,(v,I)=>{I>0&&(0,Lt.r3)(this.statsToReport_,v)&&(l[v]=I,h=!0)}),h&&this.server_.reportStats(l),Xr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Na=(()=>{return(u=Na||(Na={}))[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Na;var u})();function Wh(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Gh{constructor(o,l,h){this.path=o,this.affectedTree=l,this.revert=h,this.type=Na.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(o){if(Ki(this.path)){if(null!=this.affectedTree.value)return(0,Lt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Bi(o));return new Gh(Ri(),l,this.revert)}}return(0,Lt.hu)(Gi(this.path)===o,"operationForChild called for unrelated child."),new Gh(kr(this.path),this.affectedTree,this.revert)}}class Ed{constructor(o,l,h){this.source=o,this.path=l,this.snap=h,this.type=Na.OVERWRITE}operationForChild(o){return Ki(this.path)?new Ed(this.source,Ri(),this.snap.getImmediateChild(o)):new Ed(this.source,kr(this.path),this.snap)}}class sh{constructor(o,l,h){this.source=o,this.path=l,this.children=h,this.type=Na.MERGE}operationForChild(o){if(Ki(this.path)){const l=this.children.subtree(new Bi(o));return l.isEmpty()?null:l.value?new Ed(this.source,Ri(),l.value):new sh(this.source,Ri(),l)}return(0,Lt.hu)(Gi(this.path)===o,"Can't get a merge for a child not on the path of the operation"),new sh(this.source,kr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class au{constructor(o,l,h){this.node_=o,this.fullyInitialized_=l,this.filtered_=h}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(o){if(Ki(o))return this.isFullyInitialized()&&!this.filtered_;const l=Gi(o);return this.isCompleteForChild(l)}isCompleteForChild(o){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(o)}getNode(){return this.node_}}function Vu(u,o,l,h,v,I){const P=h.filter(K=>K.type===l);P.sort((K,de)=>function Xi(u,o,l){if(null==o.childName||null==l.childName)throw(0,Lt.g5)("Should only compare child_ events.");const h=new bi(o.childName,o.snapshotNode),v=new bi(l.childName,l.snapshotNode);return u.index_.compare(h,v)}(u,K,de)),P.forEach(K=>{const de=function g_(u,o,l){return"value"===o.type||"child_removed"===o.type||(o.prevName=l.getPredecessorChildName(o.childName,o.snapshotNode,u.index_)),o}(u,K,I);v.forEach(Ee=>{Ee.respondsTo(K.type)&&o.push(Ee.createEvent(de,u.query_))})})}function ah(u,o){return{eventCache:u,serverCache:o}}function lh(u,o,l,h){return ah(new au(o,l,h),u.serverCache)}function Uu(u,o,l,h){return ah(u.eventCache,new au(o,l,h))}function Fa(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function lu(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Zf;class es{constructor(o,l=(()=>(Zf||(Zf=new Co(Vn)),Zf))()){this.value=o,this.children=l}static fromObject(o){let l=new es(null);return Ar(o,(h,v)=>{l=l.set(new Bi(h),v)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(o,l){if(null!=this.value&&l(this.value))return{path:Ri(),value:this.value};if(Ki(o))return null;{const h=Gi(o),v=this.children.get(h);if(null!==v){const I=v.findRootMostMatchingPathAndValue(kr(o),l);return null!=I?{path:br(new Bi(h),I.path),value:I.value}:null}return null}}findRootMostValueAndPath(o){return this.findRootMostMatchingPathAndValue(o,()=>!0)}subtree(o){if(Ki(o))return this;{const l=Gi(o),h=this.children.get(l);return null!==h?h.subtree(kr(o)):new es(null)}}set(o,l){if(Ki(o))return new es(l,this.children);{const h=Gi(o),I=(this.children.get(h)||new es(null)).set(kr(o),l),P=this.children.insert(h,I);return new es(this.value,P)}}remove(o){if(Ki(o))return this.children.isEmpty()?new es(null):new es(null,this.children);{const l=Gi(o),h=this.children.get(l);if(h){const v=h.remove(kr(o));let I;return I=v.isEmpty()?this.children.remove(l):this.children.insert(l,v),null===this.value&&I.isEmpty()?new es(null):new es(this.value,I)}return this}}get(o){if(Ki(o))return this.value;{const l=Gi(o),h=this.children.get(l);return h?h.get(kr(o)):null}}setTree(o,l){if(Ki(o))return l;{const h=Gi(o),I=(this.children.get(h)||new es(null)).setTree(kr(o),l);let P;return P=I.isEmpty()?this.children.remove(h):this.children.insert(h,I),new es(this.value,P)}}fold(o){return this.fold_(Ri(),o)}fold_(o,l){const h={};return this.children.inorderTraversal((v,I)=>{h[v]=I.fold_(br(o,v),l)}),l(o,this.value,h)}findOnPath(o,l){return this.findOnPath_(o,Ri(),l)}findOnPath_(o,l,h){const v=!!this.value&&h(l,this.value);if(v)return v;if(Ki(o))return null;{const I=Gi(o),P=this.children.get(I);return P?P.findOnPath_(kr(o),br(l,I),h):null}}foreachOnPath(o,l){return this.foreachOnPath_(o,Ri(),l)}foreachOnPath_(o,l,h){if(Ki(o))return this;{this.value&&h(l,this.value);const v=Gi(o),I=this.children.get(v);return I?I.foreachOnPath_(kr(o),br(l,v),h):new es(null)}}foreach(o){this.foreach_(Ri(),o)}foreach_(o,l){this.children.inorderTraversal((h,v)=>{v.foreach_(br(o,h),l)}),this.value&&l(o,this.value)}foreachChild(o){this.children.inorderTraversal((l,h)=>{h.value&&o(l,h.value)})}}class Cl{constructor(o){this.writeTree_=o}static empty(){return new Cl(new es(null))}}function Zh(u,o,l){if(Ki(o))return new Cl(new es(l));{const h=u.writeTree_.findRootMostValueAndPath(o);if(null!=h){const v=h.path;let I=h.value;const P=wo(v,o);return I=I.updateChild(P,l),new Cl(u.writeTree_.set(v,I))}{const v=new es(l),I=u.writeTree_.setTree(o,v);return new Cl(I)}}}function cg(u,o,l){let h=u;return Ar(l,(v,I)=>{h=Zh(h,br(o,v),I)}),h}function ch(u,o){if(Ki(o))return Cl.empty();{const l=u.writeTree_.setTree(o,new es(null));return new Cl(l)}}function cu(u,o){return null!=Oc(u,o)}function Oc(u,o){const l=u.writeTree_.findRootMostValueAndPath(o);return null!=l?u.writeTree_.get(l.path).getChild(wo(l.path,o)):null}function nm(u){const o=[],l=u.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Nr,(h,v)=>{o.push(new bi(h,v))}):u.writeTree_.children.inorderTraversal((h,v)=>{null!=v.value&&o.push(new bi(h,v.value))}),o}function Rc(u,o){if(Ki(o))return u;{const l=Oc(u,o);return new Cl(null!=l?new es(l):u.writeTree_.subtree(o))}}function qh(u){return u.writeTree_.isEmpty()}function Cd(u,o){return im(Ri(),u.writeTree_,o)}function im(u,o,l){if(null!=o.value)return l.updateChild(u,o.value);{let h=null;return o.children.inorderTraversal((v,I)=>{".priority"===v?((0,Lt.hu)(null!==I.value,"Priority writes must always be leaf nodes"),h=I.value):l=im(br(u,v),I,l)}),!l.getChild(u).isEmpty()&&null!==h&&(l=l.updateChild(br(u,".priority"),h)),l}}function uh(u,o){return hg(o,u)}function ju(u,o){if(u.snap)return io(u.path,o);for(const l in u.children)if(u.children.hasOwnProperty(l)&&io(br(u.path,l),o))return!0;return!1}function ug(u){return u.visible}function uu(u,o,l){let h=Cl.empty();for(let v=0;v<u.length;++v){const I=u[v];if(o(I)){const P=I.path;let K;if(I.snap)io(l,P)?(K=wo(l,P),h=Zh(h,K,I.snap)):io(P,l)&&(K=wo(P,l),h=Zh(h,Ri(),I.snap.getChild(K)));else{if(!I.children)throw(0,Lt.g5)("WriteRecord should have .snap or .children");if(io(l,P))K=wo(l,P),h=cg(h,K,I.children);else if(io(P,l))if(K=wo(P,l),Ki(K))h=cg(h,Ri(),I.children);else{const de=(0,Lt.DV)(I.children,Gi(K));if(de){const Ee=de.getChild(kr(K));h=Zh(h,Ri(),Ee)}}}}}return h}function Pc(u,o,l,h,v){if(h||v){const I=Rc(u.visibleWrites,o);return!v&&qh(I)?l:v||null!=l||cu(I,Ri())?Cd(uu(u.allWrites,function(Ee){return(Ee.visible||v)&&(!h||!~h.indexOf(Ee.writeId))&&(io(Ee.path,o)||io(o,Ee.path))},o),l||Vi.EMPTY_NODE):null}{const I=Oc(u.visibleWrites,o);if(null!=I)return I;{const P=Rc(u.visibleWrites,o);return qh(P)?l:null!=l||cu(P,Ri())?Cd(P,l||Vi.EMPTY_NODE):null}}}function fc(u,o,l,h){return Pc(u.writeTree,u.treePath,o,l,h)}function du(u,o){return function qf(u,o,l){let h=Vi.EMPTY_NODE;const v=Oc(u.visibleWrites,o);if(v)return v.isLeafNode()||v.forEachChild(Nr,(I,P)=>{h=h.updateImmediateChild(I,P)}),h;if(l){const I=Rc(u.visibleWrites,o);return l.forEachChild(Nr,(P,K)=>{const de=Cd(Rc(I,new Bi(P)),K);h=h.updateImmediateChild(P,de)}),nm(I).forEach(P=>{h=h.updateImmediateChild(P.name,P.node)}),h}return nm(Rc(u.visibleWrites,o)).forEach(P=>{h=h.updateImmediateChild(P.name,P.node)}),h}(u.writeTree,u.treePath,o)}function am(u,o,l,h){return function Qf(u,o,l,h,v){(0,Lt.hu)(h||v,"Either existingEventSnap or existingServerSnap must exist");const I=br(o,l);if(cu(u.visibleWrites,I))return null;{const P=Rc(u.visibleWrites,I);return qh(P)?v.getChild(l):Cd(P,v.getChild(l))}}(u.writeTree,u.treePath,o,l,h)}function hh(u,o){return function dh(u,o){return Oc(u.visibleWrites,o)}(u.writeTree,br(u.treePath,o))}function hu(u,o,l){return function dg(u,o,l,h){const v=br(o,l),I=Oc(u.visibleWrites,v);return null!=I?I:h.isCompleteForChild(l)?Cd(Rc(u.visibleWrites,v),h.getNode().getImmediateChild(l)):null}(u.writeTree,u.treePath,o,l)}function lm(u,o){return hg(br(u.treePath,o),u.writeTree)}function hg(u,o){return{treePath:u,writeTree:o}}class fg{constructor(){this.changeMap=new Map}trackChildChange(o){const l=o.type,h=o.childName;(0,Lt.hu)("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),(0,Lt.hu)(".priority"!==h,"Only non-priority child changes can be tracked.");const v=this.changeMap.get(h);if(v){const I=v.type;if("child_added"===l&&"child_removed"===I)this.changeMap.set(h,Mc(h,o.snapshotNode,v.snapshotNode));else if("child_removed"===l&&"child_added"===I)this.changeMap.delete(h);else if("child_removed"===l&&"child_changed"===I)this.changeMap.set(h,function $l(u,o){return{type:"child_removed",snapshotNode:o,childName:u}}(h,v.oldSnap));else if("child_changed"===l&&"child_added"===I)this.changeMap.set(h,function bd(u,o){return{type:"child_added",snapshotNode:o,childName:u}}(h,o.snapshotNode));else{if("child_changed"!==l||"child_changed"!==I)throw(0,Lt.g5)("Illegal combination of changes: "+o+" occurred after "+v);this.changeMap.set(h,Mc(h,o.snapshotNode,v.oldSnap))}}else this.changeMap.set(h,o)}getChanges(){return Array.from(this.changeMap.values())}}const Qh=new class Jf{getCompleteChild(o){return null}getChildAfterChild(o,l,h){return null}};class Hu{constructor(o,l,h=null){this.writes_=o,this.viewCache_=l,this.optCompleteServerCache_=h}getCompleteChild(o){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(o))return l.getNode().getImmediateChild(o);{const h=null!=this.optCompleteServerCache_?new au(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hu(this.writes_,o,h)}}getChildAfterChild(o,l,h){const v=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lu(this.viewCache_),I=function Xf(u,o,l,h,v,I){return function kc(u,o,l,h,v,I,P){let K;const de=Rc(u.visibleWrites,o),Ee=Oc(de,Ri());if(null!=Ee)K=Ee;else{if(null==l)return[];K=Cd(de,l)}if(K=K.withIndex(P),K.isEmpty()||K.isLeafNode())return[];{const vt=[],Ot=P.getCompare(),rn=I?K.getReverseIteratorFrom(h,P):K.getIteratorFrom(h,P);let Dn=rn.getNext();for(;Dn&&vt.length<v;)0!==Ot(Dn,h)&&vt.push(Dn),Dn=rn.getNext();return vt}}(u.writeTree,u.treePath,o,l,h,v,I)}(this.writes_,v,l,1,h,o);return 0===I.length?null:I[0]}}function fh(u,o,l,h,v,I){const P=o.eventCache;if(null!=hh(h,l))return o;{let K,de;if(Ki(l))if((0,Lt.hu)(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()){const Ee=lu(o),Ot=du(h,Ee instanceof Vi?Ee:Vi.EMPTY_NODE);K=u.filter.updateFullNode(o.eventCache.getNode(),Ot,I)}else{const Ee=fc(h,lu(o));K=u.filter.updateFullNode(o.eventCache.getNode(),Ee,I)}else{const Ee=Gi(l);if(".priority"===Ee){(0,Lt.hu)(1===El(l),"Can't have a priority with additional path components");const vt=P.getNode();de=o.serverCache.getNode();const Ot=am(h,l,vt,de);K=null!=Ot?u.filter.updatePriority(vt,Ot):P.getNode()}else{const vt=kr(l);let Ot;if(P.isCompleteForChild(Ee)){de=o.serverCache.getNode();const rn=am(h,l,P.getNode(),de);Ot=null!=rn?P.getNode().getImmediateChild(Ee).updateChild(vt,rn):P.getNode().getImmediateChild(Ee)}else Ot=hu(h,Ee,o.serverCache);K=null!=Ot?u.filter.updateChild(P.getNode(),Ee,Ot,vt,v,I):P.getNode()}}return lh(o,K,P.isFullyInitialized()||Ki(l),u.filter.filtersNodes())}}function ep(u,o,l,h,v,I,P,K){const de=o.serverCache;let Ee;const vt=P?u.filter:u.filter.getIndexedFilter();if(Ki(l))Ee=vt.updateFullNode(de.getNode(),h,null);else if(vt.filtersNodes()&&!de.isFiltered()){const Dn=de.getNode().updateChild(l,h);Ee=vt.updateFullNode(de.getNode(),Dn,null)}else{const Dn=Gi(l);if(!de.isCompleteForPath(l)&&El(l)>1)return o;const Sn=kr(l),Pi=de.getNode().getImmediateChild(Dn).updateChild(Sn,h);Ee=".priority"===Dn?vt.updatePriority(de.getNode(),Pi):vt.updateChild(de.getNode(),Dn,Pi,Sn,Qh,null)}const Ot=Uu(o,Ee,de.isFullyInitialized()||Ki(l),vt.filtersNodes());return fh(u,Ot,l,v,new Hu(v,Ot,I),K)}function Wl(u,o,l,h,v,I,P){const K=o.eventCache;let de,Ee;const vt=new Hu(v,o,I);if(Ki(l))Ee=u.filter.updateFullNode(o.eventCache.getNode(),h,P),de=lh(o,Ee,!0,u.filter.filtersNodes());else{const Ot=Gi(l);if(".priority"===Ot)Ee=u.filter.updatePriority(o.eventCache.getNode(),h),de=lh(o,Ee,K.isFullyInitialized(),K.isFiltered());else{const rn=kr(l),Dn=K.getNode().getImmediateChild(Ot);let Sn;if(Ki(rn))Sn=h;else{const Yn=vt.getCompleteChild(Ot);Sn=null!=Yn?".priority"===Ou(rn)&&Yn.getChild(tu(rn)).isEmpty()?Yn:Yn.updateChild(rn,h):Vi.EMPTY_NODE}de=Dn.equals(Sn)?o:lh(o,u.filter.updateChild(K.getNode(),Ot,Sn,rn,vt,P),K.isFullyInitialized(),u.filter.filtersNodes())}}return de}function Gl(u,o){return u.eventCache.isCompleteForChild(o)}function tp(u,o,l){return l.foreach((h,v)=>{o=o.updateChild(h,v)}),o}function cm(u,o,l,h,v,I,P,K){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;let Ee,de=o;Ee=Ki(l)?h:new es(null).setTree(l,h);const vt=o.serverCache.getNode();return Ee.children.inorderTraversal((Ot,rn)=>{if(vt.hasChild(Ot)){const Sn=tp(0,o.serverCache.getNode().getImmediateChild(Ot),rn);de=ep(u,de,new Bi(Ot),Sn,v,I,P,K)}}),Ee.children.inorderTraversal((Ot,rn)=>{const Dn=!o.serverCache.isCompleteForChild(Ot)&&null===rn.value;if(!vt.hasChild(Ot)&&!Dn){const Yn=tp(0,o.serverCache.getNode().getImmediateChild(Ot),rn);de=ep(u,de,new Bi(Ot),Yn,v,I,P,K)}}),de}function um(u,o){const l=lu(u.viewCache_);return l&&(u.query._queryParams.loadsAllData()||!Ki(o)&&!l.getImmediateChild(Gi(o)).isEmpty())?l.getChild(o):null}function sp(u,o,l,h){o.type===Na.MERGE&&null!==o.source.queryId&&((0,Lt.hu)(lu(u.viewCache_),"We should always have a full cache before handling merges"),(0,Lt.hu)(Fa(u.viewCache_),"Missing event cache, even though we have a server cache"));const v=u.viewCache_,I=function __(u,o,l,h,v){const I=new fg;let P,K;if(l.type===Na.OVERWRITE){const Ee=l;Ee.source.fromUser?P=Wl(u,o,Ee.path,Ee.snap,h,v,I):((0,Lt.hu)(Ee.source.fromServer,"Unknown source."),K=Ee.source.tagged||o.serverCache.isFiltered()&&!Ki(Ee.path),P=ep(u,o,Ee.path,Ee.snap,h,v,K,I))}else if(l.type===Na.MERGE){const Ee=l;Ee.source.fromUser?P=function $u(u,o,l,h,v,I,P){let K=o;return h.foreach((de,Ee)=>{const vt=br(l,de);Gl(o,Gi(vt))&&(K=Wl(u,K,vt,Ee,v,I,P))}),h.foreach((de,Ee)=>{const vt=br(l,de);Gl(o,Gi(vt))||(K=Wl(u,K,vt,Ee,v,I,P))}),K}(u,o,Ee.path,Ee.children,h,v,I):((0,Lt.hu)(Ee.source.fromServer,"Unknown source."),K=Ee.source.tagged||o.serverCache.isFiltered(),P=cm(u,o,Ee.path,Ee.children,h,v,K,I))}else if(l.type===Na.ACK_USER_WRITE){const Ee=l;P=Ee.revert?function np(u,o,l,h,v,I){let P;if(null!=hh(h,l))return o;{const K=new Hu(h,o,v),de=o.eventCache.getNode();let Ee;if(Ki(l)||".priority"===Gi(l)){let vt;if(o.serverCache.isFullyInitialized())vt=fc(h,lu(o));else{const Ot=o.serverCache.getNode();(0,Lt.hu)(Ot instanceof Vi,"serverChildren would be complete if leaf node"),vt=du(h,Ot)}Ee=u.filter.updateFullNode(de,vt,I)}else{const vt=Gi(l);let Ot=hu(h,vt,o.serverCache);null==Ot&&o.serverCache.isCompleteForChild(vt)&&(Ot=de.getImmediateChild(vt)),Ee=null!=Ot?u.filter.updateChild(de,vt,Ot,kr(l),K,I):o.eventCache.getNode().hasChild(vt)?u.filter.updateChild(de,vt,Vi.EMPTY_NODE,kr(l),K,I):de,Ee.isEmpty()&&o.serverCache.isFullyInitialized()&&(P=fc(h,lu(o)),P.isLeafNode()&&(Ee=u.filter.updateFullNode(Ee,P,I)))}return P=o.serverCache.isFullyInitialized()||null!=hh(h,Ri()),lh(o,Ee,P,u.filter.filtersNodes())}}(u,o,Ee.path,h,v,I):function mg(u,o,l,h,v,I,P){if(null!=hh(v,l))return o;const K=o.serverCache.isFiltered(),de=o.serverCache;if(null!=h.value){if(Ki(l)&&de.isFullyInitialized()||de.isCompleteForPath(l))return ep(u,o,l,de.getNode().getChild(l),v,I,K,P);if(Ki(l)){let Ee=new es(null);return de.getNode().forEachChild(ko,(vt,Ot)=>{Ee=Ee.set(new Bi(vt),Ot)}),cm(u,o,l,Ee,v,I,K,P)}return o}{let Ee=new es(null);return h.foreach((vt,Ot)=>{const rn=br(l,vt);de.isCompleteForPath(rn)&&(Ee=Ee.set(vt,de.getNode().getChild(rn)))}),cm(u,o,l,Ee,v,I,K,P)}}(u,o,Ee.path,Ee.affectedTree,h,v,I)}else{if(l.type!==Na.LISTEN_COMPLETE)throw(0,Lt.g5)("Unknown operation type: "+l.type);P=function v_(u,o,l,h,v){const I=o.serverCache;return fh(u,Uu(o,I.getNode(),I.isFullyInitialized()||Ki(l),I.isFiltered()),l,h,Qh,v)}(u,o,l.path,h,I)}const de=I.getChanges();return function y_(u,o,l){const h=o.eventCache;if(h.isFullyInitialized()){const v=h.getNode().isLeafNode()||h.getNode().isEmpty(),I=Fa(u);(l.length>0||!u.eventCache.isFullyInitialized()||v&&!h.getNode().equals(I)||!h.getNode().getPriority().equals(I.getPriority()))&&l.push(function vd(u){return{type:"value",snapshotNode:u}}(Fa(o)))}}(o,P,de),{viewCache:P,changes:de}}(u.processor_,v,o,l,h);return function pg(u,o){(0,Lt.hu)(o.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,Lt.hu)(o.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,I.viewCache),(0,Lt.hu)(I.viewCache.serverCache.isFullyInitialized()||!v.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=I.viewCache,function _g(u,o,l,h){return function wd(u,o,l,h){const v=[],I=[];return o.forEach(P=>{"child_changed"===P.type&&u.index_.indexedValueChanged(P.oldSnap,P.snapshotNode)&&I.push(function ou(u,o){return{type:"child_moved",snapshotNode:o,childName:u}}(P.childName,P.snapshotNode))}),Vu(u,v,"child_removed",o,h,l),Vu(u,v,"child_added",o,h,l),Vu(u,v,"child_moved",I,h,l),Vu(u,v,"child_changed",o,h,l),Vu(u,v,"value",o,h,l),v}(u.eventGenerator_,o,l,h?[h]:u.eventRegistrations_)}(u,I.changes,I.viewCache.eventCache.getNode(),null)}let ph,cp;function lp(u,o,l,h){const v=o.source.queryId;if(null!==v){const I=u.views.get(v);return(0,Lt.hu)(null!=I,"SyncTree gave us an op for an invalid query."),sp(I,o,l,h)}{let I=[];for(const P of u.views.values())I=I.concat(sp(P,o,l,h));return I}}function Gu(u,o){let l=null;for(const h of u.views.values())l=l||um(h,o);return l}class up{constructor(o){this.listenProvider_=o,this.syncPointTree_=new es(null),this.pendingWriteTree_=function Il(){return{visibleWrites:Cl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hm(u,o,l,h,v){return function rm(u,o,l,h,v){(0,Lt.hu)(h>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===v&&(v=!0),u.allWrites.push({path:o,snap:l,writeId:h,visible:v}),v&&(u.visibleWrites=Zh(u.visibleWrites,o,l)),u.lastWriteId=h}(u.pendingWriteTree_,o,l,h,v),v?xd(u,new Ed({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},o,l)):[]}function Zu(u,o,l=!1){const h=function sm(u,o){for(let l=0;l<u.allWrites.length;l++){const h=u.allWrites[l];if(h.writeId===o)return h}return null}(u.pendingWriteTree_,o);if(function zu(u,o){const l=u.allWrites.findIndex(K=>K.writeId===o);(0,Lt.hu)(l>=0,"removeWrite called with nonexistent writeId.");const h=u.allWrites[l];u.allWrites.splice(l,1);let v=h.visible,I=!1,P=u.allWrites.length-1;for(;v&&P>=0;){const K=u.allWrites[P];K.visible&&(P>=l&&ju(K,h.path)?v=!1:io(h.path,K.path)&&(I=!0)),P--}return!!v&&(I?(function om(u){u.visibleWrites=uu(u.allWrites,ug,Ri()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(h.snap?u.visibleWrites=ch(u.visibleWrites,h.path):Ar(h.children,de=>{u.visibleWrites=ch(u.visibleWrites,br(h.path,de))}),!0))}(u.pendingWriteTree_,o)){let I=new es(null);return null!=h.snap?I=I.set(Ri(),!0):Ar(h.children,P=>{I=I.set(new Bi(P),!0)}),xd(u,new Gh(h.path,I,l))}return[]}function _h(u,o,l){return xd(u,new Ed({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,l))}function mc(u,o,l){const v=u.pendingWriteTree_,I=u.syncPointTree_.findOnPath(o,(P,K)=>{const Ee=Gu(K,wo(P,o));if(Ee)return Ee});return Pc(v,o,I,l,!0)}function xd(u,o){return fp(o,u.syncPointTree_,null,uh(u.pendingWriteTree_,Ri()))}function fp(u,o,l,h){if(Ki(u.path))return wg(u,o,l,h);{const v=o.get(Ri());null==l&&null!=v&&(l=Gu(v,Ri()));let I=[];const P=Gi(u.path),K=u.operationForChild(P),de=o.children.get(P);if(de&&K){const Ee=l?l.getImmediateChild(P):null,vt=lm(h,P);I=I.concat(fp(K,de,Ee,vt))}return v&&(I=I.concat(lp(v,u,h,l))),I}}function wg(u,o,l,h){const v=o.get(Ri());null==l&&null!=v&&(l=Gu(v,Ri()));let I=[];return o.children.inorderTraversal((P,K)=>{const de=l?l.getImmediateChild(P):null,Ee=lm(h,P),vt=u.operationForChild(P);vt&&(I=I.concat(wg(vt,K,de,Ee)))}),v&&(I=I.concat(lp(v,u,h,l))),I}function gp(u,o){return u.tagToQueryMap.get(o)}function Gs(u){const o=u.indexOf("$");return(0,Lt.hu)(-1!==o&&o<u.length-1,"Bad queryKey."),{queryId:u.substr(o+1),path:new Bi(u.substr(0,o))}}function _p(u,o,l){const h=u.syncPointTree_.get(o);return(0,Lt.hu)(h,"Missing sync point for query tag that we're tracking"),lp(h,l,uh(u.pendingWriteTree_,o),null)}class af{constructor(o){this.node_=o}getImmediateChild(o){const l=this.node_.getImmediateChild(o);return new af(l)}node(){return this.node_}}class lf{constructor(o,l){this.syncTree_=o,this.path_=l}getImmediateChild(o){const l=br(this.path_,o);return new lf(this.syncTree_,l)}node(){return mc(this.syncTree_,this.path_)}}const sy=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},pm=function(u,o,l){return u&&"object"==typeof u?((0,Lt.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?yp(u[".sv"],o,l):"object"==typeof u[".sv"]?Cg(u[".sv"],o):void(0,Lt.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},yp=function(u,o,l){if("timestamp"===u)return l.timestamp;(0,Lt.hu)(!1,"Unexpected server value: "+u)},Cg=function(u,o,l){u.hasOwnProperty("increment")||(0,Lt.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const h=u.increment;"number"!=typeof h&&(0,Lt.hu)(!1,"Unexpected increment value: "+h);const v=o.node();if((0,Lt.hu)(null!==v&&typeof v<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!v.isLeafNode())return h;const P=v.getValue();return"number"!=typeof P?h:P+h},yh=function(u,o,l,h){return cf(o,new lf(l,u),h)},gc=function(u,o,l){return cf(u,new af(o),l)};function cf(u,o,l){const h=u.getPriority().val(),v=pm(h,o.getImmediateChild(".priority"),l);let I;if(u.isLeafNode()){const P=u,K=pm(P.getValue(),o,l);return K!==P.getValue()||v!==P.getPriority().val()?new ru(K,Jr(v)):u}{const P=u;return I=P,v!==P.getPriority().val()&&(I=I.updatePriority(new ru(v))),P.forEachChild(Nr,(K,de)=>{const Ee=cf(de,o.getImmediateChild(K),l);Ee!==de&&(I=I.updateImmediateChild(K,Ee))}),I}}class vh{constructor(o="",l=null,h={children:{},childCount:0}){this.name=o,this.parent=l,this.node=h}}function qu(u,o){let l=o instanceof Bi?o:new Bi(o),h=u,v=Gi(l);for(;null!==v;){const I=(0,Lt.DV)(h.node.children,v)||{children:{},childCount:0};h=new vh(v,h,I),l=kr(l),v=Gi(l)}return h}function Td(u){return u.node.value}function uf(u,o){u.node.value=o,ym(u)}function mm(u){return u.node.childCount>0}function vp(u,o){Ar(u.node.children,(l,h)=>{o(new vh(l,u,h))})}function _m(u,o,l,h){l&&!h&&o(u),vp(u,v=>{_m(v,o,!0,h)}),l&&h&&o(u)}function Ad(u){return new Bi(null===u.parent?u.name:Ad(u.parent)+"/"+u.name)}function ym(u){null!==u.parent&&function Md(u,o,l){const h=function gm(u){return void 0===Td(u)&&!mm(u)}(l),v=(0,Lt.r3)(u.node.children,o);h&&v?(delete u.node.children[o],u.node.childCount--,ym(u)):!h&&!v&&(u.node.children[o]=l.node,u.node.childCount++,ym(u))}(u.parent,u.name,u)}const Od=/[\[\].#$\/\u0000-\u001F\u007F]/,df=/[\[\].#$\u0000-\u001F\u007F]/,hf=10485760,Rd=function(u){return"string"==typeof u&&0!==u.length&&!Od.test(u)},ff=function(u,o,l){const h=l instanceof Bi?new Uf(l,u):l;if(void 0===o)throw new Error(u+"contains undefined "+b(h));if("function"==typeof o)throw new Error(u+"contains a function "+b(h)+" with contents = "+o.toString());if(Y(o))throw new Error(u+"contains "+o.toString()+" "+b(h));if("string"==typeof o&&o.length>hf/3&&(0,Lt.ug)(o)>hf)throw new Error(u+"contains a string greater than "+hf+" utf8 bytes "+b(h)+" ('"+o.substring(0,50)+"...')");if(o&&"object"==typeof o){let v=!1,I=!1;if(Ar(o,(P,K)=>{if(".value"===P)v=!0;else if(".priority"!==P&&".sv"!==P&&(I=!0,!Rd(P)))throw new Error(u+" contains an invalid key ("+P+") "+b(h)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function zf(u,o){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(o),u.byteLength_+=(0,Lt.ug)(o),g(u)})(h,P),ff(u,K,h),function x(u){const o=u.parts_.pop();u.byteLength_-=(0,Lt.ug)(o),u.parts_.length>0&&(u.byteLength_-=1)}(h)}),v&&I)throw new Error(u+' contains ".value" child '+b(h)+" in addition to actual children.")}},bh=function(u,o){const l=o.path.toString();if("string"!=typeof o.repoInfo.host||0===o.repoInfo.host.length||!Rd(o.repoInfo.namespace)&&"localhost"!==o.repoInfo.host.split(":")[0]||0!==l.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),function(u){return"string"==typeof u&&0!==u.length&&!df.test(u)}(u)}(l))throw new Error((0,Lt.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Eh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function La(u,o,l){(function kd(u,o){let l=null;for(let h=0;h<o.length;h++){const v=o[h],I=v.getPath();null!==l&&!Ru(I,l.path)&&(u.eventLists_.push(l),l=null),null===l&&(l={events:[],path:I}),l.events.push(v)}l&&u.eventLists_.push(l)})(u,l),function mf(u,o){u.recursionDepth_++;let l=!0;for(let h=0;h<u.eventLists_.length;h++){const v=u.eventLists_[h];v&&(o(v.path)?(gf(u.eventLists_[h]),u.eventLists_[h]=null):l=!1)}l&&(u.eventLists_=[]),u.recursionDepth_--}(u,h=>io(h,o)||io(o,h))}function gf(u){for(let o=0;o<u.events.length;o++){const l=u.events[o];if(null!==l){u.events[o]=null;const h=l.getEventRunner();Oo&&Ir("event: "+l.toString()),Ta(h)}}}const wh="repo_interrupt",I_=25;class D_{constructor(o,l,h,v){this.repoInfo_=o,this.forceRestClient_=l,this.authTokenProvider_=h,this.appCheckProvider_=v,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Eh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lu(),this.transactionQueueTree_=new vh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ig(u){const l=u.infoData_.getNode(new Bi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function Nd(u){return sy({timestamp:Ig(u)})}function Ch(u,o,l,h,v){u.dataUpdateCount++;const I=new Bi(o);l=u.interceptServerDataCallback_?u.interceptServerDataCallback_(o,l):l;let P=[];if(v)if(h){const de=(0,Lt.UI)(l,Ee=>Jr(Ee));P=function Eg(u,o,l,h){const v=gp(u,h);if(v){const I=Gs(v),P=I.path,K=I.queryId,de=wo(P,o),Ee=es.fromObject(l);return _p(u,P,new sh(Wh(K),de,Ee))}return[]}(u.serverSyncTree_,I,de,v)}else{const de=Jr(l);P=function Ui(u,o,l,h){const v=gp(u,h);if(null!=v){const I=Gs(v),P=I.path,K=I.queryId,de=wo(P,o);return _p(u,P,new Ed(Wh(K),de,l))}return[]}(u.serverSyncTree_,I,de,v)}else if(h){const de=(0,Lt.UI)(l,Ee=>Jr(Ee));P=function vg(u,o,l){const h=es.fromObject(l);return xd(u,new sh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o,h))}(u.serverSyncTree_,I,de)}else{const de=Jr(l);P=_h(u.serverSyncTree_,I,de)}let K=I;P.length>0&&(K=xh(u,I)),La(u.eventQueue_,K,P)}function Ih(u,o){ha(u,"connected",o),!1===o&&function Cp(u){Qu(u,"onDisconnectEvents");const o=Nd(u),l=Lu();Hh(u.onDisconnect_,Ri(),(v,I)=>{const P=yh(v,I,u.serverSyncTree_,o);sl(l,v,P)});let h=[];Hh(l,Ri(),(v,I)=>{h=h.concat(_h(u.serverSyncTree_,v,I));const P=function Xu(u,o){const l=Ad(Dm(u,o)),h=qu(u.transactionQueueTree_,o);return function w_(u,o,l){let h=l?u:u.parent;for(;null!==h;){if(o(h))return!0;h=h.parent}}(h,v=>{Ef(u,v)}),Ef(u,h),_m(h,v=>{Ef(u,v)}),l}(u,v);xh(u,P)}),u.onDisconnect_=Lu(),La(u.eventQueue_,Ri(),h)}(u)}function ha(u,o,l){const h=new Bi("/.info/"+o),v=Jr(l);u.infoData_.updateSnapshot(h,v);const I=_h(u.infoSyncTree_,h,v);La(u.eventQueue_,h,I)}function wp(u){return u.nextWriteId_++}function Qu(u,...o){let l="";u.persistentConnection_&&(l=u.persistentConnection_.id+":"),Ir(l,...o)}function bf(u,o,l){return mc(u.serverSyncTree_,o,l)||Vi.EMPTY_NODE}function so(u,o=u.transactionQueueTree_){if(o||Sh(u,o),Td(o)){const l=xp(u,o);(0,Lt.hu)(l.length>0,"Sending zero length transaction queue"),l.every(v=>0===v.status)&&function Dp(u,o,l){const h=l.map(Ee=>Ee.currentWriteId),v=bf(u,o,h);let I=v;const P=v.hash();for(let Ee=0;Ee<l.length;Ee++){const vt=l[Ee];(0,Lt.hu)(0===vt.status,"tryToSendTransactionQueue_: items in queue should all be run."),vt.status=1,vt.retryCount++;const Ot=wo(o,vt.path);I=I.updateChild(Ot,vt.currentOutputSnapshotRaw)}const K=I.val(!0),de=o;u.server_.put(de.toString(),K,Ee=>{Qu(u,"transaction put response",{path:de.toString(),status:Ee});let vt=[];if("ok"===Ee){const Ot=[];for(let rn=0;rn<l.length;rn++)l[rn].status=2,vt=vt.concat(Zu(u.serverSyncTree_,l[rn].currentWriteId)),l[rn].onComplete&&Ot.push(()=>l[rn].onComplete(null,!0,l[rn].currentOutputSnapshotResolved)),l[rn].unwatcher();Sh(u,qu(u.transactionQueueTree_,o)),so(u,u.transactionQueueTree_),La(u.eventQueue_,o,vt);for(let rn=0;rn<Ot.length;rn++)Ta(Ot[rn])}else{if("datastale"===Ee)for(let Ot=0;Ot<l.length;Ot++)l[Ot].status=3===l[Ot].status?4:0;else{w("transaction at "+de.toString()+" failed: "+Ee);for(let Ot=0;Ot<l.length;Ot++)l[Ot].status=4,l[Ot].abortReason=Ee}xh(u,o)}},P)}(u,Ad(o),l)}else mm(o)&&vp(o,l=>{so(u,l)})}function xh(u,o){const l=Dm(u,o),h=Ad(l);return function Im(u,o,l){if(0===o.length)return;const h=[];let v=[];const P=o.filter(K=>0===K.status).map(K=>K.currentWriteId);for(let K=0;K<o.length;K++){const de=o[K],Ee=wo(l,de.path);let Ot,vt=!1;if((0,Lt.hu)(null!==Ee,"rerunTransactionsUnderNode_: relativePath should not be null."),4===de.status)vt=!0,Ot=de.abortReason,v=v.concat(Zu(u.serverSyncTree_,de.currentWriteId,!0));else if(0===de.status)if(de.retryCount>=I_)vt=!0,Ot="maxretry",v=v.concat(Zu(u.serverSyncTree_,de.currentWriteId,!0));else{const rn=bf(u,de.path,P);de.currentInputSnapshot=rn;const Dn=o[K].update(rn.val());if(void 0!==Dn){ff("transaction failed: Data returned ",Dn,de.path);let Sn=Jr(Dn);"object"==typeof Dn&&null!=Dn&&(0,Lt.r3)(Dn,".priority")||(Sn=Sn.updatePriority(rn.getPriority()));const Pi=de.currentWriteId,Er=Nd(u),_s=gc(Sn,rn,Er);de.currentOutputSnapshotRaw=Sn,de.currentOutputSnapshotResolved=_s,de.currentWriteId=wp(u),P.splice(P.indexOf(Pi),1),v=v.concat(hm(u.serverSyncTree_,de.path,_s,de.currentWriteId,de.applyLocally)),v=v.concat(Zu(u.serverSyncTree_,Pi,!0))}else vt=!0,Ot="nodata",v=v.concat(Zu(u.serverSyncTree_,de.currentWriteId,!0))}La(u.eventQueue_,l,v),v=[],vt&&(o[K].status=2,setTimeout(o[K].unwatcher,Math.floor(0)),o[K].onComplete&&h.push("nodata"===Ot?()=>o[K].onComplete(null,!1,o[K].currentInputSnapshot):()=>o[K].onComplete(new Error(Ot),!1,null)))}Sh(u,u.transactionQueueTree_);for(let K=0;K<h.length;K++)Ta(h[K]);so(u,u.transactionQueueTree_)}(u,xp(u,l),h),h}function Dm(u,o){let l,h=u.transactionQueueTree_;for(l=Gi(o);null!==l&&void 0===Td(h);)h=qu(h,l),l=Gi(o=kr(o));return h}function xp(u,o){const l=[];return Sg(u,o,l),l.sort((h,v)=>h.order-v.order),l}function Sg(u,o,l){const h=Td(o);if(h)for(let v=0;v<h.length;v++)l.push(h[v]);vp(o,v=>{Sg(u,v,l)})}function Sh(u,o){const l=Td(o);if(l){let h=0;for(let v=0;v<l.length;v++)2!==l[v].status&&(l[h]=l[v],h++);l.length=h,uf(o,l.length>0?l:void 0)}vp(o,h=>{Sh(u,h)})}function Ef(u,o){const l=Td(o);if(l){const h=[];let v=[],I=-1;for(let P=0;P<l.length;P++)3===l[P].status||(1===l[P].status?((0,Lt.hu)(I===P-1,"All SENT items should be at beginning of queue."),I=P,l[P].status=3,l[P].abortReason="set"):((0,Lt.hu)(0===l[P].status,"Unexpected transaction status in abort"),l[P].unwatcher(),v=v.concat(Zu(u.serverSyncTree_,l[P].currentWriteId,!0)),l[P].onComplete&&h.push(l[P].onComplete.bind(null,new Error("set"),!1,null))));-1===I?uf(o,void 0):l.length=I+1,La(u.eventQueue_,Ad(o),v);for(let P=0;P<h.length;P++)Ta(h[P])}}const Ju=function(u,o){const l=Sp(u),h=l.namespace;return"firebase.com"===l.domain&&S(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!h||"undefined"===h)&&"localhost"!==l.domain&&S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&w("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new el(l.host,l.secure,h,"ws"===l.scheme||"wss"===l.scheme,o,"",h!==l.subdomain),path:new Bi(l.pathString)}},Sp=function(u){let o="",l="",h="",v="",I="",P=!0,K="https",de=443;if("string"==typeof u){let Ee=u.indexOf("//");Ee>=0&&(K=u.substring(0,Ee-1),u=u.substring(Ee+2));let vt=u.indexOf("/");-1===vt&&(vt=u.length);let Ot=u.indexOf("?");-1===Ot&&(Ot=u.length),o=u.substring(0,Math.min(vt,Ot)),vt<Ot&&(v=function Tg(u){let o="";const l=u.split("/");for(let h=0;h<l.length;h++)if(l[h].length>0){let v=l[h];try{v=decodeURIComponent(v.replace(/\+/g," "))}catch{}o+="/"+v}return o}(u.substring(vt,Ot)));const rn=function mu(u){const o={};"?"===u.charAt(0)&&(u=u.substring(1));for(const l of u.split("&")){if(0===l.length)continue;const h=l.split("=");2===h.length?o[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):w(`Invalid query segment '${l}' in query '${u}'`)}return o}(u.substring(Math.min(u.length,Ot)));Ee=o.indexOf(":"),Ee>=0?(P="https"===K||"wss"===K,de=parseInt(o.substring(Ee+1),10)):Ee=o.length;const Dn=o.slice(0,Ee);if("localhost"===Dn.toLowerCase())l="localhost";else if(Dn.split(".").length<=2)l=Dn;else{const Sn=o.indexOf(".");h=o.substring(0,Sn).toLowerCase(),l=o.substring(Sn+1),I=h}"ns"in rn&&(I=rn.ns)}return{host:o,port:de,domain:l,subdomain:h,secure:P,scheme:K,pathString:v,namespace:I}};class fa{constructor(o,l,h,v){this._repo=o,this._path=l,this._queryParams=h,this._orderByCalled=v}get key(){return Ki(this._path)?null:Ou(this._path)}get ref(){return new pa(this._repo,this._path)}get _queryIdentifier(){const o=Jp(this._queryParams),l=Ai(o);return"{}"===l?"default":l}get _queryObject(){return Jp(this._queryParams)}isEqual(o){if(!((o=(0,Lt.m9)(o))instanceof fa))return!1;const l=this._repo===o._repo,h=Ru(this._path,o._path);return l&&h&&this._queryIdentifier===o._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function il(u){let o="";for(let l=u.pieceNum_;l<u.pieces_.length;l++)""!==u.pieces_[l]&&(o+="/"+encodeURIComponent(String(u.pieces_[l])));return o||"/"}(this._path)}}class pa extends fa{constructor(o,l){super(o,l,new da,!1)}get parent(){const o=tu(this._path);return null===o?null:new pa(this._repo,o)}get root(){let o=this;for(;null!==o.parent;)o=o.parent;return o}}(function ap(u){(0,Lt.hu)(!ph,"__referenceConstructor has already been defined"),ph=u})(pa),function gh(u){(0,Lt.hu)(!cp,"__referenceConstructor has already been defined"),cp=u}(pa);const ed="FIREBASE_DATABASE_EMULATOR_HOST",td={};let _u=!1;class jd{constructor(o,l){this._repoInternal=o,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qo(u,o,l){if(u.stats_=oc(u.repoInfo_),u.forceRestClient_||qc())u.server_=new ih(u.repoInfo_,(h,v,I,P)=>{Ch(u,h,v,I,P)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>Ih(u,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Lt.Wl)(l)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}u.persistentConnection_=new Di(u.repoInfo_,o,(h,v,I,P)=>{Ch(u,h,v,I,P)},h=>{Ih(u,h)},h=>{!function Em(u,o){Ar(o,(l,h)=>{ha(u,l,h)})}(u,h)},u.authTokenProvider_,u.appCheckProvider_,l),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(h=>{u.server_.refreshAuthToken(h)}),u.appCheckProvider_.addTokenChangeListener(h=>{u.server_.refreshAppCheckToken(h.token)}),u.statsReporter_=function yl(u,o){const l=u.toString();return xc[l]||(xc[l]=o()),xc[l]}(u.repoInfo_,()=>new Yf(u.stats_,u.server_)),u.infoData_=new Wf,u.infoSyncTree_=new up({startListening:(h,v,I,P)=>{let K=[];const de=u.infoData_.getNode(h._path);return de.isEmpty()||(K=_h(u.infoSyncTree_,h._path,de),setTimeout(()=>{P("ok")},0)),K},stopListening:()=>{}}),ha(u,"connected",!1),u.serverSyncTree_=new up({startListening:(h,v,I,P)=>(u.server_.listen(h,I,v,(K,de)=>{const Ee=P(K,de);La(u.eventQueue_,h._path,Ee)}),[]),stopListening:(h,v)=>{u.server_.unlisten(h,v)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pa(this._repo,Ri())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function id(u,o){const l=td[o];(!l||l[u.key]!==u)&&S(`Database ${o}(${u.repoInfo_}) has already been deleted.`),function Fd(u){u.persistentConnection_&&u.persistentConnection_.interrupt(wh)}(u),delete l[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(o){null===this._rootInternal&&S("Cannot call "+o+" on a deleted database.")}}Di.prototype.simpleListen=function(u,o){this.sendRequest("q",{p:u},o)},Di.prototype.echo=function(u,o){this.sendRequest("echo",{d:u},o)},function Bg(u){(function gl(u){ml=u})(to.SDK_VERSION),(0,to._registerComponent)(new hl.wA("database",(o,{instanceIdentifier:l})=>function nd(u,o,l,h,v){let I=h||u.options.databaseURL;void 0===I&&(u.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ir("Using default host for project ",u.options.projectId),I=`${u.options.projectId}-default-rtdb.firebaseio.com`);let de,Ee,P=Ju(I,v),K=P.repoInfo;typeof process<"u"&&process.env&&(Ee=process.env[ed]),Ee?(de=!0,I=`http://${Ee}?ns=${K.namespace}`,P=Ju(I,v),K=P.repoInfo):de=!P.repoInfo.secure;const vt=v&&de?new Ic(Ic.OWNER):new Ja(u.name,u.options,o);bh("Invalid Firebase Database URL",P),Ki(P.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");const Ot=function rd(u,o,l,h){let v=td[o.name];v||(v={},td[o.name]=v);let I=v[u.toURLString()];return I&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),I=new D_(u,_u,l,h),v[u.toURLString()]=I,I}(K,u,vt,new aa(u.name,l));return new jd(Ot,u)}(o.getProvider("app").getImmediate(),o.getProvider("auth-internal"),o.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,to.registerVersion)(ji,"0.14.4",u),(0,to.registerVersion)(ji,"0.14.4","esm2017")}();class Np{constructor(o){return o}}const Hd="database",Bm=new E.OlP("angularfire2.database-instances");function Fp(u){return(o,l)=>{const h=o.runOutsideAngular(()=>u(l));return new Np(h)}}const Mf={provide:class Af{constructor(){return(0,Cs.vb)(Hd)}},deps:[[new E.FiY,Bm]]},Lp={provide:Np,useFactory:function Ph(u,o){const l=(0,Cs.JM)(Hd,u,o);return l&&new Np(l)},deps:[[new E.FiY,Bm],fs.Ot]};let kh=(()=>{class u{constructor(){(0,Qi.KN)("angularfire",Cs.q4.full,"rtdb")}}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({providers:[Lp,Mf]}),u})();function zg(u,...o){return{ngModule:kh,providers:[{provide:Bm,useFactory:Fp(u),multi:!0,deps:[E.R0b,E.zs3,Cs.HU,fs.z6,[new E.FiY,wc],[new E.FiY,Yt.nm],...o]}]}}var Wd=T(1261),Jg=T(2011),gs=T(1933);let ma=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({imports:[_e.ez,gs.q,R.Bz]}),u})(),ql=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({imports:[_e.ez]}),u})(),$m=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({imports:[_e.ez,gs.q]}),u})(),zc=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({imports:[_e.ez,gs.q,$m,R.Bz]}),u})(),e_=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=E.oAB({type:u,bootstrap:[Nt]}),u.\u0275inj=E.cJS({imports:[f.b2,It.JF,ce,sa,kh,ma,ql,zc,(0,fs.hX)(()=>(0,fs.ZF)(Wd.N.firebase)),zg(()=>function Uc(u=(0,to.getApp)(),o){const l=(0,to._getProvider)(u,"database").getImmediate({identifier:o});if(!l._instanceStarted){const h=(0,Lt.P0)("database");h&&function Pp(u,o,l,h={}){(u=(0,Lt.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");const v=u._repoInternal;let I;if(v.repoInfo_.nodeAdmin)h.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),I=new Ic(Ic.OWNER);else if(h.mockUserToken){const P="string"==typeof h.mockUserToken?h.mockUserToken:(0,Lt.Sg)(h.mockUserToken,u.app.options.projectId);I=new Ic(P)}!function Rh(u,o,l,h){u.repoInfo_=new el(`${o}:${l}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),h&&(u.authTokenProvider_=h)}(v,o,l,I)}(l,...h)}return l}()),Jg.hO.initializeApp(Wd.N.firebase)]}),u})();f.q6().bootstrapModule(e_).catch(u=>console.error(u))},1135:(pn,at,T)=>{T.d(at,{X:()=>R});var f=T(7579);class R extends f.x{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const ce=super._subscribe(me);return!ce.closed&&me.next(this._value),ce}getValue(){const{hasError:me,thrownError:ce,_value:Fe}=this;if(me)throw ce;return this._throwIfClosed(),Fe}next(me){super.next(this._value=me)}}},9751:(pn,at,T)=>{T.d(at,{y:()=>_e});var f=T(930),R=T(727),E=T(8822),me=T(9635),ce=T(2416),Fe=T(576),Ue=T(2806);let _e=(()=>{class ye{constructor(We){We&&(this._subscribe=We)}lift(We){const Je=new ye;return Je.source=this,Je.operator=We,Je}subscribe(We,Je,gt){const tt=function ge(ye){return ye&&ye instanceof f.Lv||function oe(ye){return ye&&(0,Fe.m)(ye.next)&&(0,Fe.m)(ye.error)&&(0,Fe.m)(ye.complete)}(ye)&&(0,R.Nn)(ye)}(We)?We:new f.Hp(We,Je,gt);return(0,Ue.x)(()=>{const{operator:Ge,source:Pe}=this;tt.add(Ge?Ge.call(tt,Pe):Pe?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(We){try{return this._subscribe(We)}catch(Je){We.error(Je)}}forEach(We,Je){return new(Je=Ke(Je))((gt,tt)=>{const Ge=new f.Hp({next:Pe=>{try{We(Pe)}catch(kt){tt(kt),Ge.unsubscribe()}},error:tt,complete:gt});this.subscribe(Ge)})}_subscribe(We){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(We)}[E.L](){return this}pipe(...We){return(0,me.U)(We)(this)}toPromise(We){return new(We=Ke(We))((Je,gt)=>{let tt;this.subscribe(Ge=>tt=Ge,Ge=>gt(Ge),()=>Je(tt))})}}return ye.create=Le=>new ye(Le),ye})();function Ke(ye){var Le;return null!==(Le=ye??ce.v.Promise)&&void 0!==Le?Le:Promise}},7579:(pn,at,T)=>{T.d(at,{x:()=>Ue});var f=T(9751),R=T(727);const me=(0,T(3888).d)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=T(8737),Fe=T(2806);let Ue=(()=>{class Ke extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const ye=new _e(this,this);return ye.operator=ge,ye}_throwIfClosed(){if(this.closed)throw new me}next(ge){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ge)}})}error(ge){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ge)}})}complete(){(0,Fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:ye,isStopped:Le,observers:We}=this;return ye||Le?R.Lc:(this.currentObservers=null,We.push(ge),new R.w0(()=>{this.currentObservers=null,(0,ce.P)(We,ge)}))}_checkFinalizedStatuses(ge){const{hasError:ye,thrownError:Le,isStopped:We}=this;ye?ge.error(Le):We&&ge.complete()}asObservable(){const ge=new f.y;return ge.source=this,ge}}return Ke.create=(oe,ge)=>new _e(oe,ge),Ke})();class _e extends Ue{constructor(oe,ge){super(),this.destination=oe,this.source=ge}next(oe){var ge,ye;null===(ye=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===ye||ye.call(ge,oe)}error(oe){var ge,ye;null===(ye=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===ye||ye.call(ge,oe)}complete(){var oe,ge;null===(ge=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===ge||ge.call(oe)}_subscribe(oe){var ge,ye;return null!==(ye=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(oe))&&void 0!==ye?ye:R.Lc}}},930:(pn,at,T)=>{T.d(at,{Hp:()=>gt,Lv:()=>ye});var f=T(576),R=T(727),E=T(2416),me=T(7849),ce=T(5032);const Fe=Ke("C",void 0,void 0);function Ke(Qe,Ae,qe){return{kind:Qe,value:Ae,error:qe}}var oe=T(3410),ge=T(2806);class ye extends R.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,R.Nn)(Ae)&&Ae.add(this)):this.destination=kt}static create(Ae,qe,Nt){return new gt(Ae,qe,Nt)}next(Ae){this.isStopped?Pe(function _e(Qe){return Ke("N",Qe,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Pe(function Ue(Qe){return Ke("E",void 0,Qe)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Pe(Fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function We(Qe,Ae){return Le.call(Qe,Ae)}class Je{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:qe}=this;if(qe.next)try{qe.next(Ae)}catch(Nt){tt(Nt)}}error(Ae){const{partialObserver:qe}=this;if(qe.error)try{qe.error(Ae)}catch(Nt){tt(Nt)}else tt(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(qe){tt(qe)}}}class gt extends ye{constructor(Ae,qe,Nt){let It;if(super(),(0,f.m)(Ae)||!Ae)It={next:Ae??void 0,error:qe??void 0,complete:Nt??void 0};else{let Ye;this&&E.v.useDeprecatedNextContext?(Ye=Object.create(Ae),Ye.unsubscribe=()=>this.unsubscribe(),It={next:Ae.next&&We(Ae.next,Ye),error:Ae.error&&We(Ae.error,Ye),complete:Ae.complete&&We(Ae.complete,Ye)}):It=Ae}this.destination=new Je(It)}}function tt(Qe){E.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Qe):(0,me.h)(Qe)}function Pe(Qe,Ae){const{onStoppedNotification:qe}=E.v;qe&&oe.z.setTimeout(()=>qe(Qe,Ae))}const kt={closed:!0,next:ce.Z,error:function Ge(Qe){throw Qe},complete:ce.Z}},727:(pn,at,T)=>{T.d(at,{Lc:()=>Fe,w0:()=>ce,Nn:()=>Ue});var f=T(576);const E=(0,T(3888).d)(Ke=>function(ge){Ke(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((ye,Le)=>`${Le+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var me=T(8737);class ce{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const We of ge)We.remove(this);else ge.remove(this);const{initialTeardown:ye}=this;if((0,f.m)(ye))try{ye()}catch(We){oe=We instanceof E?We.errors:[We]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const We of Le)try{_e(We)}catch(Je){oe=oe??[],Je instanceof E?oe=[...oe,...Je.errors]:oe.push(Je)}}if(oe)throw new E(oe)}}add(oe){var ge;if(oe&&oe!==this)if(this.closed)_e(oe);else{if(oe instanceof ce){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(oe)}}_hasParent(oe){const{_parentage:ge}=this;return ge===oe||Array.isArray(ge)&&ge.includes(oe)}_addParent(oe){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(oe),ge):ge?[ge,oe]:oe}_removeParent(oe){const{_parentage:ge}=this;ge===oe?this._parentage=null:Array.isArray(ge)&&(0,me.P)(ge,oe)}remove(oe){const{_finalizers:ge}=this;ge&&(0,me.P)(ge,oe),oe instanceof ce&&oe._removeParent(this)}}ce.EMPTY=(()=>{const Ke=new ce;return Ke.closed=!0,Ke})();const Fe=ce.EMPTY;function Ue(Ke){return Ke instanceof ce||Ke&&"closed"in Ke&&(0,f.m)(Ke.remove)&&(0,f.m)(Ke.add)&&(0,f.m)(Ke.unsubscribe)}function _e(Ke){(0,f.m)(Ke)?Ke():Ke.unsubscribe()}},2416:(pn,at,T)=>{T.d(at,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(pn,at,T)=>{T.d(at,{z:()=>E});var f=T(6805),R=T(930);function E(me,ce){const Fe="object"==typeof ce;return new Promise((Ue,_e)=>{const Ke=new R.Hp({next:oe=>{Ue(oe),Ke.unsubscribe()},error:_e,complete:()=>{Fe?Ue(ce.defaultValue):_e(new f.K)}});me.subscribe(Ke)})}},9841:(pn,at,T)=>{T.d(at,{a:()=>oe});var f=T(9751),R=T(4742),E=T(8996),me=T(4671),ce=T(3268),Fe=T(3269),Ue=T(1810),_e=T(5403),Ke=T(9672);function oe(...Le){const We=(0,Fe.yG)(Le),Je=(0,Fe.jO)(Le),{args:gt,keys:tt}=(0,R.D)(Le);if(0===gt.length)return(0,E.D)([],We);const Ge=new f.y(function ge(Le,We,Je=me.y){return gt=>{ye(We,()=>{const{length:tt}=Le,Ge=new Array(tt);let Pe=tt,kt=tt;for(let Qe=0;Qe<tt;Qe++)ye(We,()=>{const Ae=(0,E.D)(Le[Qe],We);let qe=!1;Ae.subscribe((0,_e.x)(gt,Nt=>{Ge[Qe]=Nt,qe||(qe=!0,kt--),kt||gt.next(Je(Ge.slice()))},()=>{--Pe||gt.complete()}))},gt)},gt)}}(gt,We,tt?Pe=>(0,Ue.n)(tt,Pe):me.y));return Je?Ge.pipe((0,ce.Z)(Je)):Ge}function ye(Le,We,Je){Le?(0,Ke.f)(Je,Le,We):We()}},7272:(pn,at,T)=>{T.d(at,{z:()=>ce});var f=T(8189),E=T(3269),me=T(8996);function ce(...Fe){return function R(){return(0,f.J)(1)}()((0,me.D)(Fe,(0,E.yG)(Fe)))}},515:(pn,at,T)=>{T.d(at,{E:()=>R});const R=new(T(9751).y)(ce=>ce.complete())},4128:(pn,at,T)=>{T.d(at,{D:()=>_e});var f=T(9751),R=T(4742),E=T(8421),me=T(3269),ce=T(5403),Fe=T(3268),Ue=T(1810);function _e(...Ke){const oe=(0,me.jO)(Ke),{args:ge,keys:ye}=(0,R.D)(Ke),Le=new f.y(We=>{const{length:Je}=ge;if(!Je)return void We.complete();const gt=new Array(Je);let tt=Je,Ge=Je;for(let Pe=0;Pe<Je;Pe++){let kt=!1;(0,E.Xf)(ge[Pe]).subscribe((0,ce.x)(We,Qe=>{kt||(kt=!0,Ge--),gt[Pe]=Qe},()=>tt--,void 0,()=>{(!tt||!kt)&&(Ge||We.next(ye?(0,Ue.n)(ye,gt):gt),We.complete())}))}});return oe?Le.pipe((0,Fe.Z)(oe)):Le}},8996:(pn,at,T)=>{T.d(at,{D:()=>Ae});var f=T(8421),R=T(5363),E=T(9468),Fe=T(9751),_e=T(2202),Ke=T(576),oe=T(9672);function ye(qe,Nt){if(!qe)throw new Error("Iterable cannot be null");return new Fe.y(It=>{(0,oe.f)(It,Nt,()=>{const Ye=qe[Symbol.asyncIterator]();(0,oe.f)(It,Nt,()=>{Ye.next().then(Xt=>{Xt.done?It.complete():It.next(Xt.value)})},0,!0)})})}var Le=T(3670),We=T(8239),Je=T(1144),gt=T(6495),tt=T(2206),Ge=T(4532),Pe=T(3260);function Ae(qe,Nt){return Nt?function Qe(qe,Nt){if(null!=qe){if((0,Le.c)(qe))return function me(qe,Nt){return(0,f.Xf)(qe).pipe((0,E.R)(Nt),(0,R.Q)(Nt))}(qe,Nt);if((0,Je.z)(qe))return function Ue(qe,Nt){return new Fe.y(It=>{let Ye=0;return Nt.schedule(function(){Ye===qe.length?It.complete():(It.next(qe[Ye++]),It.closed||this.schedule())})})}(qe,Nt);if((0,We.t)(qe))return function ce(qe,Nt){return(0,f.Xf)(qe).pipe((0,E.R)(Nt),(0,R.Q)(Nt))}(qe,Nt);if((0,tt.D)(qe))return ye(qe,Nt);if((0,gt.T)(qe))return function ge(qe,Nt){return new Fe.y(It=>{let Ye;return(0,oe.f)(It,Nt,()=>{Ye=qe[_e.h](),(0,oe.f)(It,Nt,()=>{let Xt,yn;try{({value:Xt,done:yn}=Ye.next())}catch(sn){return void It.error(sn)}yn?It.complete():It.next(Xt)},0,!0)}),()=>(0,Ke.m)(Ye?.return)&&Ye.return()})}(qe,Nt);if((0,Pe.L)(qe))return function kt(qe,Nt){return ye((0,Pe.Q)(qe),Nt)}(qe,Nt)}throw(0,Ge.z)(qe)}(qe,Nt):(0,f.Xf)(qe)}},4968:(pn,at,T)=>{T.d(at,{R:()=>oe});var f=T(8421),R=T(9751),E=T(5577),me=T(1144),ce=T(576),Fe=T(3268);const Ue=["addListener","removeListener"],_e=["addEventListener","removeEventListener"],Ke=["on","off"];function oe(Je,gt,tt,Ge){if((0,ce.m)(tt)&&(Ge=tt,tt=void 0),Ge)return oe(Je,gt,tt).pipe((0,Fe.Z)(Ge));const[Pe,kt]=function We(Je){return(0,ce.m)(Je.addEventListener)&&(0,ce.m)(Je.removeEventListener)}(Je)?_e.map(Qe=>Ae=>Je[Qe](gt,Ae,tt)):function ye(Je){return(0,ce.m)(Je.addListener)&&(0,ce.m)(Je.removeListener)}(Je)?Ue.map(ge(Je,gt)):function Le(Je){return(0,ce.m)(Je.on)&&(0,ce.m)(Je.off)}(Je)?Ke.map(ge(Je,gt)):[];if(!Pe&&(0,me.z)(Je))return(0,E.z)(Qe=>oe(Qe,gt,tt))((0,f.Xf)(Je));if(!Pe)throw new TypeError("Invalid event target");return new R.y(Qe=>{const Ae=(...qe)=>Qe.next(1<qe.length?qe:qe[0]);return Pe(Ae),()=>kt(Ae)})}function ge(Je,gt){return tt=>Ge=>Je[tt](gt,Ge)}},8421:(pn,at,T)=>{T.d(at,{Xf:()=>Le});var f=T(7582),R=T(1144),E=T(8239),me=T(9751),ce=T(3670),Fe=T(2206),Ue=T(4532),_e=T(6495),Ke=T(3260),oe=T(576),ge=T(7849),ye=T(8822);function Le(Qe){if(Qe instanceof me.y)return Qe;if(null!=Qe){if((0,ce.c)(Qe))return function We(Qe){return new me.y(Ae=>{const qe=Qe[ye.L]();if((0,oe.m)(qe.subscribe))return qe.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,R.z)(Qe))return function Je(Qe){return new me.y(Ae=>{for(let qe=0;qe<Qe.length&&!Ae.closed;qe++)Ae.next(Qe[qe]);Ae.complete()})}(Qe);if((0,E.t)(Qe))return function gt(Qe){return new me.y(Ae=>{Qe.then(qe=>{Ae.closed||(Ae.next(qe),Ae.complete())},qe=>Ae.error(qe)).then(null,ge.h)})}(Qe);if((0,Fe.D)(Qe))return Ge(Qe);if((0,_e.T)(Qe))return function tt(Qe){return new me.y(Ae=>{for(const qe of Qe)if(Ae.next(qe),Ae.closed)return;Ae.complete()})}(Qe);if((0,Ke.L)(Qe))return function Pe(Qe){return Ge((0,Ke.Q)(Qe))}(Qe)}throw(0,Ue.z)(Qe)}function Ge(Qe){return new me.y(Ae=>{(function kt(Qe,Ae){var qe,Nt,It,Ye;return(0,f.mG)(this,void 0,void 0,function*(){try{for(qe=(0,f.KL)(Qe);!(Nt=yield qe.next()).done;)if(Ae.next(Nt.value),Ae.closed)return}catch(Xt){It={error:Xt}}finally{try{Nt&&!Nt.done&&(Ye=qe.return)&&(yield Ye.call(qe))}finally{if(It)throw It.error}}Ae.complete()})})(Qe,Ae).catch(qe=>Ae.error(qe))})}},6451:(pn,at,T)=>{T.d(at,{T:()=>Fe});var f=T(8189),R=T(8421),E=T(515),me=T(3269),ce=T(8996);function Fe(...Ue){const _e=(0,me.yG)(Ue),Ke=(0,me._6)(Ue,1/0),oe=Ue;return oe.length?1===oe.length?(0,R.Xf)(oe[0]):(0,f.J)(Ke)((0,ce.D)(oe,_e)):E.E}},9646:(pn,at,T)=>{T.d(at,{of:()=>E});var f=T(3269),R=T(8996);function E(...me){const ce=(0,f.yG)(me);return(0,R.D)(me,ce)}},2843:(pn,at,T)=>{T.d(at,{_:()=>E});var f=T(9751),R=T(576);function E(me,ce){const Fe=(0,R.m)(me)?me:()=>me,Ue=_e=>_e.error(Fe());return new f.y(ce?_e=>ce.schedule(Ue,0,_e):Ue)}},5963:(pn,at,T)=>{T.d(at,{H:()=>ce});var f=T(9751),R=T(4986),E=T(3532);function ce(Fe=0,Ue,_e=R.P){let Ke=-1;return null!=Ue&&((0,E.K)(Ue)?_e=Ue:Ke=Ue),new f.y(oe=>{let ge=function me(Fe){return Fe instanceof Date&&!isNaN(Fe)}(Fe)?+Fe-_e.now():Fe;ge<0&&(ge=0);let ye=0;return _e.schedule(function(){oe.closed||(oe.next(ye++),0<=Ke?this.schedule(void 0,Ke):oe.complete())},ge)})}},5403:(pn,at,T)=>{T.d(at,{x:()=>R});var f=T(930);function R(me,ce,Fe,Ue,_e){return new E(me,ce,Fe,Ue,_e)}class E extends f.Lv{constructor(ce,Fe,Ue,_e,Ke,oe){super(ce),this.onFinalize=Ke,this.shouldUnsubscribe=oe,this._next=Fe?function(ge){try{Fe(ge)}catch(ye){ce.error(ye)}}:super._next,this._error=_e?function(ge){try{_e(ge)}catch(ye){ce.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(ge){ce.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Fe}=this;super.unsubscribe(),!Fe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},262:(pn,at,T)=>{T.d(at,{K:()=>me});var f=T(8421),R=T(5403),E=T(4482);function me(ce){return(0,E.e)((Fe,Ue)=>{let oe,_e=null,Ke=!1;_e=Fe.subscribe((0,R.x)(Ue,void 0,void 0,ge=>{oe=(0,f.Xf)(ce(ge,me(ce)(Fe))),_e?(_e.unsubscribe(),_e=null,oe.subscribe(Ue)):Ke=!0})),Ke&&(_e.unsubscribe(),_e=null,oe.subscribe(Ue))})}},4351:(pn,at,T)=>{T.d(at,{b:()=>E});var f=T(5577),R=T(576);function E(me,ce){return(0,R.m)(ce)?(0,f.z)(me,ce,1):(0,f.z)(me,1)}},8372:(pn,at,T)=>{T.d(at,{b:()=>me});var f=T(4986),R=T(4482),E=T(5403);function me(ce,Fe=f.z){return(0,R.e)((Ue,_e)=>{let Ke=null,oe=null,ge=null;const ye=()=>{if(Ke){Ke.unsubscribe(),Ke=null;const We=oe;oe=null,_e.next(We)}};function Le(){const We=ge+ce,Je=Fe.now();if(Je<We)return Ke=this.schedule(void 0,We-Je),void _e.add(Ke);ye()}Ue.subscribe((0,E.x)(_e,We=>{oe=We,ge=Fe.now(),Ke||(Ke=Fe.schedule(Le,ce),_e.add(Ke))},()=>{ye(),_e.complete()},void 0,()=>{oe=Ke=null}))})}},6590:(pn,at,T)=>{T.d(at,{d:()=>E});var f=T(4482),R=T(5403);function E(me){return(0,f.e)((ce,Fe)=>{let Ue=!1;ce.subscribe((0,R.x)(Fe,_e=>{Ue=!0,Fe.next(_e)},()=>{Ue||Fe.next(me),Fe.complete()}))})}},1884:(pn,at,T)=>{T.d(at,{x:()=>me});var f=T(4671),R=T(4482),E=T(5403);function me(Fe,Ue=f.y){return Fe=Fe??ce,(0,R.e)((_e,Ke)=>{let oe,ge=!0;_e.subscribe((0,E.x)(Ke,ye=>{const Le=Ue(ye);(ge||!Fe(oe,Le))&&(ge=!1,oe=Le,Ke.next(ye))}))})}function ce(Fe,Ue){return Fe===Ue}},9300:(pn,at,T)=>{T.d(at,{h:()=>E});var f=T(4482),R=T(5403);function E(me,ce){return(0,f.e)((Fe,Ue)=>{let _e=0;Fe.subscribe((0,R.x)(Ue,Ke=>me.call(ce,Ke,_e++)&&Ue.next(Ke)))})}},8746:(pn,at,T)=>{T.d(at,{x:()=>R});var f=T(4482);function R(E){return(0,f.e)((me,ce)=>{try{me.subscribe(ce)}finally{ce.add(E)}})}},590:(pn,at,T)=>{T.d(at,{P:()=>Ue});var f=T(6805),R=T(9300),E=T(5698),me=T(6590),ce=T(8068),Fe=T(4671);function Ue(_e,Ke){const oe=arguments.length>=2;return ge=>ge.pipe(_e?(0,R.h)((ye,Le)=>_e(ye,Le,ge)):Fe.y,(0,E.q)(1),oe?(0,me.d)(Ke):(0,ce.T)(()=>new f.K))}},4004:(pn,at,T)=>{T.d(at,{U:()=>E});var f=T(4482),R=T(5403);function E(me,ce){return(0,f.e)((Fe,Ue)=>{let _e=0;Fe.subscribe((0,R.x)(Ue,Ke=>{Ue.next(me.call(ce,Ke,_e++))}))})}},9718:(pn,at,T)=>{T.d(at,{h:()=>R});var f=T(4004);function R(E){return(0,f.U)(()=>E)}},8189:(pn,at,T)=>{T.d(at,{J:()=>E});var f=T(5577),R=T(4671);function E(me=1/0){return(0,f.z)(R.y,me)}},5577:(pn,at,T)=>{T.d(at,{z:()=>_e});var f=T(4004),R=T(8421),E=T(4482),me=T(9672),ce=T(5403),Ue=T(576);function _e(Ke,oe,ge=1/0){return(0,Ue.m)(oe)?_e((ye,Le)=>(0,f.U)((We,Je)=>oe(ye,We,Le,Je))((0,R.Xf)(Ke(ye,Le))),ge):("number"==typeof oe&&(ge=oe),(0,E.e)((ye,Le)=>function Fe(Ke,oe,ge,ye,Le,We,Je,gt){const tt=[];let Ge=0,Pe=0,kt=!1;const Qe=()=>{kt&&!tt.length&&!Ge&&oe.complete()},Ae=Nt=>Ge<ye?qe(Nt):tt.push(Nt),qe=Nt=>{We&&oe.next(Nt),Ge++;let It=!1;(0,R.Xf)(ge(Nt,Pe++)).subscribe((0,ce.x)(oe,Ye=>{Le?.(Ye),We?Ae(Ye):oe.next(Ye)},()=>{It=!0},void 0,()=>{if(It)try{for(Ge--;tt.length&&Ge<ye;){const Ye=tt.shift();Je?(0,me.f)(oe,Je,()=>qe(Ye)):qe(Ye)}Qe()}catch(Ye){oe.error(Ye)}}))};return Ke.subscribe((0,ce.x)(oe,Ae,()=>{kt=!0,Qe()})),()=>{gt?.()}}(ye,Le,Ke,ge)))}},5363:(pn,at,T)=>{T.d(at,{Q:()=>me});var f=T(9672),R=T(4482),E=T(5403);function me(ce,Fe=0){return(0,R.e)((Ue,_e)=>{Ue.subscribe((0,E.x)(_e,Ke=>(0,f.f)(_e,ce,()=>_e.next(Ke),Fe),()=>(0,f.f)(_e,ce,()=>_e.complete(),Fe),Ke=>(0,f.f)(_e,ce,()=>_e.error(Ke),Fe)))})}},5026:(pn,at,T)=>{T.d(at,{R:()=>me});var f=T(4482),R=T(5403);function me(ce,Fe){return(0,f.e)(function E(ce,Fe,Ue,_e,Ke){return(oe,ge)=>{let ye=Ue,Le=Fe,We=0;oe.subscribe((0,R.x)(ge,Je=>{const gt=We++;Le=ye?ce(Le,Je,gt):(ye=!0,Je),_e&&ge.next(Le)},Ke&&(()=>{ye&&ge.next(Le),ge.complete()})))}}(ce,Fe,arguments.length>=2,!0))}},3099:(pn,at,T)=>{T.d(at,{B:()=>ce});var f=T(8421),R=T(7579),E=T(930),me=T(4482);function ce(Ue={}){const{connector:_e=(()=>new R.x),resetOnError:Ke=!0,resetOnComplete:oe=!0,resetOnRefCountZero:ge=!0}=Ue;return ye=>{let Le,We,Je,gt=0,tt=!1,Ge=!1;const Pe=()=>{We?.unsubscribe(),We=void 0},kt=()=>{Pe(),Le=Je=void 0,tt=Ge=!1},Qe=()=>{const Ae=Le;kt(),Ae?.unsubscribe()};return(0,me.e)((Ae,qe)=>{gt++,!Ge&&!tt&&Pe();const Nt=Je=Je??_e();qe.add(()=>{gt--,0===gt&&!Ge&&!tt&&(We=Fe(Qe,ge))}),Nt.subscribe(qe),!Le&&gt>0&&(Le=new E.Hp({next:It=>Nt.next(It),error:It=>{Ge=!0,Pe(),We=Fe(kt,Ke,It),Nt.error(It)},complete:()=>{tt=!0,Pe(),We=Fe(kt,oe),Nt.complete()}}),(0,f.Xf)(Ae).subscribe(Le))})(ye)}}function Fe(Ue,_e,...Ke){if(!0===_e)return void Ue();if(!1===_e)return;const oe=new E.Hp({next:()=>{oe.unsubscribe(),Ue()}});return(0,f.Xf)(_e(...Ke)).subscribe(oe)}},5684:(pn,at,T)=>{T.d(at,{T:()=>R});var f=T(9300);function R(E){return(0,f.h)((me,ce)=>E<=ce)}},8675:(pn,at,T)=>{T.d(at,{O:()=>me});var f=T(7272),R=T(3269),E=T(4482);function me(...ce){const Fe=(0,R.yG)(ce);return(0,E.e)((Ue,_e)=>{(Fe?(0,f.z)(ce,Ue,Fe):(0,f.z)(ce,Ue)).subscribe(_e)})}},9468:(pn,at,T)=>{T.d(at,{R:()=>R});var f=T(4482);function R(E,me=0){return(0,f.e)((ce,Fe)=>{Fe.add(E.schedule(()=>ce.subscribe(Fe),me))})}},3900:(pn,at,T)=>{T.d(at,{w:()=>me});var f=T(8421),R=T(4482),E=T(5403);function me(ce,Fe){return(0,R.e)((Ue,_e)=>{let Ke=null,oe=0,ge=!1;const ye=()=>ge&&!Ke&&_e.complete();Ue.subscribe((0,E.x)(_e,Le=>{Ke?.unsubscribe();let We=0;const Je=oe++;(0,f.Xf)(ce(Le,Je)).subscribe(Ke=(0,E.x)(_e,gt=>_e.next(Fe?Fe(Le,gt,Je,We++):gt),()=>{Ke=null,ye()}))},()=>{ge=!0,ye()}))})}},5698:(pn,at,T)=>{T.d(at,{q:()=>me});var f=T(515),R=T(4482),E=T(5403);function me(ce){return ce<=0?()=>f.E:(0,R.e)((Fe,Ue)=>{let _e=0;Fe.subscribe((0,E.x)(Ue,Ke=>{++_e<=ce&&(Ue.next(Ke),ce<=_e&&Ue.complete())}))})}},2722:(pn,at,T)=>{T.d(at,{R:()=>ce});var f=T(4482),R=T(5403),E=T(8421),me=T(5032);function ce(Fe){return(0,f.e)((Ue,_e)=>{(0,E.Xf)(Fe).subscribe((0,R.x)(_e,()=>_e.complete(),me.Z)),!_e.closed&&Ue.subscribe(_e)})}},8505:(pn,at,T)=>{T.d(at,{b:()=>ce});var f=T(576),R=T(4482),E=T(5403),me=T(4671);function ce(Fe,Ue,_e){const Ke=(0,f.m)(Fe)||Ue||_e?{next:Fe,error:Ue,complete:_e}:Fe;return Ke?(0,R.e)((oe,ge)=>{var ye;null===(ye=Ke.subscribe)||void 0===ye||ye.call(Ke);let Le=!0;oe.subscribe((0,E.x)(ge,We=>{var Je;null===(Je=Ke.next)||void 0===Je||Je.call(Ke,We),ge.next(We)},()=>{var We;Le=!1,null===(We=Ke.complete)||void 0===We||We.call(Ke),ge.complete()},We=>{var Je;Le=!1,null===(Je=Ke.error)||void 0===Je||Je.call(Ke,We),ge.error(We)},()=>{var We,Je;Le&&(null===(We=Ke.unsubscribe)||void 0===We||We.call(Ke)),null===(Je=Ke.finalize)||void 0===Je||Je.call(Ke)}))}):me.y}},8068:(pn,at,T)=>{T.d(at,{T:()=>me});var f=T(6805),R=T(4482),E=T(5403);function me(Fe=ce){return(0,R.e)((Ue,_e)=>{let Ke=!1;Ue.subscribe((0,E.x)(_e,oe=>{Ke=!0,_e.next(oe)},()=>Ke?_e.complete():_e.error(Fe())))})}function ce(){return new f.K}},4408:(pn,at,T)=>{T.d(at,{o:()=>ce});var f=T(727);class R extends f.w0{constructor(Ue,_e){super()}schedule(Ue,_e=0){return this}}const E={setInterval(Fe,Ue,..._e){const{delegate:Ke}=E;return Ke?.setInterval?Ke.setInterval(Fe,Ue,..._e):setInterval(Fe,Ue,..._e)},clearInterval(Fe){const{delegate:Ue}=E;return(Ue?.clearInterval||clearInterval)(Fe)},delegate:void 0};var me=T(8737);class ce extends R{constructor(Ue,_e){super(Ue,_e),this.scheduler=Ue,this.work=_e,this.pending=!1}schedule(Ue,_e=0){var Ke;if(this.closed)return this;this.state=Ue;const oe=this.id,ge=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(ge,oe,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(ge,this.id,_e),this}requestAsyncId(Ue,_e,Ke=0){return E.setInterval(Ue.flush.bind(Ue,this),Ke)}recycleAsyncId(Ue,_e,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return _e;null!=_e&&E.clearInterval(_e)}execute(Ue,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(Ue,_e);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ue,_e){let oe,Ke=!1;try{this.work(Ue)}catch(ge){Ke=!0,oe=ge||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:Ue,scheduler:_e}=this,{actions:Ke}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)(Ke,this),null!=Ue&&(this.id=this.recycleAsyncId(_e,Ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(pn,at,T)=>{T.d(at,{v:()=>E});var f=T(6063);class R{constructor(ce,Fe=R.now){this.schedulerActionCtor=ce,this.now=Fe}schedule(ce,Fe=0,Ue){return new this.schedulerActionCtor(this,ce).schedule(Ue,Fe)}}R.now=f.l.now;class E extends R{constructor(ce,Fe=R.now){super(ce,Fe),this.actions=[],this._active=!1}flush(ce){const{actions:Fe}=this;if(this._active)return void Fe.push(ce);let Ue;this._active=!0;do{if(Ue=ce.execute(ce.state,ce.delay))break}while(ce=Fe.shift());if(this._active=!1,Ue){for(;ce=Fe.shift();)ce.unsubscribe();throw Ue}}}},4986:(pn,at,T)=>{T.d(at,{P:()=>me,z:()=>E});var f=T(4408);const E=new(T(7565).v)(f.o),me=E},6063:(pn,at,T)=>{T.d(at,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(pn,at,T)=>{T.d(at,{z:()=>f});const f={setTimeout(R,E,...me){const{delegate:ce}=f;return ce?.setTimeout?ce.setTimeout(R,E,...me):setTimeout(R,E,...me)},clearTimeout(R){const{delegate:E}=f;return(E?.clearTimeout||clearTimeout)(R)},delegate:void 0}},2202:(pn,at,T)=>{T.d(at,{h:()=>R});const R=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pn,at,T)=>{T.d(at,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(pn,at,T)=>{T.d(at,{K:()=>R});const R=(0,T(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(pn,at,T)=>{T.d(at,{_6:()=>Fe,jO:()=>me,yG:()=>ce});var f=T(576),R=T(3532);function E(Ue){return Ue[Ue.length-1]}function me(Ue){return(0,f.m)(E(Ue))?Ue.pop():void 0}function ce(Ue){return(0,R.K)(E(Ue))?Ue.pop():void 0}function Fe(Ue,_e){return"number"==typeof E(Ue)?Ue.pop():_e}},4742:(pn,at,T)=>{T.d(at,{D:()=>ce});const{isArray:f}=Array,{getPrototypeOf:R,prototype:E,keys:me}=Object;function ce(Ue){if(1===Ue.length){const _e=Ue[0];if(f(_e))return{args:_e,keys:null};if(function Fe(Ue){return Ue&&"object"==typeof Ue&&R(Ue)===E}(_e)){const Ke=me(_e);return{args:Ke.map(oe=>_e[oe]),keys:Ke}}}return{args:Ue,keys:null}}},8737:(pn,at,T)=>{function f(R,E){if(R){const me=R.indexOf(E);0<=me&&R.splice(me,1)}}T.d(at,{P:()=>f})},3888:(pn,at,T)=>{function f(R){const me=R(ce=>{Error.call(ce),ce.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}T.d(at,{d:()=>f})},1810:(pn,at,T)=>{function f(R,E){return R.reduce((me,ce,Fe)=>(me[ce]=E[Fe],me),{})}T.d(at,{n:()=>f})},2806:(pn,at,T)=>{T.d(at,{O:()=>me,x:()=>E});var f=T(2416);let R=null;function E(ce){if(f.v.useDeprecatedSynchronousErrorHandling){const Fe=!R;if(Fe&&(R={errorThrown:!1,error:null}),ce(),Fe){const{errorThrown:Ue,error:_e}=R;if(R=null,Ue)throw _e}}else ce()}function me(ce){f.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=ce)}},9672:(pn,at,T)=>{function f(R,E,me,ce=0,Fe=!1){const Ue=E.schedule(function(){me(),Fe?R.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(R.add(Ue),!Fe)return Ue}T.d(at,{f:()=>f})},4671:(pn,at,T)=>{function f(R){return R}T.d(at,{y:()=>f})},1144:(pn,at,T)=>{T.d(at,{z:()=>f});const f=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(pn,at,T)=>{T.d(at,{D:()=>R});var f=T(576);function R(E){return Symbol.asyncIterator&&(0,f.m)(E?.[Symbol.asyncIterator])}},576:(pn,at,T)=>{function f(R){return"function"==typeof R}T.d(at,{m:()=>f})},3670:(pn,at,T)=>{T.d(at,{c:()=>E});var f=T(8822),R=T(576);function E(me){return(0,R.m)(me[f.L])}},6495:(pn,at,T)=>{T.d(at,{T:()=>E});var f=T(2202),R=T(576);function E(me){return(0,R.m)(me?.[f.h])}},8239:(pn,at,T)=>{T.d(at,{t:()=>R});var f=T(576);function R(E){return(0,f.m)(E?.then)}},3260:(pn,at,T)=>{T.d(at,{L:()=>me,Q:()=>E});var f=T(7582),R=T(576);function E(ce){return(0,f.FC)(this,arguments,function*(){const Ue=ce.getReader();try{for(;;){const{value:_e,done:Ke}=yield(0,f.qq)(Ue.read());if(Ke)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(_e)}}finally{Ue.releaseLock()}})}function me(ce){return(0,R.m)(ce?.getReader)}},3532:(pn,at,T)=>{T.d(at,{K:()=>R});var f=T(576);function R(E){return E&&(0,f.m)(E.schedule)}},4482:(pn,at,T)=>{T.d(at,{A:()=>R,e:()=>E});var f=T(576);function R(me){return(0,f.m)(me?.lift)}function E(me){return ce=>{if(R(ce))return ce.lift(function(Fe){try{return me(Fe,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pn,at,T)=>{T.d(at,{Z:()=>me});var f=T(4004);const{isArray:R}=Array;function me(ce){return(0,f.U)(Fe=>function E(ce,Fe){return R(Fe)?ce(...Fe):ce(Fe)}(ce,Fe))}},5032:(pn,at,T)=>{function f(){}T.d(at,{Z:()=>f})},9635:(pn,at,T)=>{T.d(at,{U:()=>E,z:()=>R});var f=T(4671);function R(...me){return E(me)}function E(me){return 0===me.length?f.y:1===me.length?me[0]:function(Fe){return me.reduce((Ue,_e)=>_e(Ue),Fe)}}},7849:(pn,at,T)=>{T.d(at,{h:()=>E});var f=T(2416),R=T(3410);function E(me){R.z.setTimeout(()=>{const{onUnhandledError:ce}=f.v;if(!ce)throw me;ce(me)})}},4532:(pn,at,T)=>{function f(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(at,{z:()=>f})},7340:(pn,at,T)=>{T.d(at,{IO:()=>Je,LC:()=>R,SB:()=>Ke,X$:()=>me,ZE:()=>Pe,ZN:()=>Ge,_j:()=>f,eR:()=>ge,jt:()=>ce,k1:()=>kt,l3:()=>E,oB:()=>_e,pV:()=>Le,vP:()=>Ue});class f{}class R{}const E="*";function me(Qe,Ae){return{type:7,name:Qe,definitions:Ae,options:{}}}function ce(Qe,Ae=null){return{type:4,styles:Ae,timings:Qe}}function Ue(Qe,Ae=null){return{type:2,steps:Qe,options:Ae}}function _e(Qe){return{type:6,styles:Qe,offset:null}}function Ke(Qe,Ae,qe){return{type:0,name:Qe,styles:Ae,options:qe}}function ge(Qe,Ae,qe=null){return{type:1,expr:Qe,animation:Ae,options:qe}}function Le(Qe=null){return{type:9,options:Qe}}function Je(Qe,Ae,qe=null){return{type:11,selector:Qe,animation:Ae,options:qe}}function tt(Qe){Promise.resolve().then(Qe)}class Ge{constructor(Ae=0,qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const qe="start"==Ae?this._onStartFns:this._onDoneFns;qe.forEach(Nt=>Nt()),qe.length=0}}class Pe{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let qe=0,Nt=0,It=0;const Ye=this.players.length;0==Ye?tt(()=>this._onFinish()):this.players.forEach(Xt=>{Xt.onDone(()=>{++qe==Ye&&this._onFinish()}),Xt.onDestroy(()=>{++Nt==Ye&&this._onDestroy()}),Xt.onStart(()=>{++It==Ye&&this._onStart()})}),this.totalTime=this.players.reduce((Xt,yn)=>Math.max(Xt,yn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const qe=Ae*this.totalTime;this.players.forEach(Nt=>{const It=Nt.totalTime?Math.min(1,qe/Nt.totalTime):1;Nt.setPosition(It)})}getPosition(){const Ae=this.players.reduce((qe,Nt)=>null===qe||Nt.totalTime>qe.totalTime?Nt:qe,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const qe="start"==Ae?this._onStartFns:this._onDoneFns;qe.forEach(Nt=>Nt()),qe.length=0}}const kt="!"},2693:(pn,at,T)=>{T.d(at,{rt:()=>fe,$s:()=>Tt,tE:()=>Ne,qV:()=>ut,qm:()=>ue,ic:()=>ht,X6:()=>he,yG:()=>ve});var f=T(6895),R=T(4650),E=T(3353),me=T(1135),ce=T(7579),Fe=T(9646),Ue=T(9521),_e=T(5698),Ke=T(5684),oe=T(1884),ge=T(2722),ye=T(1281),Le=T(9643),We=T(9841),Je=T(7272),gt=T(9751),tt=T(8372),Ge=T(4004),Pe=T(8675);const Qe=new Set;let Ae,qe=(()=>{class W{constructor(j){this._platform=j,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):It}matchMedia(j){return(this._platform.WEBKIT||this._platform.BLINK)&&function Nt(W){if(!Qe.has(W))try{Ae||(Ae=document.createElement("style"),Ae.setAttribute("type","text/css"),document.head.appendChild(Ae)),Ae.sheet&&(Ae.sheet.insertRule(`@media ${W} {body{ }}`,0),Qe.add(W))}catch(le){console.error(le)}}(j),this._matchMedia(j)}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(E.t4))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function It(W){return{matches:"all"===W||""===W,media:W,addListener:()=>{},removeListener:()=>{}}}let Ye=(()=>{class W{constructor(j,J){this._mediaMatcher=j,this._zone=J,this._queries=new Map,this._destroySubject=new ce.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(j){return Xt((0,ye.Eq)(j)).some(Q=>this._registerQuery(Q).mql.matches)}observe(j){const Q=Xt((0,ye.Eq)(j)).map(pt=>this._registerQuery(pt).observable);let xe=(0,We.a)(Q);return xe=(0,Je.z)(xe.pipe((0,_e.q)(1)),xe.pipe((0,Ke.T)(1),(0,tt.b)(0))),xe.pipe((0,Ge.U)(pt=>{const Qt={matches:!1,breakpoints:{}};return pt.forEach(({matches:vn,query:An})=>{Qt.matches=Qt.matches||vn,Qt.breakpoints[An]=vn}),Qt}))}_registerQuery(j){if(this._queries.has(j))return this._queries.get(j);const J=this._mediaMatcher.matchMedia(j),xe={observable:new gt.y(pt=>{const Qt=vn=>this._zone.run(()=>pt.next(vn));return J.addListener(Qt),()=>{J.removeListener(Qt)}}).pipe((0,Pe.O)(J),(0,Ge.U)(({matches:pt})=>({query:j,matches:pt})),(0,ge.R)(this._destroySubject)),mql:J};return this._queries.set(j,xe),xe}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(qe),R.LFG(R.R0b))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Xt(W){return W.map(le=>le.split(",")).reduce((le,j)=>le.concat(j)).map(le=>le.trim())}function si(W,le){return(W.getAttribute(le)||"").match(/\S+/g)||[]}const Dt="cdk-describedby-message",Bt="cdk-describedby-host";let Vt=0,Tt=(()=>{class W{constructor(j,J){this._platform=J,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Vt++,this._document=j,this._id=(0,R.f3M)(R.AFp)+"-"+Vt++}describe(j,J,Q){if(!this._canBeDescribed(j,J))return;const xe=nt(J,Q);"string"!=typeof J?(lt(J,this._id),this._messageRegistry.set(xe,{messageElement:J,referenceCount:0})):this._messageRegistry.has(xe)||this._createMessageElement(J,Q),this._isElementDescribedByMessage(j,xe)||this._addMessageReference(j,xe)}removeDescription(j,J,Q){if(!J||!this._isElementNode(j))return;const xe=nt(J,Q);if(this._isElementDescribedByMessage(j,xe)&&this._removeMessageReference(j,xe),"string"==typeof J){const pt=this._messageRegistry.get(xe);pt&&0===pt.referenceCount&&this._deleteMessageElement(xe)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const j=this._document.querySelectorAll(`[${Bt}="${this._id}"]`);for(let J=0;J<j.length;J++)this._removeCdkDescribedByReferenceIds(j[J]),j[J].removeAttribute(Bt);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(j,J){const Q=this._document.createElement("div");lt(Q,this._id),Q.textContent=j,J&&Q.setAttribute("role",J),this._createMessagesContainer(),this._messagesContainer.appendChild(Q),this._messageRegistry.set(nt(j,J),{messageElement:Q,referenceCount:0})}_deleteMessageElement(j){this._messageRegistry.get(j)?.messageElement?.remove(),this._messageRegistry.delete(j)}_createMessagesContainer(){if(this._messagesContainer)return;const j="cdk-describedby-message-container",J=this._document.querySelectorAll(`.${j}[platform="server"]`);for(let xe=0;xe<J.length;xe++)J[xe].remove();const Q=this._document.createElement("div");Q.style.visibility="hidden",Q.classList.add(j),Q.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Q.setAttribute("platform","server"),this._document.body.appendChild(Q),this._messagesContainer=Q}_removeCdkDescribedByReferenceIds(j){const J=si(j,"aria-describedby").filter(Q=>0!=Q.indexOf(Dt));j.setAttribute("aria-describedby",J.join(" "))}_addMessageReference(j,J){const Q=this._messageRegistry.get(J);(function En(W,le,j){const J=si(W,le);J.some(Q=>Q.trim()==j.trim())||(J.push(j.trim()),W.setAttribute(le,J.join(" ")))})(j,"aria-describedby",Q.messageElement.id),j.setAttribute(Bt,this._id),Q.referenceCount++}_removeMessageReference(j,J){const Q=this._messageRegistry.get(J);Q.referenceCount--,function gn(W,le,j){const Q=si(W,le).filter(xe=>xe!=j.trim());Q.length?W.setAttribute(le,Q.join(" ")):W.removeAttribute(le)}(j,"aria-describedby",Q.messageElement.id),j.removeAttribute(Bt)}_isElementDescribedByMessage(j,J){const Q=si(j,"aria-describedby"),xe=this._messageRegistry.get(J),pt=xe&&xe.messageElement.id;return!!pt&&-1!=Q.indexOf(pt)}_canBeDescribed(j,J){if(!this._isElementNode(j))return!1;if(J&&"object"==typeof J)return!0;const Q=null==J?"":`${J}`.trim(),xe=j.getAttribute("aria-label");return!(!Q||xe&&xe.trim()===Q)}_isElementNode(j){return j.nodeType===this._document.ELEMENT_NODE}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(f.K0),R.LFG(E.t4))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function nt(W,le){return"string"==typeof W?`${le||""}/${W}`:W}function lt(W,le){W.id||(W.id=`${Dt}-${le}-${Vt++}`)}let ht=(()=>{class W{constructor(j){this._platform=j}isDisabled(j){return j.hasAttribute("disabled")}isVisible(j){return function Ht(W){return!!(W.offsetWidth||W.offsetHeight||"function"==typeof W.getClientRects&&W.getClientRects().length)}(j)&&"visible"===getComputedStyle(j).visibility}isTabbable(j){if(!this._platform.isBrowser)return!1;const J=function mt(W){try{return W.frameElement}catch{return null}}(function ne(W){return W.ownerDocument&&W.ownerDocument.defaultView||window}(j));if(J&&(-1===rt(J)||!this.isVisible(J)))return!1;let Q=j.nodeName.toLowerCase(),xe=rt(j);return j.hasAttribute("contenteditable")?-1!==xe:!("iframe"===Q||"object"===Q||this._platform.WEBKIT&&this._platform.IOS&&!function Et(W){let le=W.nodeName.toLowerCase(),j="input"===le&&W.type;return"text"===j||"password"===j||"select"===le||"textarea"===le}(j))&&("audio"===Q?!!j.hasAttribute("controls")&&-1!==xe:"video"===Q?-1!==xe&&(null!==xe||this._platform.FIREFOX||j.hasAttribute("controls")):j.tabIndex>=0)}isFocusable(j,J){return function Te(W){return!function At(W){return function Cn(W){return"input"==W.nodeName.toLowerCase()}(W)&&"hidden"==W.type}(W)&&(function Ze(W){let le=W.nodeName.toLowerCase();return"input"===le||"select"===le||"button"===le||"textarea"===le}(W)||function on(W){return function qn(W){return"a"==W.nodeName.toLowerCase()}(W)&&W.hasAttribute("href")}(W)||W.hasAttribute("contenteditable")||bt(W))}(j)&&!this.isDisabled(j)&&(J?.ignoreVisibility||this.isVisible(j))}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(E.t4))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function bt(W){if(!W.hasAttribute("tabindex")||void 0===W.tabIndex)return!1;let le=W.getAttribute("tabindex");return!(!le||isNaN(parseInt(le,10)))}function rt(W){if(!bt(W))return null;const le=parseInt(W.getAttribute("tabindex")||"",10);return isNaN(le)?-1:le}class Oe{get enabled(){return this._enabled}set enabled(le){this._enabled=le,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(le,this._startAnchor),this._toggleAnchorTabIndex(le,this._endAnchor))}constructor(le,j,J,Q,xe=!1){this._element=le,this._checker=j,this._ngZone=J,this._document=Q,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,xe||this.attachAnchors()}destroy(){const le=this._startAnchor,j=this._endAnchor;le&&(le.removeEventListener("focus",this.startAnchorListener),le.remove()),j&&(j.removeEventListener("focus",this.endAnchorListener),j.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(le){return new Promise(j=>{this._executeOnStable(()=>j(this.focusInitialElement(le)))})}focusFirstTabbableElementWhenReady(le){return new Promise(j=>{this._executeOnStable(()=>j(this.focusFirstTabbableElement(le)))})}focusLastTabbableElementWhenReady(le){return new Promise(j=>{this._executeOnStable(()=>j(this.focusLastTabbableElement(le)))})}_getRegionBoundary(le){const j=this._element.querySelectorAll(`[cdk-focus-region-${le}], [cdkFocusRegion${le}], [cdk-focus-${le}]`);return"start"==le?j.length?j[0]:this._getFirstTabbableElement(this._element):j.length?j[j.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(le){const j=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(j){if(!this._checker.isFocusable(j)){const J=this._getFirstTabbableElement(j);return J?.focus(le),!!J}return j.focus(le),!0}return this.focusFirstTabbableElement(le)}focusFirstTabbableElement(le){const j=this._getRegionBoundary("start");return j&&j.focus(le),!!j}focusLastTabbableElement(le){const j=this._getRegionBoundary("end");return j&&j.focus(le),!!j}hasAttached(){return this._hasAttached}_getFirstTabbableElement(le){if(this._checker.isFocusable(le)&&this._checker.isTabbable(le))return le;const j=le.children;for(let J=0;J<j.length;J++){const Q=j[J].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(j[J]):null;if(Q)return Q}return null}_getLastTabbableElement(le){if(this._checker.isFocusable(le)&&this._checker.isTabbable(le))return le;const j=le.children;for(let J=j.length-1;J>=0;J--){const Q=j[J].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(j[J]):null;if(Q)return Q}return null}_createAnchor(){const le=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,le),le.classList.add("cdk-visually-hidden"),le.classList.add("cdk-focus-trap-anchor"),le.setAttribute("aria-hidden","true"),le}_toggleAnchorTabIndex(le,j){le?j.setAttribute("tabindex","0"):j.removeAttribute("tabindex")}toggleAnchors(le){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(le,this._startAnchor),this._toggleAnchorTabIndex(le,this._endAnchor))}_executeOnStable(le){this._ngZone.isStable?le():this._ngZone.onStable.pipe((0,_e.q)(1)).subscribe(le)}}let ut=(()=>{class W{constructor(j,J,Q){this._checker=j,this._ngZone=J,this._document=Q}create(j,J=!1){return new Oe(j,this._checker,this._ngZone,this._document,J)}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(ht),R.LFG(R.R0b),R.LFG(f.K0))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function he(W){return 0===W.buttons||0===W.offsetX&&0===W.offsetY}function ve(W){const le=W.touches&&W.touches[0]||W.changedTouches&&W.changedTouches[0];return!(!le||-1!==le.identifier||null!=le.radiusX&&1!==le.radiusX||null!=le.radiusY&&1!==le.radiusY)}const ft=new R.OlP("cdk-input-modality-detector-options"),je={ignoreKeys:[Ue.zL,Ue.jx,Ue.b2,Ue.MW,Ue.JU]},xn=(0,E.i$)({passive:!0,capture:!0});let fn=(()=>{class W{get mostRecentModality(){return this._modality.value}constructor(j,J,Q,xe){this._platform=j,this._mostRecentTarget=null,this._modality=new me.X(null),this._lastTouchMs=0,this._onKeydown=pt=>{this._options?.ignoreKeys?.some(Qt=>Qt===pt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(pt))},this._onMousedown=pt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(he(pt)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(pt))},this._onTouchstart=pt=>{ve(pt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(pt))},this._options={...je,...xe},this.modalityDetected=this._modality.pipe((0,Ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,oe.x)()),j.isBrowser&&J.runOutsideAngular(()=>{Q.addEventListener("keydown",this._onKeydown,xn),Q.addEventListener("mousedown",this._onMousedown,xn),Q.addEventListener("touchstart",this._onTouchstart,xn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xn),document.removeEventListener("mousedown",this._onMousedown,xn),document.removeEventListener("touchstart",this._onTouchstart,xn))}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(E.t4),R.LFG(R.R0b),R.LFG(f.K0),R.LFG(ft,8))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const X=new R.OlP("cdk-focus-monitor-default-options"),ae=(0,E.i$)({passive:!0,capture:!0});let Ne=(()=>{class W{constructor(j,J,Q,xe,pt){this._ngZone=j,this._platform=J,this._inputModalityDetector=Q,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ce.x,this._rootNodeFocusAndBlurListener=Qt=>{for(let An=(0,E.sA)(Qt);An;An=An.parentElement)"focus"===Qt.type?this._onFocus(Qt,An):this._onBlur(Qt,An)},this._document=xe,this._detectionMode=pt?.detectionMode||0}monitor(j,J=!1){const Q=(0,ye.fI)(j);if(!this._platform.isBrowser||1!==Q.nodeType)return(0,Fe.of)(null);const xe=(0,E.kV)(Q)||this._getDocument(),pt=this._elementInfo.get(Q);if(pt)return J&&(pt.checkChildren=!0),pt.subject;const Qt={checkChildren:J,subject:new ce.x,rootNode:xe};return this._elementInfo.set(Q,Qt),this._registerGlobalListeners(Qt),Qt.subject}stopMonitoring(j){const J=(0,ye.fI)(j),Q=this._elementInfo.get(J);Q&&(Q.subject.complete(),this._setClasses(J),this._elementInfo.delete(J),this._removeGlobalListeners(Q))}focusVia(j,J,Q){const xe=(0,ye.fI)(j);xe===this._getDocument().activeElement?this._getClosestElementsInfo(xe).forEach(([Qt,vn])=>this._originChanged(Qt,J,vn)):(this._setOrigin(J),"function"==typeof xe.focus&&xe.focus(Q))}ngOnDestroy(){this._elementInfo.forEach((j,J)=>this.stopMonitoring(J))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(j){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(j)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:j&&this._isLastInteractionFromInputLabel(j)?"mouse":"program"}_shouldBeAttributedToTouch(j){return 1===this._detectionMode||!!j?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(j,J){j.classList.toggle("cdk-focused",!!J),j.classList.toggle("cdk-touch-focused","touch"===J),j.classList.toggle("cdk-keyboard-focused","keyboard"===J),j.classList.toggle("cdk-mouse-focused","mouse"===J),j.classList.toggle("cdk-program-focused","program"===J)}_setOrigin(j,J=!1){this._ngZone.runOutsideAngular(()=>{this._origin=j,this._originFromTouchInteraction="touch"===j&&J,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(j,J){const Q=this._elementInfo.get(J),xe=(0,E.sA)(j);!Q||!Q.checkChildren&&J!==xe||this._originChanged(J,this._getFocusOrigin(xe),Q)}_onBlur(j,J){const Q=this._elementInfo.get(J);!Q||Q.checkChildren&&j.relatedTarget instanceof Node&&J.contains(j.relatedTarget)||(this._setClasses(J),this._emitOrigin(Q,null))}_emitOrigin(j,J){j.subject.observers.length&&this._ngZone.run(()=>j.subject.next(J))}_registerGlobalListeners(j){if(!this._platform.isBrowser)return;const J=j.rootNode,Q=this._rootNodeFocusListenerCount.get(J)||0;Q||this._ngZone.runOutsideAngular(()=>{J.addEventListener("focus",this._rootNodeFocusAndBlurListener,ae),J.addEventListener("blur",this._rootNodeFocusAndBlurListener,ae)}),this._rootNodeFocusListenerCount.set(J,Q+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ge.R)(this._stopInputModalityDetector)).subscribe(xe=>{this._setOrigin(xe,!0)}))}_removeGlobalListeners(j){const J=j.rootNode;if(this._rootNodeFocusListenerCount.has(J)){const Q=this._rootNodeFocusListenerCount.get(J);Q>1?this._rootNodeFocusListenerCount.set(J,Q-1):(J.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ae),J.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ae),this._rootNodeFocusListenerCount.delete(J))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(j,J,Q){this._setClasses(j,J),this._emitOrigin(Q,J),this._lastFocusOrigin=J}_getClosestElementsInfo(j){const J=[];return this._elementInfo.forEach((Q,xe)=>{(xe===j||Q.checkChildren&&xe.contains(j))&&J.push([xe,Q])}),J}_isLastInteractionFromInputLabel(j){const{_mostRecentTarget:J,mostRecentModality:Q}=this._inputModalityDetector;if("mouse"!==Q||!J||J===j||"INPUT"!==j.nodeName&&"TEXTAREA"!==j.nodeName||j.disabled)return!1;const xe=j.labels;if(xe)for(let pt=0;pt<xe.length;pt++)if(xe[pt].contains(J))return!0;return!1}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(R.R0b),R.LFG(E.t4),R.LFG(fn),R.LFG(f.K0,8),R.LFG(X,8))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const Jt="cdk-high-contrast-black-on-white",Ve="cdk-high-contrast-white-on-black",ze="cdk-high-contrast-active";let ue=(()=>{class W{constructor(j,J){this._platform=j,this._document=J,this._breakpointSubscription=(0,R.f3M)(Ye).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const j=this._document.createElement("div");j.style.backgroundColor="rgb(1,2,3)",j.style.position="absolute",this._document.body.appendChild(j);const J=this._document.defaultView||window,Q=J&&J.getComputedStyle?J.getComputedStyle(j):null,xe=(Q&&Q.backgroundColor||"").replace(/ /g,"");switch(j.remove(),xe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const j=this._document.body.classList;j.remove(ze,Jt,Ve),this._hasCheckedHighContrastMode=!0;const J=this.getHighContrastMode();1===J?j.add(ze,Jt):2===J&&j.add(ze,Ve)}}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(E.t4),R.LFG(f.K0))},W.\u0275prov=R.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),fe=(()=>{class W{constructor(j){j._applyBodyHighContrastModeCssClasses()}}return W.\u0275fac=function(j){return new(j||W)(R.LFG(ue))},W.\u0275mod=R.oAB({type:W}),W.\u0275inj=R.cJS({imports:[Le.Q8]}),W})()},445:(pn,at,T)=>{T.d(at,{Is:()=>Ue,vT:()=>Ke});var f=T(4650),R=T(6895);const E=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function me(){return(0,f.f3M)(R.K0)}}),ce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ue=(()=>{class oe{constructor(ye){this.value="ltr",this.change=new f.vpe,ye&&(this.value=function Fe(oe){const ge=oe?.toLowerCase()||"";return"auto"===ge&&typeof navigator<"u"&&navigator?.language?ce.test(navigator.language)?"rtl":"ltr":"rtl"===ge?"rtl":"ltr"}((ye.body?ye.body.dir:null)||(ye.documentElement?ye.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return oe.\u0275fac=function(ye){return new(ye||oe)(f.LFG(E,8))},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Ke=(()=>{class oe{}return oe.\u0275fac=function(ye){return new(ye||oe)},oe.\u0275mod=f.oAB({type:oe}),oe.\u0275inj=f.cJS({}),oe})()},1281:(pn,at,T)=>{T.d(at,{Eq:()=>ce,HM:()=>Fe,Ig:()=>R,fI:()=>Ue,su:()=>E});var f=T(4650);function R(Ke){return null!=Ke&&"false"!=`${Ke}`}function E(Ke,oe=0){return function me(Ke){return!isNaN(parseFloat(Ke))&&!isNaN(Number(Ke))}(Ke)?Number(Ke):oe}function ce(Ke){return Array.isArray(Ke)?Ke:[Ke]}function Fe(Ke){return null==Ke?"":"string"==typeof Ke?Ke:`${Ke}px`}function Ue(Ke){return Ke instanceof f.SBq?Ke.nativeElement:Ke}},9521:(pn,at,T)=>{T.d(at,{JU:()=>Fe,MW:()=>he,Vb:()=>Sr,b2:()=>Hi,hY:()=>ge,jx:()=>Ue,zL:()=>_e});const Fe=16,Ue=17,_e=18,ge=27,he=91,Hi=224;function Sr($i,...Ct){return Ct.length?Ct.some(dt=>$i[dt]):$i.altKey||$i.shiftKey||$i.ctrlKey||$i.metaKey}},9643:(pn,at,T)=>{T.d(at,{Q8:()=>Ke,wD:()=>_e});var f=T(1281),R=T(4650),E=T(9751),me=T(7579),ce=T(8372);let Fe=(()=>{class oe{create(ye){return typeof MutationObserver>"u"?null:new MutationObserver(ye)}}return oe.\u0275fac=function(ye){return new(ye||oe)},oe.\u0275prov=R.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Ue=(()=>{class oe{constructor(ye){this._mutationObserverFactory=ye,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ye,Le)=>this._cleanupObserver(Le))}observe(ye){const Le=(0,f.fI)(ye);return new E.y(We=>{const gt=this._observeElement(Le).subscribe(We);return()=>{gt.unsubscribe(),this._unobserveElement(Le)}})}_observeElement(ye){if(this._observedElements.has(ye))this._observedElements.get(ye).count++;else{const Le=new me.x,We=this._mutationObserverFactory.create(Je=>Le.next(Je));We&&We.observe(ye,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ye,{observer:We,stream:Le,count:1})}return this._observedElements.get(ye).stream}_unobserveElement(ye){this._observedElements.has(ye)&&(this._observedElements.get(ye).count--,this._observedElements.get(ye).count||this._cleanupObserver(ye))}_cleanupObserver(ye){if(this._observedElements.has(ye)){const{observer:Le,stream:We}=this._observedElements.get(ye);Le&&Le.disconnect(),We.complete(),this._observedElements.delete(ye)}}}return oe.\u0275fac=function(ye){return new(ye||oe)(R.LFG(Fe))},oe.\u0275prov=R.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),_e=(()=>{class oe{get disabled(){return this._disabled}set disabled(ye){this._disabled=(0,f.Ig)(ye),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ye){this._debounce=(0,f.su)(ye),this._subscribe()}constructor(ye,Le,We){this._contentObserver=ye,this._elementRef=Le,this._ngZone=We,this.event=new R.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ye=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ye.pipe((0,ce.b)(this.debounce)):ye).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return oe.\u0275fac=function(ye){return new(ye||oe)(R.Y36(Ue),R.Y36(R.SBq),R.Y36(R.R0b))},oe.\u0275dir=R.lG2({type:oe,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),oe})(),Ke=(()=>{class oe{}return oe.\u0275fac=function(ye){return new(ye||oe)},oe.\u0275mod=R.oAB({type:oe}),oe.\u0275inj=R.cJS({providers:[Fe]}),oe})()},8184:(pn,at,T)=>{T.d(at,{U8:()=>rt,aV:()=>Ht});var f=T(8605),R=T(6895),E=T(4650),me=T(1281),ce=T(3353),Fe=T(9300),Ue=T(5698),_e=T(2722),Ke=T(445),oe=T(4080),ge=T(7579),ye=T(727),Le=T(6451);const We=(0,ce.Mq)();class Je{constructor(ne,Oe){this._viewportRuler=ne,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Oe}attach(){}enable(){if(this._canBeEnabled()){const ne=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ne.style.left||"",this._previousHTMLStyles.top=ne.style.top||"",ne.style.left=(0,me.HM)(-this._previousScrollPosition.left),ne.style.top=(0,me.HM)(-this._previousScrollPosition.top),ne.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ne=this._document.documentElement,ut=ne.style,Pt=this._document.body.style,zt=ut.scrollBehavior||"",_t=Pt.scrollBehavior||"";this._isEnabled=!1,ut.left=this._previousHTMLStyles.left,ut.top=this._previousHTMLStyles.top,ne.classList.remove("cdk-global-scrollblock"),We&&(ut.scrollBehavior=Pt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),We&&(ut.scrollBehavior=zt,Pt.scrollBehavior=_t)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Oe=this._document.body,ut=this._viewportRuler.getViewportSize();return Oe.scrollHeight>ut.height||Oe.scrollWidth>ut.width}}class tt{constructor(ne,Oe,ut,Pt){this._scrollDispatcher=ne,this._ngZone=Oe,this._viewportRuler=ut,this._config=Pt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ne){this._overlayRef=ne}enable(){if(this._scrollSubscription)return;const ne=this._scrollDispatcher.scrolled(0).pipe((0,Fe.h)(Oe=>!Oe||!this._overlayRef.overlayElement.contains(Oe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ne.subscribe(()=>{const Oe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Oe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ne.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ge{enable(){}disable(){}attach(){}}function Pe(Te,ne){return ne.some(Oe=>Te.bottom<Oe.top||Te.top>Oe.bottom||Te.right<Oe.left||Te.left>Oe.right)}function kt(Te,ne){return ne.some(Oe=>Te.top<Oe.top||Te.bottom>Oe.bottom||Te.left<Oe.left||Te.right>Oe.right)}class Qe{constructor(ne,Oe,ut,Pt){this._scrollDispatcher=ne,this._viewportRuler=Oe,this._ngZone=ut,this._config=Pt,this._scrollSubscription=null}attach(ne){this._overlayRef=ne}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Oe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ut,height:Pt}=this._viewportRuler.getViewportSize();Pe(Oe,[{width:ut,height:Pt,bottom:Pt,right:ut,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ae=(()=>{class Te{constructor(Oe,ut,Pt,zt){this._scrollDispatcher=Oe,this._viewportRuler=ut,this._ngZone=Pt,this.noop=()=>new Ge,this.close=_t=>new tt(this._scrollDispatcher,this._ngZone,this._viewportRuler,_t),this.block=()=>new Je(this._viewportRuler,this._document),this.reposition=_t=>new Qe(this._scrollDispatcher,this._viewportRuler,this._ngZone,_t),this._document=zt}}return Te.\u0275fac=function(Oe){return new(Oe||Te)(E.LFG(f.mF),E.LFG(f.rL),E.LFG(E.R0b),E.LFG(R.K0))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();class qe{constructor(ne){if(this.scrollStrategy=new Ge,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ne){const Oe=Object.keys(ne);for(const ut of Oe)void 0!==ne[ut]&&(this[ut]=ne[ut])}}}class Ye{constructor(ne,Oe){this.connectionPair=ne,this.scrollableViewProperties=Oe}}let sn=(()=>{class Te{constructor(Oe){this._attachedOverlays=[],this._document=Oe}ngOnDestroy(){this.detach()}add(Oe){this.remove(Oe),this._attachedOverlays.push(Oe)}remove(Oe){const ut=this._attachedOverlays.indexOf(Oe);ut>-1&&this._attachedOverlays.splice(ut,1),0===this._attachedOverlays.length&&this.detach()}}return Te.\u0275fac=function(Oe){return new(Oe||Te)(E.LFG(R.K0))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),En=(()=>{class Te extends sn{constructor(Oe,ut){super(Oe),this._ngZone=ut,this._keydownListener=Pt=>{const zt=this._attachedOverlays;for(let _t=zt.length-1;_t>-1;_t--)if(zt[_t]._keydownEvents.observers.length>0){const Zt=zt[_t]._keydownEvents;this._ngZone?this._ngZone.run(()=>Zt.next(Pt)):Zt.next(Pt);break}}}add(Oe){super.add(Oe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Te.\u0275fac=function(Oe){return new(Oe||Te)(E.LFG(R.K0),E.LFG(E.R0b,8))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),gn=(()=>{class Te extends sn{constructor(Oe,ut,Pt){super(Oe),this._platform=ut,this._ngZone=Pt,this._cursorStyleIsSet=!1,this._pointerDownListener=zt=>{this._pointerDownEventTarget=(0,ce.sA)(zt)},this._clickListener=zt=>{const _t=(0,ce.sA)(zt),Zt="click"===zt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:_t;this._pointerDownEventTarget=null;const Me=this._attachedOverlays.slice();for(let $e=Me.length-1;$e>-1;$e--){const he=Me[$e];if(he._outsidePointerEvents.observers.length<1||!he.hasAttached())continue;if(he.overlayElement.contains(_t)||he.overlayElement.contains(Zt))break;const ve=he._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ve.next(zt)):ve.next(zt)}}}add(Oe){if(super.add(Oe),!this._isAttached){const ut=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ut)):this._addEventListeners(ut),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ut.style.cursor,ut.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Oe=this._document.body;Oe.removeEventListener("pointerdown",this._pointerDownListener,!0),Oe.removeEventListener("click",this._clickListener,!0),Oe.removeEventListener("auxclick",this._clickListener,!0),Oe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Oe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Oe){Oe.addEventListener("pointerdown",this._pointerDownListener,!0),Oe.addEventListener("click",this._clickListener,!0),Oe.addEventListener("auxclick",this._clickListener,!0),Oe.addEventListener("contextmenu",this._clickListener,!0)}}return Te.\u0275fac=function(Oe){return new(Oe||Te)(E.LFG(R.K0),E.LFG(ce.t4),E.LFG(E.R0b,8))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),si=(()=>{class Te{constructor(Oe,ut){this._platform=ut,this._document=Oe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Oe="cdk-overlay-container";if(this._platform.isBrowser||(0,ce.Oy)()){const Pt=this._document.querySelectorAll(`.${Oe}[platform="server"], .${Oe}[platform="test"]`);for(let zt=0;zt<Pt.length;zt++)Pt[zt].remove()}const ut=this._document.createElement("div");ut.classList.add(Oe),(0,ce.Oy)()?ut.setAttribute("platform","test"):this._platform.isBrowser||ut.setAttribute("platform","server"),this._document.body.appendChild(ut),this._containerElement=ut}}return Te.\u0275fac=function(Oe){return new(Oe||Te)(E.LFG(R.K0),E.LFG(ce.t4))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();class Ut{constructor(ne,Oe,ut,Pt,zt,_t,Zt,Me,$e,he=!1){this._portalOutlet=ne,this._host=Oe,this._pane=ut,this._config=Pt,this._ngZone=zt,this._keyboardDispatcher=_t,this._document=Zt,this._location=Me,this._outsideClickDispatcher=$e,this._animationsDisabled=he,this._backdropElement=null,this._backdropClick=new ge.x,this._attachments=new ge.x,this._detachments=new ge.x,this._locationChanges=ye.w0.EMPTY,this._backdropClickHandler=ve=>this._backdropClick.next(ve),this._backdropTransitionendHandler=ve=>{this._disposeBackdrop(ve.target)},this._keydownEvents=new ge.x,this._outsidePointerEvents=new ge.x,Pt.scrollStrategy&&(this._scrollStrategy=Pt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Pt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ne){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Oe=this._portalOutlet.attach(ne);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ue.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Oe?.onDestroy&&Oe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Oe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ne=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ne}dispose(){const ne=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ne&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ne){ne!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ne,this.hasAttached()&&(ne.attach(this),this.updatePosition()))}updateSize(ne){this._config={...this._config,...ne},this._updateElementSize()}setDirection(ne){this._config={...this._config,direction:ne},this._updateElementDirection()}addPanelClass(ne){this._pane&&this._toggleClasses(this._pane,ne,!0)}removePanelClass(ne){this._pane&&this._toggleClasses(this._pane,ne,!1)}getDirection(){const ne=this._config.direction;return ne?"string"==typeof ne?ne:ne.value:"ltr"}updateScrollStrategy(ne){ne!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ne,this.hasAttached()&&(ne.attach(this),ne.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ne=this._pane.style;ne.width=(0,me.HM)(this._config.width),ne.height=(0,me.HM)(this._config.height),ne.minWidth=(0,me.HM)(this._config.minWidth),ne.minHeight=(0,me.HM)(this._config.minHeight),ne.maxWidth=(0,me.HM)(this._config.maxWidth),ne.maxHeight=(0,me.HM)(this._config.maxHeight)}_togglePointerEvents(ne){this._pane.style.pointerEvents=ne?"":"none"}_attachBackdrop(){const ne="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ne)})}):this._backdropElement.classList.add(ne)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ne=this._backdropElement;if(ne){if(this._animationsDisabled)return void this._disposeBackdrop(ne);ne.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ne.addEventListener("transitionend",this._backdropTransitionendHandler)}),ne.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ne)},500))}}_toggleClasses(ne,Oe,ut){const Pt=(0,me.Eq)(Oe||[]).filter(zt=>!!zt);Pt.length&&(ut?ne.classList.add(...Pt):ne.classList.remove(...Pt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ne=this._ngZone.onStable.pipe((0,_e.R)((0,Le.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ne.unsubscribe())})})}_disposeScrollStrategy(){const ne=this._scrollStrategy;ne&&(ne.disable(),ne.detach&&ne.detach())}_disposeBackdrop(ne){ne&&(ne.removeEventListener("click",this._backdropClickHandler),ne.removeEventListener("transitionend",this._backdropTransitionendHandler),ne.remove(),this._backdropElement===ne&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Dt="cdk-overlay-connected-position-bounding-box",Bt=/([A-Za-z%]+)$/;class Vt{get positions(){return this._preferredPositions}constructor(ne,Oe,ut,Pt,zt){this._viewportRuler=Oe,this._document=ut,this._platform=Pt,this._overlayContainer=zt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ge.x,this._resizeSubscription=ye.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ne)}attach(ne){this._validatePositions(),ne.hostElement.classList.add(Dt),this._overlayRef=ne,this._boundingBox=ne.hostElement,this._pane=ne.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ne=this._originRect,Oe=this._overlayRect,ut=this._viewportRect,Pt=this._containerRect,zt=[];let _t;for(let Zt of this._preferredPositions){let Me=this._getOriginPoint(ne,Pt,Zt),$e=this._getOverlayPoint(Me,Oe,Zt),he=this._getOverlayFit($e,Oe,ut,Zt);if(he.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Zt,Me);this._canFitWithFlexibleDimensions(he,$e,ut)?zt.push({position:Zt,origin:Me,overlayRect:Oe,boundingBoxRect:this._calculateBoundingBoxRect(Me,Zt)}):(!_t||_t.overlayFit.visibleArea<he.visibleArea)&&(_t={overlayFit:he,overlayPoint:$e,originPoint:Me,position:Zt,overlayRect:Oe})}if(zt.length){let Zt=null,Me=-1;for(const $e of zt){const he=$e.boundingBoxRect.width*$e.boundingBoxRect.height*($e.position.weight||1);he>Me&&(Me=he,Zt=$e)}return this._isPushed=!1,void this._applyPosition(Zt.position,Zt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(_t.position,_t.originPoint);this._applyPosition(_t.position,_t.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ne=this._lastPosition;if(ne){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Oe=this._getOriginPoint(this._originRect,this._containerRect,ne);this._applyPosition(ne,Oe)}else this.apply()}withScrollableContainers(ne){return this._scrollables=ne,this}withPositions(ne){return this._preferredPositions=ne,-1===ne.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ne){return this._viewportMargin=ne,this}withFlexibleDimensions(ne=!0){return this._hasFlexibleDimensions=ne,this}withGrowAfterOpen(ne=!0){return this._growAfterOpen=ne,this}withPush(ne=!0){return this._canPush=ne,this}withLockedPosition(ne=!0){return this._positionLocked=ne,this}setOrigin(ne){return this._origin=ne,this}withDefaultOffsetX(ne){return this._offsetX=ne,this}withDefaultOffsetY(ne){return this._offsetY=ne,this}withTransformOriginOn(ne){return this._transformOriginSelector=ne,this}_getOriginPoint(ne,Oe,ut){let Pt,zt;if("center"==ut.originX)Pt=ne.left+ne.width/2;else{const _t=this._isRtl()?ne.right:ne.left,Zt=this._isRtl()?ne.left:ne.right;Pt="start"==ut.originX?_t:Zt}return Oe.left<0&&(Pt-=Oe.left),zt="center"==ut.originY?ne.top+ne.height/2:"top"==ut.originY?ne.top:ne.bottom,Oe.top<0&&(zt-=Oe.top),{x:Pt,y:zt}}_getOverlayPoint(ne,Oe,ut){let Pt,zt;return Pt="center"==ut.overlayX?-Oe.width/2:"start"===ut.overlayX?this._isRtl()?-Oe.width:0:this._isRtl()?0:-Oe.width,zt="center"==ut.overlayY?-Oe.height/2:"top"==ut.overlayY?0:-Oe.height,{x:ne.x+Pt,y:ne.y+zt}}_getOverlayFit(ne,Oe,ut,Pt){const zt=lt(Oe);let{x:_t,y:Zt}=ne,Me=this._getOffset(Pt,"x"),$e=this._getOffset(Pt,"y");Me&&(_t+=Me),$e&&(Zt+=$e);let ft=0-Zt,je=Zt+zt.height-ut.height,wt=this._subtractOverflows(zt.width,0-_t,_t+zt.width-ut.width),xn=this._subtractOverflows(zt.height,ft,je),fn=wt*xn;return{visibleArea:fn,isCompletelyWithinViewport:zt.width*zt.height===fn,fitsInViewportVertically:xn===zt.height,fitsInViewportHorizontally:wt==zt.width}}_canFitWithFlexibleDimensions(ne,Oe,ut){if(this._hasFlexibleDimensions){const Pt=ut.bottom-Oe.y,zt=ut.right-Oe.x,_t=nt(this._overlayRef.getConfig().minHeight),Zt=nt(this._overlayRef.getConfig().minWidth);return(ne.fitsInViewportVertically||null!=_t&&_t<=Pt)&&(ne.fitsInViewportHorizontally||null!=Zt&&Zt<=zt)}return!1}_pushOverlayOnScreen(ne,Oe,ut){if(this._previousPushAmount&&this._positionLocked)return{x:ne.x+this._previousPushAmount.x,y:ne.y+this._previousPushAmount.y};const Pt=lt(Oe),zt=this._viewportRect,_t=Math.max(ne.x+Pt.width-zt.width,0),Zt=Math.max(ne.y+Pt.height-zt.height,0),Me=Math.max(zt.top-ut.top-ne.y,0),$e=Math.max(zt.left-ut.left-ne.x,0);let he=0,ve=0;return he=Pt.width<=zt.width?$e||-_t:ne.x<this._viewportMargin?zt.left-ut.left-ne.x:0,ve=Pt.height<=zt.height?Me||-Zt:ne.y<this._viewportMargin?zt.top-ut.top-ne.y:0,this._previousPushAmount={x:he,y:ve},{x:ne.x+he,y:ne.y+ve}}_applyPosition(ne,Oe){if(this._setTransformOrigin(ne),this._setOverlayElementStyles(Oe,ne),this._setBoundingBoxStyles(Oe,ne),ne.panelClass&&this._addPanelClasses(ne.panelClass),this._lastPosition=ne,this._positionChanges.observers.length){const ut=this._getScrollVisibility(),Pt=new Ye(ne,ut);this._positionChanges.next(Pt)}this._isInitialRender=!1}_setTransformOrigin(ne){if(!this._transformOriginSelector)return;const Oe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ut,Pt=ne.overlayY;ut="center"===ne.overlayX?"center":this._isRtl()?"start"===ne.overlayX?"right":"left":"start"===ne.overlayX?"left":"right";for(let zt=0;zt<Oe.length;zt++)Oe[zt].style.transformOrigin=`${ut} ${Pt}`}_calculateBoundingBoxRect(ne,Oe){const ut=this._viewportRect,Pt=this._isRtl();let zt,_t,Zt,he,ve,ft;if("top"===Oe.overlayY)_t=ne.y,zt=ut.height-_t+this._viewportMargin;else if("bottom"===Oe.overlayY)Zt=ut.height-ne.y+2*this._viewportMargin,zt=ut.height-Zt+this._viewportMargin;else{const je=Math.min(ut.bottom-ne.y+ut.top,ne.y),wt=this._lastBoundingBoxSize.height;zt=2*je,_t=ne.y-je,zt>wt&&!this._isInitialRender&&!this._growAfterOpen&&(_t=ne.y-wt/2)}if("end"===Oe.overlayX&&!Pt||"start"===Oe.overlayX&&Pt)ft=ut.width-ne.x+this._viewportMargin,he=ne.x-this._viewportMargin;else if("start"===Oe.overlayX&&!Pt||"end"===Oe.overlayX&&Pt)ve=ne.x,he=ut.right-ne.x;else{const je=Math.min(ut.right-ne.x+ut.left,ne.x),wt=this._lastBoundingBoxSize.width;he=2*je,ve=ne.x-je,he>wt&&!this._isInitialRender&&!this._growAfterOpen&&(ve=ne.x-wt/2)}return{top:_t,left:ve,bottom:Zt,right:ft,width:he,height:zt}}_setBoundingBoxStyles(ne,Oe){const ut=this._calculateBoundingBoxRect(ne,Oe);!this._isInitialRender&&!this._growAfterOpen&&(ut.height=Math.min(ut.height,this._lastBoundingBoxSize.height),ut.width=Math.min(ut.width,this._lastBoundingBoxSize.width));const Pt={};if(this._hasExactPosition())Pt.top=Pt.left="0",Pt.bottom=Pt.right=Pt.maxHeight=Pt.maxWidth="",Pt.width=Pt.height="100%";else{const zt=this._overlayRef.getConfig().maxHeight,_t=this._overlayRef.getConfig().maxWidth;Pt.height=(0,me.HM)(ut.height),Pt.top=(0,me.HM)(ut.top),Pt.bottom=(0,me.HM)(ut.bottom),Pt.width=(0,me.HM)(ut.width),Pt.left=(0,me.HM)(ut.left),Pt.right=(0,me.HM)(ut.right),Pt.alignItems="center"===Oe.overlayX?"center":"end"===Oe.overlayX?"flex-end":"flex-start",Pt.justifyContent="center"===Oe.overlayY?"center":"bottom"===Oe.overlayY?"flex-end":"flex-start",zt&&(Pt.maxHeight=(0,me.HM)(zt)),_t&&(Pt.maxWidth=(0,me.HM)(_t))}this._lastBoundingBoxSize=ut,Tt(this._boundingBox.style,Pt)}_resetBoundingBoxStyles(){Tt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ne,Oe){const ut={},Pt=this._hasExactPosition(),zt=this._hasFlexibleDimensions,_t=this._overlayRef.getConfig();if(Pt){const he=this._viewportRuler.getViewportScrollPosition();Tt(ut,this._getExactOverlayY(Oe,ne,he)),Tt(ut,this._getExactOverlayX(Oe,ne,he))}else ut.position="static";let Zt="",Me=this._getOffset(Oe,"x"),$e=this._getOffset(Oe,"y");Me&&(Zt+=`translateX(${Me}px) `),$e&&(Zt+=`translateY(${$e}px)`),ut.transform=Zt.trim(),_t.maxHeight&&(Pt?ut.maxHeight=(0,me.HM)(_t.maxHeight):zt&&(ut.maxHeight="")),_t.maxWidth&&(Pt?ut.maxWidth=(0,me.HM)(_t.maxWidth):zt&&(ut.maxWidth="")),Tt(this._pane.style,ut)}_getExactOverlayY(ne,Oe,ut){let Pt={top:"",bottom:""},zt=this._getOverlayPoint(Oe,this._overlayRect,ne);return this._isPushed&&(zt=this._pushOverlayOnScreen(zt,this._overlayRect,ut)),"bottom"===ne.overlayY?Pt.bottom=this._document.documentElement.clientHeight-(zt.y+this._overlayRect.height)+"px":Pt.top=(0,me.HM)(zt.y),Pt}_getExactOverlayX(ne,Oe,ut){let _t,Pt={left:"",right:""},zt=this._getOverlayPoint(Oe,this._overlayRect,ne);return this._isPushed&&(zt=this._pushOverlayOnScreen(zt,this._overlayRect,ut)),_t=this._isRtl()?"end"===ne.overlayX?"left":"right":"end"===ne.overlayX?"right":"left","right"===_t?Pt.right=this._document.documentElement.clientWidth-(zt.x+this._overlayRect.width)+"px":Pt.left=(0,me.HM)(zt.x),Pt}_getScrollVisibility(){const ne=this._getOriginRect(),Oe=this._pane.getBoundingClientRect(),ut=this._scrollables.map(Pt=>Pt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kt(ne,ut),isOriginOutsideView:Pe(ne,ut),isOverlayClipped:kt(Oe,ut),isOverlayOutsideView:Pe(Oe,ut)}}_subtractOverflows(ne,...Oe){return Oe.reduce((ut,Pt)=>ut-Math.max(Pt,0),ne)}_getNarrowedViewportRect(){const ne=this._document.documentElement.clientWidth,Oe=this._document.documentElement.clientHeight,ut=this._viewportRuler.getViewportScrollPosition();return{top:ut.top+this._viewportMargin,left:ut.left+this._viewportMargin,right:ut.left+ne-this._viewportMargin,bottom:ut.top+Oe-this._viewportMargin,width:ne-2*this._viewportMargin,height:Oe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ne,Oe){return"x"===Oe?null==ne.offsetX?this._offsetX:ne.offsetX:null==ne.offsetY?this._offsetY:ne.offsetY}_validatePositions(){}_addPanelClasses(ne){this._pane&&(0,me.Eq)(ne).forEach(Oe=>{""!==Oe&&-1===this._appliedPanelClasses.indexOf(Oe)&&(this._appliedPanelClasses.push(Oe),this._pane.classList.add(Oe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ne=>{this._pane.classList.remove(ne)}),this._appliedPanelClasses=[])}_getOriginRect(){const ne=this._origin;if(ne instanceof E.SBq)return ne.nativeElement.getBoundingClientRect();if(ne instanceof Element)return ne.getBoundingClientRect();const Oe=ne.width||0,ut=ne.height||0;return{top:ne.y,bottom:ne.y+ut,left:ne.x,right:ne.x+Oe,height:ut,width:Oe}}}function Tt(Te,ne){for(let Oe in ne)ne.hasOwnProperty(Oe)&&(Te[Oe]=ne[Oe]);return Te}function nt(Te){if("number"!=typeof Te&&null!=Te){const[ne,Oe]=Te.split(Bt);return Oe&&"px"!==Oe?null:parseFloat(ne)}return Te||null}function lt(Te){return{top:Math.floor(Te.top),right:Math.floor(Te.right),bottom:Math.floor(Te.bottom),left:Math.floor(Te.left),width:Math.floor(Te.width),height:Math.floor(Te.height)}}const it="cdk-global-overlay-wrapper";class He{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ne){const Oe=ne.getConfig();this._overlayRef=ne,this._width&&!Oe.width&&ne.updateSize({width:this._width}),this._height&&!Oe.height&&ne.updateSize({height:this._height}),ne.hostElement.classList.add(it),this._isDisposed=!1}top(ne=""){return this._bottomOffset="",this._topOffset=ne,this._alignItems="flex-start",this}left(ne=""){return this._xOffset=ne,this._xPosition="left",this}bottom(ne=""){return this._topOffset="",this._bottomOffset=ne,this._alignItems="flex-end",this}right(ne=""){return this._xOffset=ne,this._xPosition="right",this}start(ne=""){return this._xOffset=ne,this._xPosition="start",this}end(ne=""){return this._xOffset=ne,this._xPosition="end",this}width(ne=""){return this._overlayRef?this._overlayRef.updateSize({width:ne}):this._width=ne,this}height(ne=""){return this._overlayRef?this._overlayRef.updateSize({height:ne}):this._height=ne,this}centerHorizontally(ne=""){return this.left(ne),this._xPosition="center",this}centerVertically(ne=""){return this.top(ne),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ne=this._overlayRef.overlayElement.style,Oe=this._overlayRef.hostElement.style,ut=this._overlayRef.getConfig(),{width:Pt,height:zt,maxWidth:_t,maxHeight:Zt}=ut,Me=!("100%"!==Pt&&"100vw"!==Pt||_t&&"100%"!==_t&&"100vw"!==_t),$e=!("100%"!==zt&&"100vh"!==zt||Zt&&"100%"!==Zt&&"100vh"!==Zt),he=this._xPosition,ve=this._xOffset,ft="rtl"===this._overlayRef.getConfig().direction;let je="",wt="",xn="";Me?xn="flex-start":"center"===he?(xn="center",ft?wt=ve:je=ve):ft?"left"===he||"end"===he?(xn="flex-end",je=ve):("right"===he||"start"===he)&&(xn="flex-start",wt=ve):"left"===he||"start"===he?(xn="flex-start",je=ve):("right"===he||"end"===he)&&(xn="flex-end",wt=ve),ne.position=this._cssPosition,ne.marginLeft=Me?"0":je,ne.marginTop=$e?"0":this._topOffset,ne.marginBottom=this._bottomOffset,ne.marginRight=Me?"0":wt,Oe.justifyContent=xn,Oe.alignItems=$e?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ne=this._overlayRef.overlayElement.style,Oe=this._overlayRef.hostElement,ut=Oe.style;Oe.classList.remove(it),ut.justifyContent=ut.alignItems=ne.marginTop=ne.marginBottom=ne.marginLeft=ne.marginRight=ne.position="",this._overlayRef=null,this._isDisposed=!0}}let ht=(()=>{class Te{constructor(Oe,ut,Pt,zt){this._viewportRuler=Oe,this._document=ut,this._platform=Pt,this._overlayContainer=zt}global(){return new He}flexibleConnectedTo(Oe){return new Vt(Oe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Te.\u0275fac=function(Oe){return new(Oe||Te)(E.LFG(f.rL),E.LFG(R.K0),E.LFG(ce.t4),E.LFG(si))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),mt=0,Ht=(()=>{class Te{constructor(Oe,ut,Pt,zt,_t,Zt,Me,$e,he,ve,ft,je){this.scrollStrategies=Oe,this._overlayContainer=ut,this._componentFactoryResolver=Pt,this._positionBuilder=zt,this._keyboardDispatcher=_t,this._injector=Zt,this._ngZone=Me,this._document=$e,this._directionality=he,this._location=ve,this._outsideClickDispatcher=ft,this._animationsModuleType=je}create(Oe){const ut=this._createHostElement(),Pt=this._createPaneElement(ut),zt=this._createPortalOutlet(Pt),_t=new qe(Oe);return _t.direction=_t.direction||this._directionality.value,new Ut(zt,ut,Pt,_t,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Oe){const ut=this._document.createElement("div");return ut.id="cdk-overlay-"+mt++,ut.classList.add("cdk-overlay-pane"),Oe.appendChild(ut),ut}_createHostElement(){const Oe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Oe),Oe}_createPortalOutlet(Oe){return this._appRef||(this._appRef=this._injector.get(E.z2F)),new oe.u0(Oe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Te.\u0275fac=function(Oe){return new(Oe||Te)(E.LFG(Ae),E.LFG(si),E.LFG(E._Vd),E.LFG(ht),E.LFG(En),E.LFG(E.zs3),E.LFG(E.R0b),E.LFG(R.K0),E.LFG(Ke.Is),E.LFG(R.Ye),E.LFG(gn),E.LFG(E.QbO,8))},Te.\u0275prov=E.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const bt={provide:new E.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ht],useFactory:function qn(Te){return()=>Te.scrollStrategies.reposition()}};let rt=(()=>{class Te{}return Te.\u0275fac=function(Oe){return new(Oe||Te)},Te.\u0275mod=E.oAB({type:Te}),Te.\u0275inj=E.cJS({providers:[Ht,bt],imports:[Ke.vT,oe.eL,f.Cl,f.Cl]}),Te})()},3353:(pn,at,T)=>{T.d(at,{Mq:()=>We,Oy:()=>Qe,_i:()=>Je,i$:()=>ge,kV:()=>Ge,qK:()=>_e,sA:()=>kt,t4:()=>me});var f=T(4650),R=T(6895);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let Fe,me=(()=>{class Ae{constructor(Nt){this._platformId=Nt,this.isBrowser=this._platformId?(0,R.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ae.\u0275fac=function(Nt){return new(Nt||Ae)(f.LFG(f.Lbi))},Ae.\u0275prov=f.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();const Ue=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _e(){if(Fe)return Fe;if("object"!=typeof document||!document)return Fe=new Set(Ue),Fe;let Ae=document.createElement("input");return Fe=new Set(Ue.filter(qe=>(Ae.setAttribute("type",qe),Ae.type===qe))),Fe}let Ke,ye,Le,gt;function ge(Ae){return function oe(){if(null==Ke&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ke=!0}))}finally{Ke=Ke||!1}return Ke}()?Ae:!!Ae.capture}function We(){if(null==Le){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Le=!1,Le;if("scrollBehavior"in document.documentElement.style)Le=!0;else{const Ae=Element.prototype.scrollTo;Le=!!Ae&&!/\{\s*\[native code\]\s*\}/.test(Ae.toString())}}return Le}function Je(){if("object"!=typeof document||!document)return 0;if(null==ye){const Ae=document.createElement("div"),qe=Ae.style;Ae.dir="rtl",qe.width="1px",qe.overflow="auto",qe.visibility="hidden",qe.pointerEvents="none",qe.position="absolute";const Nt=document.createElement("div"),It=Nt.style;It.width="2px",It.height="1px",Ae.appendChild(Nt),document.body.appendChild(Ae),ye=0,0===Ae.scrollLeft&&(Ae.scrollLeft=1,ye=0===Ae.scrollLeft?1:2),Ae.remove()}return ye}function Ge(Ae){if(function tt(){if(null==gt){const Ae=typeof document<"u"?document.head:null;gt=!(!Ae||!Ae.createShadowRoot&&!Ae.attachShadow)}return gt}()){const qe=Ae.getRootNode?Ae.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&qe instanceof ShadowRoot)return qe}return null}function kt(Ae){return Ae.composedPath?Ae.composedPath()[0]:Ae.target}function Qe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(pn,at,T)=>{T.d(at,{C5:()=>Ke,eL:()=>kt,u0:()=>We});var f=T(4650);class _e{attach(qe){return this._attachedHost=qe,qe.attach(this)}detach(){let qe=this._attachedHost;null!=qe&&(this._attachedHost=null,qe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(qe){this._attachedHost=qe}}class Ke extends _e{constructor(qe,Nt,It,Ye,Xt){super(),this.component=qe,this.viewContainerRef=Nt,this.injector=It,this.componentFactoryResolver=Ye,this.projectableNodes=Xt}}class oe extends _e{constructor(qe,Nt,It,Ye){super(),this.templateRef=qe,this.viewContainerRef=Nt,this.context=It,this.injector=Ye}get origin(){return this.templateRef.elementRef}attach(qe,Nt=this.context){return this.context=Nt,super.attach(qe)}detach(){return this.context=void 0,super.detach()}}class ge extends _e{constructor(qe){super(),this.element=qe instanceof f.SBq?qe.nativeElement:qe}}class ye{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(qe){return qe instanceof Ke?(this._attachedPortal=qe,this.attachComponentPortal(qe)):qe instanceof oe?(this._attachedPortal=qe,this.attachTemplatePortal(qe)):this.attachDomPortal&&qe instanceof ge?(this._attachedPortal=qe,this.attachDomPortal(qe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(qe){this._disposeFn=qe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class We extends ye{constructor(qe,Nt,It,Ye,Xt){super(),this.outletElement=qe,this._componentFactoryResolver=Nt,this._appRef=It,this._defaultInjector=Ye,this.attachDomPortal=yn=>{const sn=yn.element,En=this._document.createComment("dom-portal");sn.parentNode.insertBefore(En,sn),this.outletElement.appendChild(sn),this._attachedPortal=yn,super.setDisposeFn(()=>{En.parentNode&&En.parentNode.replaceChild(sn,En)})},this._document=Xt}attachComponentPortal(qe){const It=(qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(qe.component);let Ye;return qe.viewContainerRef?(Ye=qe.viewContainerRef.createComponent(It,qe.viewContainerRef.length,qe.injector||qe.viewContainerRef.injector,qe.projectableNodes||void 0),this.setDisposeFn(()=>Ye.destroy())):(Ye=It.create(qe.injector||this._defaultInjector||f.zs3.NULL),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ye.hostView),Ye.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ye)),this._attachedPortal=qe,Ye}attachTemplatePortal(qe){let Nt=qe.viewContainerRef,It=Nt.createEmbeddedView(qe.templateRef,qe.context,{injector:qe.injector});return It.rootNodes.forEach(Ye=>this.outletElement.appendChild(Ye)),It.detectChanges(),this.setDisposeFn(()=>{let Ye=Nt.indexOf(It);-1!==Ye&&Nt.remove(Ye)}),this._attachedPortal=qe,It}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(qe){return qe.hostView.rootNodes[0]}}let kt=(()=>{class Ae{}return Ae.\u0275fac=function(Nt){return new(Nt||Ae)},Ae.\u0275mod=f.oAB({type:Ae}),Ae.\u0275inj=f.cJS({}),Ae})()},8605:(pn,at,T)=>{T.d(at,{PQ:()=>on,ZD:()=>_t,mF:()=>At,Cl:()=>Zt,rL:()=>qn});var f=T(1281),R=T(4650),E=T(7579),me=T(9646),ce=T(9751),Fe=T(4968),Ue=T(4408),_e=T(727);const Ke={schedule(Me){let $e=requestAnimationFrame,he=cancelAnimationFrame;const{delegate:ve}=Ke;ve&&($e=ve.requestAnimationFrame,he=ve.cancelAnimationFrame);const ft=$e(je=>{he=void 0,Me(je)});return new _e.w0(()=>he?.(ft))},requestAnimationFrame(...Me){const{delegate:$e}=Ke;return($e?.requestAnimationFrame||requestAnimationFrame)(...Me)},cancelAnimationFrame(...Me){const{delegate:$e}=Ke;return($e?.cancelAnimationFrame||cancelAnimationFrame)(...Me)},delegate:void 0};var ge=T(7565);const Le=new class ye extends ge.v{flush($e){this._active=!0;const he=this._scheduled;this._scheduled=void 0;const{actions:ve}=this;let ft;$e=$e||ve.shift();do{if(ft=$e.execute($e.state,$e.delay))break}while(($e=ve[0])&&$e.id===he&&ve.shift());if(this._active=!1,ft){for(;($e=ve[0])&&$e.id===he&&ve.shift();)$e.unsubscribe();throw ft}}}(class oe extends Ue.o{constructor($e,he){super($e,he),this.scheduler=$e,this.work=he}requestAsyncId($e,he,ve=0){return null!==ve&&ve>0?super.requestAsyncId($e,he,ve):($e.actions.push(this),$e._scheduled||($e._scheduled=Ke.requestAnimationFrame(()=>$e.flush(void 0))))}recycleAsyncId($e,he,ve=0){var ft;if(null!=ve?ve>0:this.delay>0)return super.recycleAsyncId($e,he,ve);const{actions:je}=$e;null!=he&&(null===(ft=je[je.length-1])||void 0===ft?void 0:ft.id)!==he&&(Ke.cancelAnimationFrame(he),$e._scheduled=void 0)}});let gt,Je=1;const tt={};function Ge(Me){return Me in tt&&(delete tt[Me],!0)}const Pe={setImmediate(Me){const $e=Je++;return tt[$e]=!0,gt||(gt=Promise.resolve()),gt.then(()=>Ge($e)&&Me()),$e},clearImmediate(Me){Ge(Me)}},{setImmediate:Qe,clearImmediate:Ae}=Pe,qe={setImmediate(...Me){const{delegate:$e}=qe;return($e?.setImmediate||Qe)(...Me)},clearImmediate(Me){const{delegate:$e}=qe;return($e?.clearImmediate||Ae)(Me)},delegate:void 0},Ye=new class It extends ge.v{flush($e){this._active=!0;const he=this._scheduled;this._scheduled=void 0;const{actions:ve}=this;let ft;$e=$e||ve.shift();do{if(ft=$e.execute($e.state,$e.delay))break}while(($e=ve[0])&&$e.id===he&&ve.shift());if(this._active=!1,ft){for(;($e=ve[0])&&$e.id===he&&ve.shift();)$e.unsubscribe();throw ft}}}(class Nt extends Ue.o{constructor($e,he){super($e,he),this.scheduler=$e,this.work=he}requestAsyncId($e,he,ve=0){return null!==ve&&ve>0?super.requestAsyncId($e,he,ve):($e.actions.push(this),$e._scheduled||($e._scheduled=qe.setImmediate($e.flush.bind($e,void 0))))}recycleAsyncId($e,he,ve=0){var ft;if(null!=ve?ve>0:this.delay>0)return super.recycleAsyncId($e,he,ve);const{actions:je}=$e;null!=he&&(null===(ft=je[je.length-1])||void 0===ft?void 0:ft.id)!==he&&(qe.clearImmediate(he),$e._scheduled===he&&($e._scheduled=void 0))}});var yn=T(4986),sn=T(4482),En=T(8421),gn=T(5403),Ut=T(5963);function Dt(Me,$e=yn.z){return function si(Me){return(0,sn.e)(($e,he)=>{let ve=!1,ft=null,je=null,wt=!1;const xn=()=>{if(je?.unsubscribe(),je=null,ve){ve=!1;const Zn=ft;ft=null,he.next(Zn)}wt&&he.complete()},fn=()=>{je=null,wt&&he.complete()};$e.subscribe((0,gn.x)(he,Zn=>{ve=!0,ft=Zn,je||(0,En.Xf)(Me(Zn)).subscribe(je=(0,gn.x)(he,xn,fn))},()=>{wt=!0,(!ve||!je||je.closed)&&he.complete()}))})}(()=>(0,Ut.H)(Me,$e))}var Bt=T(9300),Vt=T(2722),Tt=T(8675),nt=T(3353),lt=T(6895),Be=T(445);const ct=["contentWrapper"],it=["*"],He=new R.OlP("VIRTUAL_SCROLL_STRATEGY");let At=(()=>{class Me{constructor(he,ve,ft){this._ngZone=he,this._platform=ve,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ft}register(he){this.scrollContainers.has(he)||this.scrollContainers.set(he,he.elementScrolled().subscribe(()=>this._scrolled.next(he)))}deregister(he){const ve=this.scrollContainers.get(he);ve&&(ve.unsubscribe(),this.scrollContainers.delete(he))}scrolled(he=20){return this._platform.isBrowser?new ce.y(ve=>{this._globalSubscription||this._addGlobalListener();const ft=he>0?this._scrolled.pipe(Dt(he)).subscribe(ve):this._scrolled.subscribe(ve);return this._scrolledCount++,()=>{ft.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,me.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((he,ve)=>this.deregister(ve)),this._scrolled.complete()}ancestorScrolled(he,ve){const ft=this.getAncestorScrollContainers(he);return this.scrolled(ve).pipe((0,Bt.h)(je=>!je||ft.indexOf(je)>-1))}getAncestorScrollContainers(he){const ve=[];return this.scrollContainers.forEach((ft,je)=>{this._scrollableContainsElement(je,he)&&ve.push(je)}),ve}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(he,ve){let ft=(0,f.fI)(ve),je=he.getElementRef().nativeElement;do{if(ft==je)return!0}while(ft=ft.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const he=this._getWindow();return(0,Fe.R)(he.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Me.\u0275fac=function(he){return new(he||Me)(R.LFG(R.R0b),R.LFG(nt.t4),R.LFG(lt.K0,8))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})(),on=(()=>{class Me{constructor(he,ve,ft,je){this.elementRef=he,this.scrollDispatcher=ve,this.ngZone=ft,this.dir=je,this._destroyed=new E.x,this._elementScrolled=new ce.y(wt=>this.ngZone.runOutsideAngular(()=>(0,Fe.R)(this.elementRef.nativeElement,"scroll").pipe((0,Vt.R)(this._destroyed)).subscribe(wt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(he){const ve=this.elementRef.nativeElement,ft=this.dir&&"rtl"==this.dir.value;null==he.left&&(he.left=ft?he.end:he.start),null==he.right&&(he.right=ft?he.start:he.end),null!=he.bottom&&(he.top=ve.scrollHeight-ve.clientHeight-he.bottom),ft&&0!=(0,nt._i)()?(null!=he.left&&(he.right=ve.scrollWidth-ve.clientWidth-he.left),2==(0,nt._i)()?he.left=he.right:1==(0,nt._i)()&&(he.left=he.right?-he.right:he.right)):null!=he.right&&(he.left=ve.scrollWidth-ve.clientWidth-he.right),this._applyScrollToOptions(he)}_applyScrollToOptions(he){const ve=this.elementRef.nativeElement;(0,nt.Mq)()?ve.scrollTo(he):(null!=he.top&&(ve.scrollTop=he.top),null!=he.left&&(ve.scrollLeft=he.left))}measureScrollOffset(he){const ve="left",je=this.elementRef.nativeElement;if("top"==he)return je.scrollTop;if("bottom"==he)return je.scrollHeight-je.clientHeight-je.scrollTop;const wt=this.dir&&"rtl"==this.dir.value;return"start"==he?he=wt?"right":ve:"end"==he&&(he=wt?ve:"right"),wt&&2==(0,nt._i)()?he==ve?je.scrollWidth-je.clientWidth-je.scrollLeft:je.scrollLeft:wt&&1==(0,nt._i)()?he==ve?je.scrollLeft+je.scrollWidth-je.clientWidth:-je.scrollLeft:he==ve?je.scrollLeft:je.scrollWidth-je.clientWidth-je.scrollLeft}}return Me.\u0275fac=function(he){return new(he||Me)(R.Y36(R.SBq),R.Y36(At),R.Y36(R.R0b),R.Y36(Be.Is,8))},Me.\u0275dir=R.lG2({type:Me,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Me})(),qn=(()=>{class Me{constructor(he,ve,ft){this._platform=he,this._change=new E.x,this._changeListener=je=>{this._change.next(je)},this._document=ft,ve.runOutsideAngular(()=>{if(he.isBrowser){const je=this._getWindow();je.addEventListener("resize",this._changeListener),je.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const he=this._getWindow();he.removeEventListener("resize",this._changeListener),he.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const he={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),he}getViewportRect(){const he=this.getViewportScrollPosition(),{width:ve,height:ft}=this.getViewportSize();return{top:he.top,left:he.left,bottom:he.top+ft,right:he.left+ve,height:ft,width:ve}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const he=this._document,ve=this._getWindow(),ft=he.documentElement,je=ft.getBoundingClientRect();return{top:-je.top||he.body.scrollTop||ve.scrollY||ft.scrollTop||0,left:-je.left||he.body.scrollLeft||ve.scrollX||ft.scrollLeft||0}}change(he=20){return he>0?this._change.pipe(Dt(he)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const he=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:he.innerWidth,height:he.innerHeight}:{width:0,height:0}}}return Me.\u0275fac=function(he){return new(he||Me)(R.LFG(nt.t4),R.LFG(R.R0b),R.LFG(lt.K0,8))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();const bt=new R.OlP("VIRTUAL_SCROLLABLE");let rt=(()=>{class Me extends on{constructor(he,ve,ft,je){super(he,ve,ft,je)}measureViewportSize(he){const ve=this.elementRef.nativeElement;return"horizontal"===he?ve.clientWidth:ve.clientHeight}}return Me.\u0275fac=function(he){return new(he||Me)(R.Y36(R.SBq),R.Y36(At),R.Y36(R.R0b),R.Y36(Be.Is,8))},Me.\u0275dir=R.lG2({type:Me,features:[R.qOj]}),Me})();const Te=typeof requestAnimationFrame<"u"?Le:Ye;let ne=(()=>{class Me extends rt{get orientation(){return this._orientation}set orientation(he){this._orientation!==he&&(this._orientation=he,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(he){this._appendOnly=(0,f.Ig)(he)}constructor(he,ve,ft,je,wt,xn,fn,Zn){super(he,xn,ft,wt),this.elementRef=he,this._changeDetectorRef=ve,this._scrollStrategy=je,this.scrollable=Zn,this._platform=(0,R.f3M)(nt.t4),this._detachedSubject=new E.x,this._renderedRangeSubject=new E.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ce.y(Wn=>this._scrollStrategy.scrolledIndexChange.subscribe(ni=>Promise.resolve().then(()=>this.ngZone.run(()=>Wn.next(ni))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=_e.w0.EMPTY,this._viewportChanges=fn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Tt.O)(null),Dt(0,Te)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(he){this.ngZone.runOutsideAngular(()=>{this._forOf=he,this._forOf.dataStream.pipe((0,Vt.R)(this._detachedSubject)).subscribe(ve=>{const ft=ve.length;ft!==this._dataLength&&(this._dataLength=ft,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(he){return this.getElementRef().nativeElement.getBoundingClientRect()[he]}setTotalContentSize(he){this._totalContentSize!==he&&(this._totalContentSize=he,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(he){(function Et(Me,$e){return Me.start==$e.start&&Me.end==$e.end})(this._renderedRange,he)||(this.appendOnly&&(he={start:0,end:Math.max(this._renderedRange.end,he.end)}),this._renderedRangeSubject.next(this._renderedRange=he),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(he,ve="to-start"){he=this.appendOnly&&"to-start"===ve?0:he;const je="horizontal"==this.orientation,wt=je?"X":"Y";let fn=`translate${wt}(${Number((je&&this.dir&&"rtl"==this.dir.value?-1:1)*he)}px)`;this._renderedContentOffset=he,"to-end"===ve&&(fn+=` translate${wt}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=fn&&(this._renderedContentTransform=fn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(he,ve="auto"){const ft={behavior:ve};"horizontal"===this.orientation?ft.start=he:ft.top=he,this.scrollable.scrollTo(ft)}scrollToIndex(he,ve="auto"){this._scrollStrategy.scrollToIndex(he,ve)}measureScrollOffset(he){let ve;return ve=this.scrollable==this?ft=>super.measureScrollOffset(ft):ft=>this.scrollable.measureScrollOffset(ft),Math.max(0,ve(he??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(he){let ve;const wt="rtl"==this.dir?.value;ve="start"==he?wt?"right":"left":"end"==he?wt?"left":"right":he||("horizontal"===this.orientation?"left":"top");const xn=this.scrollable.measureBoundingClientRectWithScrollOffset(ve);return this.elementRef.nativeElement.getBoundingClientRect()[ve]-xn}measureRenderedContentSize(){const he=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?he.offsetWidth:he.offsetHeight}measureRangeSize(he){return this._forOf?this._forOf.measureRangeSize(he,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(he){he&&this._runAfterChangeDetection.push(he),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const he=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const ve of he)ve()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return Me.\u0275fac=function(he){return new(he||Me)(R.Y36(R.SBq),R.Y36(R.sBO),R.Y36(R.R0b),R.Y36(He,8),R.Y36(Be.Is,8),R.Y36(At),R.Y36(qn),R.Y36(bt,8))},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(he,ve){if(1&he&&R.Gf(ct,7),2&he){let ft;R.iGM(ft=R.CRH())&&(ve._contentWrapper=ft.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(he,ve){2&he&&R.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===ve.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==ve.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[R._Bn([{provide:on,useFactory:($e,he)=>$e||he,deps:[[new R.FiY,new R.tBr(bt)],Me]}]),R.qOj,R.jDz],ngContentSelectors:it,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(he,ve){1&he&&(R.F$t(),R.TgZ(0,"div",0,1),R.Hsn(2),R.qZA(),R._UZ(3,"div",2)),2&he&&(R.xp6(3),R.Udp("width",ve._totalContentWidth)("height",ve._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),Me})(),_t=(()=>{class Me{}return Me.\u0275fac=function(he){return new(he||Me)},Me.\u0275mod=R.oAB({type:Me}),Me.\u0275inj=R.cJS({}),Me})(),Zt=(()=>{class Me{}return Me.\u0275fac=function(he){return new(he||Me)},Me.\u0275mod=R.oAB({type:Me}),Me.\u0275inj=R.cJS({imports:[Be.vT,_t,ne,Be.vT,_t]}),Me})()},9349:(pn,at,T)=>{T.d(at,{Ky:()=>oe,Lq:()=>Ue,aC:()=>_e});var f=T(3353),R=T(4650),E=T(1281),me=T(515),ce=T(7579);const Fe=(0,f.i$)({passive:!0});let Ue=(()=>{class ge{constructor(Le,We){this._platform=Le,this._ngZone=We,this._monitoredElements=new Map}monitor(Le){if(!this._platform.isBrowser)return me.E;const We=(0,E.fI)(Le),Je=this._monitoredElements.get(We);if(Je)return Je.subject;const gt=new ce.x,tt="cdk-text-field-autofilled",Ge=Pe=>{"cdk-text-field-autofill-start"!==Pe.animationName||We.classList.contains(tt)?"cdk-text-field-autofill-end"===Pe.animationName&&We.classList.contains(tt)&&(We.classList.remove(tt),this._ngZone.run(()=>gt.next({target:Pe.target,isAutofilled:!1}))):(We.classList.add(tt),this._ngZone.run(()=>gt.next({target:Pe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{We.addEventListener("animationstart",Ge,Fe),We.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(We,{subject:gt,unlisten:()=>{We.removeEventListener("animationstart",Ge,Fe)}}),gt}stopMonitoring(Le){const We=(0,E.fI)(Le),Je=this._monitoredElements.get(We);Je&&(Je.unlisten(),Je.subject.complete(),We.classList.remove("cdk-text-field-autofill-monitored"),We.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(We))}ngOnDestroy(){this._monitoredElements.forEach((Le,We)=>this.stopMonitoring(We))}}return ge.\u0275fac=function(Le){return new(Le||ge)(R.LFG(f.t4),R.LFG(R.R0b))},ge.\u0275prov=R.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),_e=(()=>{class ge{constructor(Le,We){this._elementRef=Le,this._autofillMonitor=We,this.cdkAutofill=new R.vpe}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(Le=>this.cdkAutofill.emit(Le))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}return ge.\u0275fac=function(Le){return new(Le||ge)(R.Y36(R.SBq),R.Y36(Ue))},ge.\u0275dir=R.lG2({type:ge,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),ge})(),oe=(()=>{class ge{}return ge.\u0275fac=function(Le){return new(Le||ge)},ge.\u0275mod=R.oAB({type:ge}),ge.\u0275inj=R.cJS({}),ge})()},6895:(pn,at,T)=>{T.d(at,{Do:()=>Pe,EM:()=>ba,HT:()=>me,JF:()=>bc,K0:()=>Fe,Mn:()=>Bt,Mx:()=>Yr,NF:()=>ho,O5:()=>dt,Ov:()=>Zs,PC:()=>Lr,PM:()=>is,RF:()=>ii,S$:()=>gt,Tn:()=>sn,UT:()=>Vt,V_:()=>Ke,Ye:()=>kt,Zx:()=>ea,ax:()=>Sr,b0:()=>Ge,bD:()=>ta,ez:()=>Qs,mk:()=>pi,n9:()=>Ei,ol:()=>Dt,p6:()=>he,q:()=>E,rS:()=>zr,sg:()=>Sr,tP:()=>wr,w_:()=>ce,x:()=>yn});var f=T(4650);let R=null;function E(){return R}function me(F){R||(R=F)}class ce{}const Fe=new f.OlP("DocumentToken");let Ue=(()=>{class F{historyGo(z){throw new Error("Not implemented")}}return F.\u0275fac=function(z){return new(z||F)},F.\u0275prov=f.Yz7({token:F,factory:function(){return function _e(){return(0,f.LFG)(oe)}()},providedIn:"platform"}),F})();const Ke=new f.OlP("Location Initialized");let oe=(()=>{class F extends Ue{constructor(z){super(),this._doc=z,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(z){const be=E().getGlobalEventTarget(this._doc,"window");return be.addEventListener("popstate",z,!1),()=>be.removeEventListener("popstate",z)}onHashChange(z){const be=E().getGlobalEventTarget(this._doc,"window");return be.addEventListener("hashchange",z,!1),()=>be.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,be,et){ge()?this._history.pushState(z,be,et):this._location.hash=et}replaceState(z,be,et){ge()?this._history.replaceState(z,be,et):this._location.hash=et}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return F.\u0275fac=function(z){return new(z||F)(f.LFG(Fe))},F.\u0275prov=f.Yz7({token:F,factory:function(){return function ye(){return new oe((0,f.LFG)(Fe))}()},providedIn:"platform"}),F})();function ge(){return!!window.history.pushState}function Le(F,te){if(0==F.length)return te;if(0==te.length)return F;let z=0;return F.endsWith("/")&&z++,te.startsWith("/")&&z++,2==z?F+te.substring(1):1==z?F+te:F+"/"+te}function We(F){const te=F.match(/#|\?|$/),z=te&&te.index||F.length;return F.slice(0,z-("/"===F[z-1]?1:0))+F.slice(z)}function Je(F){return F&&"?"!==F[0]?"?"+F:F}let gt=(()=>{class F{historyGo(z){throw new Error("Not implemented")}}return F.\u0275fac=function(z){return new(z||F)},F.\u0275prov=f.Yz7({token:F,factory:function(){return(0,f.f3M)(Ge)},providedIn:"root"}),F})();const tt=new f.OlP("appBaseHref");let Ge=(()=>{class F extends gt{constructor(z,be){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=be??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return Le(this._baseHref,z)}path(z=!1){const be=this._platformLocation.pathname+Je(this._platformLocation.search),et=this._platformLocation.hash;return et&&z?`${be}${et}`:be}pushState(z,be,et,nn){const mn=this.prepareExternalUrl(et+Je(nn));this._platformLocation.pushState(z,be,mn)}replaceState(z,be,et,nn){const mn=this.prepareExternalUrl(et+Je(nn));this._platformLocation.replaceState(z,be,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return F.\u0275fac=function(z){return new(z||F)(f.LFG(Ue),f.LFG(tt,8))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),Pe=(()=>{class F extends gt{constructor(z,be){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=be&&(this._baseHref=be)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let be=this._platformLocation.hash;return null==be&&(be="#"),be.length>0?be.substring(1):be}prepareExternalUrl(z){const be=Le(this._baseHref,z);return be.length>0?"#"+be:be}pushState(z,be,et,nn){let mn=this.prepareExternalUrl(et+Je(nn));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.pushState(z,be,mn)}replaceState(z,be,et,nn){let mn=this.prepareExternalUrl(et+Je(nn));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.replaceState(z,be,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return F.\u0275fac=function(z){return new(z||F)(f.LFG(Ue),f.LFG(tt,8))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac}),F})(),kt=(()=>{class F{constructor(z){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const be=this._locationStrategy.getBaseHref();this._basePath=function Nt(F){if(new RegExp("^(https?:)?//").test(F)){const[,z]=F.split(/\/\/[^\/]+/);return z}return F}(We(qe(be))),this._locationStrategy.onPopState(et=>{this._subject.emit({url:this.path(!0),pop:!0,state:et.state,type:et.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,be=""){return this.path()==this.normalize(z+Je(be))}normalize(z){return F.stripTrailingSlash(function Ae(F,te){if(!F||!te.startsWith(F))return te;const z=te.substring(F.length);return""===z||["/",";","?","#"].includes(z[0])?z:te}(this._basePath,qe(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,be="",et=null){this._locationStrategy.pushState(et,"",z,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Je(be)),et)}replaceState(z,be="",et=null){this._locationStrategy.replaceState(et,"",z,be),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Je(be)),et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(be=>{this._notifyUrlChangeListeners(be.url,be.state)})),()=>{const be=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(be,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",be){this._urlChangeListeners.forEach(et=>et(z,be))}subscribe(z,be,et){return this._subject.subscribe({next:z,error:be,complete:et})}}return F.normalizeQueryParams=Je,F.joinWithSlash=Le,F.stripTrailingSlash=We,F.\u0275fac=function(z){return new(z||F)(f.LFG(gt))},F.\u0275prov=f.Yz7({token:F,factory:function(){return function Qe(){return new kt((0,f.LFG)(gt))}()},providedIn:"root"}),F})();function qe(F){return F.replace(/\/index.html$/,"")}var Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Percent=1]="Percent",Ye[Ye.Currency=2]="Currency",Ye[Ye.Scientific=3]="Scientific",Ye))(),yn=(()=>((yn=yn||{})[yn.Format=0]="Format",yn[yn.Standalone=1]="Standalone",yn))(),sn=(()=>((sn=sn||{})[sn.Narrow=0]="Narrow",sn[sn.Abbreviated=1]="Abbreviated",sn[sn.Wide=2]="Wide",sn[sn.Short=3]="Short",sn))(),En=(()=>((En=En||{})[En.Short=0]="Short",En[En.Medium=1]="Medium",En[En.Long=2]="Long",En[En.Full=3]="Full",En))(),gn=(()=>((gn=gn||{})[gn.Decimal=0]="Decimal",gn[gn.Group=1]="Group",gn[gn.List=2]="List",gn[gn.PercentSign=3]="PercentSign",gn[gn.PlusSign=4]="PlusSign",gn[gn.MinusSign=5]="MinusSign",gn[gn.Exponential=6]="Exponential",gn[gn.SuperscriptingExponent=7]="SuperscriptingExponent",gn[gn.PerMille=8]="PerMille",gn[gn.Infinity=9]="Infinity",gn[gn.NaN=10]="NaN",gn[gn.TimeSeparator=11]="TimeSeparator",gn[gn.CurrencyDecimal=12]="CurrencyDecimal",gn[gn.CurrencyGroup=13]="CurrencyGroup",gn))();function Dt(F,te,z){const be=(0,f.cg1)(F),nn=Et([be[f.wAp.DayPeriodsFormat],be[f.wAp.DayPeriodsStandalone]],te);return Et(nn,z)}function Bt(F,te,z){const be=(0,f.cg1)(F),nn=Et([be[f.wAp.DaysFormat],be[f.wAp.DaysStandalone]],te);return Et(nn,z)}function Vt(F,te,z){const be=(0,f.cg1)(F),nn=Et([be[f.wAp.MonthsFormat],be[f.wAp.MonthsStandalone]],te);return Et(nn,z)}function Be(F,te){return Et((0,f.cg1)(F)[f.wAp.DateFormat],te)}function ct(F,te){return Et((0,f.cg1)(F)[f.wAp.TimeFormat],te)}function it(F,te){return Et((0,f.cg1)(F)[f.wAp.DateTimeFormat],te)}function He(F,te){const z=(0,f.cg1)(F),be=z[f.wAp.NumberSymbols][te];if(typeof be>"u"){if(te===gn.CurrencyDecimal)return z[f.wAp.NumberSymbols][gn.Decimal];if(te===gn.CurrencyGroup)return z[f.wAp.NumberSymbols][gn.Group]}return be}function Cn(F){if(!F[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Et(F,te){for(let z=te;z>-1;z--)if(typeof F[z]<"u")return F[z];throw new Error("Locale data API: locale data undefined")}function Te(F){const[te,z]=F.split(":");return{hours:+te,minutes:+z}}const Pt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zt={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.ShortGMT=1]="ShortGMT",Zt[Zt.Long=2]="Long",Zt[Zt.Extended=3]="Extended",Zt))(),Me=(()=>((Me=Me||{})[Me.FullYear=0]="FullYear",Me[Me.Month=1]="Month",Me[Me.Date=2]="Date",Me[Me.Hours=3]="Hours",Me[Me.Minutes=4]="Minutes",Me[Me.Seconds=5]="Seconds",Me[Me.FractionalSeconds=6]="FractionalSeconds",Me[Me.Day=7]="Day",Me))(),$e=(()=>(($e=$e||{})[$e.DayPeriods=0]="DayPeriods",$e[$e.Days=1]="Days",$e[$e.Months=2]="Months",$e[$e.Eras=3]="Eras",$e))();function he(F,te,z,be){let et=function W(F){if(j(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[et,nn=1,mn=1]=F.split("-").map(Fn=>+Fn);return ve(et,nn-1,mn)}const z=parseFloat(F);if(!isNaN(F-z))return new Date(z);let be;if(be=F.match(Pt))return function le(F){const te=new Date(0);let z=0,be=0;const et=F[8]?te.setUTCFullYear:te.setFullYear,nn=F[8]?te.setUTCHours:te.setHours;F[9]&&(z=Number(F[9]+F[10]),be=Number(F[9]+F[11])),et.call(te,Number(F[1]),Number(F[2])-1,Number(F[3]));const mn=Number(F[4]||0)-z,Fn=Number(F[5]||0)-be,tr=Number(F[6]||0),Si=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return nn.call(te,mn,Fn,tr,Si),te}(be)}const te=new Date(F);if(!j(te))throw new Error(`Unable to convert "${F}" into a date`);return te}(F);te=ft(z,te)||te;let Fn,mn=[];for(;te;){if(Fn=_t.exec(te),!Fn){mn.push(te);break}{mn=mn.concat(Fn.slice(1));const Yi=mn.pop();if(!Yi)break;te=Yi}}let tr=et.getTimezoneOffset();be&&(tr=ze(be,tr),et=function fe(F,te,z){const be=z?-1:1,et=F.getTimezoneOffset();return function ue(F,te){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+te),F}(F,be*(ze(te,et)-et))}(et,be,!0));let Si="";return mn.forEach(Yi=>{const Ni=function Ve(F){if(Jt[F])return Jt[F];let te;switch(F){case"G":case"GG":case"GGG":te=Wn($e.Eras,sn.Abbreviated);break;case"GGGG":te=Wn($e.Eras,sn.Wide);break;case"GGGGG":te=Wn($e.Eras,sn.Narrow);break;case"y":te=fn(Me.FullYear,1,0,!1,!0);break;case"yy":te=fn(Me.FullYear,2,0,!0,!0);break;case"yyy":te=fn(Me.FullYear,3,0,!1,!0);break;case"yyyy":te=fn(Me.FullYear,4,0,!1,!0);break;case"Y":te=$t(1);break;case"YY":te=$t(2,!0);break;case"YYY":te=$t(3);break;case"YYYY":te=$t(4);break;case"M":case"L":te=fn(Me.Month,1,1);break;case"MM":case"LL":te=fn(Me.Month,2,1);break;case"MMM":te=Wn($e.Months,sn.Abbreviated);break;case"MMMM":te=Wn($e.Months,sn.Wide);break;case"MMMMM":te=Wn($e.Months,sn.Narrow);break;case"LLL":te=Wn($e.Months,sn.Abbreviated,yn.Standalone);break;case"LLLL":te=Wn($e.Months,sn.Wide,yn.Standalone);break;case"LLLLL":te=Wn($e.Months,sn.Narrow,yn.Standalone);break;case"w":te=Ne(1);break;case"ww":te=Ne(2);break;case"W":te=Ne(1,!0);break;case"d":te=fn(Me.Date,1);break;case"dd":te=fn(Me.Date,2);break;case"c":case"cc":te=fn(Me.Day,1);break;case"ccc":te=Wn($e.Days,sn.Abbreviated,yn.Standalone);break;case"cccc":te=Wn($e.Days,sn.Wide,yn.Standalone);break;case"ccccc":te=Wn($e.Days,sn.Narrow,yn.Standalone);break;case"cccccc":te=Wn($e.Days,sn.Short,yn.Standalone);break;case"E":case"EE":case"EEE":te=Wn($e.Days,sn.Abbreviated);break;case"EEEE":te=Wn($e.Days,sn.Wide);break;case"EEEEE":te=Wn($e.Days,sn.Narrow);break;case"EEEEEE":te=Wn($e.Days,sn.Short);break;case"a":case"aa":case"aaa":te=Wn($e.DayPeriods,sn.Abbreviated);break;case"aaaa":te=Wn($e.DayPeriods,sn.Wide);break;case"aaaaa":te=Wn($e.DayPeriods,sn.Narrow);break;case"b":case"bb":case"bbb":te=Wn($e.DayPeriods,sn.Abbreviated,yn.Standalone,!0);break;case"bbbb":te=Wn($e.DayPeriods,sn.Wide,yn.Standalone,!0);break;case"bbbbb":te=Wn($e.DayPeriods,sn.Narrow,yn.Standalone,!0);break;case"B":case"BB":case"BBB":te=Wn($e.DayPeriods,sn.Abbreviated,yn.Format,!0);break;case"BBBB":te=Wn($e.DayPeriods,sn.Wide,yn.Format,!0);break;case"BBBBB":te=Wn($e.DayPeriods,sn.Narrow,yn.Format,!0);break;case"h":te=fn(Me.Hours,1,-12);break;case"hh":te=fn(Me.Hours,2,-12);break;case"H":te=fn(Me.Hours,1);break;case"HH":te=fn(Me.Hours,2);break;case"m":te=fn(Me.Minutes,1);break;case"mm":te=fn(Me.Minutes,2);break;case"s":te=fn(Me.Seconds,1);break;case"ss":te=fn(Me.Seconds,2);break;case"S":te=fn(Me.FractionalSeconds,1);break;case"SS":te=fn(Me.FractionalSeconds,2);break;case"SSS":te=fn(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":te=Ft(Zt.Short);break;case"ZZZZZ":te=Ft(Zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":te=Ft(Zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":te=Ft(Zt.Long);break;default:return null}return Jt[F]=te,te}(Yi);Si+=Ni?Ni(et,z,tr):"''"===Yi?"'":Yi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Si}function ve(F,te,z){const be=new Date(0);return be.setFullYear(F,te,z),be.setHours(0,0,0),be}function ft(F,te){const z=function Ut(F){return(0,f.cg1)(F)[f.wAp.LocaleId]}(F);if(zt[z]=zt[z]||{},zt[z][te])return zt[z][te];let be="";switch(te){case"shortDate":be=Be(F,En.Short);break;case"mediumDate":be=Be(F,En.Medium);break;case"longDate":be=Be(F,En.Long);break;case"fullDate":be=Be(F,En.Full);break;case"shortTime":be=ct(F,En.Short);break;case"mediumTime":be=ct(F,En.Medium);break;case"longTime":be=ct(F,En.Long);break;case"fullTime":be=ct(F,En.Full);break;case"short":const et=ft(F,"shortTime"),nn=ft(F,"shortDate");be=je(it(F,En.Short),[et,nn]);break;case"medium":const mn=ft(F,"mediumTime"),Fn=ft(F,"mediumDate");be=je(it(F,En.Medium),[mn,Fn]);break;case"long":const tr=ft(F,"longTime"),Si=ft(F,"longDate");be=je(it(F,En.Long),[tr,Si]);break;case"full":const Yi=ft(F,"fullTime"),Ni=ft(F,"fullDate");be=je(it(F,En.Full),[Yi,Ni])}return be&&(zt[z][te]=be),be}function je(F,te){return te&&(F=F.replace(/\{([^}]+)}/g,function(z,be){return null!=te&&be in te?te[be]:z})),F}function wt(F,te,z="-",be,et){let nn="";(F<0||et&&F<=0)&&(et?F=1-F:(F=-F,nn=z));let mn=String(F);for(;mn.length<te;)mn="0"+mn;return be&&(mn=mn.slice(mn.length-te)),nn+mn}function fn(F,te,z=0,be=!1,et=!1){return function(nn,mn){let Fn=function Zn(F,te){switch(F){case Me.FullYear:return te.getFullYear();case Me.Month:return te.getMonth();case Me.Date:return te.getDate();case Me.Hours:return te.getHours();case Me.Minutes:return te.getMinutes();case Me.Seconds:return te.getSeconds();case Me.FractionalSeconds:return te.getMilliseconds();case Me.Day:return te.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,nn);if((z>0||Fn>-z)&&(Fn+=z),F===Me.Hours)0===Fn&&-12===z&&(Fn=12);else if(F===Me.FractionalSeconds)return function xn(F,te){return wt(F,3).substring(0,te)}(Fn,te);const tr=He(mn,gn.MinusSign);return wt(Fn,te,tr,be,et)}}function Wn(F,te,z=yn.Format,be=!1){return function(et,nn){return function ni(F,te,z,be,et,nn){switch(z){case $e.Months:return Vt(te,et,be)[F.getMonth()];case $e.Days:return Bt(te,et,be)[F.getDay()];case $e.DayPeriods:const mn=F.getHours(),Fn=F.getMinutes();if(nn){const Si=function qn(F){const te=(0,f.cg1)(F);return Cn(te),(te[f.wAp.ExtraData][2]||[]).map(be=>"string"==typeof be?Te(be):[Te(be[0]),Te(be[1])])}(te),Yi=function bt(F,te,z){const be=(0,f.cg1)(F);Cn(be);const nn=Et([be[f.wAp.ExtraData][0],be[f.wAp.ExtraData][1]],te)||[];return Et(nn,z)||[]}(te,et,be),Ni=Si.findIndex(dn=>{if(Array.isArray(dn)){const[fi,fr]=dn,js=mn>=fi.hours&&Fn>=fi.minutes,kn=mn<fr.hours||mn===fr.hours&&Fn<fr.minutes;if(fi.hours<fr.hours){if(js&&kn)return!0}else if(js||kn)return!0}else if(dn.hours===mn&&dn.minutes===Fn)return!0;return!1});if(-1!==Ni)return Yi[Ni]}return Dt(te,et,be)[mn<12?0:1];case $e.Eras:return function Tt(F,te){return Et((0,f.cg1)(F)[f.wAp.Eras],te)}(te,be)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${z}`)}}(et,nn,F,te,z,be)}}function Ft(F){return function(te,z,be){const et=-1*be,nn=He(z,gn.MinusSign),mn=et>0?Math.floor(et/60):Math.ceil(et/60);switch(F){case Zt.Short:return(et>=0?"+":"")+wt(mn,2,nn)+wt(Math.abs(et%60),2,nn);case Zt.ShortGMT:return"GMT"+(et>=0?"+":"")+wt(mn,1,nn);case Zt.Long:return"GMT"+(et>=0?"+":"")+wt(mn,2,nn)+":"+wt(Math.abs(et%60),2,nn);case Zt.Extended:return 0===be?"Z":(et>=0?"+":"")+wt(mn,2,nn)+":"+wt(Math.abs(et%60),2,nn);default:throw new Error(`Unknown zone width "${F}"`)}}}const Re=0,H=4;function ae(F){return ve(F.getFullYear(),F.getMonth(),F.getDate()+(H-F.getDay()))}function Ne(F,te=!1){return function(z,be){let et;if(te){const nn=new Date(z.getFullYear(),z.getMonth(),1).getDay()-1,mn=z.getDate();et=1+Math.floor((mn+nn)/7)}else{const nn=ae(z),mn=function X(F){const te=ve(F,Re,1).getDay();return ve(F,0,1+(te<=H?H:H+7)-te)}(nn.getFullYear()),Fn=nn.getTime()-mn.getTime();et=1+Math.round(Fn/6048e5)}return wt(et,F,He(be,gn.MinusSign))}}function $t(F,te=!1){return function(z,be){return wt(ae(z).getFullYear(),F,He(be,gn.MinusSign),te)}}const Jt={};function ze(F,te){F=F.replace(/:/g,"");const z=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(z)?te:z}function j(F){return F instanceof Date&&!isNaN(F.valueOf())}const J=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Q=22,xe=".",pt="0",Qt=";",vn=",",An="#";function ai(F){const te=parseInt(F);if(isNaN(te))throw new Error("Invalid integer literal when parsing "+F);return te}function Yr(F,te){te=encodeURIComponent(te);for(const z of F.split(";")){const be=z.indexOf("="),[et,nn]=-1==be?[z,""]:[z.slice(0,be),z.slice(be+1)];if(et.trim()===te)return decodeURIComponent(nn)}return null}const qi=/\s+/,Pn=[];let pi=(()=>{class F{constructor(z,be,et,nn){this._iterableDiffers=z,this._keyValueDiffers=be,this._ngEl=et,this._renderer=nn,this.initialClasses=Pn,this.stateMap=new Map}set klass(z){this.initialClasses=null!=z?z.trim().split(qi):Pn}set ngClass(z){this.rawClass="string"==typeof z?z.trim().split(qi):z}ngDoCheck(){for(const be of this.initialClasses)this._updateState(be,!0);const z=this.rawClass;if(Array.isArray(z)||z instanceof Set)for(const be of z)this._updateState(be,!0);else if(null!=z)for(const be of Object.keys(z))this._updateState(be,Boolean(z[be]));this._applyStateDiff()}_updateState(z,be){const et=this.stateMap.get(z);void 0!==et?(et.enabled!==be&&(et.changed=!0,et.enabled=be),et.touched=!0):this.stateMap.set(z,{enabled:be,changed:!0,touched:!0})}_applyStateDiff(){for(const z of this.stateMap){const be=z[0],et=z[1];et.changed?(this._toggleClass(be,et.enabled),et.changed=!1):et.touched||(et.enabled&&this._toggleClass(be,!1),this.stateMap.delete(be)),et.touched=!1}}_toggleClass(z,be){(z=z.trim()).length>0&&z.split(qi).forEach(et=>{be?this._renderer.addClass(this._ngEl.nativeElement,et):this._renderer.removeClass(this._ngEl.nativeElement,et)})}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class Hi{constructor(te,z,be,et){this.$implicit=te,this.ngForOf=z,this.index=be,this.count=et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sr=(()=>{class F{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,be,et){this._viewContainer=z,this._template=be,this._differs=et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const be=this._viewContainer;z.forEachOperation((et,nn,mn)=>{if(null==et.previousIndex)be.createEmbeddedView(this._template,new Hi(et.item,this._ngForOf,-1,-1),null===mn?void 0:mn);else if(null==mn)be.remove(null===nn?void 0:nn);else if(null!==nn){const Fn=be.get(nn);be.move(Fn,mn),$i(Fn,et)}});for(let et=0,nn=be.length;et<nn;et++){const Fn=be.get(et).context;Fn.index=et,Fn.count=nn,Fn.ngForOf=this._ngForOf}z.forEachIdentityChange(et=>{$i(be.get(et.currentIndex),et)})}static ngTemplateContextGuard(z,be){return!0}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function $i(F,te){F.context.$implicit=te.item}let dt=(()=>{class F{constructor(z,be){this._viewContainer=z,this._context=new yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=be}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){cn("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){cn("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,be){return!0}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.s_b),f.Y36(f.Rgc))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class yt{constructor(){this.$implicit=null,this.ngIf=null}}function cn(F,te){if(te&&!te.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,f.AaK)(te)}'.`)}class In{constructor(te,z){this._viewContainerRef=te,this._templateRef=z,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let ii=(()=>{class F{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(z){this._ngSwitch=z,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(z){this._defaultViews.push(z)}_matchCase(z){const be=z==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||be,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),be}_updateDefaultCases(z){if(this._defaultViews.length>0&&z!==this._defaultUsed){this._defaultUsed=z;for(const be of this._defaultViews)be.enforceState(z)}}}return F.\u0275fac=function(z){return new(z||F)},F.\u0275dir=f.lG2({type:F,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),F})(),Ei=(()=>{class F{constructor(z,be,et){this.ngSwitch=et,et._addCase(),this._view=new In(z,be)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(ii,9))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),F})(),Lr=(()=>{class F{constructor(z,be,et){this._ngEl=z,this._differs=be,this._renderer=et,this._ngStyle=null,this._differ=null}set ngStyle(z){this._ngStyle=z,!this._differ&&z&&(this._differ=this._differs.find(z).create())}ngDoCheck(){if(this._differ){const z=this._differ.diff(this._ngStyle);z&&this._applyChanges(z)}}_setStyle(z,be){const[et,nn]=z.split("."),mn=-1===et.indexOf("-")?void 0:f.JOm.DashCase;null!=be?this._renderer.setStyle(this._ngEl.nativeElement,et,nn?`${be}${nn}`:be,mn):this._renderer.removeStyle(this._ngEl.nativeElement,et,mn)}_applyChanges(z){z.forEachRemovedItem(be=>this._setStyle(be.key,null)),z.forEachAddedItem(be=>this._setStyle(be.key,be.currentValue)),z.forEachChangedItem(be=>this._setStyle(be.key,be.currentValue))}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),F})(),wr=(()=>{class F{constructor(z){this._viewContainerRef=z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(z){if(z.ngTemplateOutlet||z.ngTemplateOutletInjector){const be=this._viewContainerRef;if(this._viewRef&&be.remove(be.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:et,ngTemplateOutletContext:nn,ngTemplateOutletInjector:mn}=this;this._viewRef=be.createEmbeddedView(et,nn,mn?{injector:mn}:void 0)}else this._viewRef=null}else this._viewRef&&z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.s_b))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),F})();function Hr(F,te){return new f.vHH(2100,!1)}class Ms{createSubscription(te,z){return te.subscribe({next:z,error:be=>{throw be}})}dispose(te){te.unsubscribe()}}class Os{createSubscription(te,z){return te.then(z,be=>{throw be})}dispose(te){}}const Do=new Os,co=new Ms;let Zs=(()=>{class F{constructor(z){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=z}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(z){return this._obj?z!==this._obj?(this._dispose(),this.transform(z)):this._latestValue:(z&&this._subscribe(z),this._latestValue)}_subscribe(z){this._obj=z,this._strategy=this._selectStrategy(z),this._subscription=this._strategy.createSubscription(z,be=>this._updateLatestValue(z,be))}_selectStrategy(z){if((0,f.QGY)(z))return Do;if((0,f.F4k)(z))return co;throw Hr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(z,be){z===this._obj&&(this._latestValue=be,this._ref.markForCheck())}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.sBO,16))},F.\u0275pipe=f.Yjl({name:"async",type:F,pure:!1,standalone:!0}),F})();const Ba=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let zr=(()=>{class F{transform(z){if(null==z)return null;if("string"!=typeof z)throw Hr();return z.replace(Ba,be=>be[0].toUpperCase()+be.slice(1).toLowerCase())}}return F.\u0275fac=function(z){return new(z||F)},F.\u0275pipe=f.Yjl({name:"titlecase",type:F,pure:!0,standalone:!0}),F})(),ea=(()=>{class F{constructor(z){this._locale=z}transform(z,be,et){if(!function zs(F){return!(null==F||""===F||F!=F)}(z))return null;et=et||this._locale;try{return function wn(F,te,z){return function Wt(F,te,z,be,et,nn,mn=!1){let Fn="",tr=!1;if(isFinite(F)){let Si=function $n(F){let be,et,nn,mn,Fn,te=Math.abs(F)+"",z=0;for((et=te.indexOf(xe))>-1&&(te=te.replace(xe,"")),(nn=te.search(/e/i))>0?(et<0&&(et=nn),et+=+te.slice(nn+1),te=te.substring(0,nn)):et<0&&(et=te.length),nn=0;te.charAt(nn)===pt;nn++);if(nn===(Fn=te.length))be=[0],et=1;else{for(Fn--;te.charAt(Fn)===pt;)Fn--;for(et-=nn,be=[],mn=0;nn<=Fn;nn++,mn++)be[mn]=Number(te.charAt(nn))}return et>Q&&(be=be.splice(0,Q-1),z=et-1,et=1),{digits:be,exponent:z,integerLen:et}}(F);mn&&(Si=function mi(F){if(0===F.digits[0])return F;const te=F.digits.length-F.integerLen;return F.exponent?F.exponent+=2:(0===te?F.digits.push(0,0):1===te&&F.digits.push(0),F.integerLen+=2),F}(Si));let Yi=te.minInt,Ni=te.minFrac,dn=te.maxFrac;if(nn){const Is=nn.match(J);if(null===Is)throw new Error(`${nn} is not a valid digit info`);const Mn=Is[1],Kt=Is[3],_n=Is[5];null!=Mn&&(Yi=ai(Mn)),null!=Kt&&(Ni=ai(Kt)),null!=_n?dn=ai(_n):null!=Kt&&Ni>dn&&(dn=Ni)}!function ki(F,te,z){if(te>z)throw new Error(`The minimum number of digits after fraction (${te}) is higher than the maximum (${z}).`);let be=F.digits,et=be.length-F.integerLen;const nn=Math.min(Math.max(te,et),z);let mn=nn+F.integerLen,Fn=be[mn];if(mn>0){be.splice(Math.max(F.integerLen,mn));for(let Ni=mn;Ni<be.length;Ni++)be[Ni]=0}else{et=Math.max(0,et),F.integerLen=1,be.length=Math.max(1,mn=nn+1),be[0]=0;for(let Ni=1;Ni<mn;Ni++)be[Ni]=0}if(Fn>=5)if(mn-1<0){for(let Ni=0;Ni>mn;Ni--)be.unshift(0),F.integerLen++;be.unshift(1),F.integerLen++}else be[mn-1]++;for(;et<Math.max(0,nn);et++)be.push(0);let tr=0!==nn;const Si=te+F.integerLen,Yi=be.reduceRight(function(Ni,dn,fi,fr){return fr[fi]=(dn+=Ni)<10?dn:dn-10,tr&&(0===fr[fi]&&fi>=Si?fr.pop():tr=!1),dn>=10?1:0},0);Yi&&(be.unshift(Yi),F.integerLen++)}(Si,Ni,dn);let fi=Si.digits,fr=Si.integerLen;const js=Si.exponent;let kn=[];for(tr=fi.every(Is=>!Is);fr<Yi;fr++)fi.unshift(0);for(;fr<0;fr++)fi.unshift(0);fr>0?kn=fi.splice(fr,fi.length):(kn=fi,fi=[0]);const Kn=[];for(fi.length>=te.lgSize&&Kn.unshift(fi.splice(-te.lgSize,fi.length).join(""));fi.length>te.gSize;)Kn.unshift(fi.splice(-te.gSize,fi.length).join(""));fi.length&&Kn.unshift(fi.join("")),Fn=Kn.join(He(z,be)),kn.length&&(Fn+=He(z,et)+kn.join("")),js&&(Fn+=He(z,gn.Exponential)+"+"+js)}else Fn=He(z,gn.Infinity);return Fn=F<0&&!tr?te.negPre+Fn+te.negSuf:te.posPre+Fn+te.posSuf,Fn}(F,function Jn(F,te="-"){const z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},be=F.split(Qt),et=be[0],nn=be[1],mn=-1!==et.indexOf(xe)?et.split(xe):[et.substring(0,et.lastIndexOf(pt)+1),et.substring(et.lastIndexOf(pt)+1)],Fn=mn[0],tr=mn[1]||"";z.posPre=Fn.substring(0,Fn.indexOf(An));for(let Yi=0;Yi<tr.length;Yi++){const Ni=tr.charAt(Yi);Ni===pt?z.minFrac=z.maxFrac=Yi+1:Ni===An?z.maxFrac=Yi+1:z.posSuf+=Ni}const Si=Fn.split(vn);if(z.gSize=Si[1]?Si[1].length:0,z.lgSize=Si[2]||Si[1]?(Si[2]||Si[1]).length:0,nn){const Yi=et.length-z.posPre.length-z.posSuf.length,Ni=nn.indexOf(An);z.negPre=nn.substring(0,Ni).replace(/'/g,""),z.negSuf=nn.slice(Ni+Yi).replace(/'/g,"")}else z.negPre=te+z.posPre,z.negSuf=z.posSuf;return z}(function ht(F,te){return(0,f.cg1)(F)[f.wAp.NumberFormats][te]}(te,Ye.Percent),He(te,gn.MinusSign)),te,gn.Group,gn.Decimal,z,!0).replace(new RegExp("%","g"),He(te,gn.PercentSign))}(function ds(F){if("string"==typeof F&&!isNaN(Number(F)-parseFloat(F)))return Number(F);if("number"!=typeof F)throw new Error(`${F} is not a number`);return F}(z),et,be)}catch(nn){throw Hr()}}}return F.\u0275fac=function(z){return new(z||F)(f.Y36(f.soG,16))},F.\u0275pipe=f.Yjl({name:"percent",type:F,pure:!0,standalone:!0}),F})();let Qs=(()=>{class F{}return F.\u0275fac=function(z){return new(z||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({}),F})();const ta="browser",So="server";function ho(F){return F===ta}function is(F){return F===So}let ba=(()=>{class F{}return F.\u0275prov=(0,f.Yz7)({token:F,providedIn:"root",factory:()=>new $a((0,f.LFG)(Fe),window)}),F})();class $a{constructor(te,z){this.document=te,this.window=z,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const z=function Wa(F,te){const z=F.getElementById(te)||F.getElementsByName(te)[0];if(z)return z;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const be=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let et=be.currentNode;for(;et;){const nn=et.shadowRoot;if(nn){const mn=nn.getElementById(te)||nn.querySelector(`[name="${te}"]`);if(mn)return mn}et=be.nextNode()}}return null}(this.document,te);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const z=this.window.history;z&&z.scrollRestoration&&(z.scrollRestoration=te)}}scrollToElement(te){const z=te.getBoundingClientRect(),be=z.left+this.window.pageXOffset,et=z.top+this.window.pageYOffset,nn=this.offset();this.window.scrollTo(be-nn[0],et-nn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=po(this.window.history)||po(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function po(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class bc{}},529:(pn,at,T)=>{T.d(at,{JF:()=>Ft,LE:()=>Ge,eN:()=>Ut});var f=T(6895),R=T(4650),E=T(9646),me=T(9751),ce=T(4351),Fe=T(9300),Ue=T(4004);class _e{}class Ke{}class oe{constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?this.lazyInit="string"==typeof ae?()=>{this.headers=new Map,ae.split("\n").forEach(Ne=>{const $t=Ne.indexOf(":");if($t>0){const Jt=Ne.slice(0,$t),Ve=Jt.toLowerCase(),ze=Ne.slice($t+1).trim();this.maybeSetNormalizedName(Jt,Ve),this.headers.has(Ve)?this.headers.get(Ve).push(ze):this.headers.set(Ve,[ze])}})}:()=>{this.headers=new Map,Object.entries(ae).forEach(([Ne,$t])=>{let Jt;if(Jt="string"==typeof $t?[$t]:"number"==typeof $t?[$t.toString()]:$t.map(Ve=>Ve.toString()),Jt.length>0){const Ve=Ne.toLowerCase();this.headers.set(Ve,Jt),this.maybeSetNormalizedName(Ne,Ve)}})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const Ne=this.headers.get(ae.toLowerCase());return Ne&&Ne.length>0?Ne[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,Ne){return this.clone({name:ae,value:Ne,op:"a"})}set(ae,Ne){return this.clone({name:ae,value:Ne,op:"s"})}delete(ae,Ne){return this.clone({name:ae,value:Ne,op:"d"})}maybeSetNormalizedName(ae,Ne){this.normalizedNames.has(Ne)||this.normalizedNames.set(Ne,ae)}init(){this.lazyInit&&(this.lazyInit instanceof oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(Ne=>{this.headers.set(Ne,ae.headers.get(Ne)),this.normalizedNames.set(Ne,ae.normalizedNames.get(Ne))})}clone(ae){const Ne=new oe;return Ne.lazyInit=this.lazyInit&&this.lazyInit instanceof oe?this.lazyInit:this,Ne.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),Ne}applyUpdate(ae){const Ne=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let $t=ae.value;if("string"==typeof $t&&($t=[$t]),0===$t.length)return;this.maybeSetNormalizedName(ae.name,Ne);const Jt=("a"===ae.op?this.headers.get(Ne):void 0)||[];Jt.push(...$t),this.headers.set(Ne,Jt);break;case"d":const Ve=ae.value;if(Ve){let ze=this.headers.get(Ne);if(!ze)return;ze=ze.filter(ue=>-1===Ve.indexOf(ue)),0===ze.length?(this.headers.delete(Ne),this.normalizedNames.delete(Ne)):this.headers.set(Ne,ze)}else this.headers.delete(Ne),this.normalizedNames.delete(Ne)}}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ne=>ae(this.normalizedNames.get(Ne),this.headers.get(Ne)))}}class ye{encodeKey(ae){return gt(ae)}encodeValue(ae){return gt(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const We=/%(\d[a-f0-9])/gi,Je={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gt(X){return encodeURIComponent(X).replace(We,(ae,Ne)=>Je[Ne]??ae)}function tt(X){return`${X}`}class Ge{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new ye,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Le(X,ae){const Ne=new Map;return X.length>0&&X.replace(/^\?/,"").split("&").forEach(Jt=>{const Ve=Jt.indexOf("="),[ze,ue]=-1==Ve?[ae.decodeKey(Jt),""]:[ae.decodeKey(Jt.slice(0,Ve)),ae.decodeValue(Jt.slice(Ve+1))],fe=Ne.get(ze)||[];fe.push(ue),Ne.set(ze,fe)}),Ne}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(Ne=>{const $t=ae.fromObject[Ne],Jt=Array.isArray($t)?$t.map(tt):[tt($t)];this.map.set(Ne,Jt)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const Ne=this.map.get(ae);return Ne?Ne[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,Ne){return this.clone({param:ae,value:Ne,op:"a"})}appendAll(ae){const Ne=[];return Object.keys(ae).forEach($t=>{const Jt=ae[$t];Array.isArray(Jt)?Jt.forEach(Ve=>{Ne.push({param:$t,value:Ve,op:"a"})}):Ne.push({param:$t,value:Jt,op:"a"})}),this.clone(Ne)}set(ae,Ne){return this.clone({param:ae,value:Ne,op:"s"})}delete(ae,Ne){return this.clone({param:ae,value:Ne,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const Ne=this.encoder.encodeKey(ae);return this.map.get(ae).map($t=>Ne+"="+this.encoder.encodeValue($t)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const Ne=new Ge({encoder:this.encoder});return Ne.cloneFrom=this.cloneFrom||this,Ne.updates=(this.updates||[]).concat(ae),Ne}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const Ne=("a"===ae.op?this.map.get(ae.param):void 0)||[];Ne.push(tt(ae.value)),this.map.set(ae.param,Ne);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let $t=this.map.get(ae.param)||[];const Jt=$t.indexOf(tt(ae.value));-1!==Jt&&$t.splice(Jt,1),$t.length>0?this.map.set(ae.param,$t):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class kt{constructor(){this.map=new Map}set(ae,Ne){return this.map.set(ae,Ne),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function Ae(X){return typeof ArrayBuffer<"u"&&X instanceof ArrayBuffer}function qe(X){return typeof Blob<"u"&&X instanceof Blob}function Nt(X){return typeof FormData<"u"&&X instanceof FormData}class Ye{constructor(ae,Ne,$t,Jt){let Ve;if(this.url=Ne,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function Qe(X){switch(X){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Jt?(this.body=void 0!==$t?$t:null,Ve=Jt):Ve=$t,Ve&&(this.reportProgress=!!Ve.reportProgress,this.withCredentials=!!Ve.withCredentials,Ve.responseType&&(this.responseType=Ve.responseType),Ve.headers&&(this.headers=Ve.headers),Ve.context&&(this.context=Ve.context),Ve.params&&(this.params=Ve.params)),this.headers||(this.headers=new oe),this.context||(this.context=new kt),this.params){const ze=this.params.toString();if(0===ze.length)this.urlWithParams=Ne;else{const ue=Ne.indexOf("?");this.urlWithParams=Ne+(-1===ue?"?":ue<Ne.length-1?"&":"")+ze}}else this.params=new Ge,this.urlWithParams=Ne}serializeBody(){return null===this.body?null:Ae(this.body)||qe(this.body)||Nt(this.body)||function It(X){return typeof URLSearchParams<"u"&&X instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nt(this.body)?null:qe(this.body)?this.body.type||null:Ae(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){const Ne=ae.method||this.method,$t=ae.url||this.url,Jt=ae.responseType||this.responseType,Ve=void 0!==ae.body?ae.body:this.body,ze=void 0!==ae.withCredentials?ae.withCredentials:this.withCredentials,ue=void 0!==ae.reportProgress?ae.reportProgress:this.reportProgress;let fe=ae.headers||this.headers,W=ae.params||this.params;const le=ae.context??this.context;return void 0!==ae.setHeaders&&(fe=Object.keys(ae.setHeaders).reduce((j,J)=>j.set(J,ae.setHeaders[J]),fe)),ae.setParams&&(W=Object.keys(ae.setParams).reduce((j,J)=>j.set(J,ae.setParams[J]),W)),new Ye(Ne,$t,Ve,{params:W,headers:fe,context:le,reportProgress:ue,responseType:Jt,withCredentials:ze})}}var Xt=(()=>((Xt=Xt||{})[Xt.Sent=0]="Sent",Xt[Xt.UploadProgress=1]="UploadProgress",Xt[Xt.ResponseHeader=2]="ResponseHeader",Xt[Xt.DownloadProgress=3]="DownloadProgress",Xt[Xt.Response=4]="Response",Xt[Xt.User=5]="User",Xt))();class yn{constructor(ae,Ne=200,$t="OK"){this.headers=ae.headers||new oe,this.status=void 0!==ae.status?ae.status:Ne,this.statusText=ae.statusText||$t,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class sn extends yn{constructor(ae={}){super(ae),this.type=Xt.ResponseHeader}clone(ae={}){return new sn({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class En extends yn{constructor(ae={}){super(ae),this.type=Xt.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new En({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class gn extends yn{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function si(X,ae){return{body:ae,headers:X.headers,context:X.context,observe:X.observe,params:X.params,reportProgress:X.reportProgress,responseType:X.responseType,withCredentials:X.withCredentials}}let Ut=(()=>{class X{constructor(Ne){this.handler=Ne}request(Ne,$t,Jt={}){let Ve;if(Ne instanceof Ye)Ve=Ne;else{let fe,W;fe=Jt.headers instanceof oe?Jt.headers:new oe(Jt.headers),Jt.params&&(W=Jt.params instanceof Ge?Jt.params:new Ge({fromObject:Jt.params})),Ve=new Ye(Ne,$t,void 0!==Jt.body?Jt.body:null,{headers:fe,context:Jt.context,params:W,reportProgress:Jt.reportProgress,responseType:Jt.responseType||"json",withCredentials:Jt.withCredentials})}const ze=(0,E.of)(Ve).pipe((0,ce.b)(fe=>this.handler.handle(fe)));if(Ne instanceof Ye||"events"===Jt.observe)return ze;const ue=ze.pipe((0,Fe.h)(fe=>fe instanceof En));switch(Jt.observe||"body"){case"body":switch(Ve.responseType){case"arraybuffer":return ue.pipe((0,Ue.U)(fe=>{if(null!==fe.body&&!(fe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fe.body}));case"blob":return ue.pipe((0,Ue.U)(fe=>{if(null!==fe.body&&!(fe.body instanceof Blob))throw new Error("Response is not a Blob.");return fe.body}));case"text":return ue.pipe((0,Ue.U)(fe=>{if(null!==fe.body&&"string"!=typeof fe.body)throw new Error("Response is not a string.");return fe.body}));default:return ue.pipe((0,Ue.U)(fe=>fe.body))}case"response":return ue;default:throw new Error(`Unreachable: unhandled observe type ${Jt.observe}}`)}}delete(Ne,$t={}){return this.request("DELETE",Ne,$t)}get(Ne,$t={}){return this.request("GET",Ne,$t)}head(Ne,$t={}){return this.request("HEAD",Ne,$t)}jsonp(Ne,$t){return this.request("JSONP",Ne,{params:(new Ge).append($t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ne,$t={}){return this.request("OPTIONS",Ne,$t)}patch(Ne,$t,Jt={}){return this.request("PATCH",Ne,si(Jt,$t))}post(Ne,$t,Jt={}){return this.request("POST",Ne,si(Jt,$t))}put(Ne,$t,Jt={}){return this.request("PUT",Ne,si(Jt,$t))}}return X.\u0275fac=function(Ne){return new(Ne||X)(R.LFG(_e))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})();function Dt(X,ae){return ae(X)}function Bt(X,ae){return(Ne,$t)=>ae.intercept(Ne,{handle:Jt=>X(Jt,$t)})}const Tt=new R.OlP("HTTP_INTERCEPTORS"),nt=new R.OlP("HTTP_INTERCEPTOR_FNS");function lt(){let X=null;return(ae,Ne)=>(null===X&&(X=((0,R.f3M)(Tt,{optional:!0})??[]).reduceRight(Bt,Dt)),X(ae,Ne))}let Be=(()=>{class X extends _e{constructor(Ne,$t){super(),this.backend=Ne,this.injector=$t,this.chain=null}handle(Ne){if(null===this.chain){const $t=Array.from(new Set(this.injector.get(nt)));this.chain=$t.reduceRight((Jt,Ve)=>function Vt(X,ae,Ne){return($t,Jt)=>Ne.runInContext(()=>ae($t,Ve=>X(Ve,Jt)))}(Jt,Ve,this.injector),Dt)}return this.chain(Ne,$t=>this.backend.handle($t))}}return X.\u0275fac=function(Ne){return new(Ne||X)(R.LFG(Ke),R.LFG(R.lqb))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})();const bt=/^\)\]\}',?\n/;let Et=(()=>{class X{constructor(Ne){this.xhrFactory=Ne}handle(Ne){if("JSONP"===Ne.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new me.y($t=>{const Jt=this.xhrFactory.build();if(Jt.open(Ne.method,Ne.urlWithParams),Ne.withCredentials&&(Jt.withCredentials=!0),Ne.headers.forEach((Q,xe)=>Jt.setRequestHeader(Q,xe.join(","))),Ne.headers.has("Accept")||Jt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ne.headers.has("Content-Type")){const Q=Ne.detectContentTypeHeader();null!==Q&&Jt.setRequestHeader("Content-Type",Q)}if(Ne.responseType){const Q=Ne.responseType.toLowerCase();Jt.responseType="json"!==Q?Q:"text"}const Ve=Ne.serializeBody();let ze=null;const ue=()=>{if(null!==ze)return ze;const Q=Jt.statusText||"OK",xe=new oe(Jt.getAllResponseHeaders()),pt=function rt(X){return"responseURL"in X&&X.responseURL?X.responseURL:/^X-Request-URL:/m.test(X.getAllResponseHeaders())?X.getResponseHeader("X-Request-URL"):null}(Jt)||Ne.url;return ze=new sn({headers:xe,status:Jt.status,statusText:Q,url:pt}),ze},fe=()=>{let{headers:Q,status:xe,statusText:pt,url:Qt}=ue(),vn=null;204!==xe&&(vn=typeof Jt.response>"u"?Jt.responseText:Jt.response),0===xe&&(xe=vn?200:0);let An=xe>=200&&xe<300;if("json"===Ne.responseType&&"string"==typeof vn){const vi=vn;vn=vn.replace(bt,"");try{vn=""!==vn?JSON.parse(vn):null}catch(ur){vn=vi,An&&(An=!1,vn={error:ur,text:vn})}}An?($t.next(new En({body:vn,headers:Q,status:xe,statusText:pt,url:Qt||void 0})),$t.complete()):$t.error(new gn({error:vn,headers:Q,status:xe,statusText:pt,url:Qt||void 0}))},W=Q=>{const{url:xe}=ue(),pt=new gn({error:Q,status:Jt.status||0,statusText:Jt.statusText||"Unknown Error",url:xe||void 0});$t.error(pt)};let le=!1;const j=Q=>{le||($t.next(ue()),le=!0);let xe={type:Xt.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(xe.total=Q.total),"text"===Ne.responseType&&Jt.responseText&&(xe.partialText=Jt.responseText),$t.next(xe)},J=Q=>{let xe={type:Xt.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(xe.total=Q.total),$t.next(xe)};return Jt.addEventListener("load",fe),Jt.addEventListener("error",W),Jt.addEventListener("timeout",W),Jt.addEventListener("abort",W),Ne.reportProgress&&(Jt.addEventListener("progress",j),null!==Ve&&Jt.upload&&Jt.upload.addEventListener("progress",J)),Jt.send(Ve),$t.next({type:Xt.Sent}),()=>{Jt.removeEventListener("error",W),Jt.removeEventListener("abort",W),Jt.removeEventListener("load",fe),Jt.removeEventListener("timeout",W),Ne.reportProgress&&(Jt.removeEventListener("progress",j),null!==Ve&&Jt.upload&&Jt.upload.removeEventListener("progress",J)),Jt.readyState!==Jt.DONE&&Jt.abort()}})}}return X.\u0275fac=function(Ne){return new(Ne||X)(R.LFG(f.JF))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})();const Te=new R.OlP("XSRF_ENABLED"),Oe=new R.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Pt=new R.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zt{}let _t=(()=>{class X{constructor(Ne,$t,Jt){this.doc=Ne,this.platform=$t,this.cookieName=Jt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ne=this.doc.cookie||"";return Ne!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(Ne,this.cookieName),this.lastCookieString=Ne),this.lastToken}}return X.\u0275fac=function(Ne){return new(Ne||X)(R.LFG(f.K0),R.LFG(R.Lbi),R.LFG(Oe))},X.\u0275prov=R.Yz7({token:X,factory:X.\u0275fac}),X})();function Zt(X,ae){const Ne=X.url.toLowerCase();if(!(0,R.f3M)(Te)||"GET"===X.method||"HEAD"===X.method||Ne.startsWith("http://")||Ne.startsWith("https://"))return ae(X);const $t=(0,R.f3M)(zt).getToken(),Jt=(0,R.f3M)(Pt);return null!=$t&&!X.headers.has(Jt)&&(X=X.clone({headers:X.headers.set(Jt,$t)})),ae(X)}var $e=(()=>(($e=$e||{})[$e.Interceptors=0]="Interceptors",$e[$e.LegacyInterceptors=1]="LegacyInterceptors",$e[$e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",$e[$e.NoXsrfProtection=3]="NoXsrfProtection",$e[$e.JsonpSupport=4]="JsonpSupport",$e[$e.RequestsMadeViaParent=5]="RequestsMadeViaParent",$e))();function he(X,ae){return{\u0275kind:X,\u0275providers:ae}}function ve(...X){const ae=[Ut,Et,Be,{provide:_e,useExisting:Be},{provide:Ke,useExisting:Et},{provide:nt,useValue:Zt,multi:!0},{provide:Te,useValue:!0},{provide:zt,useClass:_t}];for(const Ne of X)ae.push(...Ne.\u0275providers);return(0,R.MR2)(ae)}const je=new R.OlP("LEGACY_INTERCEPTOR_FN");let Ft=(()=>{class X{}return X.\u0275fac=function(Ne){return new(Ne||X)},X.\u0275mod=R.oAB({type:X}),X.\u0275inj=R.cJS({providers:[ve(he($e.LegacyInterceptors,[{provide:je,useFactory:lt},{provide:nt,useExisting:je,multi:!0}]))]}),X})()},4650:(pn,at,T)=>{T.d(at,{$8M:()=>Gc,$WT:()=>pr,$Z:()=>Dl,AFp:()=>sb,ALo:()=>x0,AaK:()=>_e,AsE:()=>Vo,BQk:()=>Fp,CHM:()=>go,CRH:()=>F0,CZH:()=>$y,CqO:()=>Of,D6c:()=>Aw,DdM:()=>_0,EJc:()=>WE,EiD:()=>wd,EpF:()=>Lp,F$t:()=>B_,F4k:()=>zg,FYo:()=>tp,FiY:()=>Bl,Gf:()=>k0,GfV:()=>np,GkF:()=>Mf,Gpc:()=>ge,Hsn:()=>V_,Ikx:()=>Zm,JOm:()=>Ra,JVY:()=>qp,JZr:()=>gt,Jf7:()=>ph,KtG:()=>Ss,L6k:()=>jh,LAX:()=>Qp,LFG:()=>Ft,LMc:()=>Ow,LSH:()=>Uu,Lbi:()=>zE,Lck:()=>zb,MAs:()=>Lm,MGl:()=>Pf,MMx:()=>Iv,MR2:()=>qh,MT6:()=>gi,NdJ:()=>jg,O4$:()=>to,OlP:()=>ji,Oqu:()=>ga,P3R:()=>Cl,PXZ:()=>ow,Q6J:()=>Vg,QGY:()=>kh,QbO:()=>jE,Qsj:()=>cm,QtT:()=>xs,R0b:()=>ud,RDi:()=>Ds,Rgc:()=>ny,SBq:()=>Gl,SDv:()=>cr,Sil:()=>KE,Suo:()=>N0,TTD:()=>va,TgZ:()=>Hd,Tol:()=>u,Udp:()=>ql,VKq:()=>y0,W1O:()=>U0,WFA:()=>Bp,WLB:()=>v0,X6Q:()=>dw,XFs:()=>Te,Xpm:()=>An,Xts:()=>cu,Y36:()=>Bc,YKP:()=>l0,YNc:()=>Fm,Yjl:()=>mi,Yz7:()=>He,Z0I:()=>Ze,ZZ4:()=>Zv,_Bn:()=>a0,_UZ:()=>Ug,_Vd:()=>fh,_c5:()=>Sw,_uU:()=>ad,aQg:()=>qv,c2e:()=>HE,cJS:()=>mt,cg1:()=>Cy,d8E:()=>kf,dDg:()=>nw,dqk:()=>_t,eBb:()=>m_,eFA:()=>yb,eJc:()=>Pv,ekj:()=>$m,eoX:()=>pb,evT:()=>Dd,f3M:()=>H,g9A:()=>ab,h0i:()=>u_,hGG:()=>Tw,hij:()=>Bo,iGM:()=>P0,ifc:()=>fe,ip1:()=>rb,jDz:()=>u0,kEZ:()=>b0,kL8:()=>Dy,kcU:()=>hl,lG2:()=>Jn,lcZ:()=>S0,lqb:()=>Il,lri:()=>hb,mCW:()=>Lu,n5z:()=>Pl,n_E:()=>Vy,oAB:()=>jt,oxw:()=>L_,pB0:()=>ro,pQV:()=>ao,q3G:()=>Xi,q4F:()=>ip,qLn:()=>Wu,qOj:()=>Og,qZA:()=>Af,qzn:()=>Fu,rWj:()=>fb,s9C:()=>Rf,sBO:()=>hw,s_b:()=>zy,soG:()=>Wy,tBr:()=>Zc,tb:()=>gb,tp0:()=>Ta,uIk:()=>Lg,uOi:()=>Fa,vHH:()=>tt,vpe:()=>Vh,wAp:()=>Ti,xp6:()=>Eg,ynx:()=>Ph,z2F:()=>Gy,z3N:()=>da,zSh:()=>qf,zW0:()=>Op,zs3:()=>Sd});var f=T(7579),R=T(727),E=T(9751),me=T(6451),ce=T(3099);function Fe(n){for(let r in n)if(n[r]===Fe)return r;throw Error("Could not find renamed property on target object.")}function Ue(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function _e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Ke(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const oe=Fe({__forward_ref__:Fe});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return _e(this())},n}function ye(n){return Le(n)?n():n}function Le(n){return"function"==typeof n&&n.hasOwnProperty(oe)&&n.__forward_ref__===ge}function We(n){return n&&!!n.\u0275providers}const gt="https://g.co/ng/security#xss";class tt extends Error{constructor(r,a){super(Ge(r,a)),this.code=r}}function Ge(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function Pe(n){return"string"==typeof n?n:null==n?"":String(n)}function Nt(n,r){throw new tt(-201,!1)}function lt(n,r,a,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${a} ${d} ${r} <=Actual]`))}function He(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ht(n){return At(n,qn)||At(n,rt)}function Ze(n){return null!==Ht(n)}function At(n,r){return n.hasOwnProperty(r)?n[r]:null}function Cn(n){return n&&(n.hasOwnProperty(bt)||n.hasOwnProperty(Et))?n[bt]:null}const qn=Fe({\u0275prov:Fe}),bt=Fe({\u0275inj:Fe}),rt=Fe({ngInjectableDef:Fe}),Et=Fe({ngInjectorDef:Fe});var Te=(()=>((Te=Te||{})[Te.Default=0]="Default",Te[Te.Host=1]="Host",Te[Te.Self=2]="Self",Te[Te.SkipSelf=4]="SkipSelf",Te[Te.Optional=8]="Optional",Te))();let ne;function ut(n){const r=ne;return ne=n,r}function Pt(n,r,a){const d=Ht(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&Te.Optional?null:void 0!==r?r:void Nt(_e(n))}const _t=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),he={},ve="__NG_DI_FLAG__",ft="ngTempTokenPath",je="ngTokenPath",wt=/\n/gm,xn="\u0275",fn="__source";let Zn;function Wn(n){const r=Zn;return Zn=n,r}function ni(n,r=Te.Default){if(void 0===Zn)throw new tt(-203,!1);return null===Zn?Pt(n,void 0,r):Zn.get(n,r&Te.Optional?null:void 0,r)}function Ft(n,r=Te.Default){return(function Oe(){return ne}()||ni)(ye(n),r)}function H(n,r=Te.Default){return Ft(n,X(r))}function X(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ae(n){const r=[];for(let a=0;a<n.length;a++){const d=ye(n[a]);if(Array.isArray(d)){if(0===d.length)throw new tt(900,!1);let p,_=Te.Default;for(let C=0;C<d.length;C++){const N=d[C],U=$t(N);"number"==typeof U?-1===U?p=N.token:_|=U:p=N}r.push(Ft(p,_))}else r.push(Ft(d))}return r}function Ne(n,r){return n[ve]=r,n.prototype[ve]=r,n}function $t(n){return n[ve]}function ze(n){return{toString:n}.toString()}var ue=(()=>((ue=ue||{})[ue.OnPush=0]="OnPush",ue[ue.Default=1]="Default",ue))(),fe=(()=>{return(n=fe||(fe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fe;var n})();const W={},le=[],j=Fe({\u0275cmp:Fe}),J=Fe({\u0275dir:Fe}),Q=Fe({\u0275pipe:Fe}),xe=Fe({\u0275mod:Fe}),pt=Fe({\u0275fac:Fe}),Qt=Fe({__NG_ELEMENT_ID__:Fe});let vn=0;function An(n){return ze(()=>{const r=Kr(n),a={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ue.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||fe.Emulated,id:"c"+vn++,styles:n.styles||le,_:null,schemas:n.schemas||null,tView:null};mr(a);const d=n.dependencies;return a.directiveDefs=Yr(d,!1),a.pipeDefs=Yr(d,!0),a})}function ur(n){return $n(n)||ki(n)}function Wt(n){return null!==n}function jt(n){return ze(()=>({type:n.type,bootstrap:n.bootstrap||le,declarations:n.declarations||le,imports:n.imports||le,exports:n.exports||le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zn(n,r){if(null==n)return W;const a={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),a[p]=d,r&&(r[p]=_)}return a}function Jn(n){return ze(()=>{const r=Kr(n);return mr(r),r})}function mi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function $n(n){return n[j]||null}function ki(n){return n[J]||null}function ai(n){return n[Q]||null}function pr(n){const r=$n(n)||ki(n)||ai(n);return null!==r&&r.standalone}function vr(n,r){const a=n[xe]||null;if(!a&&!0===r)throw new Error(`Type ${_e(n)} does not have '\u0275mod' property.`);return a}function Kr(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||le,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zn(n.inputs,r),outputs:zn(n.outputs)}}function mr(n){n.features?.forEach(r=>r(n))}function Yr(n,r){if(!n)return null;const a=r?ai:ur;return()=>("function"==typeof n?n():n).map(d=>a(d)).filter(Wt)}const qi=0,Pn=1,pi=2,Zi=3,Oi=4,ts=5,Hi=6,Sr=7,$i=8,Ct=9,dt=10,yt=11,cn=12,In=13,ii=14,Ei=15,di=16,zi=17,ys=18,Fr=19,Lr=20,wr=21,rr=22,Ms=1,Os=2,Do=7,co=8,Zs=9,Br=10;function zr(n){return Array.isArray(n)&&"object"==typeof n[Ms]}function Mr(n){return Array.isArray(n)&&!0===n[Ms]}function Cr(n){return 0!=(4&n.flags)}function vs(n){return n.componentOffset>-1}function uo(n){return 1==(1&n.flags)}function gr(n){return!!n.template}function Wi(n){return 0!=(256&n[pi])}function bs(n,r){return n.hasOwnProperty(pt)?n[pt]:null}class fo{constructor(r,a,d){this.previousValue=r,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function va(){return ba}function ba(n){return n.type.prototype.ngOnChanges&&(n.setInput=po),$a}function $a(){const n=Ga(this),r=n?.current;if(r){const a=n.previous;if(a===W)n.previous=r;else for(let d in r)a[d]=r[d];n.current=null,this.ngOnChanges(r)}}function po(n,r,a,d){const p=this.declaredInputs[a],_=Ga(n)||function bc(n,r){return n[Wa]=r}(n,{previous:W,current:null}),C=_.current||(_.current={}),N=_.previous,U=N[p];C[p]=new fo(U&&U.currentValue,r,N===W),n[d]=r}va.ngInherit=!0;const Wa="__ngSimpleChanges__";function Ga(n){return n[Wa]||null}const dr=function(n,r,a){},zo="svg";function _r(n){for(;Array.isArray(n);)n=n[qi];return n}function Ho(n,r){return _r(r[n])}function xi(n,r){return _r(r[n.index])}function Ka(n,r){return n.data[r]}function Wr(n,r){return n[r]}function Vr(n,r){const a=r[n];return zr(a)?a:a[qi]}function Rs(n){return 64==(64&n[pi])}function Zr(n,r){return null==r?null:n[r]}function Ea(n){n[ys]=0}function ws(n,r){n[ts]+=r;let a=n,d=n[Zi];for(;null!==d&&(1===r&&1===a[ts]||-1===r&&0===a[ts]);)d[ts]+=r,a=d,d=d[Zi]}const li={lFrame:sa(null),bindingsEnabled:!0};function tn(){return li.bindingsEnabled}function en(){return li.lFrame.lView}function hi(){return li.lFrame.tView}function go(n){return li.lFrame.contextLView=n,n[$i]}function Ss(n){return li.lFrame.contextLView=null,n}function Ur(){let n=Tl();for(;null!==n&&64===n.type;)n=n.parent;return n}function Tl(){return li.lFrame.currentTNode}function _o(){const n=li.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function ks(n,r){const a=li.lFrame;a.currentTNode=n,a.isParent=r}function cl(){return li.lFrame.isParent}function wa(){li.lFrame.isParent=!1}function qr(){const n=li.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ts(){return li.lFrame.bindingIndex}function Js(){return li.lFrame.bindingIndex++}function ss(n){const r=li.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}function na(n){li.lFrame.inI18n=n}function Al(n,r){const a=li.lFrame;a.bindingIndex=a.bindingRootIndex=n,jr(r)}function jr(n){li.lFrame.currentDirectiveIndex=n}function hs(n){const r=li.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ia(){return li.lFrame.currentQueryIndex}function or(n){li.lFrame.currentQueryIndex=n}function Ca(n){const r=n[Pn];return 2===r.type?r.declTNode:1===r.type?n[Hi]:null}function ra(n,r,a){if(a&Te.SkipSelf){let p=r,_=n;for(;!(p=p.parent,null!==p||a&Te.Host||(p=Ca(_),null===p||(_=_[Ei],10&p.type))););if(null===p)return!1;r=p,n=_}const d=li.lFrame=$o();return d.currentTNode=r,d.lView=n,!0}function as(n){const r=$o(),a=n[Pn];li.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function $o(){const n=li.lFrame,r=null===n?null:n.child;return null===r?sa(n):r}function sa(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ia(){const n=li.lFrame;return li.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dl=Ia;function Ec(){const n=Ia();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qi(){return li.lFrame.selectedIndex}function eo(n){li.lFrame.selectedIndex=n}function Lt(){const n=li.lFrame;return Ka(n.tView,n.selectedIndex)}function to(){li.lFrame.currentNamespace=zo}function hl(){!function Ya(){li.lFrame.currentNamespace=null}()}function fl(n,r){for(let a=r.directiveStart,d=r.directiveEnd;a<d;a++){const _=n.data[a].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:N,ngAfterViewInit:U,ngAfterViewChecked:ee,ngOnDestroy:Ce}=_;C&&(n.contentHooks??(n.contentHooks=[])).push(-a,C),N&&((n.contentHooks??(n.contentHooks=[])).push(a,N),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(a,N)),U&&(n.viewHooks??(n.viewHooks=[])).push(-a,U),ee&&((n.viewHooks??(n.viewHooks=[])).push(a,ee),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(a,ee)),null!=Ce&&(n.destroyHooks??(n.destroyHooks=[])).push(a,Ce)}}function Za(n,r,a){te(n,r,3,a)}function ec(n,r,a,d){(3&n[pi])===a&&te(n,r,a,d)}function F(n,r){let a=n[pi];(3&a)===r&&(a&=2047,a+=1,n[pi]=a)}function te(n,r,a,d){const _=d??-1,C=r.length-1;let N=0;for(let U=void 0!==d?65535&n[ys]:0;U<C;U++)if("number"==typeof r[U+1]){if(N=r[U],null!=d&&N>=d)break}else r[U]<0&&(n[ys]+=65536),(N<_||-1==_)&&(z(n,a,r,U),n[ys]=(4294901760&n[ys])+U+2),U++}function z(n,r,a,d){const p=a[d]<0,_=a[d+1],N=n[p?-a[d]:a[d]];if(p){if(n[pi]>>11<n[ys]>>16&&(3&n[pi])===r){n[pi]+=2048,dr(4,N,_);try{_.call(N)}finally{dr(5,N,_)}}}else{dr(4,N,_);try{_.call(N)}finally{dr(5,N,_)}}}const be=-1;class et{constructor(r,a,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function fi(n,r,a){let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const _=a[d++],C=a[d++],N=a[d++];n.setAttribute(r,C,N,_)}else{const _=p,C=a[++d];js(_)?n.setProperty(r,_,C):n.setAttribute(r,_,C),d++}}return d}function fr(n){return 3===n||4===n||6===n}function js(n){return 64===n.charCodeAt(0)}function kn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?a=p:0===a||Kn(n,a,p,null,-1===a||2===a?r[++d]:null)}}return n}function Kn(n,r,a,d,p){let _=0,C=n.length;if(-1===r)C=-1;else for(;_<n.length;){const N=n[_++];if("number"==typeof N){if(N===r){C=-1;break}if(N>r){C=_-1;break}}}for(;_<n.length;){const N=n[_];if("number"==typeof N)break;if(N===a){if(null===d)return void(null!==p&&(n[_+1]=p));if(d===n[_+1])return void(n[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==C&&(n.splice(C,0,r),_=C+1),n.splice(_++,0,a),null!==d&&n.splice(_++,0,d),null!==p&&n.splice(_++,0,p)}function Is(n){return n!==be}function Mn(n){return 32767&n}function _n(n,r){let a=function Kt(n){return n>>16}(n),d=r;for(;a>0;)d=d[Ei],a--;return d}let ls=!0;function Cc(n){const r=ls;return ls=n,r}const tc=255,Cu=5;let dd=0;const vo={};function Iu(n,r){const a=qd(n,r);if(-1!==a)return a;const d=r[Pn];d.firstCreatePass&&(n.injectorIndex=r.length,pl(d.data,n),pl(r,null),pl(d.blueprint,null));const p=nr(n,r),_=n.injectorIndex;if(Is(p)){const C=Mn(p),N=_n(p,r),U=N[Pn].data;for(let ee=0;ee<8;ee++)r[_+ee]=N[C+ee]|U[C+ee]}return r[_+8]=p,_}function pl(n,r){n.push(0,0,0,0,0,0,0,0,r)}function qd(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function nr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,d=null,p=r;for(;null!==p;){if(d=Nl(p),null===d)return be;if(a++,p=p[Ei],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return be}function _i(n,r,a){!function Zd(n,r,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(Qt)&&(d=a[Qt]),null==d&&(d=a[Qt]=dd++);const p=d&tc;r.data[n+(p>>Cu)]|=1<<p}(n,r,a)}function $c(n,r,a){if(a&Te.Optional||void 0!==n)return n;Nt()}function Tr(n,r,a,d){if(a&Te.Optional&&void 0===d&&(d=null),!(a&(Te.Self|Te.Host))){const p=n[Ct],_=ut(void 0);try{return p?p.get(r,d,a&Te.Optional):Pt(r,d,a&Te.Optional)}finally{ut(_)}}return $c(d,0,a)}function ri(n,r,a,d=Te.Default,p){if(null!==n){if(1024&r[pi]){const C=function kl(n,r,a,d,p){let _=n,C=r;for(;null!==_&&null!==C&&1024&C[pi]&&!(256&C[pi]);){const N=Ol(_,C,a,d|Te.Self,vo);if(N!==vo)return N;let U=_.parent;if(!U){const ee=C[wr];if(ee){const Ce=ee.get(a,vo,d);if(Ce!==vo)return Ce}U=Nl(C),C=C[Ei]}_=U}return p}(n,r,a,d,vo);if(C!==vo)return C}const _=Ol(n,r,a,d,vo);if(_!==vo)return _}return Tr(r,a,d,p)}function Ol(n,r,a,d,p){const _=function Bn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Qt)?n[Qt]:void 0;return"number"==typeof r?r>=0?r&tc:hd:r}(a);if("function"==typeof _){if(!ra(r,n,d))return d&Te.Host?$c(p,0,d):Tr(r,a,d,p);try{const C=_(d);if(null!=C||d&Te.Optional)return C;Nt()}finally{dl()}}else if("number"==typeof _){let C=null,N=qd(n,r),U=be,ee=d&Te.Host?r[di][Hi]:null;for((-1===N||d&Te.SkipSelf)&&(U=-1===N?nr(n,r):r[N+8],U!==be&&Rl(d,!1)?(C=r[Pn],N=Mn(U),r=_n(U,r)):N=-1);-1!==N;){const Ce=r[Pn];if(Qr(_,N,Ce.data)){const Xe=yi(N,r,a,C,d,ee);if(Xe!==vo)return Xe}U=r[N+8],U!==be&&Rl(d,r[Pn].data[N+8]===ee)&&Qr(_,N,r)?(C=Ce,N=Mn(U),r=_n(U,r)):N=-1}}return p}function yi(n,r,a,d,p,_){const C=r[Pn],N=C.data[n+8],Ce=Wc(N,C,a,null==d?vs(N)&&ls:d!=C&&0!=(3&N.type),p&Te.Host&&_===N);return null!==Ce?Ci(r,C,Ce,N):vo}function Wc(n,r,a,d,p){const _=n.providerIndexes,C=r.data,N=1048575&_,U=n.directiveStart,Ce=_>>20,Rt=p?N+Ce:n.directiveEnd;for(let qt=d?N:N+Ce;qt<Rt;qt++){const bn=C[qt];if(qt<U&&a===bn||qt>=U&&bn.type===a)return qt}if(p){const qt=C[U];if(qt&&gr(qt)&&qt.type===a)return U}return null}function Ci(n,r,a,d){let p=n[a];const _=r.data;if(function nn(n){return n instanceof et}(p)){const C=p;C.resolving&&function Qe(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${a}`)}(function kt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pe(n)}(_[a]));const N=Cc(C.canSeeViewProviders);C.resolving=!0;const U=C.injectImpl?ut(C.injectImpl):null;ra(n,d,Te.Default);try{p=n[a]=C.factory(void 0,_,n,d),r.firstCreatePass&&a>=d.directiveStart&&function wc(n,r,a){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=r.type.prototype;if(d){const C=ba(r);(a.preOrderHooks??(a.preOrderHooks=[])).push(n,C),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,C)}p&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-n,p),_&&((a.preOrderHooks??(a.preOrderHooks=[])).push(n,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,_))}(a,_[a],r)}finally{null!==U&&ut(U),Cc(N),C.resolving=!1,dl()}}return p}function Qr(n,r,a){return!!(a[r+(n>>Cu)]&1<<n)}function Rl(n,r){return!(n&Te.Self||n&Te.Host&&r)}class Ns{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,d){return ri(this._tNode,this._lView,r,X(d),a)}}function hd(){return new Ns(Ur(),en())}function Pl(n){return ze(()=>{const r=n.prototype.constructor,a=r[pt]||bo(r),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const _=p[pt]||bo(p);if(_&&_!==a)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function bo(n){return Le(n)?()=>{const r=bo(ye(n));return r&&r()}:bs(n)}function Nl(n){const r=n[Pn],a=r.type;return 2===a?r.declTNode:1===a?n[Hi]:null}function Gc(n){return function oa(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const d=a.length;let p=0;for(;p<d;){const _=a[p];if(fr(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof a[p];)p++;else{if(_===r)return a[p+1];p+=2}}}return null}(Ur(),n)}const qa="__parameters__";function Qa(n,r,a){return ze(()=>{const d=function Da(n){return function(...a){if(n){const d=n(...a);for(const p in d)this[p]=d[p]}}}(r);function p(..._){if(this instanceof p)return d.apply(this,_),this;const C=new p(..._);return N.annotation=C,N;function N(U,ee,Ce){const Xe=U.hasOwnProperty(qa)?U[qa]:Object.defineProperty(U,qa,{value:[]})[qa];for(;Xe.length<=Ce;)Xe.push(null);return(Xe[Ce]=Xe[Ce]||[]).push(C),U}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class ji{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=He({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ir(n,r){n.forEach(a=>Array.isArray(a)?Ir(a,r):r(a))}function Bs(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function D(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function S(n,r){const a=[];for(let d=0;d<n;d++)a.push(r);return a}function Ie(n,r,a){let d=un(n,r);return d>=0?n[1|d]=a:(d=~d,function Y(n,r,a,d){let p=n.length;if(p==r)n.push(a,d);else if(1===p)n.push(d,n[0]),n[0]=a;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=a,n[r+1]=d}}(n,d,r,a)),d}function xt(n,r){const a=un(n,r);if(a>=0)return n[1|a]}function un(n,r){return function jn(n,r,a){let d=0,p=n.length>>a;for(;p!==d;){const _=d+(p-d>>1),C=n[_<<a];if(r===C)return _<<a;C>r?p=_:d=_+1}return~(p<<a)}(n,r,1)}const Zc=Ne(Qa("Inject",n=>({token:n})),-1),Bl=Ne(Qa("Optional"),8),Ta=Ne(Qa("SkipSelf"),4);var Ra=(()=>((Ra=Ra||{})[Ra.Important=1]="Important",Ra[Ra.DashCase=2]="DashCase",Ra))();const Pa=/^>|^->|<!--|-->|--!>|<!-$/g,vl=/(<|>)/,Jd="\u200b$1\u200b";const ms=new Map;let Sc=0;const st="__ngContext__";function St(n,r){zr(r)?(n[st]=r[Lr],function jl(n){ms.set(n[Lr],n)}(r)):n[st]=r}let Bi;function Ri(n,r){return Bi(n,r)}function El(n){const r=n[Zi];return Mr(r)?r[Zi]:r}function il(n){return tu(n[In])}function rl(n){return tu(n[Oi])}function tu(n){for(;null!==n&&!Mr(n);)n=n[Oi];return n}function br(n,r,a,d,p){if(null!=d){let _,C=!1;Mr(d)?_=d:zr(d)&&(C=!0,d=d[qi]);const N=_r(d);0===n&&null!==a?null==p?bi(r,a,N):Di(r,a,N,p||null,!0):1===n&&null!==a?Di(r,a,N,p||null,!0):2===n?Uh(r,N,C):3===n&&r.destroyNode(N),null!=_&&function f_(n,r,a,d,p){const _=a[Do];_!==_r(a)&&br(r,n,d,_,p);for(let N=Br;N<a.length;N++){const U=a[N];_d(U[Pn],U,n,r,d,_)}}(r,n,_,a,p)}}function Ki(n,r){return n.createText(r)}function wo(n,r,a){n.setValue(r,a)}function dc(n,r){return n.createComment(function bl(n){return n.replace(Pa,r=>r.replace(vl,Jd))}(r))}function Ru(n,r,a){return n.createElement(r,a)}function O(n,r){const a=n[Zs],d=a.indexOf(r),p=r[Zi];512&r[pi]&&(r[pi]&=-513,ws(p,-1)),a.splice(d,1)}function se(n,r){if(n.length<=Br)return;const a=Br+r,d=n[a];if(d){const p=d[zi];null!==p&&p!==n&&O(p,d),r>0&&(n[a-1][Oi]=d[Oi]);const _=D(n,Br+r);!function io(n,r){_d(n,r,r[yt],2,null,null),r[qi]=null,r[Hi]=null}(d[Pn],d);const C=_[Fr];null!==C&&C.detachView(_[Pn]),d[Zi]=null,d[Oi]=null,d[pi]&=-65}return d}function Se(n,r){if(!(128&r[pi])){const a=r[yt];a.destroyNode&&_d(n,r,a,3,null,null),function x(n){let r=n[In];if(!r)return Mt(n[Pn],n);for(;r;){let a=null;if(zr(r))a=r[In];else{const d=r[Br];d&&(a=d)}if(!a){for(;r&&!r[Oi]&&r!==n;)zr(r)&&Mt(r[Pn],r),r=r[Zi];null===r&&(r=n),zr(r)&&Mt(r[Pn],r),a=r&&r[Oi]}r=a}}(r)}}function Mt(n,r){if(!(128&r[pi])){r[pi]&=-65,r[pi]|=128,function On(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let d=0;d<a.length;d+=2){const p=r[a[d]];if(!(p instanceof et)){const _=a[d+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const N=p[_[C]],U=_[C+1];dr(4,N,U);try{U.call(N)}finally{dr(5,N,U)}}else{dr(4,p,_);try{_.call(p)}finally{dr(5,p,_)}}}}}(n,r),function ln(n,r){const a=n.cleanup,d=r[Sr];let p=-1;if(null!==a)for(let _=0;_<a.length-1;_+=2)if("string"==typeof a[_]){const C=a[_+3];C>=0?d[p=C]():d[p=-C].unsubscribe(),_+=2}else{const C=d[p=a[_+1]];a[_].call(C)}if(null!==d){for(let _=p+1;_<d.length;_++)(0,d[_])();r[Sr]=null}}(n,r),1===r[Pn].type&&r[yt].destroy();const a=r[zi];if(null!==a&&Mr(r[Zi])){a!==r[Zi]&&O(a,r);const d=r[Fr];null!==d&&d.detachView(n)}!function Au(n){ms.delete(n[Lr])}(r)}}function Hn(n,r,a){return oi(n,r.parent,a)}function oi(n,r,a){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return a[qi];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:_}=n.data[d.directiveStart+p];if(_===fe.None||_===fe.Emulated)return null}return xi(d,a)}}function Di(n,r,a,d,p){n.insertBefore(r,a,d,p)}function bi(n,r,a){n.appendChild(r,a)}function Us(n,r,a,d,p){null!==d?Di(n,r,a,d,p):bi(n,r,a)}function ko(n,r){return n.parentNode(r)}function ca(n,r,a){return Co(n,r,a)}function ka(n,r,a){return 40&n.type?xi(n,a):null}let Tc,wl,yd,su,Co=ka;function Pu(n,r){Co=n,Tc=r}function iu(n,r,a,d){const p=Hn(n,d,r),_=r[yt],N=ca(d.parent||r[Hi],d,r);if(null!=p)if(Array.isArray(a))for(let U=0;U<a.length;U++)Us(_,p,a[U],N,!1);else Us(_,p,a,N,!1);void 0!==Tc&&Tc(_,d,r,a,p)}function Fi(n,r){if(null!==r){const a=r.type;if(3&a)return xi(r,n);if(4&a)return ku(-1,n[r.index]);if(8&a){const d=r.child;if(null!==d)return Fi(n,d);{const p=n[r.index];return Mr(p)?ku(-1,p):_r(p)}}if(32&a)return Ri(r,n)()||_r(n[r.index]);{const d=gd(n,r);return null!==d?Array.isArray(d)?d[0]:Fi(El(n[di]),d):Fi(n,r.next)}}return null}function gd(n,r){return null!==r?n[di][Hi].projection[r.projection]:null}function ku(n,r){const a=Br+n+1;if(a<r.length){const d=r[a],p=d[Pn].firstChild;if(null!==p)return Fi(d,p)}return r[Do]}function Uh(n,r,a){const d=ko(n,r);d&&function nu(n,r,a,d){n.removeChild(r,a,d)}(n,d,r,a)}function ru(n,r,a,d,p,_,C){for(;null!=a;){const N=d[a.index],U=a.type;if(C&&0===r&&(N&&St(_r(N),d),a.flags|=2),32!=(32&a.flags))if(8&U)ru(n,r,a.child,d,p,_,!1),br(r,n,p,N,_);else if(32&U){const ee=Ri(a,d);let Ce;for(;Ce=ee();)br(r,n,p,Ce,_);br(r,n,p,N,_)}else 16&U?sg(n,r,d,a,p,_):br(r,n,p,N,_);a=C?a.projectionNext:a.next}}function _d(n,r,a,d,p,_){ru(a,d,n.firstChild,r,p,_,!1)}function sg(n,r,a,d,p,_){const C=a[di],U=C[Hi].projection[d.projection];if(Array.isArray(U))for(let ee=0;ee<U.length;ee++)br(r,n,p,U[ee],_);else ru(n,r,U,C[Zi],p,_,!0)}function Nu(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function Yp(n,r,a){const{mergedAttrs:d,classes:p,styles:_}=a;null!==d&&fi(n,r,d),null!==p&&Nu(n,r,p),null!==_&&function Nr(n,r,a){n.setAttribute(r,"style",a)}(n,r,_)}function ua(n){return function eh(){if(void 0===wl&&(wl=null,_t.trustedTypes))try{wl=_t.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wl}()?.createHTML(n)||n}function Ds(n){yd=n}function bd(n){return function jf(){if(void 0===su&&(su=null,_t.trustedTypes))try{su=_t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return su}()?.createScriptURL(n)||n}class $l{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gt})`}}class Mc extends $l{getTypeName(){return"HTML"}}class ou extends $l{getTypeName(){return"Style"}}class $f extends $l{getTypeName(){return"Script"}}class nh extends $l{getTypeName(){return"URL"}}class ag extends $l{getTypeName(){return"ResourceURL"}}function da(n){return n instanceof $l?n.changingThisBreaksApplicationSecurity:n}function Fu(n,r){const a=function Zp(n){return n instanceof $l&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${gt})`)}return a===r}function qp(n){return new Mc(n)}function jh(n){return new ou(n)}function m_(n){return new $f(n)}function Qp(n){return new nh(n)}function ro(n){return new ag(n)}function lr(n){const r=new Jp(n);return function ih(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch{return!1}}()?new Xp(r):r}class Xp{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(ua(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class Jp{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const a=this.inertDocument.createElement("template");return a.innerHTML=ua(r),a}}const Wf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lu(n){return(n=String(n)).match(Wf)?n:"unsafe:"+n}function sl(n){const r={};for(const a of n.split(","))r[a]=!0;return r}function Bu(...n){const r={};for(const a of n)for(const d in a)a.hasOwnProperty(d)&&(r[d]=!0);return r}const Hh=sl("area,br,col,hr,img,wbr"),Gf=sl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rh=sl("rp,rt"),Yf=Bu(Hh,Bu(Gf,sl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bu(rh,sl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bu(rh,Gf)),Na=sl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wh=Bu(Na,sl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gh=sl("script,style,template");class Kh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,d=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?d=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,d&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!Yf.hasOwnProperty(a))return this.sanitizedSomething=!0,!Gh.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const d=r.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),C=_.name,N=C.toLowerCase();if(!Wh.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let U=_.value;Na[N]&&(U=Lu(U)),this.buf.push(" ",C,'="',au(U),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();Yf.hasOwnProperty(a)&&!Hh.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(au(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const Ed=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sh=/([^\#-~ |!])/g;function au(n){return n.replace(/&/g,"&amp;").replace(Ed,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(sh,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let oh;function wd(n,r){let a=null;try{oh=oh||lr(n);let d=r?String(r):"";a=oh.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=a.innerHTML,a=oh.getInertBodyElement(d)}while(d!==_);return ua((new Kh).sanitizeChildren(Vu(a)||a))}finally{if(a){const d=Vu(a)||a;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Vu(n){return"content"in n&&function g_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xi=(()=>((Xi=Xi||{})[Xi.NONE=0]="NONE",Xi[Xi.HTML=1]="HTML",Xi[Xi.STYLE=2]="STYLE",Xi[Xi.SCRIPT=3]="SCRIPT",Xi[Xi.URL=4]="URL",Xi[Xi.RESOURCE_URL=5]="RESOURCE_URL",Xi))();function Uu(n){const r=ch();return r?r.sanitize(Xi.URL,n)||"":Fu(n,"URL")?da(n):Lu(Pe(n))}function Fa(n){const r=ch();if(r)return bd(r.sanitize(Xi.RESOURCE_URL,n)||"");if(Fu(n,"ResourceURL"))return bd(da(n));throw new tt(904,!1)}function Cl(n,r,a){return function es(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Fa:Uu}(r,a)(n)}function ch(){const n=en();return n&&n[cn]}const cu=new ji("ENVIRONMENT_INITIALIZER"),Oc=new ji("INJECTOR",-1),nm=new ji("INJECTOR_DEF_TYPES");class Rc{get(r,a=he){if(a===he){const d=new Error(`NullInjectorError: No provider for ${_e(r)}!`);throw d.name="NullInjectorError",d}return a}}function qh(n){return{\u0275providers:n}}function Cd(...n){return{\u0275providers:im(0,n),\u0275fromNgModule:!0}}function im(n,...r){const a=[],d=new Set;let p;return Ir(r,_=>{const C=_;rm(C,a,[],d)&&(p||(p=[]),p.push(C))}),void 0!==p&&uh(p,a),a}function uh(n,r){for(let a=0;a<n.length;a++){const{providers:p}=n[a];sm(p,_=>{r.push(_)})}}function rm(n,r,a,d){if(!(n=ye(n)))return!1;let p=null,_=Cn(n);const C=!_&&$n(n);if(_||C){if(C&&!C.standalone)return!1;p=n}else{const U=n.ngModule;if(_=Cn(U),!_)return!1;p=U}const N=d.has(p);if(C){if(N)return!1;if(d.add(p),C.dependencies){const U="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const ee of U)rm(ee,r,a,d)}}else{if(!_)return!1;{if(null!=_.imports&&!N){let ee;d.add(p);try{Ir(_.imports,Ce=>{rm(Ce,r,a,d)&&(ee||(ee=[]),ee.push(Ce))})}finally{}void 0!==ee&&uh(ee,r)}if(!N){const ee=bs(p)||(()=>new p);r.push({provide:p,useFactory:ee,deps:le},{provide:nm,useValue:p,multi:!0},{provide:cu,useValue:()=>Ft(p),multi:!0})}const U=_.providers;null==U||N||sm(U,Ce=>{r.push(Ce)})}}return p!==n&&void 0!==n.providers}function sm(n,r){for(let a of n)We(a)&&(a=a.\u0275providers),Array.isArray(a)?sm(a,r):r(a)}const zu=Fe({provide:String,useValue:Fe});function ju(n){return null!==n&&"object"==typeof n&&zu in n}function uu(n){return"function"==typeof n}const qf=new ji("Set Injector scope."),Qf={},dg={};let dh;function kc(){return void 0===dh&&(dh=new Rc),dh}class Il{}class fc extends Il{get destroyed(){return this._destroyed}constructor(r,a,d,p){super(),this.parent=a,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jf(r,C=>this.processProvider(C)),this.records.set(Oc,hu(void 0,this)),p.has("environment")&&this.records.set(Il,hu(void 0,this));const _=this.records.get(qf);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(nm.multi,le,Te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const a=Wn(this),d=ut(void 0);try{return r()}finally{Wn(a),ut(d)}}get(r,a=he,d=Te.Default){this.assertNotDestroyed(),d=X(d);const p=Wn(this),_=ut(void 0);try{if(!(d&Te.SkipSelf)){let N=this.records.get(r);if(void 0===N){const U=function fg(n){return"function"==typeof n||"object"==typeof n&&n instanceof ji}(r)&&Ht(r);N=U&&this.injectableDefInScope(U)?hu(du(r),Qf):null,this.records.set(r,N)}if(null!=N)return this.hydrate(r,N)}return(d&Te.Self?kc():this.parent).get(r,a=d&Te.Optional&&a===he?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[ft]=C[ft]||[]).unshift(_e(r)),p)throw C;return function Jt(n,r,a,d){const p=n[ft];throw r[fn]&&p.unshift(r[fn]),n.message=function Ve(n,r,a,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==xn?n.slice(2):n;let p=_e(r);if(Array.isArray(r))p=r.map(_e).join(" -> ");else if("object"==typeof r){let _=[];for(let C in r)if(r.hasOwnProperty(C)){let N=r[C];_.push(C+":"+("string"==typeof N?JSON.stringify(N):_e(N)))}p=`{${_.join(", ")}}`}return`${a}${d?"("+d+")":""}[${p}]: ${n.replace(wt,"\n  ")}`}("\n"+n.message,p,a,d),n[je]=p,n[ft]=null,n}(C,r,"R3InjectorError",this.source)}throw C}finally{ut(_),Wn(p)}}resolveInjectorInitializers(){const r=Wn(this),a=ut(void 0);try{const d=this.get(cu.multi,le,Te.Self);for(const p of d)p()}finally{Wn(r),ut(a)}}toString(){const r=[],a=this.records;for(const d of a.keys())r.push(_e(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(r){let a=uu(r=ye(r))?r:ye(r&&r.provide);const d=function hh(n){return ju(n)?hu(void 0,n.useValue):hu(Xf(n),Qf)}(r);if(uu(r)||!0!==r.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=hu(void 0,Qf,!0),p.factory=()=>ae(p.multi),this.records.set(a,p)),a=r,p.multi.push(r)}this.records.set(a,d)}hydrate(r,a){return a.value===Qf&&(a.value=dg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function hg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=ye(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function du(n){const r=Ht(n),a=null!==r?r.factory:bs(n);if(null!==a)return a;if(n instanceof ji)throw new tt(204,!1);if(n instanceof Function)return function am(n){const r=n.length;if(r>0)throw S(r,"?"),new tt(204,!1);const a=function on(n){return n&&(n[qn]||n[rt])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new tt(204,!1)}function Xf(n,r,a){let d;if(uu(n)){const p=ye(n);return bs(p)||du(p)}if(ju(n))d=()=>ye(n.useValue);else if(function ug(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...ae(n.deps||[]));else if(function om(n){return!(!n||!n.useExisting)}(n))d=()=>Ft(ye(n.useExisting));else{const p=ye(n&&(n.useClass||n.provide));if(!function lm(n){return!!n.deps}(n))return bs(p)||du(p);d=()=>new p(...ae(n.deps))}return d}function hu(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function Jf(n,r){for(const a of n)Array.isArray(a)?Jf(a,r):a&&We(a)?Jf(a.\u0275providers,r):r(a)}class Qh{}class Hu{}class y_{resolveComponentFactory(r){throw function Id(n){const r=Error(`No component factory found for ${_e(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let fh=(()=>{class n{}return n.NULL=new y_,n})();function ep(){return Wl(Ur(),en())}function Wl(n,r){return new Gl(xi(n,r))}let Gl=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=ep,n})();function $u(n){return n instanceof Gl?n.nativeElement:n}class tp{}let cm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mg(){const n=en(),a=Vr(Ur().index,n);return(zr(a)?a:n)[yt]}(),n})(),v_=(()=>{class n{}return n.\u0275prov=He({token:n,providedIn:"root",factory:()=>null}),n})();class np{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ip=new np("15.2.9"),rp={},Xh="ngOriginalError";function Jh(n){return n[Xh]}class Wu{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&Jh(r);for(;a&&Jh(a);)a=Jh(a);return a||null}}function ph(n){return n.ownerDocument.defaultView}function Dd(n){return n.ownerDocument}function Fc(n){return n instanceof Function?n():n}function Lc(n,r,a){let d=n.length;for(;;){const p=n.indexOf(r,a);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const _=r.length;if(p+_===d||n.charCodeAt(p+_)<=32)return p}a=p+1}}const Ku="ng-template";function fu(n,r,a){let d=0,p=!0;for(;d<n.length;){let _=n[d++];if("string"==typeof _&&p){const C=n[d++];if(a&&"class"===_&&-1!==Lc(C.toLowerCase(),r,0))return!0}else{if(1===_){for(;d<n.length&&"string"==typeof(_=n[d++]);)if(_.toLowerCase()===r)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function pc(n){return 4===n.type&&n.value!==Ku}function cp(n,r,a){return r===(4!==n.type||a?n.value:Ku)}function gh(n,r,a){let d=4;const p=n.attrs||[],_=function yg(n){for(let r=0;r<n.length;r++)if(fr(n[r]))return r;return n.length}(p);let C=!1;for(let N=0;N<r.length;N++){const U=r[N];if("number"!=typeof U){if(!C)if(4&d){if(d=2|1&d,""!==U&&!cp(n,U,a)||""===U&&1===r.length){if(Kl(d))return!1;C=!0}}else{const ee=8&d?U:r[++N];if(8&d&&null!==n.attrs){if(!fu(n.attrs,ee,a)){if(Kl(d))return!1;C=!0}continue}const Xe=Yu(8&d?"class":U,p,pc(n),a);if(-1===Xe){if(Kl(d))return!1;C=!0;continue}if(""!==ee){let Rt;Rt=Xe>_?"":p[Xe+1].toLowerCase();const qt=8&d?Rt:null;if(qt&&-1!==Lc(qt,ee,0)||2&d&&ee!==Rt){if(Kl(d))return!1;C=!0}}}}else{if(!C&&!Kl(d)&&!Kl(U))return!1;if(C&&Kl(U))continue;C=!1,d=U|1&d}}return Kl(d)||C}function Kl(n){return 0==(1&n)}function Yu(n,r,a,d){if(null===r)return-1;let p=0;if(d||!a){let _=!1;for(;p<r.length;){const C=r[p];if(C===n)return p;if(3===C||6===C)_=!0;else{if(1===C||2===C){let N=r[++p];for(;"string"==typeof N;)N=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=_?1:2}return-1}return function Zu(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const d=n[a];if("number"==typeof d)return-1;if(d===r)return a;a++}return-1}(r,n)}function up(n,r,a=!1){for(let d=0;d<r.length;d++)if(gh(n,r[d],a))return!0;return!1}function _h(n,r){e:for(let a=0;a<r.length;a++){const d=r[a];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function vg(n,r){return n?":not("+r.trim()+")":r}function dp(n){let r=n[0],a=1,d=2,p="",_=!1;for(;a<n.length;){let C=n[a];if("string"==typeof C)if(2&d){const N=n[++a];p+="["+C+(N.length>0?'="'+N+'"':"")+"]"}else 8&d?p+="."+C:4&d&&(p+=" "+C);else""!==p&&!Kl(C)&&(r+=vg(_,p),p=""),d=C,_=_||!Kl(d);a++}return""!==p&&(r+=vg(_,p)),r}const Ui={};function Eg(n){ef(hi(),en(),Qi()+n,!1)}function ef(n,r,a,d){if(!d)if(3==(3&r[pi])){const _=n.preOrderCheckHooks;null!==_&&Za(r,_,a)}else{const _=n.preOrderHooks;null!==_&&ec(r,_,0,a)}eo(a)}function Gs(n,r=null,a=null,d){const p=_p(n,r,a,d);return p.resolveInjectorInitializers(),p}function _p(n,r=null,a=null,d,p=new Set){const _=[a||le,Cd(n)];return d=d||("object"==typeof n?void 0:_e(n)),new fc(_,r||kc(),d||null,p)}let Sd=(()=>{class n{static create(a,d){if(Array.isArray(a))return Gs({name:""},d,a,"");{const p=a.name??"";return Gs({name:p},a.parent,a.providers,p)}}}return n.THROW_IF_NOT_FOUND=he,n.NULL=new Rc,n.\u0275prov=He({token:n,providedIn:"any",factory:()=>Ft(Oc)}),n.__NG_ELEMENT_ID__=-1,n})();function Bc(n,r=Te.Default){const a=en();return null===a?Ft(n,r):ri(Ur(),a,ye(n),r)}function Dl(){throw new Error("invalid")}function bp(n,r){const a=n.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const _=a[d+1];if(-1!==_){const C=n.data[_];or(a[d]),C.contentQueries(2,r[_],_)}}}function Vc(n,r,a,d,p,_,C,N,U,ee,Ce){const Xe=r.blueprint.slice();return Xe[qi]=p,Xe[pi]=76|d,(null!==Ce||n&&1024&n[pi])&&(Xe[pi]|=1024),Ea(Xe),Xe[Zi]=Xe[Ei]=n,Xe[$i]=a,Xe[dt]=C||n&&n[dt],Xe[yt]=N||n&&n[yt],Xe[cn]=U||n&&n[cn]||null,Xe[Ct]=ee||n&&n[Ct]||null,Xe[Hi]=_,Xe[Lr]=function Pr(){return Sc++}(),Xe[wr]=Ce,Xe[di]=2==r.type?n[di]:Xe,Xe}function _c(n,r,a,d,p){let _=n.data[r];if(null===_)_=Pd(n,r,a,d,p),function os(){return li.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=a,_.value=d,_.attrs=p;const C=_o();_.injectorIndex=null===C?-1:C.injectorIndex}return ks(_,!0),_}function Pd(n,r,a,d,p){const _=Tl(),C=cl(),U=n.data[r]=function Ig(n,r,a,d,p,_){return{type:a,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,a,r,d,p);return null===n.firstChild&&(n.firstChild=U),null!==_&&(C?null==_.child&&null!==U.parent&&(_.child=U):null===_.next&&(_.next=U,U.prev=_)),U}function Zo(n,r,a,d){if(0===a)return-1;const p=r.length;for(let _=0;_<a;_++)r.push(d),n.blueprint.push(d),n.data.push(null);return p}function bh(n,r,a){as(r);try{const d=n.viewQuery;null!==d&&Tp(1,d,a);const p=n.template;null!==p&&kd(n,r,p,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&bp(n,r),n.staticViewQueries&&Tp(2,n.viewQuery,a);const _=n.components;null!==_&&function Ep(n,r){for(let a=0;a<r.length;a++)Ef(n,r[a])}(r,_)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[pi]&=-5,Ec()}}function Eh(n,r,a,d){const p=r[pi];if(128!=(128&p)){as(r);try{Ea(r),function yo(n){return li.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&kd(n,r,a,2,d);const C=3==(3&p);if(C){const ee=n.preOrderCheckHooks;null!==ee&&Za(r,ee,null)}else{const ee=n.preOrderHooks;null!==ee&&ec(r,ee,0,null),F(r,0)}if(function Sg(n){for(let r=il(n);null!==r;r=rl(r)){if(!r[Os])continue;const a=r[Zs];for(let d=0;d<a.length;d++){const p=a[d];512&p[pi]||ws(p[Zi],1),p[pi]|=512}}}(r),function xp(n){for(let r=il(n);null!==r;r=rl(r))for(let a=Br;a<r.length;a++){const d=r[a],p=d[Pn];Rs(d)&&Eh(p,d,p.template,d[$i])}}(r),null!==n.contentQueries&&bp(n,r),C){const ee=n.contentCheckHooks;null!==ee&&Za(r,ee)}else{const ee=n.contentHooks;null!==ee&&ec(r,ee,1),F(r,1)}!function ff(n,r){const a=n.hostBindingOpCodes;if(null!==a)try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)eo(~p);else{const _=p,C=a[++d],N=a[++d];Al(C,_),N(2,r[_])}}}finally{eo(-1)}}(n,r);const N=n.components;null!==N&&function bm(n,r){for(let a=0;a<r.length;a++)Sh(n,r[a])}(r,N);const U=n.viewQuery;if(null!==U&&Tp(2,U,d),C){const ee=n.viewCheckHooks;null!==ee&&Za(r,ee)}else{const ee=n.viewHooks;null!==ee&&ec(r,ee,2),F(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[pi]&=-41,512&r[pi]&&(r[pi]&=-513,ws(r[Zi],-1))}finally{Ec()}}}function kd(n,r,a,d,p){const _=Qi(),C=2&d;try{eo(-1),C&&r.length>rr&&ef(n,r,rr,!1),dr(C?2:0,p),a(d,p)}finally{eo(_),dr(C?3:1,p)}}function pf(n,r,a){if(Cr(r)){const p=r.directiveEnd;for(let _=r.directiveStart;_<p;_++){const C=n.data[_];C.contentQueries&&C.contentQueries(1,a[_],_)}}}function La(n,r,a){tn()&&(function _f(n,r,a,d){const p=a.directiveStart,_=a.directiveEnd;vs(a)&&function bf(n,r,a){const d=xi(r,n),p=gf(a),_=n[dt],C=mu(n,Vc(n,p,null,a.onPush?32:16,d,r,_,_.createRenderer(d,a),null,null,null));n[r.index]=C}(r,a,n.data[p+a.componentOffset]),n.firstCreatePass||Iu(a,r),St(d,r);const C=a.initialInputs;for(let N=p;N<_;N++){const U=n.data[N],ee=Ci(r,n,N,a);St(ee,r),null!==C&&xh(0,N-p,ee,U,0,C),gr(U)&&(Vr(a.index,r)[$i]=Ci(r,n,N,a))}}(n,r,a,xi(a,r)),64==(64&a.flags)&&Ip(n,r,a))}function mf(n,r,a=xi){const d=r.localNames;if(null!==d){let p=r.index+1;for(let _=0;_<d.length;_+=2){const C=d[_+1],N=-1===C?a(r,n):n[C];n[p++]=N}}}function gf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=wh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function wh(n,r,a,d,p,_,C,N,U,ee){const Ce=rr+d,Xe=Ce+p,Rt=function I_(n,r){const a=[];for(let d=0;d<r;d++)a.push(d<n?null:Ui);return a}(Ce,Xe),qt="function"==typeof ee?ee():ee;return Rt[Pn]={type:n,blueprint:Rt,template:a,queries:null,viewQuery:N,declTNode:r,data:Rt.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:U,consts:qt,incompleteFirstPass:!1}}function qo(n,r,a,d){const p=xm(r);null===a?p.push(d):(p.push(a),n.firstCreatePass&&Th(n).push(d,p.length-1))}function Nd(n,r,a,d){for(let p in n)if(n.hasOwnProperty(p)){a=null===a?{}:a;const _=n[p];null===d?Ch(a,r,p,_):d.hasOwnProperty(p)&&Ch(a,r,d[p],_)}return a}function Ch(n,r,a,d){n.hasOwnProperty(a)?n[a].push(r,d):n[a]=[r,d]}function ha(n,r,a,d,p,_,C,N){const U=xi(r,a);let Ce,ee=r.inputs;!N&&null!=ee&&(Ce=ee[d])?(Ah(n,a,Ce,d,p),vs(r)&&function wp(n,r){const a=Vr(r,n);16&a[pi]||(a[pi]|=32)}(a,r.index)):3&r.type&&(d=function Em(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=C?C(p,r.value||"",d):p,_.setProperty(U,d,p))}function wm(n,r,a,d){if(tn()){const p=null===d?null:{"":-1},_=function yf(n,r){const a=n.directiveRegistry;let d=null,p=null;if(a)for(let _=0;_<a.length;_++){const C=a[_];if(up(r,C.selectors,!1))if(d||(d=[]),gr(C))if(null!==C.findHostDirectiveDefs){const N=[];p=p||new Map,C.findHostDirectiveDefs(C,N,p),d.unshift(...N,C),Fd(n,r,N.length)}else d.unshift(C),Fd(n,r,0);else p=p||new Map,C.findHostDirectiveDefs?.(C,d,p),d.push(C)}return null===d?null:[d,p]}(n,a);let C,N;null===_?C=N=null:[C,N]=_,null!==C&&Cp(n,r,a,C,p,N),p&&function vf(n,r,a){if(r){const d=n.localNames=[];for(let p=0;p<r.length;p+=2){const _=a[r[p+1]];if(null==_)throw new tt(-301,!1);d.push(r[p],_)}}}(a,d,p)}a.mergedAttrs=kn(a.mergedAttrs,a.attrs)}function Cp(n,r,a,d,p,_){for(let ee=0;ee<d.length;ee++)_i(Iu(a,r),n,d[ee].type);!function pu(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}(a,n.data.length,d.length);for(let ee=0;ee<d.length;ee++){const Ce=d[ee];Ce.providersResolver&&Ce.providersResolver(Ce)}let C=!1,N=!1,U=Zo(n,r,d.length,null);for(let ee=0;ee<d.length;ee++){const Ce=d[ee];a.mergedAttrs=kn(a.mergedAttrs,Ce.hostAttrs),Cm(n,a,r,U,Ce),Qu(U,Ce,p),null!==Ce.contentQueries&&(a.flags|=4),(null!==Ce.hostBindings||null!==Ce.hostAttrs||0!==Ce.hostVars)&&(a.flags|=64);const Xe=Ce.type.prototype;!C&&(Xe.ngOnChanges||Xe.ngOnInit||Xe.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(a.index),C=!0),!N&&(Xe.ngOnChanges||Xe.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(a.index),N=!0),U++}!function Ih(n,r,a){const p=r.directiveEnd,_=n.data,C=r.attrs,N=[];let U=null,ee=null;for(let Ce=r.directiveStart;Ce<p;Ce++){const Xe=_[Ce],Rt=a?a.get(Xe):null,bn=Rt?Rt.outputs:null;U=Nd(Xe.inputs,Ce,U,Rt?Rt.inputs:null),ee=Nd(Xe.outputs,Ce,ee,bn);const Ln=null===U||null===C||pc(r)?null:Im(U,Ce,C);N.push(Ln)}null!==U&&(U.hasOwnProperty("class")&&(r.flags|=8),U.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=N,r.inputs=U,r.outputs=ee}(n,a,_)}function Ip(n,r,a){const d=a.directiveStart,p=a.directiveEnd,_=a.index,C=function ul(){return li.lFrame.currentDirectiveIndex}();try{eo(_);for(let N=d;N<p;N++){const U=n.data[N],ee=r[N];jr(N),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&Dh(U,ee)}}finally{eo(-1),jr(C)}}function Dh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Fd(n,r,a){r.componentOffset=a,(n.components??(n.components=[])).push(r.index)}function Qu(n,r,a){if(a){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)a[r.exportAs[d]]=n;gr(r)&&(a[""]=n)}}function Cm(n,r,a,d,p){n.data[d]=p;const _=p.factory||(p.factory=bs(p.type)),C=new et(_,gr(p),Bc);n.blueprint[d]=C,a[d]=C,function S_(n,r,a,d,p){const _=p.hostBindings;if(_){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const N=~r.index;(function xg(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(C)!=N&&C.push(N),C.push(a,d,_)}}(n,r,d,Zo(n,a,p.hostVars,Ui),p)}function Dp(n,r,a,d,p,_,C){if(null==_)n.removeAttribute(r,p,a);else{const N=null==C?Pe(_):C(_,d||"",p);n.setAttribute(r,p,N,a)}}function xh(n,r,a,d,p,_){const C=_[r];if(null!==C){const N=d.setInput;for(let U=0;U<C.length;){const ee=C[U++],Ce=C[U++],Xe=C[U++];null!==N?d.setInput(a,Xe,ee,Ce):a[Ce]=Xe}}}function Im(n,r,a){let d=null,p=0;for(;p<a.length;){const _=a[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===d&&(d=[]);const C=n[_];for(let N=0;N<C.length;N+=2)if(C[N]===r){d.push(_,C[N+1],a[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function Dm(n,r,a,d){return[n,!0,!1,r,null,0,d,a,null,null]}function Sh(n,r){const a=Vr(r,n);if(Rs(a)){const d=a[Pn];48&a[pi]?Eh(d,a,d.template,a[$i]):a[ts]>0&&Xu(a)}}function Xu(n){for(let d=il(n);null!==d;d=rl(d))for(let p=Br;p<d.length;p++){const _=d[p];if(Rs(_))if(512&_[pi]){const C=_[Pn];Eh(C,_,C.template,_[$i])}else _[ts]>0&&Xu(_)}const a=n[Pn].components;if(null!==a)for(let d=0;d<a.length;d++){const p=Vr(a[d],n);Rs(p)&&p[ts]>0&&Xu(p)}}function Ef(n,r){const a=Vr(r,n),d=a[Pn];(function Tg(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])})(d,a),bh(d,a,a[$i])}function mu(n,r){return n[In]?n[ii][Oi]=r:n[In]=r,n[ii]=r,r}function Ju(n){for(;n;){n[pi]|=32;const r=El(n);if(Wi(n)&&!r)return n;n=r}return null}function Sp(n,r,a,d=!0){const p=r[dt];p.begin&&p.begin();try{Eh(n,r,n.template,a)}catch(C){throw d&&fa(r,C),C}finally{p.end&&p.end()}}function Tp(n,r,a){or(0),r(n,a)}function xm(n){return n[Sr]||(n[Sr]=[])}function Th(n){return n.cleanup||(n.cleanup=[])}function Mg(n,r,a){return(null===n||gr(n))&&(a=function yr(n){for(;Array.isArray(n);){if("object"==typeof n[Ms])return n;n=n[qi]}return null}(a[r.index])),a[yt]}function fa(n,r){const a=n[Ct],d=a?a.get(Wu,null):null;d&&d.handleError(r)}function Ah(n,r,a,d,p){for(let _=0;_<a.length;){const C=a[_++],N=a[_++],U=r[C],ee=n.data[C];null!==ee.setInput?ee.setInput(U,p,d,N):U[N]=p}}function No(n,r,a){const d=Ho(r,n);wo(n[yt],d,a)}function Ld(n,r,a){let d=a?n.styles:null,p=a?n.classes:null,_=0;if(null!==r)for(let C=0;C<r.length;C++){const N=r[C];"number"==typeof N?_=N:1==_?p=Ke(p,N):2==_&&(d=Ke(d,N+": "+r[++C]+";"))}a?n.styles=d:n.stylesWithoutHost=d,a?n.classes=p:n.classesWithoutHost=p}function pa(n,r,a,d,p=!1){for(;null!==a;){const _=r[a.index];if(null!==_&&d.push(_r(_)),Mr(_))for(let N=Br;N<_.length;N++){const U=_[N],ee=U[Pn].firstChild;null!==ee&&pa(U[Pn],U,ee,d)}const C=a.type;if(8&C)pa(n,r,a.child,d);else if(32&C){const N=Ri(a,r);let U;for(;U=N();)d.push(U)}else if(16&C){const N=gd(r,a);if(Array.isArray(N))d.push(...N);else{const U=El(r[di]);pa(U[Pn],U,N,d,!0)}}a=p?a.projectionNext:a.next}return d}class Yl{get rootNodes(){const r=this._lView,a=r[Pn];return pa(a,r,a.firstChild,[])}constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$i]}set context(r){this._lView[$i]=r}get destroyed(){return 128==(128&this._lView[pi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Zi];if(Mr(r)){const a=r[co],d=a?a.indexOf(this):-1;d>-1&&(se(r,d),D(a,d))}this._attachedToViewContainer=!1}Se(this._lView[Pn],this._lView)}onDestroy(r){qo(this._lView[Pn],this._lView,null,r)}markForCheck(){Ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[pi]&=-65}reattach(){this._lView[pi]|=64}detectChanges(){Sp(this._lView[Pn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zf(n,r){_d(n,r,r[yt],2,null,null)}(this._lView[Pn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=r}}class Sm extends Yl{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Sp(r[Pn],r,r[$i],!1)}checkNoChanges(){}get context(){return null}}class Tm extends fh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=$n(r);return new Mh(a,this.ngModule)}}function gu(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class Bd{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,d){d=X(d);const p=this.injector.get(r,rp,d);return p!==rp||a===rp?p:this.parentInjector.get(r,a,d)}}class Mh extends Hu{get inputs(){return gu(this.componentDef.inputs)}get outputs(){return gu(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function bg(n){return n.map(dp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,d,p){let _=(p=p||this.ngModule)instanceof Il?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new Bd(r,_):r,N=C.get(tp,null);if(null===N)throw new tt(407,!1);const U=C.get(v_,null),ee=N.createRenderer(null,this.componentDef),Ce=this.componentDef.selectors[0][0]||"div",Xe=d?function D_(n,r,a){return n.selectRootElement(r,a===fe.ShadowDom)}(ee,d,this.componentDef.encapsulation):Ru(ee,Ce,function wf(n){const r=n.toLowerCase();return"svg"===r?zo:"math"===r?"math":null}(Ce)),Rt=this.componentDef.onPush?288:272,qt=wh(0,null,null,1,0,null,null,null,null,null),bn=Vc(null,qt,null,Rt,null,null,N,ee,U,C,null);let Ln,Xn;as(bn);try{const ui=this.componentDef;let Li,Tn=null;ui.findHostDirectiveDefs?(Li=[],Tn=new Map,ui.findHostDirectiveDefs(ui,Li,Tn),Li.push(ui)):Li=[ui];const er=function A_(n,r){const a=n[Pn],d=rr;return n[d]=r,_c(a,d,2,"#host",null)}(bn,Xe),lo=function Cf(n,r,a,d,p,_,C,N){const U=p[Pn];!function oy(n,r,a,d){for(const p of n)r.mergedAttrs=kn(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(Ld(r,r.mergedAttrs,!0),null!==a&&Yp(d,a,r))}(d,n,r,C);const ee=_.createRenderer(r,a),Ce=Vc(p,gf(a),null,a.onPush?32:16,p[n.index],n,_,ee,N||null,null,null);return U.firstCreatePass&&Fd(U,n,d.length-1),mu(p,Ce),p[n.index]=Ce}(er,Xe,ui,Li,bn,N,ee);Xn=Ka(qt,rr),Xe&&function Oh(n,r,a,d){if(d)fi(n,a,["ng-version",ip.full]);else{const{attrs:p,classes:_}=function hp(n){const r=[],a=[];let d=1,p=2;for(;d<n.length;){let _=n[d];if("string"==typeof _)2===p?""!==_&&r.push(_,n[++d]):8===p&&a.push(_);else{if(!Kl(p))break;p=_}d++}return{attrs:r,classes:a}}(r.selectors[0]);p&&fi(n,a,p),_&&_.length>0&&Nu(n,a,_.join(" "))}}(ee,ui,Xe,d),void 0!==a&&function Ud(n,r,a){const d=n.projection=[];for(let p=0;p<r.length;p++){const _=a[p];d.push(null!=_?Array.from(_):null)}}(Xn,this.ngContentSelectors,a),Ln=function If(n,r,a,d,p,_){const C=Ur(),N=p[Pn],U=xi(C,p);Cp(N,p,C,a,null,d);for(let Ce=0;Ce<a.length;Ce++)St(Ci(p,N,C.directiveStart+Ce,C),p);Ip(N,p,C),U&&St(U,p);const ee=Ci(p,N,C.directiveStart+C.componentOffset,C);if(n[$i]=p[$i]=ee,null!==_)for(const Ce of _)Ce(ee,r);return pf(N,C,n),ee}(lo,ui,Li,Tn,bn,[Am]),bh(qt,bn,null)}finally{Ec()}return new Vd(this.componentType,Ln,Wl(Xn,bn),bn,Xn)}}class Vd extends Qh{constructor(r,a,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=a,this.hostView=this.changeDetectorRef=new Sm(p),this.componentType=r}setInput(r,a){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[r])){const _=this._rootLView;Ah(_[Pn],_,p,r,a),Ju(Vr(this._tNode.index,_))}}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Am(){const n=Ur();fl(en()[Pn],n)}function Og(n){let r=function Mm(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const d=[n];for(;r;){let p;if(gr(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,!1);p=r.\u0275dir}if(p){if(a){d.push(p);const C=n;C.inputs=Mp(n.inputs),C.declaredInputs=Mp(n.declaredInputs),C.outputs=Mp(n.outputs);const N=p.hostBindings;N&&Om(n,N);const U=p.viewQuery,ee=p.contentQueries;if(U&&Rg(n,U),ee&&ly(n,ee),Ue(n.inputs,p.inputs),Ue(n.declaredInputs,p.declaredInputs),Ue(n.outputs,p.outputs),gr(p)&&p.data.animation){const Ce=n.data;Ce.animation=(Ce.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let C=0;C<_.length;C++){const N=_[C];N&&N.ngInherit&&N(n),N===Og&&(a=!1)}}r=Object.getPrototypeOf(r)}!function ay(n){let r=0,a=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=r+=p.hostVars,p.hostAttrs=kn(p.hostAttrs,a=kn(a,p.hostAttrs))}}(d)}function Mp(n){return n===W?{}:n===le?[]:n}function Rg(n,r){const a=n.viewQuery;n.viewQuery=a?(d,p)=>{r(d,p),a(d,p)}:r}function ly(n,r){const a=n.contentQueries;n.contentQueries=a?(d,p,_)=>{r(d,p,_),a(d,p,_)}:r}function Om(n,r){const a=n.hostBindings;n.hostBindings=a?(d,p)=>{r(d,p),a(d,p)}:r}function Op(n){return r=>{r.findHostDirectiveDefs=kg,r.hostDirectives=(Array.isArray(n)?n:n()).map(a=>"function"==typeof a?{directive:ye(a),inputs:W,outputs:W}:{directive:ye(a.directive),inputs:Ng(a.inputs),outputs:Ng(a.outputs)})}}function kg(n,r,a){if(null!==n.hostDirectives)for(const d of n.hostDirectives){const p=ki(d.directive);uy(p.declaredInputs,d.inputs),kg(p,r,a),a.set(p,d),r.push(p)}}function Ng(n){if(void 0===n||0===n.length)return W;const r={};for(let a=0;a<n.length;a+=2)r[n[a]]=n[a+1];return r}function uy(n,r){for(const a in r)r.hasOwnProperty(a)&&(n[r[a]]=n[a])}function Df(n){return!!xf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function xf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zl(n,r,a){return n[r]=a}function Fo(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function zd(n,r,a,d){const p=Fo(n,r,a);return Fo(n,r+1,d)||p}function Lg(n,r,a,d){const p=en();return Fo(p,Js(),r)&&(hi(),function so(n,r,a,d,p,_){const C=xi(n,r);Dp(r[yt],C,_,n.value,a,d,p)}(Lt(),p,n,r,a,d)),Lg}function td(n,r,a,d){return Fo(n,Js(),a)?r+Pe(a)+d:Ui}function _u(n,r,a,d,p,_){const N=zd(n,Ts(),a,p);return ss(2),N?r+Pe(a)+d+Pe(p)+_:Ui}function Fm(n,r,a,d,p,_,C,N){const U=en(),ee=hi(),Ce=n+rr,Xe=ee.firstCreatePass?function py(n,r,a,d,p,_,C,N,U){const ee=r.consts,Ce=_c(r,n,4,C||null,Zr(ee,N));wm(r,a,Ce,Zr(ee,U)),fl(r,Ce);const Xe=Ce.tView=wh(2,Ce,d,p,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ee);return null!==r.queries&&(r.queries.template(r,Ce),Xe.queries=r.queries.embeddedTView(Ce)),Ce}(Ce,ee,U,r,a,d,p,_,C):ee.data[Ce];ks(Xe,!1);const Rt=U[yt].createComment("");iu(ee,U,Rt,Xe),St(Rt,U),mu(U,U[Ce]=Dm(Rt,U,Rt,Xe)),uo(Xe)&&La(ee,U,Xe),null!=C&&mf(U,Xe,N)}function Lm(n){return Wr(function Jl(){return li.lFrame.contextLView}(),rr+n)}function Vg(n,r,a){const d=en();return Fo(d,Js(),r)&&ha(hi(),Lt(),d,n,r,d[yt],a,!1),Vg}function kp(n,r,a,d,p){const C=p?"class":"style";Ah(n,a,r.inputs[C],C,d)}function Hd(n,r,a,d){const p=en(),_=hi(),C=rr+n,N=p[yt],U=_.firstCreatePass?function Np(n,r,a,d,p,_){const C=r.consts,U=_c(r,n,2,d,Zr(C,p));return wm(r,a,U,Zr(C,_)),null!==U.attrs&&Ld(U,U.attrs,!1),null!==U.mergedAttrs&&Ld(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(C,_,p,r,a,d):_.data[C],ee=p[C]=Ru(N,r,function Ml(){return li.lFrame.currentNamespace}()),Ce=uo(U);return ks(U,!0),Yp(N,ee,U),32!=(32&U.flags)&&iu(_,p,ee,U),0===function $(){return li.lFrame.elementDepthCount}()&&St(ee,p),function V(){li.lFrame.elementDepthCount++}(),Ce&&(La(_,p,U),pf(_,U,p)),null!==d&&mf(p,U),Hd}function Af(){let n=Ur();cl()?wa():(n=n.parent,ks(n,!1));const r=n;!function we(){li.lFrame.elementDepthCount--}();const a=hi();return a.firstCreatePass&&(fl(a,n),Cr(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Si(n){return 0!=(8&n.flags)}(r)&&kp(a,r,en(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Yi(n){return 0!=(16&n.flags)}(r)&&kp(a,r,en(),r.stylesWithoutHost,!1),Af}function Ug(n,r,a,d){return Hd(n,r,a,d),Af(),Ug}function Ph(n,r,a){const d=en(),p=hi(),_=n+rr,C=p.firstCreatePass?function Bm(n,r,a,d,p){const _=r.consts,C=Zr(_,d),N=_c(r,n,8,"ng-container",C);return null!==C&&Ld(N,C,!0),wm(r,a,N,Zr(_,p)),null!==r.queries&&r.queries.elementStart(r,N),N}(_,p,d,r,a):p.data[_];ks(C,!0);const N=d[_]=d[yt].createComment("");return iu(p,d,N,C),St(N,d),uo(C)&&(La(p,d,C),pf(p,C,d)),null!=a&&mf(d,C),Ph}function Fp(){let n=Ur();const r=hi();return cl()?wa():(n=n.parent,ks(n,!1)),r.firstCreatePass&&(fl(r,n),Cr(n)&&r.queries.elementEnd(n)),Fp}function Mf(n,r,a){return Ph(n,r,a),Fp(),Mf}function Lp(){return en()}function kh(n){return!!n&&"function"==typeof n.then}function zg(n){return!!n&&"function"==typeof n.subscribe}const Of=zg;function jg(n,r,a,d){const p=en(),_=hi(),C=Ur();return Nh(_,p,p[yt],C,n,r,d),jg}function Bp(n,r){const a=Ur(),d=en(),p=hi();return Nh(p,d,Mg(hs(p.data),a,d),a,n,r),Bp}function Nh(n,r,a,d,p,_,C){const N=uo(d),ee=n.firstCreatePass&&Th(n),Ce=r[$i],Xe=xm(r);let Rt=!0;if(3&d.type||C){const Ln=xi(d,r),Xn=C?C(Ln):Ln,ui=Xe.length,Li=C?er=>C(_r(er[d.index])):d.index;let Tn=null;if(!C&&N&&(Tn=function F_(n,r,a,d){const p=n.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const C=p[_];if(C===a&&p[_+1]===d){const N=r[Sr],U=p[_+2];return N.length>U?N[U]:null}"string"==typeof C&&(_+=2)}return null}(n,r,p,d.index)),null!==Tn)(Tn.__ngLastListenerFn__||Tn).__ngNextListenerFn__=_,Tn.__ngLastListenerFn__=_,Rt=!1;else{_=Vp(d,r,Ce,_,!1);const er=a.listen(Xn,p,_);Xe.push(_,er),ee&&ee.push(p,Li,ui,ui+1)}}else _=Vp(d,r,Ce,_,!1);const qt=d.outputs;let bn;if(Rt&&null!==qt&&(bn=qt[p])){const Ln=bn.length;if(Ln)for(let Xn=0;Xn<Ln;Xn+=2){const lo=r[bn[Xn]][bn[Xn+1]].subscribe(_),Jo=Xe.length;Xe.push(_,lo),ee&&ee.push(p,d.index,Jo,-(Jo+1))}}}function Hg(n,r,a,d){try{return dr(6,r,a),!1!==a(d)}catch(p){return fa(n,p),!1}finally{dr(7,r,a)}}function Vp(n,r,a,d,p){return function _(C){if(C===Function)return d;Ju(n.componentOffset>-1?Vr(n.index,r):r);let U=Hg(r,a,d,C),ee=_.__ngNextListenerFn__;for(;ee;)U=Hg(r,a,ee,C)&&U,ee=ee.__ngNextListenerFn__;return p&&!1===U&&(C.preventDefault(),C.returnValue=!1),U}}function L_(n=1){return function Cs(n){return(li.lFrame.contextLView=function fs(n,r){for(;n>0;)r=r[Ei],n--;return r}(n,li.lFrame.contextLView))[$i]}(n)}function my(n,r){let a=null;const d=function hm(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(!(1&a))return r[a+1]}return null}(n);for(let p=0;p<r.length;p++){const _=r[p];if("*"!==_){if(null===d?up(n,_,!0):_h(d,_))return p}else a=p}return a}function B_(n){const r=en()[di][Hi];if(!r.projection){const d=r.projection=S(n?n.length:1,null),p=d.slice();let _=r.child;for(;null!==_;){const C=n?my(_,n):0;null!==C&&(p[C]?p[C].projectionNext=_:d[C]=_,p[C]=_),_=_.next}}}function V_(n,r=0,a){const d=en(),p=hi(),_=_c(p,rr+n,16,null,a||null);null===_.projection&&(_.projection=r),wa(),32!=(32&_.flags)&&function zh(n,r,a){sg(r[yt],0,r,a,Hn(n,a,r),ca(a.parent||r[Hi],a,r))}(p,d,_)}function Rf(n,r,a){return Pf(n,"",r,"",a),Rf}function Pf(n,r,a,d,p){const _=en(),C=td(_,r,a,d);return C!==Ui&&ha(hi(),Lt(),_,n,C,_[yt],p,!1),Pf}function Fh(n,r){return n<<17|r<<2}function sd(n){return n>>17&32767}function $d(n){return 2|n}function od(n){return(131068&n)>>2}function Kg(n,r){return-131069&n|r<<2}function Yg(n){return 1|n}function j_(n,r,a,d,p){const _=n[a+1],C=null===r;let N=d?sd(_):od(_),U=!1;for(;0!==N&&(!1===U||C);){const Ce=n[N+1];vy(n[N],r)&&(U=!0,n[N+1]=d?Yg(Ce):$d(Ce)),N=d?sd(Ce):od(Ce)}U&&(n[a+1]=d?$d(_):Yg(_))}function vy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&un(n,r)>=0}const Lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zg(n){return n.substring(Lo.key,Lo.keyEnd)}function Qg(n,r){const a=Lo.textEnd;return a===r?-1:(r=Lo.keyEnd=function W_(n,r,a){for(;r<a&&n.charCodeAt(r)>32;)r++;return r}(n,Lo.key=r,a),ir(n,r,a))}function ir(n,r,a){for(;r<a&&n.charCodeAt(r)<=32;)r++;return r}function ql(n,r,a){return l(n,r,a,!1),ql}function $m(n,r){return l(n,r,null,!0),$m}function u(n){h(Sn,o,n,!0)}function o(n,r){for(let a=function qg(n){return function zp(n){Lo.key=0,Lo.keyEnd=0,Lo.value=0,Lo.valueEnd=0,Lo.textEnd=n.length}(n),Qg(n,ir(n,0,Lo.textEnd))}(r);a>=0;a=Qg(r,a))Ie(n,Zg(r),!0)}function l(n,r,a,d){const p=en(),_=hi(),C=ss(2);_.firstUpdatePass&&I(_,n,C,d),r!==Ui&&Fo(p,C,r)&&Pi(_,_.data[Qi()],p,p[yt],n,p[C+1]=function Io(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=_e(da(n)))),n}(r,a),d,C)}function h(n,r,a,d){const p=hi(),_=ss(2);p.firstUpdatePass&&I(p,null,_,d);const C=en();if(a!==Ui&&Fo(C,_,a)){const N=p.data[Qi()];if(oo(N,d)&&!v(p,_)){let U=d?N.classesWithoutHost:N.stylesWithoutHost;null!==U&&(a=Ke(U,a||"")),kp(p,N,C,a,d)}else!function Yn(n,r,a,d,p,_,C,N){p===Ui&&(p=le);let U=0,ee=0,Ce=0<p.length?p[0]:null,Xe=0<_.length?_[0]:null;for(;null!==Ce||null!==Xe;){const Rt=U<p.length?p[U+1]:void 0,qt=ee<_.length?_[ee+1]:void 0;let Ln,bn=null;Ce===Xe?(U+=2,ee+=2,Rt!==qt&&(bn=Xe,Ln=qt)):null===Xe||null!==Ce&&Ce<Xe?(U+=2,bn=Ce):(ee+=2,bn=Xe,Ln=qt),null!==bn&&Pi(n,r,a,d,bn,Ln,C,N),Ce=U<p.length?p[U]:null,Xe=ee<_.length?_[ee]:null}}(p,N,C,C[yt],C[_+1],C[_+1]=function rn(n,r,a){if(null==a||""===a)return le;const d=[],p=da(a);if(Array.isArray(p))for(let _=0;_<p.length;_++)n(d,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&n(d,_,p[_]);else"string"==typeof p&&r(d,p);return d}(n,r,a),d,_)}}function v(n,r){return r>=n.expandoStartIndex}function I(n,r,a,d){const p=n.data;if(null===p[a+1]){const _=p[Qi()],C=v(n,a);oo(_,d)&&null===r&&!C&&(r=!1),r=function P(n,r,a,d){const p=hs(n);let _=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(a=Ot(a=vt(null,n,r,a,d),r.attrs,d),_=null);else{const C=r.directiveStylingLast;if(-1===C||n[C]!==p)if(a=vt(p,n,r,a,d),null===_){let U=function K(n,r,a){const d=a?r.classBindings:r.styleBindings;if(0!==od(d))return n[sd(d)]}(n,r,d);void 0!==U&&Array.isArray(U)&&(U=vt(null,n,r,U[1],d),U=Ot(U,r.attrs,d),function de(n,r,a,d){n[sd(a?r.classBindings:r.styleBindings)]=d}(n,r,d,U))}else _=function Ee(n,r,a){let d;const p=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<p;_++)d=Ot(d,n[_].hostAttrs,a);return Ot(d,r.attrs,a)}(n,r,d)}return void 0!==_&&(d?r.residualClasses=_:r.residualStyles=_),a}(p,_,r,d),function z_(n,r,a,d,p,_){let C=_?r.classBindings:r.styleBindings,N=sd(C),U=od(C);n[d]=a;let Ce,ee=!1;if(Array.isArray(a)?(Ce=a[1],(null===Ce||un(a,Ce)>0)&&(ee=!0)):Ce=a,p)if(0!==U){const Rt=sd(n[N+1]);n[d+1]=Fh(Rt,N),0!==Rt&&(n[Rt+1]=Kg(n[Rt+1],d)),n[N+1]=function U_(n,r){return 131071&n|r<<17}(n[N+1],d)}else n[d+1]=Fh(N,0),0!==N&&(n[N+1]=Kg(n[N+1],d)),N=d;else n[d+1]=Fh(U,0),0===N?N=d:n[U+1]=Kg(n[U+1],d),U=d;ee&&(n[d+1]=$d(n[d+1])),j_(n,Ce,d,!0),j_(n,Ce,d,!1),function yy(n,r,a,d,p){const _=p?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&un(_,r)>=0&&(a[d+1]=Yg(a[d+1]))}(r,Ce,n,d,_),C=Fh(N,U),_?r.classBindings=C:r.styleBindings=C}(p,_,r,a,C,d)}}function vt(n,r,a,d,p){let _=null;const C=a.directiveEnd;let N=a.directiveStylingLast;for(-1===N?N=a.directiveStart:N++;N<C&&(_=r[N],d=Ot(d,_.hostAttrs,p),_!==n);)N++;return null!==n&&(a.directiveStylingLast=N),d}function Ot(n,r,a){const d=a?1:2;let p=-1;if(null!==r)for(let _=0;_<r.length;_++){const C=r[_];"number"==typeof C?p=C:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ie(n,C,!!a||r[++_]))}return void 0===n?null:n}function Sn(n,r,a){const d=String(r);""!==d&&!d.includes(" ")&&Ie(n,d,a)}function Pi(n,r,a,d,p,_,C,N){if(!(3&r.type))return;const U=n.data,ee=U[N+1],Ce=function gy(n){return 1==(1&n)}(ee)?Er(U,r,a,p,od(ee),C):void 0;_s(Ce)||(_s(_)||function Gg(n){return 2==(2&n)}(ee)&&(_=Er(U,null,a,p,N,C)),function og(n,r,a,d,p){if(r)p?n.addClass(a,d):n.removeClass(a,d);else{let _=-1===d.indexOf("-")?void 0:Ra.DashCase;null==p?n.removeStyle(a,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Ra.Important),n.setStyle(a,d,p,_))}}(d,C,Ho(Qi(),a),p,_))}function Er(n,r,a,d,p,_){const C=null===r;let N;for(;p>0;){const U=n[p],ee=Array.isArray(U),Ce=ee?U[1]:U,Xe=null===Ce;let Rt=a[p+1];Rt===Ui&&(Rt=Xe?le:void 0);let qt=Xe?xt(Rt,d):Ce===d?Rt:void 0;if(ee&&!_s(qt)&&(qt=xt(U,d)),_s(qt)&&(N=qt,C))return N;const bn=n[p+1];p=C?sd(bn):od(bn)}if(null!==r){let U=_?r.residualClasses:r.residualStyles;null!=U&&(N=xt(U,d))}return N}function _s(n){return void 0!==n}function oo(n,r){return 0!=(n.flags&(r?8:16))}function ad(n,r=""){const a=en(),d=hi(),p=n+rr,_=d.firstCreatePass?_c(d,p,1,r,null):d.data[p],C=a[p]=Ki(a[yt],r);iu(d,a,C,_),ks(_,!1)}function ga(n){return Bo("",n,""),ga}function Bo(n,r,a){const d=en(),p=td(d,n,r,a);return p!==Ui&&No(d,Qi(),p),Bo}function Vo(n,r,a,d,p){const _=en(),C=_u(_,n,r,a,d,p);return C!==Ui&&No(_,Qi(),C),Vo}function gi(n,r,a,d,p){h(Ie,o,_u(en(),n,r,a,d,p),!0)}function Zm(n,r,a){const d=en();return Fo(d,Js(),r)&&ha(hi(),Lt(),d,n,r,d[yt],a,!0),Zm}function kf(n,r,a){const d=en();if(Fo(d,Js(),r)){const _=hi(),C=Lt();ha(_,C,d,n,r,Mg(hs(_.data),C,d),a,!0)}return kf}const Nf=void 0;var Qy=["en",[["a","p"],["AM","PM"],Nf],[["AM","PM"],Nf,Nf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nf,"{1} 'at' {0}",Nf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qm(n){const a=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let wu={};function Cy(n){const r=function n_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=Qm(r);if(a)return a;const d=r.split("-")[0];if(a=Qm(d),a)return a;if("en"===d)return Qy;throw new tt(701,!1)}function Dy(n){return Cy(n)[Ti.PluralCase]}function Qm(n){return n in wu||(wu[n]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[n]),wu[n]}var Ti=(()=>((Ti=Ti||{})[Ti.LocaleId=0]="LocaleId",Ti[Ti.DayPeriodsFormat=1]="DayPeriodsFormat",Ti[Ti.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ti[Ti.DaysFormat=3]="DaysFormat",Ti[Ti.DaysStandalone=4]="DaysStandalone",Ti[Ti.MonthsFormat=5]="MonthsFormat",Ti[Ti.MonthsStandalone=6]="MonthsStandalone",Ti[Ti.Eras=7]="Eras",Ti[Ti.FirstDayOfWeek=8]="FirstDayOfWeek",Ti[Ti.WeekendRange=9]="WeekendRange",Ti[Ti.DateFormat=10]="DateFormat",Ti[Ti.TimeFormat=11]="TimeFormat",Ti[Ti.DateTimeFormat=12]="DateTimeFormat",Ti[Ti.NumberSymbols=13]="NumberSymbols",Ti[Ti.NumberFormats=14]="NumberFormats",Ti[Ti.CurrencyCode=15]="CurrencyCode",Ti[Ti.CurrencySymbol=16]="CurrencySymbol",Ti[Ti.CurrencyName=17]="CurrencyName",Ti[Ti.Currencies=18]="Currencies",Ti[Ti.Directionality=19]="Directionality",Ti[Ti.PluralCase=20]="PluralCase",Ti[Ti.ExtraData=21]="ExtraData",Ti))();const Xy=["zero","one","two","few","many"],Gd="en-US",i_={marker:"element"},Xm={marker:"ICU"};var Ys=(()=>((Ys=Ys||{})[Ys.SHIFT=2]="SHIFT",Ys[Ys.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ys[Ys.COMMENT=2]="COMMENT",Ys))();let Q_=Gd;function X_(n){(function nt(n,r){null==n&&lt(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Q_=n.toLowerCase().replace(/_/g,"-"))}function r_(n,r,a){const d=r.insertBeforeIndex,p=Array.isArray(d)?d[0]:d;return null===p?ka(n,0,a):_r(a[p])}function Jm(n,r,a,d,p){const _=r.insertBeforeIndex;if(Array.isArray(_)){let C=d,N=null;if(3&r.type||(N=C,C=p),null!==C&&-1===r.componentOffset)for(let U=1;U<_.length;U++)Di(n,C,a[_[U]],N,!1)}}function Sy(n,r){if(n.push(r),n.length>1)for(let a=n.length-2;a>=0;a--){const d=n[a];nv(d)||Xv(d,r)&&null===iv(d)&&Jv(d,r.index)}}function nv(n){return!(64&n.type)}function Xv(n,r){return nv(r)||n.index>r.index}function iv(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Jv(n,r){const a=n.insertBeforeIndex;Array.isArray(a)?a[0]=r:(Pu(r_,Jm),n.insertBeforeIndex=r)}function s_(n,r){const a=n.data[r];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function eg(n,r,a){const d=Pd(n,a,64,null,null);return Sy(r,d),d}function cd(n,r){const a=r[n.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Ty(n){return n>>>17}function Ay(n){return(131070&n)>>>1}let tg=0,ng=0;function Oy(n,r,a,d){const p=a[yt];let C,_=null;for(let N=0;N<r.length;N++){const U=r[N];if("string"==typeof U){const ee=r[++N];null===a[ee]&&(a[ee]=Ki(p,U))}else if("number"==typeof U)switch(1&U){case 0:const ee=Ty(U);let Ce,Xe;if(null===_&&(_=ee,C=ko(p,d)),ee===_?(Ce=d,Xe=C):(Ce=null,Xe=_r(a[ee])),null!==Xe){const Ln=Ay(U);Di(p,Xe,a[Ln],Ce,!1);const ui=s_(n,Ln);if(null!==ui&&"object"==typeof ui){const Li=cd(ui,a);null!==Li&&Oy(n,ui.create[Li],a,a[ui.anchorIdx])}}break;case 1:const qt=r[++N],bn=r[++N];Dp(p,Ho(U>>>1,a),null,null,qt,bn,null)}else switch(U){case Xm:const ee=r[++N],Ce=r[++N];null===a[Ce]&&St(a[Ce]=dc(p,ee),a);break;case i_:const Xe=r[++N],Rt=r[++N];null===a[Rt]&&St(a[Rt]=Ru(p,Xe,null),a)}}}function Ry(n,r,a,d,p){for(let _=0;_<a.length;_++){const C=a[_],N=a[++_];if(C&p){let U="";for(let ee=_+1;ee<=_+N;ee++){const Ce=a[ee];if("string"==typeof Ce)U+=Ce;else if("number"==typeof Ce)if(Ce<0)U+=Pe(r[d-Ce]);else{const Xe=Ce>>>2;switch(3&Ce){case 1:const Rt=a[++ee],qt=a[++ee],bn=n.data[Xe];"string"==typeof bn?Dp(r[yt],r[Xe],null,bn,Rt,U,qt):ha(n,bn,r,Rt,U,r[yt],qt,!1);break;case 0:const Ln=r[Xe];null!==Ln&&wo(r[yt],Ln,U);break;case 2:av(n,s_(n,Xe),r,U);break;case 3:Py(n,s_(n,Xe),d,r)}}}}else{const U=a[_+1];if(U>0&&3==(3&U)){const Ce=s_(n,U>>>2);r[Ce.currentCaseLViewIndex]<0&&Py(n,Ce,d,r)}}_+=N}}function Py(n,r,a,d){let p=d[r.currentCaseLViewIndex];if(null!==p){let _=tg;p<0&&(p=d[r.currentCaseLViewIndex]=~p,_=-1),Ry(n,d,r.update[p],a,_)}}function av(n,r,a,d){const p=function lv(n,r){let a=n.cases.indexOf(r);if(-1===a)switch(n.type){case 1:{const d=function Jy(n,r){const a=Dy(r)(parseInt(n,10)),d=Xy[a];return void 0!==d?d:"other"}(r,function xy(){return Q_}());a=n.cases.indexOf(d),-1===a&&"other"!==d&&(a=n.cases.indexOf("other"));break}case 0:a=n.cases.indexOf("other")}return-1===a?null:a}(r,d);if(cd(r,a)!==p&&(ky(n,r,a),a[r.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=a[r.anchorIdx];C&&Oy(n,r.create[p],a,C)}}function ky(n,r,a){let d=cd(r,a);if(null!==d){const p=r.remove[d];for(let _=0;_<p.length;_++){const C=p[_];if(C>0){const N=Ho(C,a);null!==N&&Uh(a[yt],N)}else ky(n,s_(n,~C),a)}}}function Gp(){const n=[];let a,d,r=-1;function _(N,U){r=0;const ee=cd(N,U);d=null!==ee?N.remove[ee]:le}function C(){if(r<d.length){const N=d[r++];return N>0?a[N]:(n.push(r,d),_(a[Pn].data[~N],a),C())}return 0===n.length?null:(d=n.pop(),r=n.pop(),C())}return function p(N,U){for(a=U;n.length;)n.pop();return _(N.value,U),C}}const o_=/\ufffd(\d+):?\d*\ufffd/gi,n0=/\ufffd(\d+)\ufffd/,uv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,a_="\ufffd",r0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hv=/\uE500/g;function J_(n,r,a,d,p,_,C){const N=Zo(n,d,1,null);let U=N<<Ys.SHIFT,ee=_o();r===ee&&(ee=null),null===ee&&(U|=Ys.APPEND_EAGERLY),C&&(U|=Ys.COMMENT,function Gi(n){void 0===Bi&&(Bi=n())}(Gp)),p.push(U,null===_?"":_);const Ce=Pd(n,N,C?32:1,null===_?"":_,null);Sy(a,Ce);const Xe=Ce.index;return ks(Ce,!1),null!==ee&&r!==ee&&function Lf(n,r){let a=n.insertBeforeIndex;null===a?(Pu(r_,Jm),a=n.insertBeforeIndex=[null,r]):(function sn(n,r,a){n!=r&&lt(a,n,r,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(r))}(ee,Xe),Ce}function Bh(n,r,a,d,p,_,C){const N=C.match(o_),U=J_(n,r,a,_,d,N?null:C,!1);N&&ig(p,C,U.index,null,0,null)}function ig(n,r,a,d,p,_){const C=n.length,N=C+1;n.push(null,null);const U=C+2,ee=r.split(o_);let Ce=0;for(let Xe=0;Xe<ee.length;Xe++){const Rt=ee[Xe];if(1&Xe){const qt=p+parseInt(Rt,10);n.push(-1-qt),Ce|=Ly(qt)}else""!==Rt&&n.push(Rt)}return n.push(a<<2|(d?1:0)),d&&n.push(d,_),n[C]=Ce,n[N]=n.length-U,Ce}function Ly(n){return 1<<Math.min(n,31)}function By(n){let r,_,a="",d=0,p=!1;for(;null!==(r=r0.exec(n));)p?r[0]===`${a_}/*${_}${a_}`&&(d=r.index,p=!1):(a+=n.substring(d,r.index+r[0].length),_=r[1],p=!0);return a+=n.slice(d),a}function vv(n,r,a,d,p,_){let C=0;const N={type:p.type,currentCaseLViewIndex:Zo(n,r,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function c(n,r,a){n.push(Ly(r.mainBinding),2,-1-r.mainBinding,a<<2|2)})(a,p,_),function Ff(n,r,a){const d=n.data[r];null===d?n.data[r]=a:d.value=a}(n,_,N);const U=p.values;for(let ee=0;ee<U.length;ee++){const Ce=U[ee],Xe=[];for(let Rt=0;Rt<Ce.length;Rt++){const qt=Ce[Rt];if("string"!=typeof qt){const bn=Xe.push(qt)-1;Ce[Rt]=`\x3c!--\ufffd${bn}\ufffd--\x3e`}}C=i(n,N,r,a,d,p.cases[ee],Ce.join(""),Xe)|C}C&&function m(n,r,a){n.push(r,1,a<<2|3)}(a,C,_)}function s0(n){const r=[],a=[];let d=1,p=0;const _=l_(n=n.replace(uv,function(C,N,U){return d="select"===U?0:1,p=parseInt(N.slice(1),10),""}));for(let C=0;C<_.length;){let N=_[C++].trim();1===d&&(N=N.replace(/\s*(?:=)?(\w+)\s*/,"$1")),N.length&&r.push(N);const U=l_(_[C++]);r.length>a.length&&a.push(U)}return{type:d,mainBinding:p,cases:r,values:a}}function l_(n){if(!n)return[];let r=0;const a=[],d=[],p=/[{}]/g;let _;for(p.lastIndex=0;_=p.exec(n);){const N=_.index;if("}"==_[0]){if(a.pop(),0==a.length){const U=n.substring(r,N);uv.test(U)?d.push(s0(U)):d.push(U),r=N+1}}else{if(0==a.length){const U=n.substring(r,N);d.push(U),r=N+1}a.push("{")}}const C=n.substring(r);return d.push(C),d}function i(n,r,a,d,p,_,C,N){const U=[],ee=[],Ce=[];r.cases.push(_),r.create.push(U),r.remove.push(ee),r.update.push(Ce);const Rt=lr(function Jr(){return void 0!==yd?yd:typeof document<"u"?document:void 0}()).getInertBodyElement(C),qt=Vu(Rt)||Rt;return qt?e(n,r,a,d,U,ee,Ce,qt,p,N,0):0}function e(n,r,a,d,p,_,C,N,U,ee,Ce){let Xe=0,Rt=N.firstChild;for(;Rt;){const qt=Zo(n,a,1,null);switch(Rt.nodeType){case Node.ELEMENT_NODE:const bn=Rt,Ln=bn.tagName.toLowerCase();if(Yf.hasOwnProperty(Ln)){y(p,i_,Ln,U,qt),n.data[qt]=Ln;const Tn=bn.attributes;for(let er=0;er<Tn.length;er++){const lo=Tn.item(er),Jo=lo.name.toLowerCase();lo.value.match(o_)?Wh.hasOwnProperty(Jo)&&ig(C,lo.value,qt,lo.name,0,Na[Jo]?Lu:null):k(p,qt,lo)}Xe=e(n,r,a,d,p,_,C,Rt,qt,ee,Ce+1)|Xe,t(_,qt,Ce)}break;case Node.TEXT_NODE:const Xn=Rt.textContent||"",ui=Xn.match(o_);y(p,null,ui?"":Xn,U,qt),t(_,qt,Ce),ui&&(Xe=ig(C,Xn,qt,null,0,null)|Xe);break;case Node.COMMENT_NODE:const Li=n0.exec(Rt.textContent||"");if(Li){const er=ee[parseInt(Li[1],10)];y(p,Xm,"",U,qt),vv(n,a,d,U,er,qt),s(_,qt,Ce)}}Rt=Rt.nextSibling}return Xe}function t(n,r,a){0===a&&n.push(r)}function s(n,r,a){0===a&&(n.push(~r),n.push(r))}function y(n,r,a,d,p){null!==r&&n.push(r),n.push(a,p,function Lh(n,r,a){return n|r<<17|a<<1}(0,d,p))}function k(n,r,a){n.push(r<<1|1,a.name,a.value)}function Ji(n,r,a=-1){const d=hi(),p=en(),_=rr+n,C=Zr(d.consts,r),N=_o();d.firstCreatePass&&function pv(n,r,a,d,p,_){const C=_o(),N=[],U=[],ee=[[]];p=function yv(n,r){if(function _v(n){return-1===n}(r))return By(n);{const a=n.indexOf(`:${r}${a_}`)+2+r.toString().length,d=n.search(new RegExp(`${a_}\\/\\*\\d+:${r}${a_}`));return By(n.substring(a,d))}}(p,_);const Ce=function fv(n){return n.replace(hv," ")}(p).split(dv);for(let Xe=0;Xe<Ce.length;Xe++){let Rt=Ce[Xe];if(1&Xe){const qt=47===Rt.charCodeAt(0),Ln=(Rt.charCodeAt(qt?1:0),rr+Number.parseInt(Rt.substring(qt?2:1)));if(qt)ee.shift(),ks(_o(),!1);else{const Xn=eg(n,ee[0],Ln);ee.unshift([]),ks(Xn,!0)}}else{const qt=l_(Rt);for(let bn=0;bn<qt.length;bn++){let Ln=qt[bn];if(1&bn){const Xn=Ln;if("object"!=typeof Xn)throw new Error(`Unable to parse ICU expression in "${p}" message.`);vv(n,a,U,r,Xn,J_(n,C,ee[0],a,N,"",!0).index)}else""!==Ln&&Bh(n,C,ee[0],N,U,a,Ln)}}}n.data[d]={create:N,update:U}}(d,null===N?0:N.index,p,_,C,a);const U=d.data[_],Ce=oi(d,N===p[Hi]?null:N,p);(function ov(n,r,a,d){const p=n[yt];for(let _=0;_<r.length;_++){const C=r[_++],N=r[_],ee=(C&Ys.APPEND_EAGERLY)===Ys.APPEND_EAGERLY,Ce=C>>>Ys.SHIFT;let Xe=n[Ce];null===Xe&&(Xe=n[Ce]=(C&Ys.COMMENT)===Ys.COMMENT?p.createComment(N):Ki(p,N)),ee&&null!==a&&Di(p,a,Xe,d,!1)}})(p,U.create,Ce,N&&8&N.type?p[N.index]:null),na(!0)}function cr(n,r,a){Ji(n,r,a),function xr(){na(!1)}()}function ao(n){return function rv(n){n&&(tg|=1<<Math.min(ng,31)),ng++}(Fo(en(),Js(),n)),ao}function xs(n){!function sv(n,r,a){if(ng>0){const d=n.data[a];Ry(n,r,Array.isArray(d)?d:d.update,Ts()-ng-1,tg)}tg=0,ng=0}(hi(),en(),n+rr)}function c_(n,r,a,d,p){if(n=ye(n),Array.isArray(n))for(let _=0;_<n.length;_++)c_(n[_],r,a,d,p);else{const _=hi(),C=en();let N=uu(n)?n:ye(n.provide),U=Xf(n);const ee=Ur(),Ce=1048575&ee.providerIndexes,Xe=ee.directiveStart,Rt=ee.providerIndexes>>20;if(uu(n)||!n.multi){const qt=new et(U,p,Bc),bn=Ev(N,r,p?Ce:Ce+Rt,Xe);-1===bn?(_i(Iu(ee,C),_,N),bv(_,n,r.length),r.push(N),ee.directiveStart++,ee.directiveEnd++,p&&(ee.providerIndexes+=1048576),a.push(qt),C.push(qt)):(a[bn]=qt,C[bn]=qt)}else{const qt=Ev(N,r,Ce+Rt,Xe),bn=Ev(N,r,Ce,Ce+Rt),Xn=bn>=0&&a[bn];if(p&&!Xn||!p&&!(qt>=0&&a[qt])){_i(Iu(ee,C),_,N);const ui=function Ub(n,r,a,d,p){const _=new et(n,a,Bc);return _.multi=[],_.index=r,_.componentProviders=0,o0(_,p,d&&!a),_}(p?Vb:Bb,a.length,p,d,U);!p&&Xn&&(a[bn].providerFactory=ui),bv(_,n,r.length,0),r.push(N),ee.directiveStart++,ee.directiveEnd++,p&&(ee.providerIndexes+=1048576),a.push(ui),C.push(ui)}else bv(_,n,qt>-1?qt:bn,o0(a[p?bn:qt],U,!p&&d));!p&&d&&Xn&&a[bn].componentProviders++}}}function bv(n,r,a,d){const p=uu(r),_=function Pc(n){return!!n.useClass}(r);if(p||_){const U=(_?ye(r.useClass):r).prototype.ngOnDestroy;if(U){const ee=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const Ce=ee.indexOf(a);-1===Ce?ee.push(a,[d,U]):ee[Ce+1].push(d,U)}else ee.push(a,U)}}}function o0(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function Ev(n,r,a,d){for(let p=a;p<d;p++)if(r[p]===n)return p;return-1}function Bb(n,r,a,d){return wv(this.multi,[])}function Vb(n,r,a,d){const p=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,N=Ci(a,a[Pn],this.providerFactory.index,d);_=N.slice(0,C),wv(p,_);for(let U=C;U<N.length;U++)_.push(N[U])}else _=[],wv(p,_);return _}function wv(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function a0(n,r=[]){return a=>{a.providersResolver=(d,p)=>function Bf(n,r,a){const d=hi();if(d.firstCreatePass){const p=gr(n);c_(a,d.data,d.blueprint,p,!0),c_(r,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,r)}}class u_{}class l0{}function zb(n,r){return new c0(n,r??null)}class c0 extends u_{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tm(this);const d=vr(r);this._bootstrapComponents=Fc(d.bootstrap),this._r3Injector=_p(r,a,[{provide:u_,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],_e(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Cv extends l0{constructor(r){super(),this.moduleType=r}create(r){return new c0(this.moduleType,r)}}class jb extends u_{constructor(r,a,d){super(),this.componentFactoryResolver=new Tm(this),this.instance=null;const p=new fc([...r,{provide:u_,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],a||kc(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Iv(n,r,a=null){return new jb(n,r,a).injector}let Hb=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const d=im(0,a.type),p=d.length>0?Iv([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,p)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=He({token:n,providedIn:"environment",factory:()=>new n(Ft(Il))}),n})();function u0(n){n.getStandaloneInjector=r=>r.get(Hb).getOrCreateStandaloneInjector(n)}function _0(n,r,a){const d=qr()+n,p=en();return p[d]===Ui?Zl(p,d,a?r.call(a):r()):function Sf(n,r){return n[r]}(p,d)}function y0(n,r,a,d){return E0(en(),qr(),n,r,a,d)}function v0(n,r,a,d,p){return function w0(n,r,a,d,p,_,C){const N=r+a;return zd(n,N,p,_)?Zl(n,N+2,C?d.call(C,p,_):d(p,_)):ey(n,N+2)}(en(),qr(),n,r,a,d,p)}function b0(n,r,a,d,p,_){return function C0(n,r,a,d,p,_,C,N){const U=r+a;return function Rp(n,r,a,d,p){const _=zd(n,r,a,d);return Fo(n,r+2,p)||_}(n,U,p,_,C)?Zl(n,U+3,N?d.call(N,p,_,C):d(p,_,C)):ey(n,U+3)}(en(),qr(),n,r,a,d,p,_)}function ey(n,r){const a=n[r];return a===Ui?void 0:a}function E0(n,r,a,d,p,_){const C=r+a;return Fo(n,C,p)?Zl(n,C+1,_?d.call(_,p):d(p)):ey(n,C+1)}function x0(n,r){const a=hi();let d;const p=n+rr;a.firstCreatePass?(d=function rE(n,r){if(r)for(let a=r.length-1;a>=0;a--){const d=r[a];if(n===d.name)return d}}(r,a.pipeRegistry),a.data[p]=d,d.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(p,d.onDestroy)):d=a.data[p];const _=d.factory||(d.factory=bs(d.type)),C=ut(Bc);try{const N=Cc(!1),U=_();return Cc(N),function N_(n,r,a,d){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),r[a]=d}(a,en(),p,U),U}finally{ut(C)}}function S0(n,r,a){const d=n+rr,p=en(),_=Wr(p,d);return function ty(n,r){return n[Pn].data[r].pure}(p,d)?E0(p,qr(),r,_.transform,a,_):_.transform(a)}function xv(n){return r=>{setTimeout(n,void 0,r)}}const Vh=class cE extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,d){let p=r,_=a||(()=>null),C=d;if(r&&"object"==typeof r){const U=r;p=U.next?.bind(U),_=U.error?.bind(U),C=U.complete?.bind(U)}this.__isAsync&&(_=xv(_),p&&(p=xv(p)),C&&(C=xv(C)));const N=super.subscribe({next:p,error:_,complete:C});return r instanceof R.w0&&r.add(N),N}};function uE(){return this._results[Symbol.iterator]()}class Vy{get changes(){return this._changes||(this._changes=new Vh)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Vy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=uE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const d=this;d.dirty=!1;const p=function Ls(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ps(n,r,a){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],_=r[d];if(a&&(p=a(p),_=a(_)),_!==p)return!1}return!0}(d._results,p,a))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ny=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();const dE=ny,hE=class extends dE{constructor(r,a,d){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=d}createEmbeddedView(r,a){const d=this._declarationTContainer.tView,p=Vc(this._declarationLView,d,r,16,null,d.declTNode,null,null,null,null,a||null);p[zi]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[Fr];return null!==C&&(p[Fr]=C.createEmbeddedView(d)),bh(d,p,r),new Yl(p)}};function fE(){return Uy(Ur(),en())}function Uy(n,r){return 4&n.type?new hE(r,n,Wl(n,r)):null}let zy=(()=>{class n{}return n.__NG_ELEMENT_ID__=pE,n})();function pE(){return M0(Ur(),en())}const mE=zy,T0=class extends mE{constructor(r,a,d){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=d}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const r=nr(this._hostTNode,this._hostLView);if(Is(r)){const a=_n(r,this._hostLView),d=Mn(r);return new Ns(a[Pn].data[d+8],a)}return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=A0(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(r,a,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const C=r.createEmbeddedView(a||{},_);return this.insert(C,p),C}createComponent(r,a,d,p,_){const C=r&&!function Oo(n){return"function"==typeof n}(r);let N;if(C)N=a;else{const Xe=a||{};N=Xe.index,d=Xe.injector,p=Xe.projectableNodes,_=Xe.environmentInjector||Xe.ngModuleRef}const U=C?r:new Mh($n(r)),ee=d||this.parentInjector;if(!_&&null==U.ngModule){const Rt=(C?ee:this.parentInjector).get(Il,null);Rt&&(_=Rt)}const Ce=U.create(ee,p,void 0,_);return this.insert(Ce.hostView,N),Ce}insert(r,a){const d=r._lView,p=d[Pn];if(function Ps(n){return Mr(n[Zi])}(d)){const Ce=this.indexOf(r);if(-1!==Ce)this.detach(Ce);else{const Xe=d[Zi],Rt=new T0(Xe,Xe[Hi],Xe[Zi]);Rt.detach(Rt.indexOf(r))}}const _=this._adjustIndex(a),C=this._lContainer;!function g(n,r,a,d){const p=Br+d,_=a.length;d>0&&(a[p-1][Oi]=r),d<_-Br?(r[Oi]=a[p],Bs(a,Br+d,r)):(a.push(r),r[Oi]=null),r[Zi]=a;const C=r[zi];null!==C&&a!==C&&function b(n,r){const a=n[Zs];r[di]!==r[Zi][Zi][di]&&(n[Os]=!0),null===a?n[Zs]=[r]:a.push(r)}(C,r);const N=r[Fr];null!==N&&N.insertView(n),r[pi]|=64}(p,d,C,_);const N=ku(_,C),U=d[yt],ee=ko(U,C[Do]);return null!==ee&&function Uf(n,r,a,d,p,_){d[qi]=p,d[Hi]=r,_d(n,d,a,1,p,_)}(p,C[Hi],U,d,ee,N),r.attachToViewContainerRef(),Bs(Sv(C),_,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=A0(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),d=se(this._lContainer,a);d&&(D(Sv(this._lContainer),a),Se(d[Pn],d))}detach(r){const a=this._adjustIndex(r,-1),d=se(this._lContainer,a);return d&&null!=D(Sv(this._lContainer),a)?new Yl(d):null}_adjustIndex(r,a=0){return r??this.length+a}};function A0(n){return n[co]}function Sv(n){return n[co]||(n[co]=[])}function M0(n,r){let a;const d=r[n.index];if(Mr(d))a=d;else{let p;if(8&n.type)p=_r(d);else{const _=r[yt];p=_.createComment("");const C=xi(n,r);Di(_,ko(_,C),p,function hc(n,r){return n.nextSibling(r)}(_,C),!1)}r[n.index]=a=Dm(d,r,p,n),mu(r,a)}return new T0(a,n,r)}class Tv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Tv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const d=null!==r.contentQueries?r.contentQueries[0]:a.length,p=[];for(let _=0;_<d;_++){const C=a.getByIndex(_);p.push(this.queries[C.indexInDeclarationView].clone())}return new Av(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==V0(r,a).matches&&this.queries[a].setDirty()}}class O0{constructor(r,a,d=null){this.predicate=r,this.flags=a,this.read=d}}class Mv{constructor(r=[]){this.queries=r}elementStart(r,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let d=0;d<this.length;d++){const p=null!==a?a.length:0,_=this.getByIndex(d).embeddedTView(r,p);_&&(_.indexInDeclarationView=d,null!==a?a.push(_):a=[_])}return null!==a?new Mv(a):null}template(r,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ov{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new Ov(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(r,a,gE(a,_)),this.matchTNodeWithReadOption(r,a,Wc(a,r,_,!1,!1))}else d===ny?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,Wc(a,r,d,!1,!1))}matchTNodeWithReadOption(r,a,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Gl||p===zy||p===ny&&4&a.type)this.addMatch(a.index,-2);else{const _=Wc(a,r,p,!1,!1);null!==_&&this.addMatch(a.index,_)}else this.addMatch(a.index,d)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function gE(n,r){const a=n.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===r)return a[d+1];return null}function yE(n,r,a,d){return-1===a?function _E(n,r){return 11&n.type?Wl(n,r):4&n.type?Uy(n,r):null}(r,n):-2===a?function vE(n,r,a){return a===Gl?Wl(r,n):a===ny?Uy(r,n):a===zy?M0(r,n):void 0}(n,r,d):Ci(n,n[Pn],a,r)}function R0(n,r,a,d){const p=r[Fr].queries[d];if(null===p.matches){const _=n.data,C=a.matches,N=[];for(let U=0;U<C.length;U+=2){const ee=C[U];N.push(ee<0?null:yE(r,_[ee],C[U+1],a.metadata.read))}p.matches=N}return p.matches}function Rv(n,r,a,d){const p=n.queries.getByIndex(a),_=p.matches;if(null!==_){const C=R0(n,r,p,a);for(let N=0;N<_.length;N+=2){const U=_[N];if(U>0)d.push(C[N/2]);else{const ee=_[N+1],Ce=r[-U];for(let Xe=Br;Xe<Ce.length;Xe++){const Rt=Ce[Xe];Rt[zi]===Rt[Zi]&&Rv(Rt[Pn],Rt,ee,d)}if(null!==Ce[Zs]){const Xe=Ce[Zs];for(let Rt=0;Rt<Xe.length;Rt++){const qt=Xe[Rt];Rv(qt[Pn],qt,ee,d)}}}}}return d}function P0(n){const r=en(),a=hi(),d=ia();or(d+1);const p=V0(a,d);if(n.dirty&&function rs(n){return 4==(4&n[pi])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const _=p.crossesNgTemplate?Rv(a,r,d,[]):R0(a,r,p,d);n.reset(_,$u),n.notifyOnChanges()}return!0}return!1}function k0(n,r,a){const d=hi();d.firstCreatePass&&(B0(d,new O0(n,r,a),-1),2==(2&r)&&(d.staticViewQueries=!0)),L0(d,en(),r)}function N0(n,r,a,d){const p=hi();if(p.firstCreatePass){const _=Ur();B0(p,new O0(r,a,d),_.index),function EE(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(p,n),2==(2&a)&&(p.staticContentQueries=!0)}L0(p,en(),a)}function F0(){return function bE(n,r){return n[Fr].queries[r].queryList}(en(),ia())}function L0(n,r,a){const d=new Vy(4==(4&a));qo(n,r,d,d.destroy),null===r[Fr]&&(r[Fr]=new Av),r[Fr].queries.push(new Tv(d))}function B0(n,r,a){null===n.queries&&(n.queries=new Mv),n.queries.track(new Ov(r,a))}function V0(n,r){return n.queries.getByIndex(r)}function U0(n,r){return Uy(n,r)}function Pv(n){return!!vr(n)}function Hy(...n){}const rb=new ji("Application Initializer");let $y=(()=>{class n{constructor(a){this.appInits=a,this.resolve=Hy,this.reject=Hy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(kh(_))a.push(_);else if(Of(_)){const C=new Promise((N,U)=>{_.subscribe({complete:N,error:U})});a.push(C)}}Promise.all(a).then(()=>{d()}).catch(p=>{this.reject(p)}),0===a.length&&d(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(Ft(rb,8))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sb=new ji("AppId",{providedIn:"root",factory:function ob(){return`${Bv()}${Bv()}${Bv()}`}});function Bv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ab=new ji("Platform Initializer"),zE=new ji("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jE=new ji("AnimationModuleType");let HE=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wy=new ji("LocaleId",{providedIn:"root",factory:()=>H(Wy,Te.Optional|Te.SkipSelf)||function $E(){return typeof $localize<"u"&&$localize.locale||Gd}()}),WE=new ji("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GE{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let KE=(()=>{class n{compileModuleSync(a){return new Cv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),_=Fc(vr(a).declarations).reduce((C,N)=>{const U=$n(N);return U&&C.push(new Mh(U)),C},[]);return new GE(d,_)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qE=(()=>Promise.resolve(0))();function Vv(n){typeof Zone>"u"?qE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ud{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vh(!1),this.onMicrotaskEmpty=new Vh(!1),this.onStable=new Vh(!1),this.onError=new Vh(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&a,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function QE(){let n=_t.requestAnimationFrame,r=_t.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ew(n){const r=()=>{!function JE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_t,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zv(n),n.isCheckStableRunning=!0,Uv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,p,_,C,N)=>{try{return ub(n),a.invokeTask(p,_,C,N)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),db(n)}},onInvoke:(a,d,p,_,C,N,U)=>{try{return ub(n),a.invoke(p,_,C,N,U)}finally{n.shouldCoalesceRunChangeDetection&&r(),db(n)}},onHasTask:(a,d,p,_)=>{a.hasTask(p,_),d===p&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,zv(n),Uv(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(a,d,p,_)=>(a.handleError(p,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ud.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(ud.isInAngularZone())throw new tt(909,!1)}run(r,a,d){return this._inner.run(r,a,d)}runTask(r,a,d,p){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+p,r,XE,Hy,Hy);try{return _.runTask(C,a,d)}finally{_.cancelTask(C)}}runGuarded(r,a,d){return this._inner.runGuarded(r,a,d)}runOutsideAngular(r){return this._outer.run(r)}}const XE={};function Uv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ub(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function db(n){n._nesting--,Uv(n)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vh,this.onMicrotaskEmpty=new Vh,this.onStable=new Vh,this.onError=new Vh}run(r,a,d){return r.apply(a,d)}runGuarded(r,a,d){return r.apply(a,d)}runOutsideAngular(r){return r()}runTask(r,a,d,p){return r.apply(a,d)}}const hb=new ji(""),fb=new ji("");let jv,nw=(()=>{class n{constructor(a,d,p){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jv||(function iw(n){jv=n}(p),p.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ud.assertNotInAngularZone(),Vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:_,updateCb:p})}whenStable(a,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,p){return[]}}return n.\u0275fac=function(a){return new(a||n)(Ft(ud),Ft(pb),Ft(fb))},n.\u0275prov=He({token:n,factory:n.\u0275fac}),n})(),pb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return jv?.findTestabilityInTree(this,a,d)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Vf=!1;let Kp=null;const mb=new ji("AllowMultipleToken"),Hv=new ji("PlatformDestroyListeners"),gb=new ji("appBootstrapListener");class ow{constructor(r,a){this.name=r,this.token=a}}function yb(n,r,a=[]){const d=`Platform: ${r}`,p=new ji(d);return(_=[])=>{let C=$v();if(!C||C.injector.get(mb,!1)){const N=[...a,..._,{provide:p,useValue:!0}];n?n(N):function aw(n){if(Kp&&!Kp.get(mb,!1))throw new tt(400,!1);Kp=n;const r=n.get(bb);(function _b(n){const r=n.get(ab,null);r&&r.forEach(a=>a())})(n)}(function vb(n=[],r){return Sd.create({name:r,providers:[{provide:qf,useValue:"platform"},{provide:Hv,useValue:new Set([()=>Kp=null])},...n]})}(N,d))}return function cw(n){const r=$v();if(!r)throw new tt(401,!1);return r}()}}function $v(){return Kp?.get(bb)??null}let bb=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const p=function wb(n,r){let a;return a="noop"===n?new tw:("zone.js"===n?void 0:n)||new ud(r),a}(d?.ngZone,function Eb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),_=[{provide:ud,useValue:p}];return p.run(()=>{const C=Sd.create({providers:_,parent:this.injector,name:a.moduleType.name}),N=a.create(C),U=N.injector.get(Wu,null);if(!U)throw new tt(402,!1);return p.runOutsideAngular(()=>{const ee=p.onError.subscribe({next:Ce=>{U.handleError(Ce)}});N.onDestroy(()=>{Ky(this._modules,N),ee.unsubscribe()})}),function Cb(n,r,a){try{const d=a();return kh(d)?d.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}(U,p,()=>{const ee=N.injector.get($y);return ee.runInitializers(),ee.donePromise.then(()=>(X_(N.injector.get(Wy,Gd)||Gd),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,d=[]){const p=Ib({},d);return function rw(n,r,a){const d=new Cv(a);return Promise.resolve(d)}(0,0,a).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(a){const d=a.injector.get(Gy);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new tt(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(Hv,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Ft(Sd))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ib(n,r){return Array.isArray(r)?r.reduce(Ib,n):{...n,...r}}let Gy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,d,p){this._zone=a,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new E.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),C=new E.y(N=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{ud.assertNotInAngularZone(),Vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const ee=this._zone.onUnstable.subscribe(()=>{ud.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{U.unsubscribe(),ee.unsubscribe()}});this.isStable=(0,me.T)(_,C.pipe((0,ce.B)()))}bootstrap(a,d){const p=a instanceof Hu;if(!this._injector.get($y).done){!p&&pr(a);throw new tt(405,Vf)}let C;C=p?a:this._injector.get(fh).resolveComponentFactory(a),this.componentTypes.push(C.componentType);const N=function sw(n){return n.isBoundToModule}(C)?void 0:this._injector.get(u_),ee=C.create(Sd.NULL,[],d||C.selector,N),Ce=ee.location.nativeElement,Xe=ee.injector.get(hb,null);return Xe?.registerApplication(Ce),ee.onDestroy(()=>{this.detachView(ee.hostView),Ky(this.components,ee),Xe?.unregisterApplication(Ce)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;Ky(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(gb,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ky(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new tt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(Ft(ud),Ft(Il),Ft(Wu))},n.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ky(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}function dw(){return!1}let hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=fw,n})();function fw(n){return function pw(n,r,a){if(vs(n)&&!a){const d=Vr(n.index,r);return new Yl(d,d)}return 47&n.type?new Yl(r[di],r):null}(Ur(),en(),16==(16&n))}class Ab{constructor(){}supports(r){return Df(r)}create(r){return new bw(r)}}const vw=(n,r)=>r;class bw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vw}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,d=this._removalsHead,p=0,_=null;for(;a||d;){const C=!d||a&&a.currentIndex<Ob(d,p,_)?a:d,N=Ob(C,p,_),U=C.currentIndex;if(C===d)p--,d=d._nextRemoved;else if(a=a._next,null==C.previousIndex)p++;else{_||(_=[]);const ee=N-p,Ce=U-p;if(ee!=Ce){for(let Rt=0;Rt<ee;Rt++){const qt=Rt<_.length?_[Rt]:_[Rt]=0,bn=qt+Rt;Ce<=bn&&bn<ee&&(_[Rt]=qt+1)}_[C.previousIndex]=Ce-ee}}N!==U&&r(C,N,U)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Df(r))throw new tt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,_,C,a=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let N=0;N<this.length;N++)_=r[N],C=this._trackByFn(N,_),null!==a&&Object.is(a.trackById,C)?(d&&(a=this._verifyReinsertion(a,_,C,N)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,C,N),d=!0),a=a._next}else p=0,function hy(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[Symbol.iterator]();let d;for(;!(d=a.next()).done;)r(d.value)}}(r,N=>{C=this._trackByFn(p,N),null!==a&&Object.is(a.trackById,C)?(d&&(a=this._verifyReinsertion(a,N,C,p)),Object.is(a.item,N)||this._addIdentityChange(a,N)):(a=this._mismatch(a,N,C,p),d=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,d,p){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,_,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,_,p)):r=this._addAfter(new Ew(a,d),_,p),r}_verifyReinsertion(r,a,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?r=this._reinsertAfter(_,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,_=r._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(r,a,d),this._addToMoves(r,d),r}_moveAfter(r,a,d){return this._unlink(r),this._insertAfter(r,a,d),this._addToMoves(r,d),r}_addAfter(r,a,d){return this._insertAfter(r,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,d){const p=null===a?this._itHead:a._next;return r._next=p,r._prev=a,null===p?this._itTail=r:p._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new Mb),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,d=r._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Ew{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ww{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const a=r._prevDup,d=r._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class Mb{constructor(){this.map=new Map}put(r){const a=r.trackById;let d=this.map.get(a);d||(d=new ww,this.map.set(a,d)),d.add(r)}get(r,a){const p=this.map.get(r);return p?p.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ob(n,r,a){const d=n.previousIndex;if(null===d)return d;let p=0;return a&&d<a.length&&(p=a[d]),d+r+p}class Rb{constructor(){}supports(r){return r instanceof Map||xf(r)}create(){return new Cw}}class Cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||xf(r)))throw new tt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const _=this._getOrCreateRecordForKey(p,d);a=this._insertBeforeOrAppend(a,_)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const d=r._prev;return a._next=r,a._prev=d,r._prev=a,d&&(d._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,a);const _=p._prev,C=p._next;return _&&(_._next=C),C&&(C._prev=_),p._next=null,p._prev=null,p}const d=new Iw(r);return this._records.set(r,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(d=>a(r[d],d))}}class Iw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pb(){return new Zv([new Ab])}let Zv=(()=>{class n{constructor(a){this.factories=a}static create(a,d){if(null!=d){const p=d.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:d=>n.create(a,d||Pb()),deps:[[n,new Ta,new Bl]]}}find(a){const d=this.factories.find(p=>p.supports(a));if(null!=d)return d;throw new tt(901,!1)}}return n.\u0275prov=He({token:n,providedIn:"root",factory:Pb}),n})();function kb(){return new qv([new Rb])}let qv=(()=>{class n{constructor(a){this.factories=a}static create(a,d){if(d){const p=d.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:d=>n.create(a,d||kb()),deps:[[n,new Ta,new Bl]]}}find(a){const d=this.factories.find(p=>p.supports(a));if(d)return d;throw new tt(901,!1)}}return n.\u0275prov=He({token:n,providedIn:"root",factory:kb}),n})();const Sw=yb(null,"core",[]);let Tw=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Ft(Gy))},n.\u0275mod=jt({type:n}),n.\u0275inj=mt({}),n})();function Aw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Ow(n,r){const a=$n(n),d=r.elementInjector||kc();return new Mh(a).create(d,r.projectableNodes,r.hostElement,r.environmentInjector)}},4006:(pn,at,T)=>{T.d(at,{Cf:()=>Ge,F:()=>Hi,Fj:()=>We,JJ:()=>Et,JL:()=>Te,JU:()=>_e,NI:()=>Ct,UX:()=>To,_Y:()=>rr,a5:()=>Cn,kI:()=>Qe,oH:()=>vs,qu:()=>Ps,sg:()=>gr,u:()=>_a});var f=T(4650),R=T(6895),E=T(8996),me=T(4128),ce=T(4004);let Fe=(()=>{class q{constructor(V,we){this._renderer=V,this._elementRef=we,this.onChange=tn=>{},this.onTouched=()=>{}}setProperty(V,we){this._renderer.setProperty(this._elementRef.nativeElement,V,we)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return q.\u0275fac=function(V){return new(V||q)(f.Y36(f.Qsj),f.Y36(f.SBq))},q.\u0275dir=f.lG2({type:q}),q})(),Ue=(()=>{class q extends Fe{}return q.\u0275fac=function(){let $;return function(we){return($||($=f.n5z(q)))(we||q)}}(),q.\u0275dir=f.lG2({type:q,features:[f.qOj]}),q})();const _e=new f.OlP("NgValueAccessor"),ge={provide:_e,useExisting:(0,f.Gpc)(()=>We),multi:!0},Le=new f.OlP("CompositionEventMode");let We=(()=>{class q extends Fe{constructor(V,we,tn){super(V,we),this._compositionMode=tn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const q=(0,R.q)()?(0,R.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return q.\u0275fac=function(V){return new(V||q)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Le,8))},q.\u0275dir=f.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,we){1&V&&f.NdJ("input",function(Gn){return we._handleInput(Gn.target.value)})("blur",function(){return we.onTouched()})("compositionstart",function(){return we._compositionStart()})("compositionend",function(Gn){return we._compositionEnd(Gn.target.value)})},features:[f._Bn([ge]),f.qOj]}),q})();const Je=!1;function gt(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function tt(q){return null!=q&&"number"==typeof q.length}const Ge=new f.OlP("NgValidators"),Pe=new f.OlP("NgAsyncValidators"),kt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qe{static min($){return function Ae(q){return $=>{if(gt($.value)||gt(q))return null;const V=parseFloat($.value);return!isNaN(V)&&V<q?{min:{min:q,actual:$.value}}:null}}($)}static max($){return function qe(q){return $=>{if(gt($.value)||gt(q))return null;const V=parseFloat($.value);return!isNaN(V)&&V>q?{max:{max:q,actual:$.value}}:null}}($)}static required($){return function Nt(q){return gt(q.value)?{required:!0}:null}($)}static requiredTrue($){return function It(q){return!0===q.value?null:{required:!0}}($)}static email($){return function Ye(q){return gt(q.value)||kt.test(q.value)?null:{email:!0}}($)}static minLength($){return function Xt(q){return $=>gt($.value)||!tt($.value)?null:$.value.length<q?{minlength:{requiredLength:q,actualLength:$.value.length}}:null}($)}static maxLength($){return function yn(q){return $=>tt($.value)&&$.value.length>q?{maxlength:{requiredLength:q,actualLength:$.value.length}}:null}($)}static pattern($){return function sn(q){if(!q)return En;let $,V;return"string"==typeof q?(V="","^"!==q.charAt(0)&&(V+="^"),V+=q,"$"!==q.charAt(q.length-1)&&(V+="$"),$=new RegExp(V)):(V=q.toString(),$=q),we=>{if(gt(we.value))return null;const tn=we.value;return $.test(tn)?null:{pattern:{requiredPattern:V,actualValue:tn}}}}($)}static nullValidator($){return null}static compose($){return Tt($)}static composeAsync($){return lt($)}}function En(q){return null}function gn(q){return null!=q}function si(q){const $=(0,f.QGY)(q)?(0,E.D)(q):q;if(Je&&!(0,f.CqO)($)){let V="Expected async validator to return Promise or Observable.";throw"object"==typeof q&&(V+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,V)}return $}function Ut(q){let $={};return q.forEach(V=>{$=null!=V?{...$,...V}:$}),0===Object.keys($).length?null:$}function Dt(q,$){return $.map(V=>V(q))}function Vt(q){return q.map($=>function Bt(q){return!q.validate}($)?$:V=>$.validate(V))}function Tt(q){if(!q)return null;const $=q.filter(gn);return 0==$.length?null:function(V){return Ut(Dt(V,$))}}function nt(q){return null!=q?Tt(Vt(q)):null}function lt(q){if(!q)return null;const $=q.filter(gn);return 0==$.length?null:function(V){const we=Dt(V,$).map(si);return(0,me.D)(we).pipe((0,ce.U)(Ut))}}function Be(q){return null!=q?lt(Vt(q)):null}function ct(q,$){return null===q?[$]:Array.isArray(q)?[...q,$]:[q,$]}function it(q){return q._rawValidators}function He(q){return q._rawAsyncValidators}function ht(q){return q?Array.isArray(q)?q:[q]:[]}function mt(q,$){return Array.isArray(q)?q.includes($):q===$}function Ht(q,$){const V=ht($);return ht(q).forEach(tn=>{mt(V,tn)||V.push(tn)}),V}function Ze(q,$){return ht($).filter(V=>!mt(q,V))}class At{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=nt(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($){this.control&&this.control.reset($)}hasError($,V){return!!this.control&&this.control.hasError($,V)}getError($,V){return this.control?this.control.getError($,V):null}}class on extends At{get formDirective(){return null}get path(){return null}}class Cn extends At{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qn{constructor($){this._cd=$}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Et=(()=>{class q extends qn{constructor(V){super(V)}}return q.\u0275fac=function(V){return new(V||q)(f.Y36(Cn,2))},q.\u0275dir=f.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,we){2&V&&f.ekj("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)},features:[f.qOj]}),q})(),Te=(()=>{class q extends qn{constructor(V){super(V)}}return q.\u0275fac=function(V){return new(V||q)(f.Y36(on,10))},q.\u0275dir=f.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,we){2&V&&f.ekj("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)("ng-submitted",we.isSubmitted)},features:[f.qOj]}),q})();function wt(q,$){return q?`with name: '${$}'`:`at index: ${$}`}const Wn=!1,ni="VALID",Ft="INVALID",Re="PENDING",H="DISABLED";function X(q){return(Jt(q)?q.validators:q)||null}function Ne(q,$){return(Jt($)?$.asyncValidators:q)||null}function Jt(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function Ve(q,$,V){const we=q.controls;if(!($?Object.keys(we):we).length)throw new f.vHH(1e3,Wn?function xn(q){return`\n    There are no form controls registered with this ${q?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}($):"");if(!we[V])throw new f.vHH(1001,Wn?function fn(q,$){return`Cannot find form control ${wt(q,$)}`}($,V):"")}function ze(q,$,V){q._forEachChild((we,tn)=>{if(void 0===V[tn])throw new f.vHH(1002,Wn?function Zn(q,$){return`Must supply a value for form control ${wt(q,$)}`}($,tn):"")})}class ue{constructor($,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators($),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get valid(){return this.status===ni}get invalid(){return this.status===Ft}get pending(){return this.status==Re}get disabled(){return this.status===H}get enabled(){return this.status!==H}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._assignValidators($)}setAsyncValidators($){this._assignAsyncValidators($)}addValidators($){this.setValidators(Ht($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(Ht($,this._rawAsyncValidators))}removeValidators($){this.setValidators(Ze($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(Ze($,this._rawAsyncValidators))}hasValidator($){return mt(this._rawValidators,$)}hasAsyncValidator($){return mt(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){this.touched=!0,this._parent&&!$.onlySelf&&this._parent.markAsTouched($)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($=>$.markAllAsTouched())}markAsUntouched($={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}markAsDirty($={}){this.pristine=!1,this._parent&&!$.onlySelf&&this._parent.markAsDirty($)}markAsPristine($={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}markAsPending($={}){this.status=Re,!1!==$.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$.onlySelf&&this._parent.markAsPending($)}disable($={}){const V=this._parentMarkedDirty($.onlySelf);this.status=H,this.errors=null,this._forEachChild(we=>{we.disable({...$,onlySelf:!0})}),this._updateValue(),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:V}),this._onDisabledChange.forEach(we=>we(!0))}enable($={}){const V=this._parentMarkedDirty($.onlySelf);this.status=ni,this._forEachChild(we=>{we.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:V}),this._onDisabledChange.forEach(we=>we(!1))}_updateAncestors($){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ni||this.status===Re)&&this._runAsyncValidator($.emitEvent)),!1!==$.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity($)}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H:ni}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($){if(this.asyncValidator){this.status=Re,this._hasOwnPendingAsyncValidator=!0;const V=si(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(we=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(we,{emitEvent:$})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($,V={}){this.errors=$,this._updateControlsErrors(!1!==V.emitEvent)}get($){let V=$;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((we,tn)=>we&&we._find(tn),this)}getError($,V){const we=V?this.get(V):this;return we&&we.errors?we.errors[$]:null}hasError($,V){return!!this.getError($,V)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?H:this.errors?Ft:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Re)?Re:this._anyControlsHaveStatus(Ft)?Ft:ni}_anyControlsHaveStatus($){return this._anyControls(V=>V.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$.onlySelf&&this._parent._updatePristine($)}_updateTouched($={}){this.touched=this._anyControlsTouched(),this._parent&&!$.onlySelf&&this._parent._updateTouched($)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){Jt($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}_assignValidators($){this._rawValidators=Array.isArray($)?$.slice():$,this._composedValidatorFn=function ae(q){return Array.isArray(q)?nt(q):q||null}(this._rawValidators)}_assignAsyncValidators($){this._rawAsyncValidators=Array.isArray($)?$.slice():$,this._composedAsyncValidatorFn=function $t(q){return Array.isArray(q)?Be(q):q||null}(this._rawAsyncValidators)}}class fe extends ue{constructor($,V,we){super(X(V),Ne(we,V)),this.controls=$,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,V){return this.controls[$]?this.controls[$]:(this.controls[$]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl($,V,we={}){this.registerControl($,V),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}removeControl($,V={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl($,V,we={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],V&&this.registerControl($,V),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,V={}){ze(this,!0,$),Object.keys($).forEach(we=>{Ve(this,!0,we),this.controls[we].setValue($[we],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue($,V={}){null!=$&&(Object.keys($).forEach(we=>{const tn=this.controls[we];tn&&tn.patchValue($[we],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset($={},V={}){this._forEachChild((we,tn)=>{we.reset($[tn],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},($,V,we)=>($[we]=V.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(V,we)=>!!we._syncPendingControls()||V);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(V=>{const we=this.controls[V];we&&$(we,V)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[V,we]of Object.entries(this.controls))if(this.contains(V)&&$(we))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,we,tn)=>((we.enabled||this.disabled)&&(V[tn]=we.value),V))}_reduceChildren($,V){let we=$;return this._forEachChild((tn,Gn)=>{we=V(we,tn,Gn)}),we}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}class j extends fe{}const Q=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xe}),xe="always";function Qt(q,$,V=xe){ur(q,$),$.valueAccessor.writeValue(q.value),(q.disabled||"always"===V)&&$.valueAccessor.setDisabledState?.(q.disabled),function jt(q,$){$.valueAccessor.registerOnChange(V=>{q._pendingValue=V,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&zn(q,$)})}(q,$),function Jn(q,$){const V=(we,tn)=>{$.valueAccessor.writeValue(we),tn&&$.viewToModelUpdate(we)};q.registerOnChange(V),$._registerOnDestroy(()=>{q._unregisterOnChange(V)})}(q,$),function wn(q,$){$.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&zn(q,$),"submit"!==q.updateOn&&q.markAsTouched()})}(q,$),function vi(q,$){if($.valueAccessor.setDisabledState){const V=we=>{$.valueAccessor.setDisabledState(we)};q.registerOnDisabledChange(V),$._registerOnDestroy(()=>{q._unregisterOnDisabledChange(V)})}}(q,$)}function vn(q,$,V=!0){const we=()=>{};$.valueAccessor&&($.valueAccessor.registerOnChange(we),$.valueAccessor.registerOnTouched(we)),Wt(q,$),q&&($._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function An(q,$){q.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange($)})}function ur(q,$){const V=it(q);null!==$.validator?q.setValidators(ct(V,$.validator)):"function"==typeof V&&q.setValidators([V]);const we=He(q);null!==$.asyncValidator?q.setAsyncValidators(ct(we,$.asyncValidator)):"function"==typeof we&&q.setAsyncValidators([we]);const tn=()=>q.updateValueAndValidity();An($._rawValidators,tn),An($._rawAsyncValidators,tn)}function Wt(q,$){let V=!1;if(null!==q){if(null!==$.validator){const tn=it(q);if(Array.isArray(tn)&&tn.length>0){const Gn=tn.filter(sr=>sr!==$.validator);Gn.length!==tn.length&&(V=!0,q.setValidators(Gn))}}if(null!==$.asyncValidator){const tn=He(q);if(Array.isArray(tn)&&tn.length>0){const Gn=tn.filter(sr=>sr!==$.asyncValidator);Gn.length!==tn.length&&(V=!0,q.setAsyncValidators(Gn))}}}const we=()=>{};return An($._rawValidators,we),An($._rawAsyncValidators,we),V}function zn(q,$){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function mi(q,$){ur(q,$)}function mr(q,$){if(!q.hasOwnProperty("model"))return!1;const V=q.model;return!!V.isFirstChange()||!Object.is($,V.currentValue)}function qi(q,$){q._syncPendingControls(),$.forEach(V=>{const we=V.control;"submit"===we.updateOn&&we._pendingChange&&(V.viewToModelUpdate(we._pendingValue),we._pendingChange=!1)})}function Pn(q,$){if(!$)return null;let V,we,tn;return Array.isArray($),$.forEach(Gn=>{Gn.constructor===We?V=Gn:function Yr(q){return Object.getPrototypeOf(q.constructor)===Ue}(Gn)?we=Gn:tn=Gn}),tn||we||V||null}const Oi={provide:on,useExisting:(0,f.Gpc)(()=>Hi)},ts=(()=>Promise.resolve())();let Hi=(()=>{class q extends on{constructor(V,we,tn){super(),this.callSetDisabledState=tn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new fe({},nt(V),Be(we))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){ts.then(()=>{const we=this._findContainer(V.path);V.control=we.registerControl(V.name,V.control),Qt(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){ts.then(()=>{const we=this._findContainer(V.path);we&&we.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){ts.then(()=>{const we=this._findContainer(V.path),tn=new fe({});mi(tn,V),we.registerControl(V.name,tn),tn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){ts.then(()=>{const we=this._findContainer(V.path);we&&we.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,we){ts.then(()=>{this.form.get(V.path).setValue(we)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,qi(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return q.\u0275fac=function(V){return new(V||q)(f.Y36(Ge,10),f.Y36(Pe,10),f.Y36(Q,8))},q.\u0275dir=f.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,we){1&V&&f.NdJ("submit",function(Gn){return we.onSubmit(Gn)})("reset",function(){return we.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Oi]),f.qOj]}),q})();function Sr(q,$){const V=q.indexOf($);V>-1&&q.splice(V,1)}function $i(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Ct=class extends ue{constructor($=null,V,we){super(X(V),Ne(we,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jt(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=$i($)?$.value:$)}setValue($,V={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(we=>we(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue($,V={}){this.setValue($,V)}reset($=this.defaultValue,V={}){this._applyFormState($),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){Sr(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){Sr(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){$i($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}};let rr=(()=>{class q{}return q.\u0275fac=function(V){return new(V||q)},q.\u0275dir=f.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),q})(),co=(()=>{class q{}return q.\u0275fac=function(V){return new(V||q)},q.\u0275mod=f.oAB({type:q}),q.\u0275inj=f.cJS({}),q})();const Mr=new f.OlP("NgModelWithFormControlWarning"),Cr={provide:Cn,useExisting:(0,f.Gpc)(()=>vs)};let vs=(()=>{class q extends Cn{set isDisabled(V){}constructor(V,we,tn,Gn,sr){super(),this._ngModelWarningConfig=Gn,this.callSetDisabledState=sr,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(V),this._setAsyncValidators(we),this.valueAccessor=Pn(0,tn)}ngOnChanges(V){if(this._isControlChanged(V)){const we=V.form.previousValue;we&&vn(we,this,!1),Qt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}mr(V,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_isControlChanged(V){return V.hasOwnProperty("form")}}return q._ngModelWarningSentOnce=!1,q.\u0275fac=function(V){return new(V||q)(f.Y36(Ge,10),f.Y36(Pe,10),f.Y36(_e,10),f.Y36(Mr,8),f.Y36(Q,8))},q.\u0275dir=f.lG2({type:q,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([Cr]),f.qOj,f.TTD]}),q})();const uo={provide:on,useExisting:(0,f.Gpc)(()=>gr)};let gr=(()=>{class q extends on{constructor(V,we,tn){super(),this.callSetDisabledState=tn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(V),this._setAsyncValidators(we)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const we=this.form.get(V.path);return Qt(we,V,this.callSetDisabledState),we.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),we}getControl(V){return this.form.get(V.path)}removeControl(V){vn(V.control||null,V,!1),function pi(q,$){const V=q.indexOf($);V>-1&&q.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,we){this.form.get(V.path).setValue(we)}onSubmit(V){return this.submitted=!0,qi(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const we=V.control,tn=this.form.get(V.path);we!==tn&&(vn(we||null,V),(q=>q instanceof Ct)(tn)&&(Qt(tn,V,this.callSetDisabledState),V.control=tn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const we=this.form.get(V.path);mi(we,V),we.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const we=this.form.get(V.path);we&&function $n(q,$){return Wt(q,$)}(we,V)&&we.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ur(this.form,this),this._oldForm&&Wt(this._oldForm,this)}_checkFormPresent(){}}return q.\u0275fac=function(V){return new(V||q)(f.Y36(Ge,10),f.Y36(Pe,10),f.Y36(Q,8))},q.\u0275dir=f.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(V,we){1&V&&f.NdJ("submit",function(Gn){return we.onSubmit(Gn)})("reset",function(){return we.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([uo]),f.qOj,f.TTD]}),q})();const Ua={provide:Cn,useExisting:(0,f.Gpc)(()=>_a)};let _a=(()=>{class q extends Cn{set isDisabled(V){}constructor(V,we,tn,Gn,sr){super(),this._ngModelWarningConfig=sr,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(we),this._setAsyncValidators(tn),this.valueAccessor=Pn(0,Gn)}ngOnChanges(V){this._added||this._setUpControl(),mr(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return function pt(q,$){return[...$.path,q]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return q._ngModelWarningSentOnce=!1,q.\u0275fac=function(V){return new(V||q)(f.Y36(on,13),f.Y36(Ge,10),f.Y36(Pe,10),f.Y36(_e,10),f.Y36(Mr,8))},q.\u0275dir=f.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Ua]),f.qOj,f.TTD]}),q})(),Ka=(()=>{class q{}return q.\u0275fac=function(V){return new(V||q)},q.\u0275mod=f.oAB({type:q}),q.\u0275inj=f.cJS({imports:[co]}),q})();class Wr extends ue{constructor($,V,we){super(X(V),Ne(we,V)),this.controls=$,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($){return this.controls[this._adjustIndex($)]}push($,V={}){this.controls.push($),this._registerControl($),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert($,V,we={}){this.controls.splice($,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:we.emitEvent})}removeAt($,V={}){let we=this._adjustIndex($);we<0&&(we=0),this.controls[we]&&this.controls[we]._registerOnCollectionChange(()=>{}),this.controls.splice(we,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl($,V,we={}){let tn=this._adjustIndex($);tn<0&&(tn=0),this.controls[tn]&&this.controls[tn]._registerOnCollectionChange(()=>{}),this.controls.splice(tn,1),V&&(this.controls.splice(tn,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($,V={}){ze(this,!1,$),$.forEach((we,tn)=>{Ve(this,!1,tn),this.at(tn).setValue(we,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue($,V={}){null!=$&&($.forEach((we,tn)=>{this.at(tn)&&this.at(tn).patchValue(we,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset($=[],V={}){this._forEachChild((we,tn)=>{we.reset($[tn],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map($=>$.getRawValue())}clear($={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$.emitEvent}))}_adjustIndex($){return $<0?$+this.length:$}_syncPendingControls(){let $=this.controls.reduce((V,we)=>!!we._syncPendingControls()||V,!1);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){this.controls.forEach((V,we)=>{$(V,we)})}_updateValue(){this.value=this.controls.filter($=>$.enabled||this.disabled).map($=>$.value)}_anyControls($){return this.controls.some(V=>V.enabled&&$(V))}_setUpControls(){this._forEachChild($=>this._registerControl($))}_allControlsDisabled(){for(const $ of this.controls)if($.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($){$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)}_find($){return this.at($)??null}}function Rs(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Ps=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new q;return V.useNonNullable=!0,V}group(V,we=null){const tn=this._reduceControls(V);let Gn={};return Rs(we)?Gn=we:null!==we&&(Gn.validators=we.validator,Gn.asyncValidators=we.asyncValidator),new fe(tn,Gn)}record(V,we=null){const tn=this._reduceControls(V);return new j(tn,we)}control(V,we,tn){let Gn={};return this.useNonNullable?(Rs(we)?Gn=we:(Gn.validators=we,Gn.asyncValidators=tn),new Ct(V,{...Gn,nonNullable:!0})):new Ct(V,we,tn)}array(V,we,tn){const Gn=V.map(sr=>this._createControl(sr));return new Wr(Gn,we,tn)}_reduceControls(V){const we={};return Object.keys(V).forEach(tn=>{we[tn]=this._createControl(V[tn])}),we}_createControl(V){return V instanceof Ct||V instanceof ue?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return q.\u0275fac=function(V){return new(V||q)},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),To=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:Mr,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Q,useValue:V.callSetDisabledState??xe}]}}}return q.\u0275fac=function(V){return new(V||q)},q.\u0275mod=f.oAB({type:q}),q.\u0275inj=f.cJS({imports:[Ka]}),q})()},1321:()=>{const pn=":";class nt extends Error{constructor(rt){super(`No translation found for ${ht(rt)}.`),this.parsedMessage=rt,this.type="MissingTranslationError"}}const on=function(bt,...rt){if(on.translate){const Te=on.translate(bt,rt);bt=Te[0],rt=Te[1]}let Et=qn(bt[0],bt.raw[0]);for(let Te=1;Te<bt.length;Te++)Et+=rt[Te-1]+qn(bt[Te],bt.raw[Te]);return Et},Cn=":";function qn(bt,rt){return rt.charAt(0)===Cn?bt.substring(function Tt(bt,rt){for(let Et=1,Te=1;Et<bt.length;Et++,Te++)if("\\"===rt[Te])Te++;else if(bt[Et]===pn)return Et;throw new Error(`Unterminated $localize metadata block in "${rt}".`)}(bt,rt)+1):bt}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=on},9101:(pn,at,T)=>{T.d(at,{RK:()=>Dt,lW:()=>Nt,ot:()=>Vt});var f=T(3353),R=T(4650),E=T(2693),me=T(3238);const ce=["mat-button",""],Fe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ue=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Le=["mat-icon-button",""],We=["*"],Ge=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Pe=(0,me.pj)((0,me.Id)((0,me.Kr)(class{constructor(Tt){this._elementRef=Tt}})));let kt=(()=>{class Tt extends Pe{constructor(lt,Be,ct,it){super(lt),this._platform=Be,this._ngZone=ct,this._animationMode=it,this._focusMonitor=(0,R.f3M)(E.tE),this._isFab=!1;const He=lt.nativeElement.classList;for(const ht of Ge)this._hasHostAttributes(ht.selector)&&ht.mdcClasses.forEach(mt=>{He.add(mt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(lt="program",Be){lt?this._focusMonitor.focusVia(this._elementRef.nativeElement,lt,Be):this._elementRef.nativeElement.focus(Be)}_hasHostAttributes(...lt){return lt.some(Be=>this._elementRef.nativeElement.hasAttribute(Be))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return Tt.\u0275fac=function(lt){R.$Z()},Tt.\u0275dir=R.lG2({type:Tt,viewQuery:function(lt,Be){if(1&lt&&R.Gf(me.wG,5),2&lt){let ct;R.iGM(ct=R.CRH())&&(Be.ripple=ct.first)}},features:[R.qOj]}),Tt})(),Nt=(()=>{class Tt extends kt{constructor(lt,Be,ct,it){super(lt,Be,ct,it)}}return Tt.\u0275fac=function(lt){return new(lt||Tt)(R.Y36(R.SBq),R.Y36(f.t4),R.Y36(R.R0b),R.Y36(R.QbO,8))},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(lt,Be){2&lt&&(R.uIk("disabled",Be.disabled||null),R.ekj("_mat-animation-noopable","NoopAnimations"===Be._animationMode)("mat-unthemed",!Be.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[R.qOj],attrs:ce,ngContentSelectors:Ue,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(lt,Be){1&lt&&(R.F$t(Fe),R._UZ(0,"span",0),R.Hsn(1),R.TgZ(2,"span",1),R.Hsn(3,1),R.qZA(),R.Hsn(4,2),R._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&lt&&(R.ekj("mdc-button__ripple",!Be._isFab)("mdc-fab__ripple",Be._isFab),R.xp6(6),R.Q6J("matRippleDisabled",Be._isRippleDisabled())("matRippleTrigger",Be._elementRef.nativeElement))},dependencies:[me.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Tt})(),Dt=(()=>{class Tt extends kt{constructor(lt,Be,ct,it){super(lt,Be,ct,it)}}return Tt.\u0275fac=function(lt){return new(lt||Tt)(R.Y36(R.SBq),R.Y36(f.t4),R.Y36(R.R0b),R.Y36(R.QbO,8))},Tt.\u0275cmp=R.Xpm({type:Tt,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(lt,Be){2&lt&&(R.uIk("disabled",Be.disabled||null),R.ekj("_mat-animation-noopable","NoopAnimations"===Be._animationMode)("mat-unthemed",!Be.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[R.qOj],attrs:Le,ngContentSelectors:We,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(lt,Be){1&lt&&(R.F$t(),R._UZ(0,"span",0),R.Hsn(1),R._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&lt&&(R.xp6(3),R.Q6J("matRippleDisabled",Be._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",Be._elementRef.nativeElement))},dependencies:[me.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Tt})(),Vt=(()=>{class Tt{}return Tt.\u0275fac=function(lt){return new(lt||Tt)},Tt.\u0275mod=R.oAB({type:Tt}),Tt.\u0275inj=R.cJS({imports:[me.BQ,me.si,me.BQ]}),Tt})()},3238:(pn,at,T)=>{T.d(at,{rD:()=>it,BQ:()=>Qe,Ng:()=>ni,wG:()=>ut,si:()=>Pt,pj:()=>Ye,Kr:()=>Xt,Id:()=>It,FD:()=>sn});var f=T(4650),R=T(2693),E=T(445),ce=T(6895),Fe=T(3353),Ue=T(1281);const kt=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function Pe(){return!0}});let Qe=(()=>{class Ft{constructor(H,X,ae){this._sanityChecks=X,this._document=ae,this._hasDoneGlobalChecks=!1,H._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(H){return!(0,Fe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[H])}}return Ft.\u0275fac=function(H){return new(H||Ft)(f.LFG(R.qm),f.LFG(kt,8),f.LFG(ce.K0))},Ft.\u0275mod=f.oAB({type:Ft}),Ft.\u0275inj=f.cJS({imports:[E.vT,E.vT]}),Ft})();function It(Ft){return class extends Ft{get disabled(){return this._disabled}set disabled(Re){this._disabled=(0,Ue.Ig)(Re)}constructor(...Re){super(...Re),this._disabled=!1}}}function Ye(Ft,Re){return class extends Ft{get color(){return this._color}set color(H){const X=H||this.defaultColor;X!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),X&&this._elementRef.nativeElement.classList.add(`mat-${X}`),this._color=X)}constructor(...H){super(...H),this.defaultColor=Re,this.color=Re}}}function Xt(Ft){return class extends Ft{get disableRipple(){return this._disableRipple}set disableRipple(Re){this._disableRipple=(0,Ue.Ig)(Re)}constructor(...Re){super(...Re),this._disableRipple=!1}}}function sn(Ft){return class extends Ft{updateErrorState(){const Re=this.errorState,Ne=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ne!==Re&&(this.errorState=Ne,this.stateChanges.next())}constructor(...Re){super(...Re),this.errorState=!1}}}let it=(()=>{class Ft{isErrorState(H,X){return!!(H&&H.invalid&&(H.touched||X&&X.submitted))}}return Ft.\u0275fac=function(H){return new(H||Ft)},Ft.\u0275prov=f.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"root"}),Ft})();class Ze{constructor(Re,H,X,ae=!1){this._renderer=Re,this.element=H,this.config=X,this._animationForciblyDisabledThroughCss=ae,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const At=(0,Fe.i$)({passive:!0,capture:!0});class on{constructor(){this._events=new Map,this._delegateEventHandler=Re=>{const H=(0,Fe.sA)(Re);H&&this._events.get(Re.type)?.forEach((X,ae)=>{(ae===H||ae.contains(H))&&X.forEach(Ne=>Ne.handleEvent(Re))})}}addHandler(Re,H,X,ae){const Ne=this._events.get(H);if(Ne){const $t=Ne.get(X);$t?$t.add(ae):Ne.set(X,new Set([ae]))}else this._events.set(H,new Map([[X,new Set([ae])]])),Re.runOutsideAngular(()=>{document.addEventListener(H,this._delegateEventHandler,At)})}removeHandler(Re,H,X){const ae=this._events.get(Re);if(!ae)return;const Ne=ae.get(H);Ne&&(Ne.delete(X),0===Ne.size&&ae.delete(H),0===ae.size&&(this._events.delete(Re),document.removeEventListener(Re,this._delegateEventHandler,At)))}}const Cn={enterDuration:225,exitDuration:150},bt=(0,Fe.i$)({passive:!0,capture:!0}),rt=["mousedown","touchstart"],Et=["mouseup","mouseleave","touchend","touchcancel"];class Te{constructor(Re,H,X,ae){this._target=Re,this._ngZone=H,this._platform=ae,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ae.isBrowser&&(this._containerElement=(0,Ue.fI)(X))}fadeInRipple(Re,H,X={}){const ae=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ne={...Cn,...X.animation};X.centered&&(Re=ae.left+ae.width/2,H=ae.top+ae.height/2);const $t=X.radius||function ne(Ft,Re,H){const X=Math.max(Math.abs(Ft-H.left),Math.abs(Ft-H.right)),ae=Math.max(Math.abs(Re-H.top),Math.abs(Re-H.bottom));return Math.sqrt(X*X+ae*ae)}(Re,H,ae),Jt=Re-ae.left,Ve=H-ae.top,ze=Ne.enterDuration,ue=document.createElement("div");ue.classList.add("mat-ripple-element"),ue.style.left=Jt-$t+"px",ue.style.top=Ve-$t+"px",ue.style.height=2*$t+"px",ue.style.width=2*$t+"px",null!=X.color&&(ue.style.backgroundColor=X.color),ue.style.transitionDuration=`${ze}ms`,this._containerElement.appendChild(ue);const fe=window.getComputedStyle(ue),le=fe.transitionDuration,j="none"===fe.transitionProperty||"0s"===le||"0s, 0s"===le||0===ae.width&&0===ae.height,J=new Ze(this,ue,X,j);ue.style.transform="scale3d(1, 1, 1)",J.state=0,X.persistent||(this._mostRecentTransientRipple=J);let Q=null;return!j&&(ze||Ne.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xe=()=>this._finishRippleTransition(J),pt=()=>this._destroyRipple(J);ue.addEventListener("transitionend",xe),ue.addEventListener("transitioncancel",pt),Q={onTransitionEnd:xe,onTransitionCancel:pt}}),this._activeRipples.set(J,Q),(j||!ze)&&this._finishRippleTransition(J),J}fadeOutRipple(Re){if(2===Re.state||3===Re.state)return;const H=Re.element,X={...Cn,...Re.config.animation};H.style.transitionDuration=`${X.exitDuration}ms`,H.style.opacity="0",Re.state=2,(Re._animationForciblyDisabledThroughCss||!X.exitDuration)&&this._finishRippleTransition(Re)}fadeOutAll(){this._getActiveRipples().forEach(Re=>Re.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Re=>{Re.config.persistent||Re.fadeOut()})}setupTriggerEvents(Re){const H=(0,Ue.fI)(Re);!this._platform.isBrowser||!H||H===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=H,rt.forEach(X=>{Te._eventManager.addHandler(this._ngZone,X,H,this)}))}handleEvent(Re){"mousedown"===Re.type?this._onMousedown(Re):"touchstart"===Re.type?this._onTouchStart(Re):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Et.forEach(H=>{this._triggerElement.addEventListener(H,this,bt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Re){0===Re.state?this._startFadeOutTransition(Re):2===Re.state&&this._destroyRipple(Re)}_startFadeOutTransition(Re){const H=Re===this._mostRecentTransientRipple,{persistent:X}=Re.config;Re.state=1,!X&&(!H||!this._isPointerDown)&&Re.fadeOut()}_destroyRipple(Re){const H=this._activeRipples.get(Re)??null;this._activeRipples.delete(Re),this._activeRipples.size||(this._containerRect=null),Re===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Re.state=3,null!==H&&(Re.element.removeEventListener("transitionend",H.onTransitionEnd),Re.element.removeEventListener("transitioncancel",H.onTransitionCancel)),Re.element.remove()}_onMousedown(Re){const H=(0,R.X6)(Re),X=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!H&&!X&&(this._isPointerDown=!0,this.fadeInRipple(Re.clientX,Re.clientY,this._target.rippleConfig))}_onTouchStart(Re){if(!this._target.rippleDisabled&&!(0,R.yG)(Re)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const H=Re.changedTouches;for(let X=0;X<H.length;X++)this.fadeInRipple(H[X].clientX,H[X].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Re=>{!Re.config.persistent&&(1===Re.state||Re.config.terminateOnPointerUp&&0===Re.state)&&Re.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Re=this._triggerElement;Re&&(rt.forEach(H=>Te._eventManager.removeHandler(H,Re,this)),this._pointerUpEventsRegistered&&Et.forEach(H=>Re.removeEventListener(H,this,bt)))}}Te._eventManager=new on;const Oe=new f.OlP("mat-ripple-global-options");let ut=(()=>{class Ft{get disabled(){return this._disabled}set disabled(H){H&&this.fadeOutAllNonPersistent(),this._disabled=H,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(H){this._trigger=H,this._setupTriggerEventsIfEnabled()}constructor(H,X,ae,Ne,$t){this._elementRef=H,this._animationMode=$t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ne||{},this._rippleRenderer=new Te(this,X,H,ae)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(H,X=0,ae){return"number"==typeof H?this._rippleRenderer.fadeInRipple(H,X,{...this.rippleConfig,...ae}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...H})}}return Ft.\u0275fac=function(H){return new(H||Ft)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(Fe.t4),f.Y36(Oe,8),f.Y36(f.QbO,8))},Ft.\u0275dir=f.lG2({type:Ft,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(H,X){2&H&&f.ekj("mat-ripple-unbounded",X.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ft})(),Pt=(()=>{class Ft{}return Ft.\u0275fac=function(H){return new(H||Ft)},Ft.\u0275mod=f.oAB({type:Ft}),Ft.\u0275inj=f.cJS({imports:[Qe,Qe]}),Ft})(),_t=(()=>{class Ft{}return Ft.\u0275fac=function(H){return new(H||Ft)},Ft.\u0275mod=f.oAB({type:Ft}),Ft.\u0275inj=f.cJS({imports:[Qe]}),Ft})(),ni=(()=>{class Ft{}return Ft.\u0275fac=function(H){return new(H||Ft)},Ft.\u0275mod=f.oAB({type:Ft}),Ft.\u0275inj=f.cJS({imports:[Pt,ce.ez,Qe,_t]}),Ft})()},9549:(pn,at,T)=>{T.d(at,{Eo:()=>rt,G_:()=>Oe,KE:()=>$e,TO:()=>lt,hX:()=>Vt,lN:()=>he});var f=T(4650),R=T(445),E=T(3353),me=T(7579),ce=T(6451),Fe=T(2722),Ue=T(6895),_e=T(1281),Ke=T(7340),oe=T(9643),ge=T(3238);const ye=["matFormFieldNotchedOutline",""],Le=["*"],We=["textField"],Je=["iconPrefixContainer"],gt=["textPrefixContainer"];function tt(ve,ft){1&ve&&f._UZ(0,"span",19)}function Ge(ve,ft){if(1&ve){const je=f.EpF();f.TgZ(0,"label",17),f.NdJ("cdkObserveContent",function(){f.CHM(je);const xn=f.oxw(2);return f.KtG(xn._refreshOutlineNotchWidth())}),f.Hsn(1,1),f.YNc(2,tt,1,0,"span",18),f.qZA()}if(2&ve){const je=f.oxw(2);f.Q6J("floating",je._shouldLabelFloat())("cdkObserveContentDisabled",!je._hasOutline())("id",je._labelId),f.uIk("for",je._control.id)("aria-owns",je._control.id),f.xp6(2),f.Q6J("ngIf",!je.hideRequiredMarker&&je._control.required)}}function Pe(ve,ft){if(1&ve&&f.YNc(0,Ge,3,6,"label",16),2&ve){const je=f.oxw();f.Q6J("ngIf",je._hasFloatingLabel())}}function kt(ve,ft){1&ve&&f._UZ(0,"div",20)}function Qe(ve,ft){}function Ae(ve,ft){if(1&ve&&f.YNc(0,Qe,0,0,"ng-template",22),2&ve){f.oxw(2);const je=f.MAs(1);f.Q6J("ngTemplateOutlet",je)}}function qe(ve,ft){if(1&ve&&(f.TgZ(0,"div",21),f.YNc(1,Ae,1,1,"ng-template",9),f.qZA()),2&ve){const je=f.oxw();f.Q6J("matFormFieldNotchedOutlineOpen",je._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",je._labelWidth),f.xp6(1),f.Q6J("ngIf",!je._forceDisplayInfixLabel())}}function Nt(ve,ft){1&ve&&(f.TgZ(0,"div",23,24),f.Hsn(2,2),f.qZA())}function It(ve,ft){1&ve&&(f.TgZ(0,"div",25,26),f.Hsn(2,3),f.qZA())}function Ye(ve,ft){}function Xt(ve,ft){if(1&ve&&f.YNc(0,Ye,0,0,"ng-template",22),2&ve){f.oxw();const je=f.MAs(1);f.Q6J("ngTemplateOutlet",je)}}function yn(ve,ft){1&ve&&(f.TgZ(0,"div",27),f.Hsn(1,4),f.qZA())}function sn(ve,ft){1&ve&&(f.TgZ(0,"div",28),f.Hsn(1,5),f.qZA())}function En(ve,ft){1&ve&&f._UZ(0,"div",29)}function gn(ve,ft){if(1&ve&&(f.TgZ(0,"div",30),f.Hsn(1,6),f.qZA()),2&ve){const je=f.oxw();f.Q6J("@transitionMessages",je._subscriptAnimationState)}}function si(ve,ft){if(1&ve&&(f.TgZ(0,"mat-hint",34),f._uU(1),f.qZA()),2&ve){const je=f.oxw(2);f.Q6J("id",je._hintLabelId),f.xp6(1),f.Oqu(je.hintLabel)}}function Ut(ve,ft){if(1&ve&&(f.TgZ(0,"div",31),f.YNc(1,si,2,2,"mat-hint",32),f.Hsn(2,7),f._UZ(3,"div",33),f.Hsn(4,8),f.qZA()),2&ve){const je=f.oxw();f.Q6J("@transitionMessages",je._subscriptAnimationState),f.xp6(1),f.Q6J("ngIf",je.hintLabel)}}const Dt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Bt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Vt=(()=>{class ve{}return ve.\u0275fac=function(je){return new(je||ve)},ve.\u0275dir=f.lG2({type:ve,selectors:[["mat-label"]]}),ve})(),Tt=0;const nt=new f.OlP("MatError");let lt=(()=>{class ve{constructor(je,wt){this.id="mat-mdc-error-"+Tt++,je||wt.nativeElement.setAttribute("aria-live","polite")}}return ve.\u0275fac=function(je){return new(je||ve)(f.$8M("aria-live"),f.Y36(f.SBq))},ve.\u0275dir=f.lG2({type:ve,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(je,wt){2&je&&f.Ikx("id",wt.id)},inputs:{id:"id"},features:[f._Bn([{provide:nt,useExisting:ve}])]}),ve})(),Be=0,ct=(()=>{class ve{constructor(){this.align="start",this.id="mat-mdc-hint-"+Be++}}return ve.\u0275fac=function(je){return new(je||ve)},ve.\u0275dir=f.lG2({type:ve,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(je,wt){2&je&&(f.Ikx("id",wt.id),f.uIk("align",null),f.ekj("mat-mdc-form-field-hint-end","end"===wt.align))},inputs:{align:"align",id:"id"}}),ve})();const it=new f.OlP("MatPrefix"),ht=new f.OlP("MatSuffix");let Ht=(()=>{class ve{constructor(je){this._elementRef=je,this.floating=!1}getWidth(){return function Ze(ve){if(null!==ve.offsetParent)return ve.scrollWidth;const je=ve.cloneNode(!0);je.style.setProperty("position","absolute"),je.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(je);const wt=je.scrollWidth;return je.remove(),wt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return ve.\u0275fac=function(je){return new(je||ve)(f.Y36(f.SBq))},ve.\u0275dir=f.lG2({type:ve,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(je,wt){2&je&&f.ekj("mdc-floating-label--float-above",wt.floating)},inputs:{floating:"floating"}}),ve})();const At="mdc-line-ripple--active",on="mdc-line-ripple--deactivating";let Cn=(()=>{class ve{constructor(je,wt){this._elementRef=je,this._handleTransitionEnd=xn=>{const fn=this._elementRef.nativeElement.classList,Zn=fn.contains(on);"opacity"===xn.propertyName&&Zn&&fn.remove(At,on)},wt.runOutsideAngular(()=>{je.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const je=this._elementRef.nativeElement.classList;je.remove(on),je.add(At)}deactivate(){this._elementRef.nativeElement.classList.add(on)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return ve.\u0275fac=function(je){return new(je||ve)(f.Y36(f.SBq),f.Y36(f.R0b))},ve.\u0275dir=f.lG2({type:ve,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),ve})(),qn=(()=>{class ve{constructor(je,wt){this._elementRef=je,this._ngZone=wt,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const je=this._elementRef.nativeElement.querySelector(".mdc-floating-label");je?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(je.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>je.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return ve.\u0275fac=function(je){return new(je||ve)(f.Y36(f.SBq),f.Y36(f.R0b))},ve.\u0275cmp=f.Xpm({type:ve,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(je,wt){2&je&&f.ekj("mdc-notched-outline--notched",wt.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ye,ngContentSelectors:Le,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(je,wt){1&je&&(f.F$t(),f._UZ(0,"div",0),f.TgZ(1,"div",1),f.Hsn(2),f.qZA(),f._UZ(3,"div",2)),2&je&&(f.xp6(1),f.Udp("width",wt._getNotchWidth()))},encapsulation:2,changeDetection:0}),ve})();const bt={transitionMessages:(0,Ke.X$)("transitionMessages",[(0,Ke.SB)("enter",(0,Ke.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ke.eR)("void => enter",[(0,Ke.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ke.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let rt=(()=>{class ve{}return ve.\u0275fac=function(je){return new(je||ve)},ve.\u0275dir=f.lG2({type:ve}),ve})();const Oe=new f.OlP("MatFormField"),ut=new f.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Pt=0,$e=(()=>{class ve{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(je){this._hideRequiredMarker=(0,_e.Ig)(je)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(je){je!==this._floatLabel&&(this._floatLabel=je,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(je){const wt=this._appearance;this._appearance=je||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==wt&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(je){this._subscriptSizing=je||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(je){this._hintLabel=je,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(je){this._explicitFormFieldControl=je}constructor(je,wt,xn,fn,Zn,Wn,ni,Ft){this._elementRef=je,this._changeDetectorRef=wt,this._ngZone=xn,this._dir=fn,this._platform=Zn,this._defaults=Wn,this._animationMode=ni,this._document=Ft,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Pt++,this._hintLabelId="mat-mdc-hint-"+Pt++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new me.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Wn&&(Wn.appearance&&(this.appearance=Wn.appearance),this._hideRequiredMarker=Boolean(Wn?.hideRequiredMarker),Wn.color&&(this.color=Wn.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const je=this._control;je.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${je.controlType}`),je.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),je.ngControl&&je.ngControl.valueChanges&&je.ngControl.valueChanges.pipe((0,Fe.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(je=>!je._isText),this._hasTextPrefix=!!this._prefixChildren.find(je=>je._isText),this._hasIconSuffix=!!this._suffixChildren.find(je=>!je._isText),this._hasTextSuffix=!!this._suffixChildren.find(je=>je._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ce.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Fe.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Fe.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(je){const wt=this._control?this._control.ngControl:null;return wt&&wt[je]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let je=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&je.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const wt=this._hintChildren?this._hintChildren.find(fn=>"start"===fn.align):null,xn=this._hintChildren?this._hintChildren.find(fn=>"end"===fn.align):null;wt?je.push(wt.id):this._hintLabel&&je.push(this._hintLabelId),xn&&je.push(xn.id)}else this._errorChildren&&je.push(...this._errorChildren.map(wt=>wt.id));this._control.setDescribedByIds(je)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const je=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(je.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const wt=this._iconPrefixContainer?.nativeElement,xn=this._textPrefixContainer?.nativeElement,fn=wt?.getBoundingClientRect().width??0,Zn=xn?.getBoundingClientRect().width??0;je.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${fn+Zn}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const je=this._elementRef.nativeElement;if(je.getRootNode){const wt=je.getRootNode();return wt&&wt!==je}return document.documentElement.contains(je)}}return ve.\u0275fac=function(je){return new(je||ve)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(R.Is),f.Y36(E.t4),f.Y36(ut,8),f.Y36(f.QbO,8),f.Y36(Ue.K0))},ve.\u0275cmp=f.Xpm({type:ve,selectors:[["mat-form-field"]],contentQueries:function(je,wt,xn){if(1&je&&(f.Suo(xn,Vt,5),f.Suo(xn,Vt,7),f.Suo(xn,rt,5),f.Suo(xn,it,5),f.Suo(xn,ht,5),f.Suo(xn,nt,5),f.Suo(xn,ct,5)),2&je){let fn;f.iGM(fn=f.CRH())&&(wt._labelChildNonStatic=fn.first),f.iGM(fn=f.CRH())&&(wt._labelChildStatic=fn.first),f.iGM(fn=f.CRH())&&(wt._formFieldControl=fn.first),f.iGM(fn=f.CRH())&&(wt._prefixChildren=fn),f.iGM(fn=f.CRH())&&(wt._suffixChildren=fn),f.iGM(fn=f.CRH())&&(wt._errorChildren=fn),f.iGM(fn=f.CRH())&&(wt._hintChildren=fn)}},viewQuery:function(je,wt){if(1&je&&(f.Gf(We,5),f.Gf(Je,5),f.Gf(gt,5),f.Gf(Ht,5),f.Gf(qn,5),f.Gf(Cn,5)),2&je){let xn;f.iGM(xn=f.CRH())&&(wt._textField=xn.first),f.iGM(xn=f.CRH())&&(wt._iconPrefixContainer=xn.first),f.iGM(xn=f.CRH())&&(wt._textPrefixContainer=xn.first),f.iGM(xn=f.CRH())&&(wt._floatingLabel=xn.first),f.iGM(xn=f.CRH())&&(wt._notchedOutline=xn.first),f.iGM(xn=f.CRH())&&(wt._lineRipple=xn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(je,wt){2&je&&f.ekj("mat-mdc-form-field-label-always-float",wt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",wt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",wt._hasIconSuffix)("mat-form-field-invalid",wt._control.errorState)("mat-form-field-disabled",wt._control.disabled)("mat-form-field-autofilled",wt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===wt._animationMode)("mat-form-field-appearance-fill","fill"==wt.appearance)("mat-form-field-appearance-outline","outline"==wt.appearance)("mat-form-field-hide-placeholder",wt._hasFloatingLabel()&&!wt._shouldLabelFloat())("mat-focused",wt._control.focused)("mat-primary","accent"!==wt.color&&"warn"!==wt.color)("mat-accent","accent"===wt.color)("mat-warn","warn"===wt.color)("ng-untouched",wt._shouldForward("untouched"))("ng-touched",wt._shouldForward("touched"))("ng-pristine",wt._shouldForward("pristine"))("ng-dirty",wt._shouldForward("dirty"))("ng-valid",wt._shouldForward("valid"))("ng-invalid",wt._shouldForward("invalid"))("ng-pending",wt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[f._Bn([{provide:Oe,useExisting:ve}])],ngContentSelectors:Bt,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(je,wt){1&je&&(f.F$t(Dt),f.YNc(0,Pe,1,1,"ng-template",null,0,f.W1O),f.TgZ(2,"div",1,2),f.NdJ("click",function(fn){return wt._control.onContainerClick&&wt._control.onContainerClick(fn)}),f.YNc(4,kt,1,0,"div",3),f.TgZ(5,"div",4),f.YNc(6,qe,2,3,"div",5),f.YNc(7,Nt,3,0,"div",6),f.YNc(8,It,3,0,"div",7),f.TgZ(9,"div",8),f.YNc(10,Xt,1,1,"ng-template",9),f.Hsn(11),f.qZA(),f.YNc(12,yn,2,0,"div",10),f.YNc(13,sn,2,0,"div",11),f.qZA(),f.YNc(14,En,1,0,"div",12),f.qZA(),f.TgZ(15,"div",13),f.YNc(16,gn,2,1,"div",14),f.YNc(17,Ut,5,2,"div",15),f.qZA()),2&je&&(f.xp6(2),f.ekj("mdc-text-field--filled",!wt._hasOutline())("mdc-text-field--outlined",wt._hasOutline())("mdc-text-field--no-label",!wt._hasFloatingLabel())("mdc-text-field--disabled",wt._control.disabled)("mdc-text-field--invalid",wt._control.errorState),f.xp6(2),f.Q6J("ngIf",!wt._hasOutline()&&!wt._control.disabled),f.xp6(2),f.Q6J("ngIf",wt._hasOutline()),f.xp6(1),f.Q6J("ngIf",wt._hasIconPrefix),f.xp6(1),f.Q6J("ngIf",wt._hasTextPrefix),f.xp6(2),f.Q6J("ngIf",!wt._hasOutline()||wt._forceDisplayInfixLabel()),f.xp6(2),f.Q6J("ngIf",wt._hasTextSuffix),f.xp6(1),f.Q6J("ngIf",wt._hasIconSuffix),f.xp6(1),f.Q6J("ngIf",!wt._hasOutline()),f.xp6(1),f.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===wt.subscriptSizing),f.Q6J("ngSwitch",wt._getDisplayedMessages()),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","hint"))},dependencies:[Ue.O5,Ue.tP,Ue.RF,Ue.n9,oe.wD,ct,Ht,qn,Cn],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[bt.transitionMessages]},changeDetection:0}),ve})(),he=(()=>{class ve{}return ve.\u0275fac=function(je){return new(je||ve)},ve.\u0275mod=f.oAB({type:ve}),ve.\u0275inj=f.cJS({imports:[ge.BQ,Ue.ez,oe.Q8,ge.BQ]}),ve})()},7392:(pn,at,T)=>{T.d(at,{Hw:()=>lt,Ps:()=>Be});var f=T(4650),R=T(3238),E=T(1281),me=T(6895),ce=T(9646),Fe=T(2843),Ue=T(4128),_e=T(727),Ke=T(8505),oe=T(4004),ge=T(262),ye=T(8746),Le=T(3099),We=T(5698),Je=T(529),gt=T(1481);const tt=["*"];let Ge;function kt(ct){return function Pe(){if(void 0===Ge&&(Ge=null,typeof window<"u")){const ct=window;void 0!==ct.trustedTypes&&(Ge=ct.trustedTypes.createPolicy("angular#components",{createHTML:it=>it}))}return Ge}()?.createHTML(ct)||ct}function Qe(ct){return Error(`Unable to find icon with the name "${ct}"`)}function qe(ct){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${ct}".`)}function Nt(ct){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${ct}".`)}class It{constructor(it,He,ht){this.url=it,this.svgText=He,this.options=ht}}let Ye=(()=>{class ct{constructor(He,ht,mt,Ht){this._httpClient=He,this._sanitizer=ht,this._errorHandler=Ht,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=mt}addSvgIcon(He,ht,mt){return this.addSvgIconInNamespace("",He,ht,mt)}addSvgIconLiteral(He,ht,mt){return this.addSvgIconLiteralInNamespace("",He,ht,mt)}addSvgIconInNamespace(He,ht,mt,Ht){return this._addSvgIconConfig(He,ht,new It(mt,null,Ht))}addSvgIconResolver(He){return this._resolvers.push(He),this}addSvgIconLiteralInNamespace(He,ht,mt,Ht){const Ze=this._sanitizer.sanitize(f.q3G.HTML,mt);if(!Ze)throw Nt(mt);const At=kt(Ze);return this._addSvgIconConfig(He,ht,new It("",At,Ht))}addSvgIconSet(He,ht){return this.addSvgIconSetInNamespace("",He,ht)}addSvgIconSetLiteral(He,ht){return this.addSvgIconSetLiteralInNamespace("",He,ht)}addSvgIconSetInNamespace(He,ht,mt){return this._addSvgIconSetConfig(He,new It(ht,null,mt))}addSvgIconSetLiteralInNamespace(He,ht,mt){const Ht=this._sanitizer.sanitize(f.q3G.HTML,ht);if(!Ht)throw Nt(ht);const Ze=kt(Ht);return this._addSvgIconSetConfig(He,new It("",Ze,mt))}registerFontClassAlias(He,ht=He){return this._fontCssClassesByAlias.set(He,ht),this}classNameForFontAlias(He){return this._fontCssClassesByAlias.get(He)||He}setDefaultFontSetClass(...He){return this._defaultFontSetClass=He,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(He){const ht=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,He);if(!ht)throw qe(He);const mt=this._cachedIconsByUrl.get(ht);return mt?(0,ce.of)(sn(mt)):this._loadSvgIconFromConfig(new It(He,null)).pipe((0,Ke.b)(Ht=>this._cachedIconsByUrl.set(ht,Ht)),(0,oe.U)(Ht=>sn(Ht)))}getNamedSvgIcon(He,ht=""){const mt=En(ht,He);let Ht=this._svgIconConfigs.get(mt);if(Ht)return this._getSvgFromConfig(Ht);if(Ht=this._getIconConfigFromResolvers(ht,He),Ht)return this._svgIconConfigs.set(mt,Ht),this._getSvgFromConfig(Ht);const Ze=this._iconSetConfigs.get(ht);return Ze?this._getSvgFromIconSetConfigs(He,Ze):(0,Fe._)(Qe(mt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(He){return He.svgText?(0,ce.of)(sn(this._svgElementFromConfig(He))):this._loadSvgIconFromConfig(He).pipe((0,oe.U)(ht=>sn(ht)))}_getSvgFromIconSetConfigs(He,ht){const mt=this._extractIconWithNameFromAnySet(He,ht);if(mt)return(0,ce.of)(mt);const Ht=ht.filter(Ze=>!Ze.svgText).map(Ze=>this._loadSvgIconSetFromConfig(Ze).pipe((0,ge.K)(At=>{const Cn=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,Ze.url)} failed: ${At.message}`;return this._errorHandler.handleError(new Error(Cn)),(0,ce.of)(null)})));return(0,Ue.D)(Ht).pipe((0,oe.U)(()=>{const Ze=this._extractIconWithNameFromAnySet(He,ht);if(!Ze)throw Qe(He);return Ze}))}_extractIconWithNameFromAnySet(He,ht){for(let mt=ht.length-1;mt>=0;mt--){const Ht=ht[mt];if(Ht.svgText&&Ht.svgText.toString().indexOf(He)>-1){const Ze=this._svgElementFromConfig(Ht),At=this._extractSvgIconFromSet(Ze,He,Ht.options);if(At)return At}}return null}_loadSvgIconFromConfig(He){return this._fetchIcon(He).pipe((0,Ke.b)(ht=>He.svgText=ht),(0,oe.U)(()=>this._svgElementFromConfig(He)))}_loadSvgIconSetFromConfig(He){return He.svgText?(0,ce.of)(null):this._fetchIcon(He).pipe((0,Ke.b)(ht=>He.svgText=ht))}_extractSvgIconFromSet(He,ht,mt){const Ht=He.querySelector(`[id="${ht}"]`);if(!Ht)return null;const Ze=Ht.cloneNode(!0);if(Ze.removeAttribute("id"),"svg"===Ze.nodeName.toLowerCase())return this._setSvgAttributes(Ze,mt);if("symbol"===Ze.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ze),mt);const At=this._svgElementFromString(kt("<svg></svg>"));return At.appendChild(Ze),this._setSvgAttributes(At,mt)}_svgElementFromString(He){const ht=this._document.createElement("DIV");ht.innerHTML=He;const mt=ht.querySelector("svg");if(!mt)throw Error("<svg> tag not found");return mt}_toSvgElement(He){const ht=this._svgElementFromString(kt("<svg></svg>")),mt=He.attributes;for(let Ht=0;Ht<mt.length;Ht++){const{name:Ze,value:At}=mt[Ht];"id"!==Ze&&ht.setAttribute(Ze,At)}for(let Ht=0;Ht<He.childNodes.length;Ht++)He.childNodes[Ht].nodeType===this._document.ELEMENT_NODE&&ht.appendChild(He.childNodes[Ht].cloneNode(!0));return ht}_setSvgAttributes(He,ht){return He.setAttribute("fit",""),He.setAttribute("height","100%"),He.setAttribute("width","100%"),He.setAttribute("preserveAspectRatio","xMidYMid meet"),He.setAttribute("focusable","false"),ht&&ht.viewBox&&He.setAttribute("viewBox",ht.viewBox),He}_fetchIcon(He){const{url:ht,options:mt}=He,Ht=mt?.withCredentials??!1;if(!this._httpClient)throw function Ae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ht)throw Error(`Cannot fetch icon from URL "${ht}".`);const Ze=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,ht);if(!Ze)throw qe(ht);const At=this._inProgressUrlFetches.get(Ze);if(At)return At;const on=this._httpClient.get(Ze,{responseType:"text",withCredentials:Ht}).pipe((0,oe.U)(Cn=>kt(Cn)),(0,ye.x)(()=>this._inProgressUrlFetches.delete(Ze)),(0,Le.B)());return this._inProgressUrlFetches.set(Ze,on),on}_addSvgIconConfig(He,ht,mt){return this._svgIconConfigs.set(En(He,ht),mt),this}_addSvgIconSetConfig(He,ht){const mt=this._iconSetConfigs.get(He);return mt?mt.push(ht):this._iconSetConfigs.set(He,[ht]),this}_svgElementFromConfig(He){if(!He.svgElement){const ht=this._svgElementFromString(He.svgText);this._setSvgAttributes(ht,He.options),He.svgElement=ht}return He.svgElement}_getIconConfigFromResolvers(He,ht){for(let mt=0;mt<this._resolvers.length;mt++){const Ht=this._resolvers[mt](ht,He);if(Ht)return gn(Ht)?new It(Ht.url,null,Ht.options):new It(Ht,null)}}}return ct.\u0275fac=function(He){return new(He||ct)(f.LFG(Je.eN,8),f.LFG(gt.H7),f.LFG(me.K0,8),f.LFG(f.qLn))},ct.\u0275prov=f.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();function sn(ct){return ct.cloneNode(!0)}function En(ct,it){return ct+":"+it}function gn(ct){return!(!ct.url||!ct.options)}const si=(0,R.pj)(class{constructor(ct){this._elementRef=ct}}),Ut=new f.OlP("MAT_ICON_DEFAULT_OPTIONS"),Dt=new f.OlP("mat-icon-location",{providedIn:"root",factory:function Bt(){const ct=(0,f.f3M)(me.K0),it=ct?ct.location:null;return{getPathname:()=>it?it.pathname+it.search:""}}}),Vt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Tt=Vt.map(ct=>`[${ct}]`).join(", "),nt=/^url\(['"]?#(.*?)['"]?\)$/;let lt=(()=>{class ct extends si{get inline(){return this._inline}set inline(He){this._inline=(0,E.Ig)(He)}get svgIcon(){return this._svgIcon}set svgIcon(He){He!==this._svgIcon&&(He?this._updateSvgIcon(He):this._svgIcon&&this._clearSvgElement(),this._svgIcon=He)}get fontSet(){return this._fontSet}set fontSet(He){const ht=this._cleanupFontValue(He);ht!==this._fontSet&&(this._fontSet=ht,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(He){const ht=this._cleanupFontValue(He);ht!==this._fontIcon&&(this._fontIcon=ht,this._updateFontIconClasses())}constructor(He,ht,mt,Ht,Ze,At){super(He),this._iconRegistry=ht,this._location=Ht,this._errorHandler=Ze,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_e.w0.EMPTY,At&&(At.color&&(this.color=this.defaultColor=At.color),At.fontSet&&(this.fontSet=At.fontSet)),mt||He.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(He){if(!He)return["",""];const ht=He.split(":");switch(ht.length){case 1:return["",ht[0]];case 2:return ht;default:throw Error(`Invalid icon name: "${He}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const He=this._elementsWithExternalReferences;if(He&&He.size){const ht=this._location.getPathname();ht!==this._previousPath&&(this._previousPath=ht,this._prependPathToReferences(ht))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(He){this._clearSvgElement();const ht=this._location.getPathname();this._previousPath=ht,this._cacheChildrenWithExternalReferences(He),this._prependPathToReferences(ht),this._elementRef.nativeElement.appendChild(He)}_clearSvgElement(){const He=this._elementRef.nativeElement;let ht=He.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ht--;){const mt=He.childNodes[ht];(1!==mt.nodeType||"svg"===mt.nodeName.toLowerCase())&&mt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const He=this._elementRef.nativeElement,ht=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(mt=>mt.length>0);this._previousFontSetClass.forEach(mt=>He.classList.remove(mt)),ht.forEach(mt=>He.classList.add(mt)),this._previousFontSetClass=ht,this.fontIcon!==this._previousFontIconClass&&!ht.includes("mat-ligature-font")&&(this._previousFontIconClass&&He.classList.remove(this._previousFontIconClass),this.fontIcon&&He.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(He){return"string"==typeof He?He.trim().split(" ")[0]:He}_prependPathToReferences(He){const ht=this._elementsWithExternalReferences;ht&&ht.forEach((mt,Ht)=>{mt.forEach(Ze=>{Ht.setAttribute(Ze.name,`url('${He}#${Ze.value}')`)})})}_cacheChildrenWithExternalReferences(He){const ht=He.querySelectorAll(Tt),mt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ht=0;Ht<ht.length;Ht++)Vt.forEach(Ze=>{const At=ht[Ht],on=At.getAttribute(Ze),Cn=on?on.match(nt):null;if(Cn){let qn=mt.get(At);qn||(qn=[],mt.set(At,qn)),qn.push({name:Ze,value:Cn[1]})}})}_updateSvgIcon(He){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),He){const[ht,mt]=this._splitIconName(He);ht&&(this._svgNamespace=ht),mt&&(this._svgName=mt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(mt,ht).pipe((0,We.q)(1)).subscribe(Ht=>this._setSvgElement(Ht),Ht=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ht}:${mt}! ${Ht.message}`))})}}}return ct.\u0275fac=function(He){return new(He||ct)(f.Y36(f.SBq),f.Y36(Ye),f.$8M("aria-hidden"),f.Y36(Dt),f.Y36(f.qLn),f.Y36(Ut,8))},ct.\u0275cmp=f.Xpm({type:ct,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(He,ht){2&He&&(f.uIk("data-mat-icon-type",ht._usingFontIcon()?"font":"svg")("data-mat-icon-name",ht._svgName||ht.fontIcon)("data-mat-icon-namespace",ht._svgNamespace||ht.fontSet)("fontIcon",ht._usingFontIcon()?ht.fontIcon:null),f.ekj("mat-icon-inline",ht.inline)("mat-icon-no-color","primary"!==ht.color&&"accent"!==ht.color&&"warn"!==ht.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:tt,decls:1,vars:0,template:function(He,ht){1&He&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),ct})(),Be=(()=>{class ct{}return ct.\u0275fac=function(He){return new(He||ct)},ct.\u0275mod=f.oAB({type:ct}),ct.\u0275inj=f.cJS({imports:[R.BQ,R.BQ]}),ct})()},284:(pn,at,T)=>{T.d(at,{Nt:()=>We,c:()=>Je});var f=T(1281),R=T(3353),E=T(9349),me=T(4650),ce=T(4006),Fe=T(3238),Ue=T(9549),_e=T(7579);const oe=new me.OlP("MAT_INPUT_VALUE_ACCESSOR"),ge=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ye=0;const Le=(0,Fe.FD)(class{constructor(gt,tt,Ge,Pe){this._defaultErrorStateMatcher=gt,this._parentForm=tt,this._parentFormGroup=Ge,this.ngControl=Pe,this.stateChanges=new _e.x}});let We=(()=>{class gt extends Le{get disabled(){return this._disabled}set disabled(Ge){this._disabled=(0,f.Ig)(Ge),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ge){this._id=Ge||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ce.kI.required)??!1}set required(Ge){this._required=(0,f.Ig)(Ge)}get type(){return this._type}set type(Ge){this._type=Ge||"text",this._validateType(),!this._isTextarea&&(0,R.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ge){Ge!==this.value&&(this._inputValueAccessor.value=Ge,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ge){this._readonly=(0,f.Ig)(Ge)}constructor(Ge,Pe,kt,Qe,Ae,qe,Nt,It,Ye,Xt){super(qe,Qe,Ae,kt),this._elementRef=Ge,this._platform=Pe,this._autofillMonitor=It,this._formField=Xt,this._uid="mat-input-"+ye++,this.focused=!1,this.stateChanges=new _e.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(En=>(0,R.qK)().has(En)),this._iOSKeyupListener=En=>{const gn=En.target;!gn.value&&0===gn.selectionStart&&0===gn.selectionEnd&&(gn.setSelectionRange(1,1),gn.setSelectionRange(0,0))};const yn=this._elementRef.nativeElement,sn=yn.nodeName.toLowerCase();this._inputValueAccessor=Nt||yn,this._previousNativeValue=this.value,this.id=this.id,Pe.IOS&&Ye.runOutsideAngular(()=>{Ge.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===sn,this._isTextarea="textarea"===sn,this._isInFormField=!!Xt,this._isNativeSelect&&(this.controlType=yn.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ge=>{this.autofilled=Ge.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ge){this._elementRef.nativeElement.focus(Ge)}_focusChanged(Ge){Ge!==this.focused&&(this.focused=Ge,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const Ge=this._elementRef.nativeElement.value;this._previousNativeValue!==Ge&&(this._previousNativeValue=Ge,this.stateChanges.next())}_dirtyCheckPlaceholder(){const Ge=this._getPlaceholder();if(Ge!==this._previousPlaceholder){const Pe=this._elementRef.nativeElement;this._previousPlaceholder=Ge,Ge?Pe.setAttribute("placeholder",Ge):Pe.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ge.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ge=this._elementRef.nativeElement.validity;return Ge&&Ge.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ge=this._elementRef.nativeElement,Pe=Ge.options[0];return this.focused||Ge.multiple||!this.empty||!!(Ge.selectedIndex>-1&&Pe&&Pe.label)}return this.focused||!this.empty}setDescribedByIds(Ge){Ge.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ge.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ge=this._elementRef.nativeElement;return this._isNativeSelect&&(Ge.multiple||Ge.size>1)}}return gt.\u0275fac=function(Ge){return new(Ge||gt)(me.Y36(me.SBq),me.Y36(R.t4),me.Y36(ce.a5,10),me.Y36(ce.F,8),me.Y36(ce.sg,8),me.Y36(Fe.rD),me.Y36(oe,10),me.Y36(E.Lq),me.Y36(me.R0b),me.Y36(Ue.G_,8))},gt.\u0275dir=me.lG2({type:gt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(Ge,Pe){1&Ge&&me.NdJ("focus",function(){return Pe._focusChanged(!0)})("blur",function(){return Pe._focusChanged(!1)})("input",function(){return Pe._onInput()}),2&Ge&&(me.Ikx("id",Pe.id)("disabled",Pe.disabled)("required",Pe.required),me.uIk("name",Pe.name||null)("readonly",Pe.readonly&&!Pe._isNativeSelect||null)("aria-invalid",Pe.empty&&Pe.required?null:Pe.errorState)("aria-required",Pe.required)("id",Pe.id),me.ekj("mat-input-server",Pe._isServer)("mat-mdc-form-field-textarea-control",Pe._isInFormField&&Pe._isTextarea)("mat-mdc-form-field-input-control",Pe._isInFormField)("mdc-text-field__input",Pe._isInFormField)("mat-mdc-native-select-inline",Pe._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[me._Bn([{provide:Ue.Eo,useExisting:gt}]),me.qOj,me.TTD]}),gt})(),Je=(()=>{class gt{}return gt.\u0275fac=function(Ge){return new(Ge||gt)},gt.\u0275mod=me.oAB({type:gt}),gt.\u0275inj=me.cJS({imports:[Fe.BQ,Ue.lN,Ue.lN,E.Ky,Fe.BQ]}),gt})()},3162:(pn,at,T)=>{T.d(at,{Cv:()=>ge,pW:()=>Ke});var f=T(4650),E=(T(6895),T(3238)),me=T(1281);const ce=new f.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),_e=(0,E.pj)(class{constructor(ye){this._elementRef=ye}},"primary");let Ke=(()=>{class ye extends _e{constructor(We,Je,gt,tt,Ge){super(We),this._ngZone=Je,this._changeDetectorRef=gt,this._animationMode=tt,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new f.vpe,this._mode="determinate",this._transitionendHandler=Pe=>{0===this.animationEnd.observers.length||!Pe.target||!Pe.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===tt,Ge&&(Ge.color&&(this.color=this.defaultColor=Ge.color),this.mode=Ge.mode||this.mode)}get value(){return this._value}set value(We){this._value=oe((0,me.su)(We)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(We){this._bufferValue=oe((0,me.su)(We)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(We){this._mode=We,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return ye.\u0275fac=function(We){return new(We||ye)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(f.QbO,8),f.Y36(ce,8))},ye.\u0275cmp=f.Xpm({type:ye,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(We,Je){2&We&&(f.uIk("aria-valuenow",Je._isIndeterminate()?null:Je.value)("mode",Je.mode),f.ekj("_mat-animation-noopable",Je._isNoopAnimation)("mdc-linear-progress--animation-ready",!Je._isNoopAnimation)("mdc-linear-progress--indeterminate",Je._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[f.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(We,Je){1&We&&(f.TgZ(0,"div",0),f._UZ(1,"div",1)(2,"div",2),f.qZA(),f.TgZ(3,"div",3),f._UZ(4,"span",4),f.qZA(),f.TgZ(5,"div",5),f._UZ(6,"span",4),f.qZA()),2&We&&(f.xp6(1),f.Udp("flex-basis",Je._getBufferBarFlexBasis()),f.xp6(2),f.Udp("transform",Je._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),ye})();function oe(ye,Le=0,We=100){return Math.max(Le,Math.min(We,ye))}let ge=(()=>{class ye{}return ye.\u0275fac=function(We){return new(We||ye)},ye.\u0275mod=f.oAB({type:ye}),ye.\u0275inj=f.cJS({imports:[E.BQ]}),ye})()},1572:(pn,at,T)=>{T.d(at,{Cq:()=>We,Ou:()=>ye});var f=T(4650),R=T(3238),E=T(1281),me=T(6895);const ce=["determinateSpinner"];function Fe(Je,gt){if(1&Je&&(f.O4$(),f.TgZ(0,"svg",11),f._UZ(1,"circle",12),f.qZA()),2&Je){const tt=f.oxw();f.uIk("viewBox",tt._viewBox()),f.xp6(1),f.Udp("stroke-dasharray",tt._strokeCircumference(),"px")("stroke-dashoffset",tt._strokeCircumference()/2,"px")("stroke-width",tt._circleStrokeWidth(),"%"),f.uIk("r",tt._circleRadius())}}const Ue=(0,R.pj)(class{constructor(Je){this._elementRef=Je}},"primary"),_e=new f.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ke(){return{diameter:oe}}}),oe=100;let ye=(()=>{class Je extends Ue{constructor(tt,Ge,Pe){super(tt),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=oe,this._noopAnimations="NoopAnimations"===Ge&&!!Pe&&!Pe._forceAnimations,Pe&&(Pe.color&&(this.color=this.defaultColor=Pe.color),Pe.diameter&&(this.diameter=Pe.diameter),Pe.strokeWidth&&(this.strokeWidth=Pe.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(tt){this._value=Math.max(0,Math.min(100,(0,E.su)(tt)))}get diameter(){return this._diameter}set diameter(tt){this._diameter=(0,E.su)(tt)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(tt){this._strokeWidth=(0,E.su)(tt)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const tt=2*this._circleRadius()+this.strokeWidth;return`0 0 ${tt} ${tt}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return Je.\u0275fac=function(tt){return new(tt||Je)(f.Y36(f.SBq),f.Y36(f.QbO,8),f.Y36(_e))},Je.\u0275cmp=f.Xpm({type:Je,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(tt,Ge){if(1&tt&&f.Gf(ce,5),2&tt){let Pe;f.iGM(Pe=f.CRH())&&(Ge._determinateCircle=Pe.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(tt,Ge){2&tt&&(f.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Ge.mode?Ge.value:null)("mode",Ge.mode),f.Udp("width",Ge.diameter,"px")("height",Ge.diameter,"px"),f.ekj("_mat-animation-noopable",Ge._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Ge.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[f.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(tt,Ge){if(1&tt&&(f.YNc(0,Fe,2,8,"ng-template",null,0,f.W1O),f.TgZ(2,"div",1,2),f.O4$(),f.TgZ(4,"svg",3),f._UZ(5,"circle",4),f.qZA()(),f.kcU(),f.TgZ(6,"div",5)(7,"div",6)(8,"div",7),f.GkF(9,8),f.qZA(),f.TgZ(10,"div",9),f.GkF(11,8),f.qZA(),f.TgZ(12,"div",10),f.GkF(13,8),f.qZA()()()),2&tt){const Pe=f.MAs(1);f.xp6(4),f.uIk("viewBox",Ge._viewBox()),f.xp6(1),f.Udp("stroke-dasharray",Ge._strokeCircumference(),"px")("stroke-dashoffset",Ge._strokeDashOffset(),"px")("stroke-width",Ge._circleStrokeWidth(),"%"),f.uIk("r",Ge._circleRadius()),f.xp6(4),f.Q6J("ngTemplateOutlet",Pe),f.xp6(2),f.Q6J("ngTemplateOutlet",Pe),f.xp6(2),f.Q6J("ngTemplateOutlet",Pe)}},dependencies:[me.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),Je})(),We=(()=>{class Je{}return Je.\u0275fac=function(tt){return new(tt||Je)},Je.\u0275mod=f.oAB({type:Je}),Je.\u0275inj=f.cJS({imports:[me.ez,R.BQ]}),Je})()},3267:(pn,at,T)=>{T.d(at,{Rh:()=>ct,SJ:()=>ht,TM:()=>He});var f=T(8605),R=T(6895),E=T(4650),me=T(3238),ce=T(2693),Fe=T(445),Ue=T(1281),_e=T(9521),Ke=T(3353),oe=T(7579),ge=T(4968),ye=T(6451),Le=T(9300),We=T(4004),Je=T(9718),gt=T(2722),tt=T(1884),Ge=T(5698),Pe=T(8675),kt=T(8372),Qe=T(7340);const Ae=["*"],qe=["content"];function Nt(mt,Ht){if(1&mt){const Ze=E.EpF();E.TgZ(0,"div",2),E.NdJ("click",function(){E.CHM(Ze);const on=E.oxw();return E.KtG(on._onBackdropClicked())}),E.qZA()}if(2&mt){const Ze=E.oxw();E.ekj("mat-drawer-shown",Ze._isShowingBackdrop())}}function It(mt,Ht){1&mt&&(E.TgZ(0,"mat-drawer-content"),E.Hsn(1,2),E.qZA())}const Ye=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Xt=["mat-drawer","mat-drawer-content","*"];function yn(mt,Ht){if(1&mt){const Ze=E.EpF();E.TgZ(0,"div",2),E.NdJ("click",function(){E.CHM(Ze);const on=E.oxw();return E.KtG(on._onBackdropClicked())}),E.qZA()}if(2&mt){const Ze=E.oxw();E.ekj("mat-drawer-shown",Ze._isShowingBackdrop())}}function sn(mt,Ht){1&mt&&(E.TgZ(0,"mat-sidenav-content"),E.Hsn(1,2),E.qZA())}const En=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],gn=["mat-sidenav","mat-sidenav-content","*"],Ut={transformDrawer:(0,Qe.X$)("transform",[(0,Qe.SB)("open, open-instant",(0,Qe.oB)({transform:"none",visibility:"visible"})),(0,Qe.SB)("void",(0,Qe.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Qe.eR)("void => open-instant",(0,Qe.jt)("0ms")),(0,Qe.eR)("void <=> open, open-instant => void",(0,Qe.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Bt=new E.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Tt(){return!1}}),Vt=new E.OlP("MAT_DRAWER_CONTAINER");let nt=(()=>{class mt extends f.PQ{constructor(Ze,At,on,Cn,qn){super(on,Cn,qn),this._changeDetectorRef=Ze,this._container=At}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return mt.\u0275fac=function(Ze){return new(Ze||mt)(E.Y36(E.sBO),E.Y36((0,E.Gpc)(()=>Be)),E.Y36(E.SBq),E.Y36(f.mF),E.Y36(E.R0b))},mt.\u0275cmp=E.Xpm({type:mt,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(Ze,At){2&Ze&&E.Udp("margin-left",At._container._contentMargins.left,"px")("margin-right",At._container._contentMargins.right,"px")},features:[E._Bn([{provide:f.PQ,useExisting:mt}]),E.qOj],ngContentSelectors:Ae,decls:1,vars:0,template:function(Ze,At){1&Ze&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),mt})(),lt=(()=>{class mt{get position(){return this._position}set position(Ze){(Ze="end"===Ze?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Ze),this._position=Ze,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Ze){this._mode=Ze,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Ze){this._disableClose=(0,Ue.Ig)(Ze)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(Ze){("true"===Ze||"false"===Ze||null==Ze)&&(Ze=(0,Ue.Ig)(Ze)),this._autoFocus=Ze}get opened(){return this._opened}set opened(Ze){this.toggle((0,Ue.Ig)(Ze))}constructor(Ze,At,on,Cn,qn,bt,rt,Et){this._elementRef=Ze,this._focusTrapFactory=At,this._focusMonitor=on,this._platform=Cn,this._ngZone=qn,this._interactivityChecker=bt,this._doc=rt,this._container=Et,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new oe.x,this._animationEnd=new oe.x,this._animationState="void",this.openedChange=new E.vpe(!0),this._openedStream=this.openedChange.pipe((0,Le.h)(Te=>Te),(0,We.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Le.h)(Te=>Te.fromState!==Te.toState&&0===Te.toState.indexOf("open")),(0,Je.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Le.h)(Te=>!Te),(0,We.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Le.h)(Te=>Te.fromState!==Te.toState&&"void"===Te.toState),(0,Je.h)(void 0)),this._destroyed=new oe.x,this.onPositionChanged=new E.vpe,this._modeChanged=new oe.x,this.openedChange.subscribe(Te=>{Te?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ge.R)(this._elementRef.nativeElement,"keydown").pipe((0,Le.h)(Te=>Te.keyCode===_e.hY&&!this.disableClose&&!(0,_e.Vb)(Te)),(0,gt.R)(this._destroyed)).subscribe(Te=>this._ngZone.run(()=>{this.close(),Te.stopPropagation(),Te.preventDefault()}))}),this._animationEnd.pipe((0,tt.x)((Te,ne)=>Te.fromState===ne.fromState&&Te.toState===ne.toState)).subscribe(Te=>{const{fromState:ne,toState:Oe}=Te;(0===Oe.indexOf("open")&&"void"===ne||"void"===Oe&&0===ne.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(Ze,At){this._interactivityChecker.isFocusable(Ze)||(Ze.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const on=()=>{Ze.removeEventListener("blur",on),Ze.removeEventListener("mousedown",on),Ze.removeAttribute("tabindex")};Ze.addEventListener("blur",on),Ze.addEventListener("mousedown",on)})),Ze.focus(At)}_focusByCssSelector(Ze,At){let on=this._elementRef.nativeElement.querySelector(Ze);on&&this._forceFocus(on,At)}_takeFocus(){if(!this._focusTrap)return;const Ze=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(At=>{!At&&"function"==typeof this._elementRef.nativeElement.focus&&Ze.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Ze){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Ze):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Ze=this._doc.activeElement;return!!Ze&&this._elementRef.nativeElement.contains(Ze)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Ze){return this.toggle(!0,Ze)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Ze=!this.opened,At){Ze&&At&&(this._openedVia=At);const on=this._setOpen(Ze,!Ze&&this._isFocusWithinDrawer(),this._openedVia||"program");return Ze||(this._openedVia=null),on}_setOpen(Ze,At,on){return this._opened=Ze,Ze?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",At&&this._restoreFocus(on)),this._updateFocusTrapState(),new Promise(Cn=>{this.openedChange.pipe((0,Ge.q)(1)).subscribe(qn=>Cn(qn?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(Ze){const At=this._elementRef.nativeElement,on=At.parentNode;"end"===Ze?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),on.insertBefore(this._anchor,At)),on.appendChild(At)):this._anchor&&this._anchor.parentNode.insertBefore(At,this._anchor)}}return mt.\u0275fac=function(Ze){return new(Ze||mt)(E.Y36(E.SBq),E.Y36(ce.qV),E.Y36(ce.tE),E.Y36(Ke.t4),E.Y36(E.R0b),E.Y36(ce.ic),E.Y36(R.K0,8),E.Y36(Vt,8))},mt.\u0275cmp=E.Xpm({type:mt,selectors:[["mat-drawer"]],viewQuery:function(Ze,At){if(1&Ze&&E.Gf(qe,5),2&Ze){let on;E.iGM(on=E.CRH())&&(At._content=on.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(Ze,At){1&Ze&&E.WFA("@transform.start",function(Cn){return At._animationStarted.next(Cn)})("@transform.done",function(Cn){return At._animationEnd.next(Cn)}),2&Ze&&(E.uIk("align",null),E.d8E("@transform",At._animationState),E.ekj("mat-drawer-end","end"===At.position)("mat-drawer-over","over"===At.mode)("mat-drawer-push","push"===At.mode)("mat-drawer-side","side"===At.mode)("mat-drawer-opened",At.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ae,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(Ze,At){1&Ze&&(E.F$t(),E.TgZ(0,"div",0,1),E.Hsn(2),E.qZA())},dependencies:[f.PQ],encapsulation:2,data:{animation:[Ut.transformDrawer]},changeDetection:0}),mt})(),Be=(()=>{class mt{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Ze){this._autosize=(0,Ue.Ig)(Ze)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(Ze){this._backdropOverride=null==Ze?null:(0,Ue.Ig)(Ze)}get scrollable(){return this._userContent||this._content}constructor(Ze,At,on,Cn,qn,bt=!1,rt){this._dir=Ze,this._element=At,this._ngZone=on,this._changeDetectorRef=Cn,this._animationMode=rt,this._drawers=new E.n_E,this.backdropClick=new E.vpe,this._destroyed=new oe.x,this._doCheckSubject=new oe.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new oe.x,Ze&&Ze.change.pipe((0,gt.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),qn.change().pipe((0,gt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=bt}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Pe.O)(this._allDrawers),(0,gt.R)(this._destroyed)).subscribe(Ze=>{this._drawers.reset(Ze.filter(At=>!At._container||At._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Pe.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Ze=>{this._watchDrawerToggle(Ze),this._watchDrawerPosition(Ze),this._watchDrawerMode(Ze)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,kt.b)(10),(0,gt.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Ze=>Ze.open())}close(){this._drawers.forEach(Ze=>Ze.close())}updateContentMargins(){let Ze=0,At=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Ze+=this._left._getWidth();else if("push"==this._left.mode){const on=this._left._getWidth();Ze+=on,At-=on}if(this._right&&this._right.opened)if("side"==this._right.mode)At+=this._right._getWidth();else if("push"==this._right.mode){const on=this._right._getWidth();At+=on,Ze-=on}Ze=Ze||null,At=At||null,(Ze!==this._contentMargins.left||At!==this._contentMargins.right)&&(this._contentMargins={left:Ze,right:At},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Ze){Ze._animationStarted.pipe((0,Le.h)(At=>At.fromState!==At.toState),(0,gt.R)(this._drawers.changes)).subscribe(At=>{"open-instant"!==At.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Ze.mode&&Ze.openedChange.pipe((0,gt.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Ze.opened))}_watchDrawerPosition(Ze){Ze&&Ze.onPositionChanged.pipe((0,gt.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Ge.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(Ze){Ze&&Ze._modeChanged.pipe((0,gt.R)((0,ye.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Ze){const At=this._element.nativeElement.classList,on="mat-drawer-container-has-open";Ze?At.add(on):At.remove(on)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Ze=>{"end"==Ze.position?this._end=Ze:this._start=Ze}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Ze=>Ze&&!Ze.disableClose&&this._canHaveBackdrop(Ze)).forEach(Ze=>Ze._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(Ze){return"side"!==Ze.mode||!!this._backdropOverride}_isDrawerOpen(Ze){return null!=Ze&&Ze.opened}}return mt.\u0275fac=function(Ze){return new(Ze||mt)(E.Y36(Fe.Is,8),E.Y36(E.SBq),E.Y36(E.R0b),E.Y36(E.sBO),E.Y36(f.rL),E.Y36(Bt),E.Y36(E.QbO,8))},mt.\u0275cmp=E.Xpm({type:mt,selectors:[["mat-drawer-container"]],contentQueries:function(Ze,At,on){if(1&Ze&&(E.Suo(on,nt,5),E.Suo(on,lt,5)),2&Ze){let Cn;E.iGM(Cn=E.CRH())&&(At._content=Cn.first),E.iGM(Cn=E.CRH())&&(At._allDrawers=Cn)}},viewQuery:function(Ze,At){if(1&Ze&&E.Gf(nt,5),2&Ze){let on;E.iGM(on=E.CRH())&&(At._userContent=on.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(Ze,At){2&Ze&&E.ekj("mat-drawer-container-explicit-backdrop",At._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[E._Bn([{provide:Vt,useExisting:mt}])],ngContentSelectors:Xt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Ze,At){1&Ze&&(E.F$t(Ye),E.YNc(0,Nt,1,2,"div",0),E.Hsn(1),E.Hsn(2,1),E.YNc(3,It,2,0,"mat-drawer-content",1)),2&Ze&&(E.Q6J("ngIf",At.hasBackdrop),E.xp6(3),E.Q6J("ngIf",!At._content))},dependencies:[R.O5,nt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),mt})(),ct=(()=>{class mt extends nt{constructor(Ze,At,on,Cn,qn){super(Ze,At,on,Cn,qn)}}return mt.\u0275fac=function(Ze){return new(Ze||mt)(E.Y36(E.sBO),E.Y36((0,E.Gpc)(()=>He)),E.Y36(E.SBq),E.Y36(f.mF),E.Y36(E.R0b))},mt.\u0275cmp=E.Xpm({type:mt,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(Ze,At){2&Ze&&E.Udp("margin-left",At._container._contentMargins.left,"px")("margin-right",At._container._contentMargins.right,"px")},features:[E._Bn([{provide:f.PQ,useExisting:mt}]),E.qOj],ngContentSelectors:Ae,decls:1,vars:0,template:function(Ze,At){1&Ze&&(E.F$t(),E.Hsn(0))},encapsulation:2,changeDetection:0}),mt})(),it=(()=>{class mt extends lt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(Ze){this._fixedInViewport=(0,Ue.Ig)(Ze)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(Ze){this._fixedTopGap=(0,Ue.su)(Ze)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(Ze){this._fixedBottomGap=(0,Ue.su)(Ze)}}return mt.\u0275fac=function(){let Ht;return function(At){return(Ht||(Ht=E.n5z(mt)))(At||mt)}}(),mt.\u0275cmp=E.Xpm({type:mt,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(Ze,At){2&Ze&&(E.uIk("align",null),E.Udp("top",At.fixedInViewport?At.fixedTopGap:null,"px")("bottom",At.fixedInViewport?At.fixedBottomGap:null,"px"),E.ekj("mat-drawer-end","end"===At.position)("mat-drawer-over","over"===At.mode)("mat-drawer-push","push"===At.mode)("mat-drawer-side","side"===At.mode)("mat-drawer-opened",At.opened)("mat-sidenav-fixed",At.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[E.qOj],ngContentSelectors:Ae,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(Ze,At){1&Ze&&(E.F$t(),E.TgZ(0,"div",0,1),E.Hsn(2),E.qZA())},dependencies:[f.PQ],encapsulation:2,data:{animation:[Ut.transformDrawer]},changeDetection:0}),mt})(),He=(()=>{class mt extends Be{}return mt.\u0275fac=function(){let Ht;return function(At){return(Ht||(Ht=E.n5z(mt)))(At||mt)}}(),mt.\u0275cmp=E.Xpm({type:mt,selectors:[["mat-sidenav-container"]],contentQueries:function(Ze,At,on){if(1&Ze&&(E.Suo(on,ct,5),E.Suo(on,it,5)),2&Ze){let Cn;E.iGM(Cn=E.CRH())&&(At._content=Cn.first),E.iGM(Cn=E.CRH())&&(At._allDrawers=Cn)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(Ze,At){2&Ze&&E.ekj("mat-drawer-container-explicit-backdrop",At._backdropOverride)},exportAs:["matSidenavContainer"],features:[E._Bn([{provide:Vt,useExisting:mt}]),E.qOj],ngContentSelectors:gn,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Ze,At){1&Ze&&(E.F$t(En),E.YNc(0,yn,1,2,"div",0),E.Hsn(1),E.Hsn(2,1),E.YNc(3,sn,2,0,"mat-sidenav-content",1)),2&Ze&&(E.Q6J("ngIf",At.hasBackdrop),E.xp6(3),E.Q6J("ngIf",!At._content))},dependencies:[R.O5,ct],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),mt})(),ht=(()=>{class mt{}return mt.\u0275fac=function(Ze){return new(Ze||mt)},mt.\u0275mod=E.oAB({type:mt}),mt.\u0275inj=E.cJS({imports:[R.ez,me.BQ,f.ZD,f.ZD,me.BQ]}),mt})()},3683:(pn,at,T)=>{T.d(at,{Ye:()=>Ke,g0:()=>ge});var f=T(4650),R=T(3238),E=T(3353),me=T(6895);const ce=["*",[["mat-toolbar-row"]]],Fe=["*","mat-toolbar-row"],Ue=(0,R.pj)(class{constructor(ye){this._elementRef=ye}});let _e=(()=>{class ye{}return ye.\u0275fac=function(We){return new(We||ye)},ye.\u0275dir=f.lG2({type:ye,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),ye})(),Ke=(()=>{class ye extends Ue{constructor(We,Je,gt){super(We),this._platform=Je,this._document=gt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return ye.\u0275fac=function(We){return new(We||ye)(f.Y36(f.SBq),f.Y36(E.t4),f.Y36(me.K0))},ye.\u0275cmp=f.Xpm({type:ye,selectors:[["mat-toolbar"]],contentQueries:function(We,Je,gt){if(1&We&&f.Suo(gt,_e,5),2&We){let tt;f.iGM(tt=f.CRH())&&(Je._toolbarRows=tt)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(We,Je){2&We&&f.ekj("mat-toolbar-multiple-rows",Je._toolbarRows.length>0)("mat-toolbar-single-row",0===Je._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:Fe,decls:2,vars:0,template:function(We,Je){1&We&&(f.F$t(ce),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),ye})(),ge=(()=>{class ye{}return ye.\u0275fac=function(We){return new(We||ye)},ye.\u0275mod=f.oAB({type:ye}),ye.\u0275inj=f.cJS({imports:[R.BQ,R.BQ]}),ye})()},266:(pn,at,T)=>{T.d(at,{AV:()=>Tt,gM:()=>Ut});var f=T(2722),R=T(5698),E=T(1281),me=T(9521),ce=T(4650),Fe=T(6895),Ue=T(3353),_e=T(2693),Ke=T(445),oe=T(8184),ge=T(8605),ye=T(4080),Le=T(7579),Je=(T(7340),T(3238));const gt=["tooltip"],Pe=new ce.OlP("mat-tooltip-scroll-strategy"),Qe={provide:Pe,deps:[oe.aV],useFactory:function kt(nt){return()=>nt.scrollStrategies.reposition({scrollThrottle:20})}},qe=new ce.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Ae(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),It="tooltip-panel",Ye=(0,Ue.i$)({passive:!0});let si=(()=>{class nt{get position(){return this._position}set position(Be){Be!==this._position&&(this._position=Be,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(Be){this._positionAtOrigin=(0,E.Ig)(Be),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(Be){this._disabled=(0,E.Ig)(Be),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Be){this._showDelay=(0,E.su)(Be)}get hideDelay(){return this._hideDelay}set hideDelay(Be){this._hideDelay=(0,E.su)(Be),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Be){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Be?String(Be).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Be){this._tooltipClass=Be,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(Be,ct,it,He,ht,mt,Ht,Ze,At,on,Cn,qn){this._overlay=Be,this._elementRef=ct,this._scrollDispatcher=it,this._viewContainerRef=He,this._ngZone=ht,this._platform=mt,this._ariaDescriber=Ht,this._focusMonitor=Ze,this._dir=on,this._defaultOptions=Cn,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Le.x,this._scrollStrategy=At,this._document=qn,Cn&&(Cn.position&&(this.position=Cn.position),Cn.positionAtOrigin&&(this.positionAtOrigin=Cn.positionAtOrigin),Cn.touchGestures&&(this.touchGestures=Cn.touchGestures)),on.change.pipe((0,f.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,f.R)(this._destroyed)).subscribe(Be=>{Be?"keyboard"===Be&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Be=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ct,it])=>{Be.removeEventListener(ct,it,Ye)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Be,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Be)}show(Be=this.showDelay,ct){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const it=this._createOverlay(ct);this._detach(),this._portal=this._portal||new ye.C5(this._tooltipComponent,this._viewContainerRef);const He=this._tooltipInstance=it.attach(this._portal).instance;He._triggerElement=this._elementRef.nativeElement,He._mouseLeaveHideDelay=this._hideDelay,He.afterHidden().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),He.show(Be)}hide(Be=this.hideDelay){const ct=this._tooltipInstance;ct&&(ct.isVisible()?ct.hide(Be):(ct._cancelPendingAnimations(),this._detach()))}toggle(Be){this._isTooltipVisible()?this.hide():this.show(void 0,Be)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(Be){if(this._overlayRef){const He=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!Be)&&He._origin instanceof ce.SBq)return this._overlayRef;this._detach()}const ct=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),it=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&Be||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ct);return it.positionChanges.pipe((0,f.R)(this._destroyed)).subscribe(He=>{this._updateCurrentPositionClass(He.connectionPair),this._tooltipInstance&&He.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:it,panelClass:`${this._cssClassPrefix}-${It}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,f.R)(this._destroyed)).subscribe(He=>{this._isTooltipVisible()&&He.keyCode===me.hY&&!(0,me.Vb)(He)&&(He.preventDefault(),He.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Be){const ct=Be.getConfig().positionStrategy,it=this._getOrigin(),He=this._getOverlayPosition();ct.withPositions([this._addOffset({...it.main,...He.main}),this._addOffset({...it.fallback,...He.fallback})])}_addOffset(Be){return Be}_getOrigin(){const Be=!this._dir||"ltr"==this._dir.value,ct=this.position;let it;"above"==ct||"below"==ct?it={originX:"center",originY:"above"==ct?"top":"bottom"}:"before"==ct||"left"==ct&&Be||"right"==ct&&!Be?it={originX:"start",originY:"center"}:("after"==ct||"right"==ct&&Be||"left"==ct&&!Be)&&(it={originX:"end",originY:"center"});const{x:He,y:ht}=this._invertPosition(it.originX,it.originY);return{main:it,fallback:{originX:He,originY:ht}}}_getOverlayPosition(){const Be=!this._dir||"ltr"==this._dir.value,ct=this.position;let it;"above"==ct?it={overlayX:"center",overlayY:"bottom"}:"below"==ct?it={overlayX:"center",overlayY:"top"}:"before"==ct||"left"==ct&&Be||"right"==ct&&!Be?it={overlayX:"end",overlayY:"center"}:("after"==ct||"right"==ct&&Be||"left"==ct&&!Be)&&(it={overlayX:"start",overlayY:"center"});const{x:He,y:ht}=this._invertPosition(it.overlayX,it.overlayY);return{main:it,fallback:{overlayX:He,overlayY:ht}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,R.q)(1),(0,f.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Be){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Be,this._tooltipInstance._markForCheck())}_invertPosition(Be,ct){return"above"===this.position||"below"===this.position?"top"===ct?ct="bottom":"bottom"===ct&&(ct="top"):"end"===Be?Be="start":"start"===Be&&(Be="end"),{x:Be,y:ct}}_updateCurrentPositionClass(Be){const{overlayY:ct,originX:it,originY:He}=Be;let ht;if(ht="center"===ct?this._dir&&"rtl"===this._dir.value?"end"===it?"left":"right":"start"===it?"left":"right":"bottom"===ct&&"top"===He?"above":"below",ht!==this._currentPosition){const mt=this._overlayRef;if(mt){const Ht=`${this._cssClassPrefix}-${It}-`;mt.removePanelClass(Ht+this._currentPosition),mt.addPanelClass(Ht+ht)}this._currentPosition=ht}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",Be=>{let ct;this._setupPointerExitEventsIfNeeded(),void 0!==Be.x&&void 0!==Be.y&&(ct=Be),this.show(void 0,ct)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",Be=>{const ct=Be.targetTouches?.[0],it=ct?{x:ct.clientX,y:ct.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,it),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Be=[];if(this._platformSupportsMouseEvents())Be.push(["mouseleave",ct=>{const it=ct.relatedTarget;(!it||!this._overlayRef?.overlayElement.contains(it))&&this.hide()}],["wheel",ct=>this._wheelListener(ct)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ct=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Be.push(["touchend",ct],["touchcancel",ct])}this._addListeners(Be),this._passiveListeners.push(...Be)}_addListeners(Be){Be.forEach(([ct,it])=>{this._elementRef.nativeElement.addEventListener(ct,it,Ye)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Be){if(this._isTooltipVisible()){const ct=this._document.elementFromPoint(Be.clientX,Be.clientY),it=this._elementRef.nativeElement;ct!==it&&!it.contains(ct)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Be=this.touchGestures;if("off"!==Be){const ct=this._elementRef.nativeElement,it=ct.style;("on"===Be||"INPUT"!==ct.nodeName&&"TEXTAREA"!==ct.nodeName)&&(it.userSelect=it.msUserSelect=it.webkitUserSelect=it.MozUserSelect="none"),("on"===Be||!ct.draggable)&&(it.webkitUserDrag="none"),it.touchAction="none",it.webkitTapHighlightColor="transparent"}}}return nt.\u0275fac=function(Be){ce.$Z()},nt.\u0275dir=ce.lG2({type:nt,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),nt})(),Ut=(()=>{class nt extends si{constructor(Be,ct,it,He,ht,mt,Ht,Ze,At,on,Cn,qn){super(Be,ct,it,He,ht,mt,Ht,Ze,At,on,Cn,qn),this._tooltipComponent=Bt,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(Be){const it=!this._dir||"ltr"==this._dir.value;return"top"===Be.originY?Be.offsetY=-8:"bottom"===Be.originY?Be.offsetY=8:"start"===Be.originX?Be.offsetX=it?-8:8:"end"===Be.originX&&(Be.offsetX=it?8:-8),Be}}return nt.\u0275fac=function(Be){return new(Be||nt)(ce.Y36(oe.aV),ce.Y36(ce.SBq),ce.Y36(ge.mF),ce.Y36(ce.s_b),ce.Y36(ce.R0b),ce.Y36(Ue.t4),ce.Y36(_e.$s),ce.Y36(_e.tE),ce.Y36(Pe),ce.Y36(Ke.Is,8),ce.Y36(qe,8),ce.Y36(Fe.K0))},nt.\u0275dir=ce.lG2({type:nt,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[ce.qOj]}),nt})(),Dt=(()=>{class nt{constructor(Be,ct){this._changeDetectorRef=Be,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Le.x,this._animationsDisabled="NoopAnimations"===ct}show(Be){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Be)}hide(Be){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Be)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Be}){(!Be||!this._triggerElement.contains(Be))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:Be}){(Be===this._showAnimation||Be===this._hideAnimation)&&this._finalizeAnimation(Be===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(Be){Be?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Be){const ct=this._tooltip.nativeElement,it=this._showAnimation,He=this._hideAnimation;if(ct.classList.remove(Be?He:it),ct.classList.add(Be?it:He),this._isVisible=Be,Be&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ht=getComputedStyle(ct);("0s"===ht.getPropertyValue("animation-duration")||"none"===ht.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Be&&this._onShow(),this._animationsDisabled&&(ct.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Be))}}return nt.\u0275fac=function(Be){return new(Be||nt)(ce.Y36(ce.sBO),ce.Y36(ce.QbO,8))},nt.\u0275dir=ce.lG2({type:nt}),nt})(),Bt=(()=>{class nt extends Dt{constructor(Be,ct,it){super(Be,it),this._elementRef=ct,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const Be=this._elementRef.nativeElement.getBoundingClientRect();return Be.height>24&&Be.width>=200}}return nt.\u0275fac=function(Be){return new(Be||nt)(ce.Y36(ce.sBO),ce.Y36(ce.SBq),ce.Y36(ce.QbO,8))},nt.\u0275cmp=ce.Xpm({type:nt,selectors:[["mat-tooltip-component"]],viewQuery:function(Be,ct){if(1&Be&&ce.Gf(gt,7),2&Be){let it;ce.iGM(it=ce.CRH())&&(ct._tooltip=it.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Be,ct){1&Be&&ce.NdJ("mouseleave",function(He){return ct._handleMouseLeave(He)}),2&Be&&ce.Udp("zoom",ct.isVisible()?1:null)},features:[ce.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Be,ct){1&Be&&(ce.TgZ(0,"div",0,1),ce.NdJ("animationend",function(He){return ct._handleAnimationEnd(He)}),ce.TgZ(2,"div",2),ce._uU(3),ce.qZA()()),2&Be&&(ce.ekj("mdc-tooltip--multiline",ct._isMultiline),ce.Q6J("ngClass",ct.tooltipClass),ce.xp6(3),ce.Oqu(ct.message))},dependencies:[Fe.mk],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),nt})(),Tt=(()=>{class nt{}return nt.\u0275fac=function(Be){return new(Be||nt)},nt.\u0275mod=ce.oAB({type:nt}),nt.\u0275inj=ce.cJS({providers:[Qe],imports:[_e.rt,Fe.ez,oe.U8,Je.BQ,Je.BQ,ge.ZD]}),nt})()},1481:(pn,at,T)=>{T.d(at,{Dx:()=>Zt,H7:()=>ue,b2:()=>Oe,q6:()=>rt,se:()=>gn});var f=T(6895),R=T(4650);class E extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends E{static makeCurrent(){(0,f.HT)(new me)}onAndCancel(J,Q,xe){return J.addEventListener(Q,xe,!1),()=>{J.removeEventListener(Q,xe,!1)}}dispatchEvent(J,Q){J.dispatchEvent(Q)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,Q){return(Q=Q||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,Q){return"window"===Q?window:"document"===Q?J:"body"===Q?J.body:null}getBaseHref(J){const Q=function Fe(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==Q?null:function _e(j){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",j);const J=Ue.pathname;return"/"===J.charAt(0)?J:`/${J}`}(Q)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,f.Mx)(document.cookie,J)}}let Ue,ce=null;const Ke=new R.OlP("TRANSITION_ID"),ge=[{provide:R.ip1,useFactory:function oe(j,J,Q){return()=>{Q.get(R.CZH).donePromise.then(()=>{const xe=(0,f.q)(),pt=J.querySelectorAll(`style[ng-transition="${j}"]`);for(let Qt=0;Qt<pt.length;Qt++)xe.remove(pt[Qt])})}},deps:[Ke,f.K0,R.zs3],multi:!0}];let Le=(()=>{class j{build(){return new XMLHttpRequest}}return j.\u0275fac=function(Q){return new(Q||j)},j.\u0275prov=R.Yz7({token:j,factory:j.\u0275fac}),j})();const We=new R.OlP("EventManagerPlugins");let Je=(()=>{class j{constructor(Q,xe){this._zone=xe,this._eventNameToPlugin=new Map,Q.forEach(pt=>{pt.manager=this}),this._plugins=Q.slice().reverse()}addEventListener(Q,xe,pt){return this._findPluginFor(xe).addEventListener(Q,xe,pt)}addGlobalEventListener(Q,xe,pt){return this._findPluginFor(xe).addGlobalEventListener(Q,xe,pt)}getZone(){return this._zone}_findPluginFor(Q){const xe=this._eventNameToPlugin.get(Q);if(xe)return xe;const pt=this._plugins;for(let Qt=0;Qt<pt.length;Qt++){const vn=pt[Qt];if(vn.supports(Q))return this._eventNameToPlugin.set(Q,vn),vn}throw new Error(`No event manager plugin found for event ${Q}`)}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(We),R.LFG(R.R0b))},j.\u0275prov=R.Yz7({token:j,factory:j.\u0275fac}),j})();class gt{constructor(J){this._doc=J}addGlobalEventListener(J,Q,xe){const pt=(0,f.q)().getGlobalEventTarget(this._doc,J);if(!pt)throw new Error(`Unsupported event target ${pt} for event ${Q}`);return this.addEventListener(pt,Q,xe)}}let tt=(()=>{class j{constructor(){this.usageCount=new Map}addStyles(Q){for(const xe of Q)1===this.changeUsageCount(xe,1)&&this.onStyleAdded(xe)}removeStyles(Q){for(const xe of Q)0===this.changeUsageCount(xe,-1)&&this.onStyleRemoved(xe)}onStyleRemoved(Q){}onStyleAdded(Q){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Q,xe){const pt=this.usageCount;let Qt=pt.get(Q)??0;return Qt+=xe,Qt>0?pt.set(Q,Qt):pt.delete(Q),Qt}ngOnDestroy(){for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.usageCount.clear()}}return j.\u0275fac=function(Q){return new(Q||j)},j.\u0275prov=R.Yz7({token:j,factory:j.\u0275fac}),j})(),Ge=(()=>{class j extends tt{constructor(Q){super(),this.doc=Q,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Q){for(const xe of this.hostNodes)this.addStyleToHost(xe,Q)}onStyleRemoved(Q){const xe=this.styleRef;xe.get(Q)?.forEach(Qt=>Qt.remove()),xe.delete(Q)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Q){this.hostNodes.add(Q);for(const xe of this.getAllStyles())this.addStyleToHost(Q,xe)}removeHost(Q){this.hostNodes.delete(Q)}addStyleToHost(Q,xe){const pt=this.doc.createElement("style");pt.textContent=xe,Q.appendChild(pt);const Qt=this.styleRef.get(xe);Qt?Qt.push(pt):this.styleRef.set(xe,[pt])}resetHostNodes(){const Q=this.hostNodes;Q.clear(),Q.add(this.doc.head)}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(f.K0))},j.\u0275prov=R.Yz7({token:j,factory:j.\u0275fac}),j})();const Pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g,Ye=new R.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function sn(j,J){return J.flat(100).map(Q=>Q.replace(kt,j))}function En(j){return J=>{if("__ngUnwrap__"===J)return j;!1===j(J)&&(J.preventDefault(),J.returnValue=!1)}}let gn=(()=>{class j{constructor(Q,xe,pt,Qt){this.eventManager=Q,this.sharedStylesHost=xe,this.appId=pt,this.removeStylesOnCompDestory=Qt,this.rendererByCompId=new Map,this.defaultRenderer=new si(Q)}createRenderer(Q,xe){if(!Q||!xe)return this.defaultRenderer;const pt=this.getOrCreateRenderer(Q,xe);return pt instanceof nt?pt.applyToHost(Q):pt instanceof Tt&&pt.applyStyles(),pt}getOrCreateRenderer(Q,xe){const pt=this.rendererByCompId;let Qt=pt.get(xe.id);if(!Qt){const vn=this.eventManager,An=this.sharedStylesHost,vi=this.removeStylesOnCompDestory;switch(xe.encapsulation){case R.ifc.Emulated:Qt=new nt(vn,An,xe,this.appId,vi);break;case R.ifc.ShadowDom:return new Vt(vn,An,Q,xe);default:Qt=new Tt(vn,An,xe,vi)}Qt.onDestroy=()=>pt.delete(xe.id),pt.set(xe.id,Qt)}return Qt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(Je),R.LFG(Ge),R.LFG(R.AFp),R.LFG(Ye))},j.\u0275prov=R.Yz7({token:j,factory:j.\u0275fac}),j})();class si{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,Q){return Q?document.createElementNS(Pe[Q]||Q,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,Q){(Bt(J)?J.content:J).appendChild(Q)}insertBefore(J,Q,xe){J&&(Bt(J)?J.content:J).insertBefore(Q,xe)}removeChild(J,Q){J&&J.removeChild(Q)}selectRootElement(J,Q){let xe="string"==typeof J?document.querySelector(J):J;if(!xe)throw new Error(`The selector "${J}" did not match any elements`);return Q||(xe.textContent=""),xe}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,Q,xe,pt){if(pt){Q=pt+":"+Q;const Qt=Pe[pt];Qt?J.setAttributeNS(Qt,Q,xe):J.setAttribute(Q,xe)}else J.setAttribute(Q,xe)}removeAttribute(J,Q,xe){if(xe){const pt=Pe[xe];pt?J.removeAttributeNS(pt,Q):J.removeAttribute(`${xe}:${Q}`)}else J.removeAttribute(Q)}addClass(J,Q){J.classList.add(Q)}removeClass(J,Q){J.classList.remove(Q)}setStyle(J,Q,xe,pt){pt&(R.JOm.DashCase|R.JOm.Important)?J.style.setProperty(Q,xe,pt&R.JOm.Important?"important":""):J.style[Q]=xe}removeStyle(J,Q,xe){xe&R.JOm.DashCase?J.style.removeProperty(Q):J.style[Q]=""}setProperty(J,Q,xe){J[Q]=xe}setValue(J,Q){J.nodeValue=Q}listen(J,Q,xe){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,Q,En(xe)):this.eventManager.addEventListener(J,Q,En(xe))}}function Bt(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class Vt extends si{constructor(J,Q,xe,pt){super(J),this.sharedStylesHost=Q,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qt=sn(pt.id,pt.styles);for(const vn of Qt){const An=document.createElement("style");An.textContent=vn,this.shadowRoot.appendChild(An)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,Q){return super.appendChild(this.nodeOrShadowRoot(J),Q)}insertBefore(J,Q,xe){return super.insertBefore(this.nodeOrShadowRoot(J),Q,xe)}removeChild(J,Q){return super.removeChild(this.nodeOrShadowRoot(J),Q)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tt extends si{constructor(J,Q,xe,pt,Qt=xe.id){super(J),this.sharedStylesHost=Q,this.removeStylesOnCompDestory=pt,this.rendererUsageCount=0,this.styles=sn(Qt,xe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class nt extends Tt{constructor(J,Q,xe,pt,Qt){const vn=pt+"-"+xe.id;super(J,Q,xe,Qt,vn),this.contentAttr=function Xt(j){return"_ngcontent-%COMP%".replace(kt,j)}(vn),this.hostAttr=function yn(j){return"_nghost-%COMP%".replace(kt,j)}(vn)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,Q){const xe=super.createElement(J,Q);return super.setAttribute(xe,this.contentAttr,""),xe}}let lt=(()=>{class j extends gt{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,xe,pt){return Q.addEventListener(xe,pt,!1),()=>this.removeEventListener(Q,xe,pt)}removeEventListener(Q,xe,pt){return Q.removeEventListener(xe,pt)}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(f.K0))},j.\u0275prov=R.Yz7({token:j,factory:j.\u0275fac}),j})();const Be=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},it={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let He=(()=>{class j extends gt{constructor(Q){super(Q)}supports(Q){return null!=j.parseEventName(Q)}addEventListener(Q,xe,pt){const Qt=j.parseEventName(xe),vn=j.eventCallback(Qt.fullKey,pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(Q,Qt.domEventName,vn))}static parseEventName(Q){const xe=Q.toLowerCase().split("."),pt=xe.shift();if(0===xe.length||"keydown"!==pt&&"keyup"!==pt)return null;const Qt=j._normalizeKey(xe.pop());let vn="",An=xe.indexOf("code");if(An>-1&&(xe.splice(An,1),vn="code."),Be.forEach(ur=>{const Wt=xe.indexOf(ur);Wt>-1&&(xe.splice(Wt,1),vn+=ur+".")}),vn+=Qt,0!=xe.length||0===Qt.length)return null;const vi={};return vi.domEventName=pt,vi.fullKey=vn,vi}static matchEventFullKeyCode(Q,xe){let pt=ct[Q.key]||Q.key,Qt="";return xe.indexOf("code.")>-1&&(pt=Q.code,Qt="code."),!(null==pt||!pt)&&(pt=pt.toLowerCase()," "===pt?pt="space":"."===pt&&(pt="dot"),Be.forEach(vn=>{vn!==pt&&(0,it[vn])(Q)&&(Qt+=vn+".")}),Qt+=pt,Qt===xe)}static eventCallback(Q,xe,pt){return Qt=>{j.matchEventFullKeyCode(Qt,Q)&&pt.runGuarded(()=>xe(Qt))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(f.K0))},j.\u0275prov=R.Yz7({token:j,factory:j.\u0275fac}),j})();const rt=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:f.bD},{provide:R.g9A,useValue:function on(){me.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function qn(){return(0,R.RDi)(document),document},deps:[]}]),Et=new R.OlP(""),Te=[{provide:R.rWj,useClass:class ye{addToWindow(J){R.dqk.getAngularTestability=(xe,pt=!0)=>{const Qt=J.findTestabilityInTree(xe,pt);if(null==Qt)throw new Error("Could not find testability for element.");return Qt},R.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(xe=>{const pt=R.dqk.getAllAngularTestabilities();let Qt=pt.length,vn=!1;const An=function(vi){vn=vn||vi,Qt--,0==Qt&&xe(vn)};pt.forEach(function(vi){vi.whenStable(An)})})}findTestabilityInTree(J,Q,xe){return null==Q?null:J.getTestability(Q)??(xe?(0,f.q)().isShadowRoot(Q)?this.findTestabilityInTree(J,Q.host,!0):this.findTestabilityInTree(J,Q.parentElement,!0):null)}},deps:[]},{provide:R.lri,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]}],ne=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function Cn(){return new R.qLn},deps:[]},{provide:We,useClass:lt,multi:!0,deps:[f.K0,R.R0b,R.Lbi]},{provide:We,useClass:He,multi:!0,deps:[f.K0]},{provide:gn,useClass:gn,deps:[Je,Ge,R.AFp,Ye]},{provide:R.FYo,useExisting:gn},{provide:tt,useExisting:Ge},{provide:Ge,useClass:Ge,deps:[f.K0]},{provide:Je,useClass:Je,deps:[We,R.R0b]},{provide:f.JF,useClass:Le,deps:[]},[]];let Oe=(()=>{class j{constructor(Q){}static withServerTransition(Q){return{ngModule:j,providers:[{provide:R.AFp,useValue:Q.appId},{provide:Ke,useExisting:R.AFp},ge]}}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(Et,12))},j.\u0275mod=R.oAB({type:j}),j.\u0275inj=R.cJS({providers:[...ne,...Te],imports:[f.ez,R.hGG]}),j})(),Zt=(()=>{class j{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(f.K0))},j.\u0275prov=R.Yz7({token:j,factory:function(Q){let xe=null;return xe=Q?new Q:function _t(){return new Zt((0,R.LFG)(f.K0))}(),xe},providedIn:"root"}),j})();typeof window<"u"&&window;let ue=(()=>{class j{}return j.\u0275fac=function(Q){return new(Q||j)},j.\u0275prov=R.Yz7({token:j,factory:function(Q){let xe=null;return xe=Q?new(Q||j):R.LFG(W),xe},providedIn:"root"}),j})(),W=(()=>{class j extends ue{constructor(Q){super(),this._doc=Q}sanitize(Q,xe){if(null==xe)return null;switch(Q){case R.q3G.NONE:return xe;case R.q3G.HTML:return(0,R.qzn)(xe,"HTML")?(0,R.z3N)(xe):(0,R.EiD)(this._doc,String(xe)).toString();case R.q3G.STYLE:return(0,R.qzn)(xe,"Style")?(0,R.z3N)(xe):xe;case R.q3G.SCRIPT:if((0,R.qzn)(xe,"Script"))return(0,R.z3N)(xe);throw new Error("unsafe value used in a script context");case R.q3G.URL:return(0,R.qzn)(xe,"URL")?(0,R.z3N)(xe):(0,R.mCW)(String(xe));case R.q3G.RESOURCE_URL:if((0,R.qzn)(xe,"ResourceURL"))return(0,R.z3N)(xe);throw new Error(`unsafe value used in a resource URL context (see ${R.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Q} (see ${R.JZr})`)}}bypassSecurityTrustHtml(Q){return(0,R.JVY)(Q)}bypassSecurityTrustStyle(Q){return(0,R.L6k)(Q)}bypassSecurityTrustScript(Q){return(0,R.eBb)(Q)}bypassSecurityTrustUrl(Q){return(0,R.LAX)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,R.pB0)(Q)}}return j.\u0275fac=function(Q){return new(Q||j)(R.LFG(f.K0))},j.\u0275prov=R.Yz7({token:j,factory:function(Q){let xe=null;return xe=Q?new Q:function fe(j){return new W(j.get(f.K0))}(R.LFG(R.zs3)),xe},providedIn:"root"}),j})()},1779:(pn,at,T)=>{T.d(at,{gz:()=>$r,F0:()=>nr,rH:()=>oa,Od:()=>$c,Bz:()=>rc,lC:()=>fo});var f=T(4650),R=T(8996),E=T(9646),me=T(1135),ce=T(6805),Fe=T(9841),Ue=T(7272),_e=T(9751),Ke=T(8421);function oe(D){return new _e.y(S=>{(0,Ke.Xf)(D()).subscribe(S)})}var ge=T(9635),ye=T(2843),Le=T(515),We=T(727),Je=T(4482),gt=T(5403);function tt(){return(0,Je.e)((D,S)=>{let w=null;D._refCount++;const L=(0,gt.x)(S,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const Y=D._connection,pe=w;w=null,Y&&(!pe||Y===pe)&&Y.unsubscribe(),S.unsubscribe()});D.subscribe(L),L.closed||(w=D.connect())})}class Ge extends _e.y{constructor(S,w){super(),this.source=S,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Je.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new We.w0;const w=this.getSubject();S.add(this.source.subscribe((0,gt.x)(w,void 0,()=>{this._teardown(),w.complete()},L=>{this._teardown(),w.error(L)},()=>this._teardown()))),S.closed&&(this._connection=null,S=We.w0.EMPTY)}return S}refCount(){return tt()(this)}}var Pe=T(7579),kt=T(6895),Qe=T(4004),Ae=T(3900),qe=T(5698),Nt=T(8675),It=T(9300),Ye=T(5577),Xt=T(590),yn=T(4351),sn=T(8505),En=T(262),gn=T(5026);function si(D){return D<=0?()=>Le.E:(0,Je.e)((S,w)=>{let L=[];S.subscribe((0,gt.x)(w,Y=>{L.push(Y),D<L.length&&L.shift()},()=>{for(const Y of L)w.next(Y);w.complete()},void 0,()=>{L=null}))})}var Ut=T(8068),Dt=T(6590),Bt=T(4671);function Vt(D,S){const w=arguments.length>=2;return L=>L.pipe(D?(0,It.h)((Y,pe)=>D(Y,pe,L)):Bt.y,si(1),w?(0,Dt.d)(S):(0,Ut.T)(()=>new ce.K))}var nt=T(9718),lt=T(8746),Be=T(8189),ct=T(1481);const it="primary",He=Symbol("RouteTitle");class ht{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w[0]:w}return null}getAll(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function mt(D){return new ht(D)}function Ht(D,S,w){const L=w.path.split("/");if(L.length>D.length||"full"===w.pathMatch&&(S.hasChildren()||L.length<D.length))return null;const Y={};for(let pe=0;pe<L.length;pe++){const Ie=L[pe],xt=D[pe];if(Ie.startsWith(":"))Y[Ie.substring(1)]=xt;else if(Ie!==xt.path)return null}return{consumed:D.slice(0,L.length),posParams:Y}}function At(D,S){const w=D?Object.keys(D):void 0,L=S?Object.keys(S):void 0;if(!w||!L||w.length!=L.length)return!1;let Y;for(let pe=0;pe<w.length;pe++)if(Y=w[pe],!on(D[Y],S[Y]))return!1;return!0}function on(D,S){if(Array.isArray(D)&&Array.isArray(S)){if(D.length!==S.length)return!1;const w=[...D].sort(),L=[...S].sort();return w.every((Y,pe)=>L[pe]===Y)}return D===S}function Cn(D){return Array.prototype.concat.apply([],D)}function qn(D){return D.length>0?D[D.length-1]:null}function rt(D,S){for(const w in D)D.hasOwnProperty(w)&&S(D[w],w)}function Et(D){return(0,f.CqO)(D)?D:(0,f.QGY)(D)?(0,R.D)(Promise.resolve(D)):(0,E.of)(D)}const Te=!1,ne={exact:function zt(D,S,w){if(!wt(D.segments,S.segments)||!$e(D.segments,S.segments,w)||D.numberOfChildren!==S.numberOfChildren)return!1;for(const L in S.children)if(!D.children[L]||!zt(D.children[L],S.children[L],w))return!1;return!0},subset:Zt},Oe={exact:function Pt(D,S){return At(D,S)},subset:function _t(D,S){return Object.keys(S).length<=Object.keys(D).length&&Object.keys(S).every(w=>on(D[w],S[w]))},ignored:()=>!0};function ut(D,S,w){return ne[w.paths](D.root,S.root,w.matrixParams)&&Oe[w.queryParams](D.queryParams,S.queryParams)&&!("exact"===w.fragment&&D.fragment!==S.fragment)}function Zt(D,S,w){return Me(D,S,S.segments,w)}function Me(D,S,w,L){if(D.segments.length>w.length){const Y=D.segments.slice(0,w.length);return!(!wt(Y,w)||S.hasChildren()||!$e(Y,w,L))}if(D.segments.length===w.length){if(!wt(D.segments,w)||!$e(D.segments,w,L))return!1;for(const Y in S.children)if(!D.children[Y]||!Zt(D.children[Y],S.children[Y],L))return!1;return!0}{const Y=w.slice(0,D.segments.length),pe=w.slice(D.segments.length);return!!(wt(D.segments,Y)&&$e(D.segments,Y,L)&&D.children[it])&&Me(D.children[it],S,pe,L)}}function $e(D,S,w){return S.every((L,Y)=>Oe[w](D[Y].parameters,L.parameters))}class he{constructor(S=new ve([],{}),w={},L=null){this.root=S,this.queryParams=w,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return Wn.serialize(this)}}class ve{constructor(S,w){this.segments=S,this.children=w,this.parent=null,rt(w,(L,Y)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ni(this)}}class ft{constructor(S,w){this.path=S,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=mt(this.parameters)),this._parameterMap}toString(){return Jt(this)}}function wt(D,S){return D.length===S.length&&D.every((w,L)=>w.path===S[L].path)}let fn=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return new Zn},providedIn:"root"}),D})();class Zn{parse(S){const w=new Q(S);return new he(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(S){const w=`/${Ft(S.root,!0)}`,L=function ze(D){const S=Object.keys(D).map(w=>{const L=D[w];return Array.isArray(L)?L.map(Y=>`${H(w)}=${H(Y)}`).join("&"):`${H(w)}=${H(L)}`}).filter(w=>!!w);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${w}${L}${"string"==typeof S.fragment?`#${function X(D){return encodeURI(D)}(S.fragment)}`:""}`}}const Wn=new Zn;function ni(D){return D.segments.map(S=>Jt(S)).join("/")}function Ft(D,S){if(!D.hasChildren())return ni(D);if(S){const w=D.children[it]?Ft(D.children[it],!1):"",L=[];return rt(D.children,(Y,pe)=>{pe!==it&&L.push(`${pe}:${Ft(Y,!1)}`)}),L.length>0?`${w}(${L.join("//")})`:w}{const w=function xn(D,S){let w=[];return rt(D.children,(L,Y)=>{Y===it&&(w=w.concat(S(L,Y)))}),rt(D.children,(L,Y)=>{Y!==it&&(w=w.concat(S(L,Y)))}),w}(D,(L,Y)=>Y===it?[Ft(D.children[it],!1)]:[`${Y}:${Ft(L,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[it]?`${ni(D)}/${w[0]}`:`${ni(D)}/(${w.join("//")})`}}function Re(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H(D){return Re(D).replace(/%3B/gi,";")}function ae(D){return Re(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ne(D){return decodeURIComponent(D)}function $t(D){return Ne(D.replace(/\+/g,"%20"))}function Jt(D){return`${ae(D.path)}${function Ve(D){return Object.keys(D).map(S=>`;${ae(S)}=${ae(D[S])}`).join("")}(D.parameters)}`}const ue=/^[^\/()?;=#]+/;function fe(D){const S=D.match(ue);return S?S[0]:""}const W=/^[^=?&#]+/,j=/^[^&#]+/;class Q{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(S.length>0||Object.keys(w).length>0)&&(L[it]=new ve(S,w)),L}parseSegment(){const S=fe(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new f.vHH(4009,Te);return this.capture(S),new ft(Ne(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const w=fe(this.remaining);if(!w)return;this.capture(w);let L="";if(this.consumeOptional("=")){const Y=fe(this.remaining);Y&&(L=Y,this.capture(L))}S[Ne(w)]=Ne(L)}parseQueryParam(S){const w=function le(D){const S=D.match(W);return S?S[0]:""}(this.remaining);if(!w)return;this.capture(w);let L="";if(this.consumeOptional("=")){const Ie=function J(D){const S=D.match(j);return S?S[0]:""}(this.remaining);Ie&&(L=Ie,this.capture(L))}const Y=$t(w),pe=$t(L);if(S.hasOwnProperty(Y)){let Ie=S[Y];Array.isArray(Ie)||(Ie=[Ie],S[Y]=Ie),Ie.push(pe)}else S[Y]=pe}parseParens(S){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=fe(this.remaining),Y=this.remaining[L.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new f.vHH(4010,Te);let pe;L.indexOf(":")>-1?(pe=L.slice(0,L.indexOf(":")),this.capture(pe),this.capture(":")):S&&(pe=it);const Ie=this.parseChildren();w[pe]=1===Object.keys(Ie).length?Ie[it]:new ve([],Ie),this.consumeOptional("//")}return w}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new f.vHH(4011,Te)}}function xe(D){return D.segments.length>0?new ve([],{[it]:D}):D}function pt(D){const S={};for(const L of Object.keys(D.children)){const pe=pt(D.children[L]);(pe.segments.length>0||pe.hasChildren())&&(S[L]=pe)}return function Qt(D){if(1===D.numberOfChildren&&D.children[it]){const S=D.children[it];return new ve(D.segments.concat(S.segments),S.children)}return D}(new ve(D.segments,S))}function vn(D){return D instanceof he}const An=!1;function jt(D,S,w,L,Y){if(0===w.length)return Jn(S.root,S.root,S.root,L,Y);const pe=function ki(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new $n(!0,0,D);let S=0,w=!1;const L=D.reduce((Y,pe,Ie)=>{if("object"==typeof pe&&null!=pe){if(pe.outlets){const xt={};return rt(pe.outlets,(un,Vn)=>{xt[Vn]="string"==typeof un?un.split("/"):un}),[...Y,{outlets:xt}]}if(pe.segmentPath)return[...Y,pe.segmentPath]}return"string"!=typeof pe?[...Y,pe]:0===Ie?(pe.split("/").forEach((xt,un)=>{0==un&&"."===xt||(0==un&&""===xt?w=!0:".."===xt?S++:""!=xt&&Y.push(xt))}),Y):[...Y,pe]},[]);return new $n(w,S,L)}(w);return pe.toRoot()?Jn(S.root,S.root,new ve([],{}),L,Y):function Ie(un){const Vn=function vr(D,S,w,L){if(D.isAbsolute)return new ai(S.root,!0,0);if(-1===L)return new ai(w,w===S.root,0);return function Kr(D,S,w){let L=D,Y=S,pe=w;for(;pe>Y;){if(pe-=Y,L=L.parent,!L)throw new f.vHH(4005,An&&"Invalid number of '../'");Y=L.segments.length}return new ai(L,!1,Y-pe)}(w,L+(wn(D.commands[0])?0:1),D.numberOfDoubleDots)}(pe,S,D.snapshot?._urlSegment,un),jn=Vn.processChildren?qi(Vn.segmentGroup,Vn.index,pe.commands):Yr(Vn.segmentGroup,Vn.index,pe.commands);return Jn(S.root,Vn.segmentGroup,jn,L,Y)}(D.snapshot?._lastPathIndex)}function wn(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function zn(D){return"object"==typeof D&&null!=D&&D.outlets}function Jn(D,S,w,L,Y){let Ie,pe={};L&&rt(L,(un,Vn)=>{pe[Vn]=Array.isArray(un)?un.map(jn=>`${jn}`):`${un}`}),Ie=D===S?w:mi(D,S,w);const xt=xe(pt(Ie));return new he(xt,pe,Y)}function mi(D,S,w){const L={};return rt(D.children,(Y,pe)=>{L[pe]=Y===S?w:mi(Y,S,w)}),new ve(D.segments,L)}class $n{constructor(S,w,L){if(this.isAbsolute=S,this.numberOfDoubleDots=w,this.commands=L,S&&L.length>0&&wn(L[0]))throw new f.vHH(4003,An&&"Root segment cannot have matrix parameters");const Y=L.find(zn);if(Y&&Y!==qn(L))throw new f.vHH(4004,An&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ai{constructor(S,w,L){this.segmentGroup=S,this.processChildren=w,this.index=L}}function Yr(D,S,w){if(D||(D=new ve([],{})),0===D.segments.length&&D.hasChildren())return qi(D,S,w);const L=function Pn(D,S,w){let L=0,Y=S;const pe={match:!1,pathIndex:0,commandIndex:0};for(;Y<D.segments.length;){if(L>=w.length)return pe;const Ie=D.segments[Y],xt=w[L];if(zn(xt))break;const un=`${xt}`,Vn=L<w.length-1?w[L+1]:null;if(Y>0&&void 0===un)break;if(un&&Vn&&"object"==typeof Vn&&void 0===Vn.outlets){if(!ts(un,Vn,Ie))return pe;L+=2}else{if(!ts(un,{},Ie))return pe;L++}Y++}return{match:!0,pathIndex:Y,commandIndex:L}}(D,S,w),Y=w.slice(L.commandIndex);if(L.match&&L.pathIndex<D.segments.length){const pe=new ve(D.segments.slice(0,L.pathIndex),{});return pe.children[it]=new ve(D.segments.slice(L.pathIndex),D.children),qi(pe,0,Y)}return L.match&&0===Y.length?new ve(D.segments,{}):L.match&&!D.hasChildren()?pi(D,S,w):L.match?qi(D,0,Y):pi(D,S,w)}function qi(D,S,w){if(0===w.length)return new ve(D.segments,{});{const L=function mr(D){return zn(D[0])?D[0].outlets:{[it]:D}}(w),Y={};if(!L[it]&&D.children[it]&&1===D.numberOfChildren&&0===D.children[it].segments.length){const pe=qi(D.children[it],S,w);return new ve(D.segments,pe.children)}return rt(L,(pe,Ie)=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(Y[Ie]=Yr(D.children[Ie],S,pe))}),rt(D.children,(pe,Ie)=>{void 0===L[Ie]&&(Y[Ie]=pe)}),new ve(D.segments,Y)}}function pi(D,S,w){const L=D.segments.slice(0,S);let Y=0;for(;Y<w.length;){const pe=w[Y];if(zn(pe)){const un=Zi(pe.outlets);return new ve(L,un)}if(0===Y&&wn(w[0])){L.push(new ft(D.segments[S].path,Oi(w[0]))),Y++;continue}const Ie=zn(pe)?pe.outlets[it]:`${pe}`,xt=Y<w.length-1?w[Y+1]:null;Ie&&xt&&wn(xt)?(L.push(new ft(Ie,Oi(xt))),Y+=2):(L.push(new ft(Ie,{})),Y++)}return new ve(L,{})}function Zi(D){const S={};return rt(D,(w,L)=>{"string"==typeof w&&(w=[w]),null!==w&&(S[L]=pi(new ve([],{}),0,w))}),S}function Oi(D){const S={};return rt(D,(w,L)=>S[L]=`${w}`),S}function ts(D,S,w){return D==w.path&&At(S,w.parameters)}const Hi="imperative";class Sr{constructor(S,w){this.id=S,this.url=w}}class $i extends Sr{constructor(S,w,L="imperative",Y=null){super(S,w),this.type=0,this.navigationTrigger=L,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ct extends Sr{constructor(S,w,L){super(S,w),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dt extends Sr{constructor(S,w,L,Y){super(S,w),this.reason=L,this.code=Y,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yt extends Sr{constructor(S,w,L,Y){super(S,w),this.reason=L,this.code=Y,this.type=16}}class cn extends Sr{constructor(S,w,L,Y){super(S,w),this.error=L,this.target=Y,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class In extends Sr{constructor(S,w,L,Y){super(S,w),this.urlAfterRedirects=L,this.state=Y,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends Sr{constructor(S,w,L,Y){super(S,w),this.urlAfterRedirects=L,this.state=Y,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends Sr{constructor(S,w,L,Y,pe){super(S,w),this.urlAfterRedirects=L,this.state=Y,this.shouldActivate=pe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class di extends Sr{constructor(S,w,L,Y){super(S,w),this.urlAfterRedirects=L,this.state=Y,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends Sr{constructor(S,w,L,Y){super(S,w),this.urlAfterRedirects=L,this.state=Y,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ys{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fr{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lr{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wr{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(S,w,L){this.routerEvent=S,this.position=w,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let co=(()=>{class D{createUrlTree(w,L,Y,pe,Ie,xt){return jt(w||L.root,Y,pe,Ie,xt)}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})(),Br=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:function(S){return co.\u0275fac(S)},providedIn:"root"}),D})();class Ba{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const w=this.pathFromRoot(S);return w.length>1?w[w.length-2]:null}children(S){const w=zr(S,this._root);return w?w.children.map(L=>L.value):[]}firstChild(S){const w=zr(S,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(S){const w=Mr(S,this._root);return w.length<2?[]:w[w.length-2].children.map(Y=>Y.value).filter(Y=>Y!==S)}pathFromRoot(S){return Mr(S,this._root).map(w=>w.value)}}function zr(D,S){if(D===S.value)return S;for(const w of S.children){const L=zr(D,w);if(L)return L}return null}function Mr(D,S){if(D===S.value)return[S];for(const w of S.children){const L=Mr(D,w);if(L.length)return L.unshift(S),L}return[]}class Cr{constructor(S,w){this.value=S,this.children=w}toString(){return`TreeNode(${this.value})`}}function vs(D){const S={};return D&&D.children.forEach(w=>S[w.value.outlet]=w),S}class uo extends Ba{constructor(S,w){super(S),this.snapshot=w,_a(this,S)}toString(){return this.snapshot.toString()}}function gr(D,S){const w=function Wi(D,S){const Ie=new Va([],{},{},"",{},it,S,null,D.root,-1,{});return new Ua("",new Cr(Ie,[]))}(D,S),L=new me.X([new ft("",{})]),Y=new me.X({}),pe=new me.X({}),Ie=new me.X({}),xt=new me.X(""),un=new $r(L,Y,Ie,xt,pe,it,S,w.root);return un.snapshot=w.root,new uo(new Cr(un,[]),w)}class $r{constructor(S,w,L,Y,pe,Ie,xt,un){this.url=S,this.params=w,this.queryParams=L,this.fragment=Y,this.data=pe,this.outlet=Ie,this.component=xt,this.title=this.data?.pipe((0,Qe.U)(Vn=>Vn[He]))??(0,E.of)(void 0),this._futureSnapshot=un}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(S=>mt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(S=>mt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xo(D,S="emptyOnly"){const w=D.pathFromRoot;let L=0;if("always"!==S)for(L=w.length-1;L>=1;){const Y=w[L],pe=w[L-1];if(Y.routeConfig&&""===Y.routeConfig.path)L--;else{if(pe.component)break;L--}}return function ns(D){return D.reduce((S,w)=>({params:{...S.params,...w.params},data:{...S.data,...w.data},resolve:{...w.data,...S.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(L))}class Va{get title(){return this.data?.[He]}constructor(S,w,L,Y,pe,Ie,xt,un,Vn,jn,Ai){this.url=S,this.params=w,this.queryParams=L,this.fragment=Y,this.data=pe,this.outlet=Ie,this.component=xt,this.routeConfig=un,this._urlSegment=Vn,this._lastPathIndex=jn,this._resolve=Ai}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ua extends Ba{constructor(S,w){super(w),this.url=S,_a(this,w)}toString(){return ll(this._root)}}function _a(D,S){S.value._routerState=D,S.children.forEach(w=>_a(D,w))}function ll(D){const S=D.children.length>0?` { ${D.children.map(ll).join(", ")} } `:"";return`${D.value}${S}`}function ea(D){if(D.snapshot){const S=D.snapshot,w=D._futureSnapshot;D.snapshot=w,At(S.queryParams,w.queryParams)||D.queryParams.next(w.queryParams),S.fragment!==w.fragment&&D.fragment.next(w.fragment),At(S.params,w.params)||D.params.next(w.params),function Ze(D,S){if(D.length!==S.length)return!1;for(let w=0;w<D.length;++w)if(!At(D[w],S[w]))return!1;return!0}(S.url,w.url)||D.url.next(w.url),At(S.data,w.data)||D.data.next(w.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function za(D,S){const w=At(D.params,S.params)&&function je(D,S){return wt(D,S)&&D.every((w,L)=>At(w.parameters,S[L].parameters))}(D.url,S.url);return w&&!(!D.parent!=!S.parent)&&(!D.parent||za(D.parent,S.parent))}function ds(D,S,w){if(w&&D.shouldReuseRoute(S.value,w.value.snapshot)){const L=w.value;L._futureSnapshot=S.value;const Y=function ya(D,S,w){return S.children.map(L=>{for(const Y of w.children)if(D.shouldReuseRoute(L.value,Y.value.snapshot))return ds(D,L,Y);return ds(D,L)})}(D,S,w);return new Cr(L,Y)}{if(D.shouldAttach(S.value)){const pe=D.retrieve(S.value);if(null!==pe){const Ie=pe.route;return Ie.value._futureSnapshot=S.value,Ie.children=S.children.map(xt=>ds(D,xt)),Ie}}const L=function qs(D){return new $r(new me.X(D.url),new me.X(D.params),new me.X(D.queryParams),new me.X(D.fragment),new me.X(D.data),D.outlet,D.component,D)}(S.value),Y=S.children.map(pe=>ds(D,pe));return new Cr(L,Y)}}const Qs="ngNavigationCancelingError";function ta(D,S){const{redirectTo:w,navigationBehaviorOptions:L}=vn(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,Y=So(!1,0,S);return Y.url=w,Y.navigationBehaviorOptions=L,Y}function So(D,S,w){const L=new Error("NavigationCancelingError: "+(D||""));return L[Qs]=!0,L.cancellationCode=S,w&&(L.url=w),L}function ja(D){return Ha(D)&&vn(D.url)}function Ha(D){return D&&D[Qs]}class ho{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new is,this.attachRef=null}}let is=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,L){const Y=this.getOrCreateContext(w);Y.outlet=L,this.contexts.set(w,Y)}onChildOutletDestroyed(w){const L=this.getContext(w);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let L=this.getContext(w);return L||(L=new ho,this.contexts.set(w,L)),L}getContext(w){return this.contexts.get(w)||null}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const bs=!1;let fo=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(is),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(w){if(w.name){const{firstChange:L,previousValue:Y}=w.name;if(L)return;this.isTrackedInParentContexts(Y)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Y)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,bs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,bs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,bs);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,L){this.activated=w,this._activatedRoute=L,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,L){if(this.isActivated)throw new f.vHH(4013,bs);this._activatedRoute=w;const Y=this.location,Ie=w.snapshot.component,xt=this.parentContexts.getOrCreateContext(this.name).children,un=new va(w,xt,Y.injector);if(L&&function ba(D){return!!D.resolveComponentFactory}(L)){const Vn=L.resolveComponentFactory(Ie);this.activated=Y.createComponent(Vn,Y.length,un)}else this.activated=Y.createComponent(Ie,{index:Y.length,injector:un,environmentInjector:L??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275dir=f.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),D})();class va{constructor(S,w,L){this.route=S,this.childContexts=w,this.parent=L}get(S,w){return S===$r?this.route:S===is?this.childContexts:this.parent.get(S,w)}}let $a=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275cmp=f.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(w,L){1&w&&f._UZ(0,"router-outlet")},dependencies:[fo],encapsulation:2}),D})();function po(D,S){return D.providers&&!D._injector&&(D._injector=(0,f.MMx)(D.providers,S,`Route: ${D.path}`)),D._injector??S}function _r(D){const S=D.children&&D.children.map(_r),w=S?{...D,children:S}:{...D};return!w.component&&!w.loadComponent&&(S||w.loadChildren)&&w.outlet&&w.outlet!==it&&(w.component=$a),w}function yr(D){return D.outlet||it}function Ho(D,S){const w=D.filter(L=>yr(L)===S);return w.push(...D.filter(L=>yr(L)!==S)),w}function xi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let S=D.parent;S;S=S.parent){const w=S.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Ka{constructor(S,w,L,Y){this.routeReuseStrategy=S,this.futureState=w,this.currState=L,this.forwardEvent=Y}activate(S){const w=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,L,S),ea(this.futureState.root),this.activateChildRoutes(w,L,S)}deactivateChildRoutes(S,w,L){const Y=vs(w);S.children.forEach(pe=>{const Ie=pe.value.outlet;this.deactivateRoutes(pe,Y[Ie],L),delete Y[Ie]}),rt(Y,(pe,Ie)=>{this.deactivateRouteAndItsChildren(pe,L)})}deactivateRoutes(S,w,L){const Y=S.value,pe=w?w.value:null;if(Y===pe)if(Y.component){const Ie=L.getContext(Y.outlet);Ie&&this.deactivateChildRoutes(S,w,Ie.children)}else this.deactivateChildRoutes(S,w,L);else pe&&this.deactivateRouteAndItsChildren(w,L)}deactivateRouteAndItsChildren(S,w){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,w):this.deactivateRouteAndOutlet(S,w)}detachAndStoreRouteSubtree(S,w){const L=w.getContext(S.value.outlet),Y=L&&S.value.component?L.children:w,pe=vs(S);for(const Ie of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Ie],Y);if(L&&L.outlet){const Ie=L.outlet.detach(),xt=L.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Ie,route:S,contexts:xt})}}deactivateRouteAndOutlet(S,w){const L=w.getContext(S.value.outlet),Y=L&&S.value.component?L.children:w,pe=vs(S);for(const Ie of Object.keys(pe))this.deactivateRouteAndItsChildren(pe[Ie],Y);L&&(L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated()),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(S,w,L){const Y=vs(w);S.children.forEach(pe=>{this.activateRoutes(pe,Y[pe.value.outlet],L),this.forwardEvent(new Hr(pe.value.snapshot))}),S.children.length&&this.forwardEvent(new wr(S.value.snapshot))}activateRoutes(S,w,L){const Y=S.value,pe=w?w.value:null;if(ea(Y),Y===pe)if(Y.component){const Ie=L.getOrCreateContext(Y.outlet);this.activateChildRoutes(S,w,Ie.children)}else this.activateChildRoutes(S,w,L);else if(Y.component){const Ie=L.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const xt=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),Ie.children.onOutletReAttached(xt.contexts),Ie.attachRef=xt.componentRef,Ie.route=xt.route.value,Ie.outlet&&Ie.outlet.attach(xt.componentRef,xt.route.value),ea(xt.route.value),this.activateChildRoutes(S,null,Ie.children)}else{const xt=xi(Y.snapshot),un=xt?.get(f._Vd)??null;Ie.attachRef=null,Ie.route=Y,Ie.resolver=un,Ie.injector=xt,Ie.outlet&&Ie.outlet.activateWith(Y,Ie.injector),this.activateChildRoutes(S,null,Ie.children)}}else this.activateChildRoutes(S,null,L)}}class Wr{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Vr{constructor(S,w){this.component=S,this.route=w}}function rs(D,S,w){const L=D._root;return Zr(L,S?S._root:null,w,[L.value])}function Ps(D,S){const w=Symbol(),L=S.get(D,w);return L===w?"function"!=typeof D||(0,f.Z0I)(D)?S.get(D):D:L}function Zr(D,S,w,L,Y={canDeactivateChecks:[],canActivateChecks:[]}){const pe=vs(S);return D.children.forEach(Ie=>{(function Ea(D,S,w,L,Y={canDeactivateChecks:[],canActivateChecks:[]}){const pe=D.value,Ie=S?S.value:null,xt=w?w.getContext(D.value.outlet):null;if(Ie&&pe.routeConfig===Ie.routeConfig){const un=function ws(D,S,w){if("function"==typeof w)return w(D,S);switch(w){case"pathParamsChange":return!wt(D.url,S.url);case"pathParamsOrQueryParamsChange":return!wt(D.url,S.url)||!At(D.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!za(D,S)||!At(D.queryParams,S.queryParams);default:return!za(D,S)}}(Ie,pe,pe.routeConfig.runGuardsAndResolvers);un?Y.canActivateChecks.push(new Wr(L)):(pe.data=Ie.data,pe._resolvedData=Ie._resolvedData),Zr(D,S,pe.component?xt?xt.children:null:w,L,Y),un&&xt&&xt.outlet&&xt.outlet.isActivated&&Y.canDeactivateChecks.push(new Vr(xt.outlet.component,Ie))}else Ie&&li(S,xt,Y),Y.canActivateChecks.push(new Wr(L)),Zr(D,null,pe.component?xt?xt.children:null:w,L,Y)})(Ie,pe[Ie.value.outlet],w,L.concat([Ie.value]),Y),delete pe[Ie.value.outlet]}),rt(pe,(Ie,xt)=>li(Ie,w.getContext(xt),Y)),Y}function li(D,S,w){const L=vs(D),Y=D.value;rt(L,(pe,Ie)=>{li(pe,Y.component?S?S.children.getContext(Ie):null:S,w)}),w.canDeactivateChecks.push(new Vr(Y.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,Y))}function To(D){return"function"==typeof D}function hi(D){return D instanceof ce.K||"EmptyError"===D?.name}const go=Symbol("INITIAL_VALUE");function Ss(){return(0,Ae.w)(D=>(0,Fe.a)(D.map(S=>S.pipe((0,qe.q)(1),(0,Nt.O)(go)))).pipe((0,Qe.U)(S=>{for(const w of S)if(!0!==w){if(w===go)return go;if(!1===w||w instanceof he)return w}return!0}),(0,It.h)(S=>S!==go),(0,qe.q)(1)))}function qr(D){return(0,ge.z)((0,sn.b)(S=>{if(vn(S))throw ta(0,S)}),(0,Qe.U)(S=>!0===S))}const yo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Js(D,S,w,L,Y){const pe=ss(D,S,w);return pe.matched?function Ts(D,S,w,L){const Y=S.canMatch;if(!Y||0===Y.length)return(0,E.of)(!0);const pe=Y.map(Ie=>{const xt=Ps(Ie,D);return Et(function Gn(D){return D&&To(D.canMatch)}(xt)?xt.canMatch(S,w):D.runInContext(()=>xt(S,w)))});return(0,E.of)(pe).pipe(Ss(),qr())}(L=po(S,L),S,w).pipe((0,Qe.U)(Ie=>!0===Ie?pe:{...yo})):(0,E.of)(pe)}function ss(D,S,w){if(""===S.path)return"full"===S.pathMatch&&(D.hasChildren()||w.length>0)?{...yo}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const Y=(S.matcher||Ht)(w,D,S);if(!Y)return{...yo};const pe={};rt(Y.posParams,(xt,un)=>{pe[un]=xt.path});const Ie=Y.consumed.length>0?{...pe,...Y.consumed[Y.consumed.length-1].parameters}:pe;return{matched:!0,consumedSegments:Y.consumed,remainingSegments:w.slice(Y.consumed.length),parameters:Ie,positionalParamSegments:Y.posParams??{}}}function os(D,S,w,L){if(w.length>0&&function ul(D,S,w){return w.some(L=>hs(D,S,L)&&yr(L)!==it)}(D,w,L)){const pe=new ve(S,function Al(D,S,w,L){const Y={};Y[it]=L,L._sourceSegment=D,L._segmentIndexShift=S.length;for(const pe of w)if(""===pe.path&&yr(pe)!==it){const Ie=new ve([],{});Ie._sourceSegment=D,Ie._segmentIndexShift=S.length,Y[yr(pe)]=Ie}return Y}(D,S,L,new ve(w,D.children)));return pe._sourceSegment=D,pe._segmentIndexShift=S.length,{segmentGroup:pe,slicedSegments:[]}}if(0===w.length&&function jr(D,S,w){return w.some(L=>hs(D,S,L))}(D,w,L)){const pe=new ve(D.segments,function na(D,S,w,L,Y){const pe={};for(const Ie of L)if(hs(D,w,Ie)&&!Y[yr(Ie)]){const xt=new ve([],{});xt._sourceSegment=D,xt._segmentIndexShift=S.length,pe[yr(Ie)]=xt}return{...Y,...pe}}(D,S,w,L,D.children));return pe._sourceSegment=D,pe._segmentIndexShift=S.length,{segmentGroup:pe,slicedSegments:w}}const Y=new ve(D.segments,D.children);return Y._sourceSegment=D,Y._segmentIndexShift=S.length,{segmentGroup:Y,slicedSegments:w}}function hs(D,S,w){return(!(D.hasChildren()||S.length>0)||"full"!==w.pathMatch)&&""===w.path}function ia(D,S,w,L){return!!(yr(D)===L||L!==it&&hs(S,w,D))&&("**"===D.path||ss(S,D,w).matched)}function or(D,S,w){return 0===S.length&&!D.children[w]}const Ca=!1;class ra{constructor(S){this.segmentGroup=S||null}}class as{constructor(S){this.urlTree=S}}function $o(D){return(0,ye._)(new ra(D))}function sa(D){return(0,ye._)(new as(D))}class Cs{constructor(S,w,L,Y,pe){this.injector=S,this.configLoader=w,this.urlSerializer=L,this.urlTree=Y,this.config=pe,this.allowRedirects=!0}apply(){const S=os(this.urlTree.root,[],[],this.config).segmentGroup,w=new ve(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,w,it).pipe((0,Qe.U)(pe=>this.createUrlTree(pt(pe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,En.K)(pe=>{if(pe instanceof as)return this.allowRedirects=!1,this.match(pe.urlTree);throw pe instanceof ra?this.noMatchError(pe):pe}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,it).pipe((0,Qe.U)(Y=>this.createUrlTree(pt(Y),S.queryParams,S.fragment))).pipe((0,En.K)(Y=>{throw Y instanceof ra?this.noMatchError(Y):Y}))}noMatchError(S){return new f.vHH(4002,Ca)}createUrlTree(S,w,L){const Y=xe(S);return new he(Y,w,L)}expandSegmentGroup(S,w,L,Y){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(S,w,L).pipe((0,Qe.U)(pe=>new ve([],pe))):this.expandSegment(S,L,w,L.segments,Y,!0)}expandChildren(S,w,L){const Y=[];for(const pe of Object.keys(L.children))"primary"===pe?Y.unshift(pe):Y.push(pe);return(0,R.D)(Y).pipe((0,yn.b)(pe=>{const Ie=L.children[pe],xt=Ho(w,pe);return this.expandSegmentGroup(S,xt,Ie,pe).pipe((0,Qe.U)(un=>({segment:un,outlet:pe})))}),(0,gn.R)((pe,Ie)=>(pe[Ie.outlet]=Ie.segment,pe),{}),Vt())}expandSegment(S,w,L,Y,pe,Ie){return(0,R.D)(L).pipe((0,yn.b)(xt=>this.expandSegmentAgainstRoute(S,w,L,xt,Y,pe,Ie).pipe((0,En.K)(Vn=>{if(Vn instanceof ra)return(0,E.of)(null);throw Vn}))),(0,Xt.P)(xt=>!!xt),(0,En.K)((xt,un)=>{if(hi(xt))return or(w,Y,pe)?(0,E.of)(new ve([],{})):$o(w);throw xt}))}expandSegmentAgainstRoute(S,w,L,Y,pe,Ie,xt){return ia(Y,w,pe,Ie)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(S,w,Y,pe,Ie):xt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,w,L,Y,pe,Ie):$o(w):$o(w)}expandSegmentAgainstRouteUsingRedirect(S,w,L,Y,pe,Ie){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,L,Y,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(S,w,L,Y,pe,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,w,L,Y){const pe=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?sa(pe):this.lineralizeSegments(L,pe).pipe((0,Ye.z)(Ie=>{const xt=new ve(Ie,{});return this.expandSegment(S,xt,w,Ie,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,w,L,Y,pe,Ie){const{matched:xt,consumedSegments:un,remainingSegments:Vn,positionalParamSegments:jn}=ss(w,Y,pe);if(!xt)return $o(w);const Ai=this.applyRedirectCommands(un,Y.redirectTo,jn);return Y.redirectTo.startsWith("/")?sa(Ai):this.lineralizeSegments(Y,Ai).pipe((0,Ye.z)(cs=>this.expandSegment(S,w,L,cs.concat(Vn),Ie,!1)))}matchSegmentAgainstRoute(S,w,L,Y,pe){return"**"===L.path?(S=po(L,S),L.loadChildren?(L._loadedRoutes?(0,E.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):this.configLoader.loadChildren(S,L)).pipe((0,Qe.U)(xt=>(L._loadedRoutes=xt.routes,L._loadedInjector=xt.injector,new ve(Y,{})))):(0,E.of)(new ve(Y,{}))):Js(w,L,Y,S).pipe((0,Ae.w)(({matched:Ie,consumedSegments:xt,remainingSegments:un})=>Ie?this.getChildConfig(S=L._injector??S,L,Y).pipe((0,Ye.z)(jn=>{const Ai=jn.injector??S,cs=jn.routes,{segmentGroup:Ar,slicedSegments:$s}=os(w,xt,un,cs),Sa=new ve(Ar.segments,Ar.children);if(0===$s.length&&Sa.hasChildren())return this.expandChildren(Ai,cs,Sa).pipe((0,Qe.U)(Zc=>new ve(xt,Zc)));if(0===cs.length&&0===$s.length)return(0,E.of)(new ve(xt,{}));const Ro=yr(L)===pe;return this.expandSegment(Ai,Sa,cs,$s,Ro?it:pe,!0).pipe((0,Qe.U)(Go=>new ve(xt.concat(Go.segments),Go.children)))})):$o(w)))}getChildConfig(S,w,L){return w.children?(0,E.of)({routes:w.children,injector:S}):w.loadChildren?void 0!==w._loadedRoutes?(0,E.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Xs(D,S,w,L){const Y=S.canLoad;if(void 0===Y||0===Y.length)return(0,E.of)(!0);const pe=Y.map(Ie=>{const xt=Ps(Ie,D);return Et(function $(D){return D&&To(D.canLoad)}(xt)?xt.canLoad(S,w):D.runInContext(()=>xt(S,w)))});return(0,E.of)(pe).pipe(Ss(),qr())}(S,w,L).pipe((0,Ye.z)(Y=>Y?this.configLoader.loadChildren(S,w).pipe((0,sn.b)(pe=>{w._loadedRoutes=pe.routes,w._loadedInjector=pe.injector})):function dl(D){return(0,ye._)(So(Ca,3))}())):(0,E.of)({routes:[],injector:S})}lineralizeSegments(S,w){let L=[],Y=w.root;for(;;){if(L=L.concat(Y.segments),0===Y.numberOfChildren)return(0,E.of)(L);if(Y.numberOfChildren>1||!Y.children[it])return S.redirectTo,(0,ye._)(new f.vHH(4e3,Ca));Y=Y.children[it]}}applyRedirectCommands(S,w,L){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),S,L)}applyRedirectCreateUrlTree(S,w,L,Y){const pe=this.createSegmentGroup(S,w.root,L,Y);return new he(pe,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(S,w){const L={};return rt(S,(Y,pe)=>{if("string"==typeof Y&&Y.startsWith(":")){const xt=Y.substring(1);L[pe]=w[xt]}else L[pe]=Y}),L}createSegmentGroup(S,w,L,Y){const pe=this.createSegments(S,w.segments,L,Y);let Ie={};return rt(w.children,(xt,un)=>{Ie[un]=this.createSegmentGroup(S,xt,L,Y)}),new ve(pe,Ie)}createSegments(S,w,L,Y){return w.map(pe=>pe.path.startsWith(":")?this.findPosParam(S,pe,Y):this.findOrReturn(pe,L))}findPosParam(S,w,L){const Y=L[w.path.substring(1)];if(!Y)throw new f.vHH(4001,Ca);return Y}findOrReturn(S,w){let L=0;for(const Y of w){if(Y.path===S.path)return w.splice(L),Y;L++}return S}}class eo{}class Mo{constructor(S,w,L,Y,pe,Ie,xt){this.injector=S,this.rootComponentType=w,this.config=L,this.urlTree=Y,this.url=pe,this.paramsInheritanceStrategy=Ie,this.urlSerializer=xt}recognize(){const S=os(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,it).pipe((0,Qe.U)(w=>{if(null===w)return null;const L=new Va([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new Cr(L,w),pe=new Ua(this.url,Y);return this.inheritParamsAndData(pe._root),pe}))}inheritParamsAndData(S){const w=S.value,L=xo(w,this.paramsInheritanceStrategy);w.params=Object.freeze(L.params),w.data=Object.freeze(L.data),S.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(S,w,L,Y){return 0===L.segments.length&&L.hasChildren()?this.processChildren(S,w,L):this.processSegment(S,w,L,L.segments,Y)}processChildren(S,w,L){return(0,R.D)(Object.keys(L.children)).pipe((0,yn.b)(Y=>{const pe=L.children[Y],Ie=Ho(w,Y);return this.processSegmentGroup(S,Ie,pe,Y)}),(0,gn.R)((Y,pe)=>Y&&pe?(Y.push(...pe),Y):null),function Tt(D,S=!1){return(0,Je.e)((w,L)=>{let Y=0;w.subscribe((0,gt.x)(L,pe=>{const Ie=D(pe,Y++);(Ie||S)&&L.next(pe),!Ie&&L.complete()}))})}(Y=>null!==Y),(0,Dt.d)(null),Vt(),(0,Qe.U)(Y=>{if(null===Y)return null;const pe=wc(Y);return function hl(D){D.sort((S,w)=>S.value.outlet===it?-1:w.value.outlet===it?1:S.value.outlet.localeCompare(w.value.outlet))}(pe),pe}))}processSegment(S,w,L,Y,pe){return(0,R.D)(w).pipe((0,yn.b)(Ie=>this.processSegmentAgainstRoute(Ie._injector??S,Ie,L,Y,pe)),(0,Xt.P)(Ie=>!!Ie),(0,En.K)(Ie=>{if(hi(Ie))return or(L,Y,pe)?(0,E.of)([]):(0,E.of)(null);throw Ie}))}processSegmentAgainstRoute(S,w,L,Y,pe){if(w.redirectTo||!ia(w,L,Y,pe))return(0,E.of)(null);let Ie;if("**"===w.path){const xt=Y.length>0?qn(Y).parameters:{},un=ec(L)+Y.length,Vn=new Va(Y,xt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,te(w),yr(w),w.component??w._loadedComponent??null,w,Za(L),un,z(w));Ie=(0,E.of)({snapshot:Vn,consumedSegments:[],remainingSegments:[]})}else Ie=Js(L,w,Y,S).pipe((0,Qe.U)(({matched:xt,consumedSegments:un,remainingSegments:Vn,parameters:jn})=>{if(!xt)return null;const Ai=ec(L)+un.length;return{snapshot:new Va(un,jn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,te(w),yr(w),w.component??w._loadedComponent??null,w,Za(L),Ai,z(w)),consumedSegments:un,remainingSegments:Vn}}));return Ie.pipe((0,Ae.w)(xt=>{if(null===xt)return(0,E.of)(null);const{snapshot:un,consumedSegments:Vn,remainingSegments:jn}=xt;S=w._injector??S;const Ai=w._loadedInjector??S,cs=function Ya(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(w),{segmentGroup:Ar,slicedSegments:$s}=os(L,Vn,jn,cs.filter(Ro=>void 0===Ro.redirectTo));if(0===$s.length&&Ar.hasChildren())return this.processChildren(Ai,cs,Ar).pipe((0,Qe.U)(Ro=>null===Ro?null:[new Cr(un,Ro)]));if(0===cs.length&&0===$s.length)return(0,E.of)([new Cr(un,[])]);const Sa=yr(w)===pe;return this.processSegment(Ai,cs,Ar,$s,Sa?it:pe).pipe((0,Qe.U)(Ro=>null===Ro?null:[new Cr(un,Ro)]))}))}}function Ml(D){const S=D.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function wc(D){const S=[],w=new Set;for(const L of D){if(!Ml(L)){S.push(L);continue}const Y=S.find(pe=>L.value.routeConfig===pe.value.routeConfig);void 0!==Y?(Y.children.push(...L.children),w.add(Y)):S.push(L)}for(const L of w){const Y=wc(L.children);S.push(new Cr(L.value,Y))}return S.filter(L=>!w.has(L))}function Za(D){let S=D;for(;S._sourceSegment;)S=S._sourceSegment;return S}function ec(D){let S=D,w=S._segmentIndexShift??0;for(;S._sourceSegment;)S=S._sourceSegment,w+=S._segmentIndexShift??0;return w-1}function te(D){return D.data||{}}function z(D){return D.resolve||{}}function Si(D){return"string"==typeof D.title||null===D.title}function Yi(D){return(0,Ae.w)(S=>{const w=D(S);return w?(0,R.D)(w).pipe((0,Qe.U)(()=>S)):(0,E.of)(S)})}const dn=new f.OlP("ROUTES");let fi=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,E.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const L=Et(w.loadComponent()).pipe((0,Qe.U)(js),(0,sn.b)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=pe}),(0,lt.x)(()=>{this.componentLoaders.delete(w)})),Y=new Ge(L,()=>new Pe.x).pipe(tt());return this.componentLoaders.set(w,Y),Y}loadChildren(w,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,E.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const pe=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,Qe.U)(xt=>{this.onLoadEndListener&&this.onLoadEndListener(L);let un,Vn,jn=!1;Array.isArray(xt)?Vn=xt:(un=xt.create(w).injector,Vn=Cn(un.get(dn,[],f.XFs.Self|f.XFs.Optional)));return{routes:Vn.map(_r),injector:un}}),(0,lt.x)(()=>{this.childrenLoaders.delete(L)})),Ie=new Ge(pe,()=>new Pe.x).pipe(tt());return this.childrenLoaders.set(L,Ie),Ie}loadModuleFactoryOrRoutes(w){return Et(w()).pipe((0,Qe.U)(js),(0,Ye.z)(L=>L instanceof f.YKP||Array.isArray(L)?(0,E.of)(L):(0,R.D)(this.compiler.compileModuleAsync(L))))}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function js(D){return function fr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Kn=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pe.x,this.configLoader=(0,f.f3M)(fi),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(fn),this.rootContexts=(0,f.f3M)(is),this.navigationId=0,this.afterPreactivation=()=>(0,E.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Y=>this.events.next(new Fr(Y)),this.configLoader.onLoadStartListener=Y=>this.events.next(new ys(Y))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const L=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:L})}setupNavigations(w){return this.transitions=new me.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hi,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,It.h)(L=>0!==L.id),(0,Qe.U)(L=>({...L,extractedUrl:w.urlHandlingStrategy.extract(L.rawUrl)})),(0,Ae.w)(L=>{let Y=!1,pe=!1;return(0,E.of)(L).pipe((0,sn.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.rawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ae.w)(Ie=>{const xt=w.browserUrlTree.toString(),un=!w.navigated||Ie.extractedUrl.toString()!==xt||xt!==w.currentUrlTree.toString();if(!un&&"reload"!==(Ie.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const jn="";return this.events.next(new yt(Ie.id,w.serializeUrl(L.rawUrl),jn,0)),w.rawUrlTree=Ie.rawUrl,Ie.resolve(null),Le.E}if(w.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return Is(Ie.source)&&(w.browserUrlTree=Ie.extractedUrl),(0,E.of)(Ie).pipe((0,Ae.w)(jn=>{const Ai=this.transitions?.getValue();return this.events.next(new $i(jn.id,this.urlSerializer.serialize(jn.extractedUrl),jn.source,jn.restoredState)),Ai!==this.transitions?.getValue()?Le.E:Promise.resolve(jn)}),function fs(D,S,w,L){return(0,Ae.w)(Y=>function Ec(D,S,w,L,Y){return new Cs(D,S,w,L,Y).apply()}(D,S,w,Y.extractedUrl,L).pipe((0,Qe.U)(pe=>({...Y,urlAfterRedirects:pe}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,sn.b)(jn=>{this.currentNavigation={...this.currentNavigation,finalUrl:jn.urlAfterRedirects},L.urlAfterRedirects=jn.urlAfterRedirects}),function be(D,S,w,L,Y){return(0,Ye.z)(pe=>function to(D,S,w,L,Y,pe,Ie="emptyOnly"){return new Mo(D,S,w,L,Y,Ie,pe).recognize().pipe((0,Ae.w)(xt=>null===xt?function Lt(D){return new _e.y(S=>S.error(D))}(new eo):(0,E.of)(xt)))}(D,S,w,pe.urlAfterRedirects,L.serialize(pe.urlAfterRedirects),L,Y).pipe((0,Qe.U)(Ie=>({...pe,targetSnapshot:Ie}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,sn.b)(jn=>{if(L.targetSnapshot=jn.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!jn.extras.skipLocationChange){const cs=w.urlHandlingStrategy.merge(jn.urlAfterRedirects,jn.rawUrl);w.setBrowserUrl(cs,jn)}w.browserUrlTree=jn.urlAfterRedirects}const Ai=new In(jn.id,this.urlSerializer.serialize(jn.extractedUrl),this.urlSerializer.serialize(jn.urlAfterRedirects),jn.targetSnapshot);this.events.next(Ai)}));if(un&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:jn,extractedUrl:Ai,source:cs,restoredState:Ar,extras:$s}=Ie,Sa=new $i(jn,this.urlSerializer.serialize(Ai),cs,Ar);this.events.next(Sa);const Ro=gr(Ai,this.rootComponentType).snapshot;return L={...Ie,targetSnapshot:Ro,urlAfterRedirects:Ai,extras:{...$s,skipLocationChange:!1,replaceUrl:!1}},(0,E.of)(L)}{const jn="";return this.events.next(new yt(Ie.id,w.serializeUrl(L.extractedUrl),jn,1)),w.rawUrlTree=Ie.rawUrl,Ie.resolve(null),Le.E}}),(0,sn.b)(Ie=>{const xt=new ii(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(xt)}),(0,Qe.U)(Ie=>L={...Ie,guards:rs(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)}),function Ur(D,S){return(0,Ye.z)(w=>{const{targetSnapshot:L,currentSnapshot:Y,guards:{canActivateChecks:pe,canDeactivateChecks:Ie}}=w;return 0===Ie.length&&0===pe.length?(0,E.of)({...w,guardsResult:!0}):function Tl(D,S,w,L){return(0,R.D)(D).pipe((0,Ye.z)(Y=>function Ao(D,S,w,L,Y){const pe=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!pe||0===pe.length)return(0,E.of)(!0);const Ie=pe.map(xt=>{const un=xi(S)??Y,Vn=Ps(xt,un);return Et(function tn(D){return D&&To(D.canDeactivate)}(Vn)?Vn.canDeactivate(D,S,w,L):un.runInContext(()=>Vn(D,S,w,L))).pipe((0,Xt.P)())});return(0,E.of)(Ie).pipe(Ss())}(Y.component,Y.route,w,S,L)),(0,Xt.P)(Y=>!0!==Y,!0))}(Ie,L,Y,D).pipe((0,Ye.z)(xt=>xt&&function q(D){return"boolean"==typeof D}(xt)?function _o(D,S,w,L){return(0,R.D)(S).pipe((0,yn.b)(Y=>(0,Ue.z)(function cl(D,S){return null!==D&&S&&S(new Lr(D)),(0,E.of)(!0)}(Y.route.parent,L),function ks(D,S){return null!==D&&S&&S(new rr(D)),(0,E.of)(!0)}(Y.route,L),function Jl(D,S,w){const L=S[S.length-1],pe=S.slice(0,S.length-1).reverse().map(Ie=>function Rs(D){const S=D.routeConfig?D.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:D,guards:S}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>oe(()=>{const xt=Ie.guards.map(un=>{const Vn=xi(Ie.node)??w,jn=Ps(un,Vn);return Et(function we(D){return D&&To(D.canActivateChild)}(jn)?jn.canActivateChild(L,D):Vn.runInContext(()=>jn(L,D))).pipe((0,Xt.P)())});return(0,E.of)(xt).pipe(Ss())}));return(0,E.of)(pe).pipe(Ss())}(D,Y.path,w),function wa(D,S,w){const L=S.routeConfig?S.routeConfig.canActivate:null;if(!L||0===L.length)return(0,E.of)(!0);const Y=L.map(pe=>oe(()=>{const Ie=xi(S)??w,xt=Ps(pe,Ie);return Et(function V(D){return D&&To(D.canActivate)}(xt)?xt.canActivate(S,D):Ie.runInContext(()=>xt(S,D))).pipe((0,Xt.P)())}));return(0,E.of)(Y).pipe(Ss())}(D,Y.route,w))),(0,Xt.P)(Y=>!0!==Y,!0))}(L,pe,D,S):(0,E.of)(xt)),(0,Qe.U)(xt=>({...w,guardsResult:xt})))})}(this.environmentInjector,Ie=>this.events.next(Ie)),(0,sn.b)(Ie=>{if(L.guardsResult=Ie.guardsResult,vn(Ie.guardsResult))throw ta(0,Ie.guardsResult);const xt=new Ei(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.events.next(xt)}),(0,It.h)(Ie=>!!Ie.guardsResult||(w.restoreHistory(Ie),this.cancelNavigationTransition(Ie,"",3),!1)),Yi(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,E.of)(Ie).pipe((0,sn.b)(xt=>{const un=new di(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(un)}),(0,Ae.w)(xt=>{let un=!1;return(0,E.of)(xt).pipe(function et(D,S){return(0,Ye.z)(w=>{const{targetSnapshot:L,guards:{canActivateChecks:Y}}=w;if(!Y.length)return(0,E.of)(w);let pe=0;return(0,R.D)(Y).pipe((0,yn.b)(Ie=>function nn(D,S,w,L){const Y=D.routeConfig,pe=D._resolve;return void 0!==Y?.title&&!Si(Y)&&(pe[He]=Y.title),function mn(D,S,w,L){const Y=function Fn(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===Y.length)return(0,E.of)({});const pe={};return(0,R.D)(Y).pipe((0,Ye.z)(Ie=>function tr(D,S,w,L){const Y=xi(S)??L,pe=Ps(D,Y);return Et(pe.resolve?pe.resolve(S,w):Y.runInContext(()=>pe(S,w)))}(D[Ie],S,w,L).pipe((0,Xt.P)(),(0,sn.b)(xt=>{pe[Ie]=xt}))),si(1),(0,nt.h)(pe),(0,En.K)(Ie=>hi(Ie)?Le.E:(0,ye._)(Ie)))}(pe,D,S,L).pipe((0,Qe.U)(Ie=>(D._resolvedData=Ie,D.data=xo(D,w).resolve,Y&&Si(Y)&&(D.data[He]=Y.title),null)))}(Ie.route,L,D,S)),(0,sn.b)(()=>pe++),si(1),(0,Ye.z)(Ie=>pe===Y.length?(0,E.of)(w):Le.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,sn.b)({next:()=>un=!0,complete:()=>{un||(w.restoreHistory(xt),this.cancelNavigationTransition(xt,"",2))}}))}),(0,sn.b)(xt=>{const un=new zi(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(un)}))}),Yi(Ie=>{const xt=un=>{const Vn=[];un.routeConfig?.loadComponent&&!un.routeConfig._loadedComponent&&Vn.push(this.configLoader.loadComponent(un.routeConfig).pipe((0,sn.b)(jn=>{un.component=jn}),(0,Qe.U)(()=>{})));for(const jn of un.children)Vn.push(...xt(jn));return Vn};return(0,Fe.a)(xt(Ie.targetSnapshot.root)).pipe((0,Dt.d)(),(0,qe.q)(1))}),Yi(()=>this.afterPreactivation()),(0,Qe.U)(Ie=>{const xt=function zs(D,S,w){const L=ds(D,S._root,w?w._root:void 0);return new uo(L,S)}(w.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return L={...Ie,targetRouterState:xt}}),(0,sn.b)(Ie=>{w.currentUrlTree=Ie.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(Ie.urlAfterRedirects,Ie.rawUrl),w.routerState=Ie.targetRouterState,"deferred"===w.urlUpdateStrategy&&(Ie.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,Ie),w.browserUrlTree=Ie.urlAfterRedirects)}),((D,S,w)=>(0,Qe.U)(L=>(new Ka(S,L.targetRouterState,L.currentRouterState,w).activate(D),L)))(this.rootContexts,w.routeReuseStrategy,Ie=>this.events.next(Ie)),(0,qe.q)(1),(0,sn.b)({next:Ie=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new Ct(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),w.titleStrategy?.updateTitle(Ie.targetRouterState.snapshot),Ie.resolve(!0)},complete:()=>{Y=!0}}),(0,lt.x)(()=>{Y||pe||this.cancelNavigationTransition(L,"",1),this.currentNavigation?.id===L.id&&(this.currentNavigation=null)}),(0,En.K)(Ie=>{if(pe=!0,Ha(Ie)){ja(Ie)||(w.navigated=!0,w.restoreHistory(L,!0));const xt=new dt(L.id,this.urlSerializer.serialize(L.extractedUrl),Ie.message,Ie.cancellationCode);if(this.events.next(xt),ja(Ie)){const un=w.urlHandlingStrategy.merge(Ie.url,w.rawUrlTree),Vn={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||Is(L.source)};w.scheduleNavigation(un,Hi,null,Vn,{resolve:L.resolve,reject:L.reject,promise:L.promise})}else L.resolve(!1)}else{w.restoreHistory(L,!0);const xt=new cn(L.id,this.urlSerializer.serialize(L.extractedUrl),Ie,L.targetSnapshot??void 0);this.events.next(xt);try{L.resolve(w.errorHandler(Ie))}catch(un){L.reject(un)}}return Le.E}))}))}cancelNavigationTransition(w,L,Y){const pe=new dt(w.id,this.urlSerializer.serialize(w.extractedUrl),L,Y);this.events.next(pe),w.resolve(!1)}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Is(D){return D!==Hi}let Mn=(()=>{class D{buildTitle(w){let L,Y=w.root;for(;void 0!==Y;)L=this.getResolvedTitleForRoute(Y)??L,Y=Y.children.find(pe=>pe.outlet===it);return L}getResolvedTitleForRoute(w){return w.data[He]}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return(0,f.f3M)(Kt)},providedIn:"root"}),D})(),Kt=(()=>{class D extends Mn{constructor(w){super(),this.title=w}updateTitle(w){const L=this.buildTitle(w);void 0!==L&&this.title.setTitle(L)}}return D.\u0275fac=function(w){return new(w||D)(f.LFG(ct.Dx))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),_n=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return(0,f.f3M)(Cc)},providedIn:"root"}),D})();class ls{shouldDetach(S){return!1}store(S,w){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,w){return S.routeConfig===w.routeConfig}}let Cc=(()=>{class D extends ls{}return D.\u0275fac=function(){let S;return function(L){return(S||(S=f.n5z(D)))(L||D)}}(),D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const tc=new f.OlP("",{providedIn:"root",factory:()=>({})});let Cu=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:function(){return(0,f.f3M)(dd)},providedIn:"root"}),D})(),dd=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,L){return w}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Zd(D){throw D}function Iu(D,S,w){return S.parse("/")}const pl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(tc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Zd,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Iu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(Cu),this.routeReuseStrategy=(0,f.f3M)(_n),this.urlCreationStrategy=(0,f.f3M)(Br),this.titleStrategy=(0,f.f3M)(Mn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cn((0,f.f3M)(dn,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(Kn),this.urlSerializer=(0,f.f3M)(fn),this.location=(0,f.f3M)(kt.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new he,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId??0},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hi,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const L="popstate"===w.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,L,w.state)},0)}))}navigateToSyncWithBrowser(w,L,Y){const pe={replaceUrl:!0},Ie=Y?.navigationId?Y:null;if(Y){const un={...Y};delete un.navigationId,delete un.\u0275routerPageId,0!==Object.keys(un).length&&(pe.state=un)}const xt=this.parseUrl(w);this.scheduleNavigation(xt,L,Ie,pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(_r),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,L={}){const{relativeTo:Y,queryParams:pe,fragment:Ie,queryParamsHandling:xt,preserveFragment:un}=L,Vn=un?this.currentUrlTree.fragment:Ie;let jn=null;switch(xt){case"merge":jn={...this.currentUrlTree.queryParams,...pe};break;case"preserve":jn=this.currentUrlTree.queryParams;break;default:jn=pe||null}return null!==jn&&(jn=this.removeEmptyProps(jn)),this.urlCreationStrategy.createUrlTree(Y,this.routerState,this.currentUrlTree,w,jn,Vn??null)}navigateByUrl(w,L={skipLocationChange:!1}){const Y=vn(w)?w:this.parseUrl(w),pe=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(pe,Hi,null,L)}navigate(w,L={skipLocationChange:!1}){return function _i(D){for(let S=0;S<D.length;S++){const w=D[S];if(null==w)throw new f.vHH(4008,false)}}(w),this.navigateByUrl(this.createUrlTree(w,L),L)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let L;try{L=this.urlSerializer.parse(w)}catch(Y){L=this.malformedUriErrorHandler(Y,this.urlSerializer,w)}return L}isActive(w,L){let Y;if(Y=!0===L?{...pl}:!1===L?{...qd}:L,vn(w))return ut(this.currentUrlTree,w,Y);const pe=this.parseUrl(w);return ut(this.currentUrlTree,pe,Y)}removeEmptyProps(w){return Object.keys(w).reduce((L,Y)=>{const pe=w[Y];return null!=pe&&(L[Y]=pe),L},{})}scheduleNavigation(w,L,Y,pe,Ie){if(this.disposed)return Promise.resolve(!1);let xt,un,Vn,jn;return Ie?(xt=Ie.resolve,un=Ie.reject,Vn=Ie.promise):Vn=new Promise((Ai,cs)=>{xt=Ai,un=cs}),jn="computed"===this.canceledNavigationResolution?Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:jn,source:L,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:pe,resolve:xt,reject:un,promise:Vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vn.catch(Ai=>Promise.reject(Ai))}setBrowserUrl(w,L){const Y=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(Y)||L.extras.replaceUrl){const Ie={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId)};this.location.replaceState(Y,"",Ie)}else{const pe={...L.extras.state,...this.generateNgRouterState(L.id,L.targetPageId)};this.location.go(Y,"",pe)}}restoreHistory(w,L=!1){if("computed"===this.canceledNavigationResolution){const pe=this.currentPageId-(this.browserPageId??this.currentPageId);0!==pe?this.location.historyGo(pe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===pe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,L){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:L}:{navigationId:w}}}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),oa=(()=>{class D{constructor(w,L,Y,pe,Ie,xt){this.router=w,this.route=L,this.tabIndexAttribute=Y,this.renderer=pe,this.el=Ie,this.locationStrategy=xt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Pe.x;const un=Ie.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===un||"area"===un,this.isAnchorElement?this.subscription=w.events.subscribe(Vn=>{Vn instanceof Ct&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,f.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,f.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,f.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,L,Y,pe,Ie){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||L||Y||pe||Ie||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,L){const Y=this.renderer,pe=this.el.nativeElement;null!==L?Y.setAttribute(pe,w,L):Y.removeAttribute(pe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(w){return new(w||D)(f.Y36(nr),f.Y36($r),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(kt.S$))},D.\u0275dir=f.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,L){1&w&&f.NdJ("click",function(pe){return L.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&w&&f.uIk("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),D})(),$c=(()=>{class D{get isActive(){return this._isActive}constructor(w,L,Y,pe,Ie){this.router=w,this.element=L,this.renderer=Y,this.cdr=pe,this.link=Ie,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=w.events.subscribe(xt=>{xt instanceof Ct&&this.update()})}ngAfterContentInit(){(0,E.of)(this.links.changes,(0,E.of)(null)).pipe((0,Be.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,R.D)(w).pipe((0,Be.J)()).subscribe(L=>{this._isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(w){const L=Array.isArray(w)?w:w.split(" ");this.classes=L.filter(Y=>!!Y)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(L=>{w?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const L=function Tr(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Y=>!!Y.urlTree&&w.isActive(Y.urlTree,L)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}}return D.\u0275fac=function(w){return new(w||D)(f.Y36(nr),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(oa,8))},D.\u0275dir=f.lG2({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(w,L,Y){if(1&w&&f.Suo(Y,oa,5),2&w){let pe;f.iGM(pe=f.CRH())&&(L.links=pe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),D})();class ri{}let Wc=(()=>{class D{constructor(w,L,Y,pe,Ie){this.router=w,this.injector=Y,this.preloadingStrategy=pe,this.loader=Ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,It.h)(w=>w instanceof Ct),(0,yn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,L){const Y=[];for(const pe of L){pe.providers&&!pe._injector&&(pe._injector=(0,f.MMx)(pe.providers,w,`Route: ${pe.path}`));const Ie=pe._injector??w,xt=pe._loadedInjector??Ie;(pe.loadChildren&&!pe._loadedRoutes&&void 0===pe.canLoad||pe.loadComponent&&!pe._loadedComponent)&&Y.push(this.preloadConfig(Ie,pe)),(pe.children||pe._loadedRoutes)&&Y.push(this.processRoutes(xt,pe.children??pe._loadedRoutes))}return(0,R.D)(Y).pipe((0,Be.J)())}preloadConfig(w,L){return this.preloadingStrategy.preload(L,()=>{let Y;Y=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(w,L):(0,E.of)(null);const pe=Y.pipe((0,Ye.z)(Ie=>null===Ie?(0,E.of)(void 0):(L._loadedRoutes=Ie.routes,L._loadedInjector=Ie.injector,this.processRoutes(Ie.injector??w,Ie.routes))));if(L.loadComponent&&!L._loadedComponent){const Ie=this.loader.loadComponent(L);return(0,R.D)([pe,Ie]).pipe((0,Be.J)())}return pe})}}return D.\u0275fac=function(w){return new(w||D)(f.LFG(nr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(ri),f.LFG(fi))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Ci=new f.OlP("");let Bn=(()=>{class D{constructor(w,L,Y,pe,Ie={}){this.urlSerializer=w,this.transitions=L,this.viewportScroller=Y,this.zone=pe,this.options=Ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ie.scrollPositionRestoration=Ie.scrollPositionRestoration||"disabled",Ie.anchorScrolling=Ie.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof $i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ct&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ms&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,L){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ms(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return D.\u0275fac=function(w){f.$Z()},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})();var Qr=(()=>((Qr=Qr||{})[Qr.COMPLETE=0]="COMPLETE",Qr[Qr.FAILED=1]="FAILED",Qr[Qr.REDIRECTING=2]="REDIRECTING",Qr))();const Ns=!1;function bo(D,S){return{\u0275kind:D,\u0275providers:S}}const kl=new f.OlP("",{providedIn:"root",factory:()=>!1});function qa(){const D=(0,f.f3M)(f.zs3);return S=>{const w=D.get(f.z2F);if(S!==w.components[0])return;const L=D.get(nr),Y=D.get(Fl);1===D.get(nc)&&L.initialNavigation(),D.get(ic,null,f.XFs.Optional)?.setUpPreloading(),D.get(Ci,null,f.XFs.Optional)?.init(),L.resetRootComponentType(w.componentTypes[0]),Y.closed||(Y.next(),Y.complete(),Y.unsubscribe())}}const Fl=new f.OlP(Ns?"bootstrap done indicator":"",{factory:()=>new Pe.x}),nc=new f.OlP(Ns?"initial navigation":"",{providedIn:"root",factory:()=>1});function Yt(){let D=[];return D=Ns?[{provide:f.Xts,multi:!0,useFactory:()=>{const S=(0,f.f3M)(nr);return()=>S.events.subscribe(w=>{console.group?.(`Router Event: ${w.constructor.name}`),console.log(function Os(D){if(!("type"in D))return`Unknown Router Event: ${D.constructor.name}`;switch(D.type){case 14:return`ActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 2:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case 16:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case 1:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case 0:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case 6:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 5:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 10:return`RouteConfigLoadEnd(path: ${D.route.path})`;case 9:return`RouteConfigLoadStart(path: ${D.route.path})`;case 4:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 15:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}(w)),console.log(w),console.groupEnd?.()})}}]:[],bo(1,D)}const ic=new f.OlP(Ns?"router preloader":"");function ji(D){return bo(0,[{provide:ic,useExisting:Wc},{provide:ri,useExisting:D}])}const Ll=!1,Yc=new f.OlP(Ll?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Xa=[kt.Ye,{provide:fn,useClass:Zn},nr,is,{provide:$r,useFactory:function Pl(D){return D.routerState.root},deps:[nr]},fi,Ll?{provide:kl,useValue:!0}:[]];function xa(){return new f.PXZ("Router",nr)}let rc=(()=>{class D{constructor(w){}static forRoot(w,L){return{ngModule:D,providers:[Xa,Ll&&L?.enableTracing?Yt().\u0275providers:[],{provide:dn,multi:!0,useValue:w},{provide:Yc,useFactory:Oo,deps:[[nr,new f.FiY,new f.tp0]]},{provide:tc,useValue:L||{}},L?.useHash?{provide:kt.S$,useClass:kt.Do}:{provide:kt.S$,useClass:kt.b0},{provide:Ci,useFactory:()=>{const D=(0,f.f3M)(kt.EM),S=(0,f.f3M)(f.R0b),w=(0,f.f3M)(tc),L=(0,f.f3M)(Kn),Y=(0,f.f3M)(fn);return w.scrollOffset&&D.setOffset(w.scrollOffset),new Bn(Y,L,D,S,w)}},L?.preloadingStrategy?ji(L.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:xa},L?.initialNavigation?ps(L):[],[{provide:Ls,useFactory:qa},{provide:f.tb,multi:!0,useExisting:Ls}]]}}static forChild(w){return{ngModule:D,providers:[{provide:dn,multi:!0,useValue:w}]}}}return D.\u0275fac=function(w){return new(w||D)(f.LFG(Yc,8))},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({imports:[$a]}),D})();function Oo(D){if(Ll&&D)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ps(D){return["disabled"===D.initialNavigation?bo(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const S=(0,f.f3M)(nr);return()=>{S.setUpLocationChangeListener()}}},{provide:nc,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?bo(2,[{provide:nc,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:S=>{const w=S.get(kt.V_,Promise.resolve());return()=>w.then(()=>new Promise(L=>{const Y=S.get(nr),pe=S.get(Fl);(function Rl(D,S){D.events.pipe((0,It.h)(w=>w instanceof Ct||w instanceof dt||w instanceof cn||w instanceof yt),(0,Qe.U)(w=>w instanceof Ct||w instanceof yt?Qr.COMPLETE:w instanceof dt&&(0===w.code||1===w.code)?Qr.REDIRECTING:Qr.FAILED),(0,It.h)(w=>w!==Qr.REDIRECTING),(0,qe.q)(1)).subscribe(()=>{S()})})(Y,()=>{L(!0)}),S.get(Kn).afterPreactivation=()=>(L(!0),pe.closed?(0,E.of)(void 0):pe),Y.initialNavigation()}))}}]).\u0275providers:[]]}const Ls=new f.OlP(Ll?"Router Initializer":"")},3942:(pn,at,T)=>{T.d(at,{Z:()=>Je});var f=T(2090),R=T(4859),E=T(6881),me=T(1877);class ce{constructor(tt,Ge){this._delegate=tt,this.firebase=Ge,(0,E._addComponent)(tt,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(tt,Ge=E._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const kt=this._delegate.container.getProvider(tt);return!kt.isInitialized()&&"EXPLICIT"===(null===(Pe=kt.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&kt.initialize(),kt.getImmediate({identifier:Ge})}_removeServiceInstance(tt,Ge=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(Ge)}_addComponent(tt){(0,E._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,E._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ue=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function Ke(){const gt=function _e(gt){const tt={},Ge={__esModule:!0,initializeApp:function Qe(It,Ye={}){const Xt=E.initializeApp(It,Ye);if((0,f.r3)(tt,Xt.name))return tt[Xt.name];const yn=new gt(Xt,Ge);return tt[Xt.name]=yn,yn},app:kt,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function qe(It){const Ye=It.name,Xt=Ye.replace("-compat","");if(E._registerComponent(It)&&"PUBLIC"===It.type){const yn=(sn=kt())=>{if("function"!=typeof sn[Xt])throw Ue.create("invalid-app-argument",{appName:Ye});return sn[Xt]()};void 0!==It.serviceProps&&(0,f.ZB)(yn,It.serviceProps),Ge[Xt]=yn,gt.prototype[Xt]=function(...sn){return this._getService.bind(this,Ye).apply(this,It.multipleInstances?sn:[])}}return"PUBLIC"===It.type?Ge[Xt]:null},removeApp:function Pe(It){delete tt[It]},useAsService:function Nt(It,Ye){return"serverAuth"===Ye?null:Ye},modularAPIs:E}};function kt(It){if(!(0,f.r3)(tt,It=It||E._DEFAULT_ENTRY_NAME))throw Ue.create("no-app",{appName:It});return tt[It]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function Ae(){return Object.keys(tt).map(It=>tt[It])}}),kt.App=gt,Ge}(ce);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function tt(Ge){(0,f.ZB)(gt,Ge)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),gt}(),ge=new me.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=oe;!function We(gt){(0,E.registerVersion)("@firebase/app-compat","0.2.11",gt)}()},6881:(pn,at,T)=>{T.r(at),T.d(at,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Zn,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>Me,_addOrOverwriteComponent:()=>$e,_apps:()=>_t,_clearComponents:()=>je,_components:()=>Zt,_getProvider:()=>ve,_registerComponent:()=>he,_removeServiceInstance:()=>ft,deleteApp:()=>Re,getApp:()=>ni,getApps:()=>Ft,initializeApp:()=>Wn,onLog:()=>ae,registerVersion:()=>X,setLogLevel:()=>Ne});var f=T(5861),R=T(4859),E=T(1877),me=T(2090);const ce=(Wt,jt)=>jt.some(wn=>Wt instanceof wn);let Fe,Ue;const oe=new WeakMap,ge=new WeakMap,ye=new WeakMap,Le=new WeakMap,We=new WeakMap;let tt={get(Wt,jt,wn){if(Wt instanceof IDBTransaction){if("done"===jt)return ge.get(Wt);if("objectStoreNames"===jt)return Wt.objectStoreNames||ye.get(Wt);if("store"===jt)return wn.objectStoreNames[1]?void 0:wn.objectStore(wn.objectStoreNames[0])}return Qe(Wt[jt])},set:(Wt,jt,wn)=>(Wt[jt]=wn,!0),has:(Wt,jt)=>Wt instanceof IDBTransaction&&("done"===jt||"store"===jt)||jt in Wt};function kt(Wt){return"function"==typeof Wt?function Pe(Wt){return Wt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Wt)?function(...jt){return Wt.apply(Ae(this),jt),Qe(oe.get(this))}:function(...jt){return Qe(Wt.apply(Ae(this),jt))}:function(jt,...wn){const zn=Wt.call(Ae(this),jt,...wn);return ye.set(zn,jt.sort?jt.sort():[jt]),Qe(zn)}}(Wt):(Wt instanceof IDBTransaction&&function gt(Wt){if(ge.has(Wt))return;const jt=new Promise((wn,zn)=>{const Jn=()=>{Wt.removeEventListener("complete",mi),Wt.removeEventListener("error",$n),Wt.removeEventListener("abort",$n)},mi=()=>{wn(),Jn()},$n=()=>{zn(Wt.error||new DOMException("AbortError","AbortError")),Jn()};Wt.addEventListener("complete",mi),Wt.addEventListener("error",$n),Wt.addEventListener("abort",$n)});ge.set(Wt,jt)}(Wt),ce(Wt,function _e(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Wt,tt):Wt)}function Qe(Wt){if(Wt instanceof IDBRequest)return function Je(Wt){const jt=new Promise((wn,zn)=>{const Jn=()=>{Wt.removeEventListener("success",mi),Wt.removeEventListener("error",$n)},mi=()=>{wn(Qe(Wt.result)),Jn()},$n=()=>{zn(Wt.error),Jn()};Wt.addEventListener("success",mi),Wt.addEventListener("error",$n)});return jt.then(wn=>{wn instanceof IDBCursor&&oe.set(wn,Wt)}).catch(()=>{}),We.set(jt,Wt),jt}(Wt);if(Le.has(Wt))return Le.get(Wt);const jt=kt(Wt);return jt!==Wt&&(Le.set(Wt,jt),We.set(jt,Wt)),jt}const Ae=Wt=>We.get(Wt),It=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Xt=new Map;function yn(Wt,jt){if(!(Wt instanceof IDBDatabase)||jt in Wt||"string"!=typeof jt)return;if(Xt.get(jt))return Xt.get(jt);const wn=jt.replace(/FromIndex$/,""),zn=jt!==wn,Jn=Ye.includes(wn);if(!(wn in(zn?IDBIndex:IDBObjectStore).prototype)||!Jn&&!It.includes(wn))return;const mi=function(){var $n=(0,f.Z)(function*(ki,...ai){const pr=this.transaction(ki,Jn?"readwrite":"readonly");let vr=pr.store;return zn&&(vr=vr.index(ai.shift())),(yield Promise.all([vr[wn](...ai),Jn&&pr.done]))[0]});return function(ai){return $n.apply(this,arguments)}}();return Xt.set(jt,mi),mi}!function Ge(Wt){tt=Wt(tt)}(Wt=>({...Wt,get:(jt,wn,zn)=>yn(jt,wn)||Wt.get(jt,wn,zn),has:(jt,wn)=>!!yn(jt,wn)||Wt.has(jt,wn)}));class sn{constructor(jt){this.container=jt}getPlatformInfoString(){return this.container.getProviders().map(wn=>{if(function En(Wt){return"VERSION"===Wt.getComponent()?.type}(wn)){const zn=wn.getImmediate();return`${zn.library}/${zn.version}`}return null}).filter(wn=>wn).join(" ")}}const gn="@firebase/app",Ut=new E.Yd("@firebase/app"),Pt="[DEFAULT]",zt={[gn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Zt=new Map;function Me(Wt,jt){try{Wt.container.addComponent(jt)}catch(wn){Ut.debug(`Component ${jt.name} failed to register with FirebaseApp ${Wt.name}`,wn)}}function $e(Wt,jt){Wt.container.addOrOverwriteComponent(jt)}function he(Wt){const jt=Wt.name;if(Zt.has(jt))return Ut.debug(`There were multiple attempts to register component ${jt}.`),!1;Zt.set(jt,Wt);for(const wn of _t.values())Me(wn,Wt);return!0}function ve(Wt,jt){const wn=Wt.container.getProvider("heartbeat").getImmediate({optional:!0});return wn&&wn.triggerHeartbeat(),Wt.container.getProvider(jt)}function ft(Wt,jt,wn=Pt){ve(Wt,jt).clearInstance(wn)}function je(){Zt.clear()}const xn=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(jt,wn,zn){this._isDeleted=!1,this._options=Object.assign({},jt),this._config=Object.assign({},wn),this._name=wn.name,this._automaticDataCollectionEnabled=wn.automaticDataCollectionEnabled,this._container=zn,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this.checkDestroyed(),this._automaticDataCollectionEnabled=jt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(jt){this._isDeleted=jt}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const Zn="9.22.1";function Wn(Wt,jt={}){let wn=Wt;"object"!=typeof jt&&(jt={name:jt});const zn=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},jt),Jn=zn.name;if("string"!=typeof Jn||!Jn)throw xn.create("bad-app-name",{appName:String(Jn)});if(wn||(wn=(0,me.aH)()),!wn)throw xn.create("no-options");const mi=_t.get(Jn);if(mi){if((0,me.vZ)(wn,mi.options)&&(0,me.vZ)(zn,mi.config))return mi;throw xn.create("duplicate-app",{appName:Jn})}const $n=new R.H0(Jn);for(const ai of Zt.values())$n.addComponent(ai);const ki=new fn(wn,zn,$n);return _t.set(Jn,ki),ki}function ni(Wt=Pt){const jt=_t.get(Wt);if(!jt&&Wt===Pt&&(0,me.aH)())return Wn();if(!jt)throw xn.create("no-app",{appName:Wt});return jt}function Ft(){return Array.from(_t.values())}function Re(Wt){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(Wt){const jt=Wt.name;_t.has(jt)&&(_t.delete(jt),yield Promise.all(Wt.container.getProviders().map(wn=>wn.delete())),Wt.isDeleted=!0)})).apply(this,arguments)}function X(Wt,jt,wn){var zn;let Jn=null!==(zn=zt[Wt])&&void 0!==zn?zn:Wt;wn&&(Jn+=`-${wn}`);const mi=Jn.match(/\s|\//),$n=jt.match(/\s|\//);if(mi||$n){const ki=[`Unable to register library "${Jn}" with version "${jt}":`];return mi&&ki.push(`library name "${Jn}" contains illegal characters (whitespace or "/")`),mi&&$n&&ki.push("and"),$n&&ki.push(`version name "${jt}" contains illegal characters (whitespace or "/")`),void Ut.warn(ki.join(" "))}he(new R.wA(`${Jn}-version`,()=>({library:Jn,version:jt}),"VERSION"))}function ae(Wt,jt){if(null!==Wt&&"function"!=typeof Wt)throw xn.create("invalid-log-argument");(0,E.Am)(Wt,jt)}function Ne(Wt){(0,E.Ub)(Wt)}const $t="firebase-heartbeat-database",Jt=1,Ve="firebase-heartbeat-store";let ze=null;function ue(){return ze||(ze=function qe(Wt,jt,{blocked:wn,upgrade:zn,blocking:Jn,terminated:mi}={}){const $n=indexedDB.open(Wt,jt),ki=Qe($n);return zn&&$n.addEventListener("upgradeneeded",ai=>{zn(Qe($n.result),ai.oldVersion,ai.newVersion,Qe($n.transaction),ai)}),wn&&$n.addEventListener("blocked",ai=>wn(ai.oldVersion,ai.newVersion,ai)),ki.then(ai=>{mi&&ai.addEventListener("close",()=>mi()),Jn&&ai.addEventListener("versionchange",pr=>Jn(pr.oldVersion,pr.newVersion,pr))}).catch(()=>{}),ki}($t,Jt,{upgrade:(Wt,jt)=>{0===jt&&Wt.createObjectStore(Ve)}}).catch(Wt=>{throw xn.create("idb-open",{originalErrorMessage:Wt.message})})),ze}function W(){return(W=(0,f.Z)(function*(Wt){try{return yield(yield ue()).transaction(Ve).objectStore(Ve).get(J(Wt))}catch(jt){if(jt instanceof me.ZR)Ut.warn(jt.message);else{const wn=xn.create("idb-get",{originalErrorMessage:jt?.message});Ut.warn(wn.message)}}})).apply(this,arguments)}function le(Wt,jt){return j.apply(this,arguments)}function j(){return(j=(0,f.Z)(function*(Wt,jt){try{const zn=(yield ue()).transaction(Ve,"readwrite");yield zn.objectStore(Ve).put(jt,J(Wt)),yield zn.done}catch(wn){if(wn instanceof me.ZR)Ut.warn(wn.message);else{const zn=xn.create("idb-set",{originalErrorMessage:wn?.message});Ut.warn(zn.message)}}})).apply(this,arguments)}function J(Wt){return`${Wt.name}!${Wt.options.appId}`}class pt{constructor(jt){this.container=jt,this._heartbeatsCache=null;const wn=this.container.getProvider("app").getImmediate();this._storage=new An(wn),this._heartbeatsCachePromise=this._storage.read().then(zn=>(this._heartbeatsCache=zn,zn))}triggerHeartbeat(){var jt=this;return(0,f.Z)(function*(){const zn=jt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Jn=Qt();if(null===jt._heartbeatsCache&&(jt._heartbeatsCache=yield jt._heartbeatsCachePromise),jt._heartbeatsCache.lastSentHeartbeatDate!==Jn&&!jt._heartbeatsCache.heartbeats.some(mi=>mi.date===Jn))return jt._heartbeatsCache.heartbeats.push({date:Jn,agent:zn}),jt._heartbeatsCache.heartbeats=jt._heartbeatsCache.heartbeats.filter(mi=>{const $n=new Date(mi.date).valueOf();return Date.now()-$n<=2592e6}),jt._storage.overwrite(jt._heartbeatsCache)})()}getHeartbeatsHeader(){var jt=this;return(0,f.Z)(function*(){if(null===jt._heartbeatsCache&&(yield jt._heartbeatsCachePromise),null===jt._heartbeatsCache||0===jt._heartbeatsCache.heartbeats.length)return"";const wn=Qt(),{heartbeatsToSend:zn,unsentEntries:Jn}=function vn(Wt,jt=1024){const wn=[];let zn=Wt.slice();for(const Jn of Wt){const mi=wn.find($n=>$n.agent===Jn.agent);if(mi){if(mi.dates.push(Jn.date),vi(wn)>jt){mi.dates.pop();break}}else if(wn.push({agent:Jn.agent,dates:[Jn.date]}),vi(wn)>jt){wn.pop();break}zn=zn.slice(1)}return{heartbeatsToSend:wn,unsentEntries:zn}}(jt._heartbeatsCache.heartbeats),mi=(0,me.L)(JSON.stringify({version:2,heartbeats:zn}));return jt._heartbeatsCache.lastSentHeartbeatDate=wn,Jn.length>0?(jt._heartbeatsCache.heartbeats=Jn,yield jt._storage.overwrite(jt._heartbeatsCache)):(jt._heartbeatsCache.heartbeats=[],jt._storage.overwrite(jt._heartbeatsCache)),mi})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class An{constructor(jt){this.app=jt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var jt=this;return(0,f.Z)(function*(){return(yield jt._canUseIndexedDBPromise)&&(yield function fe(Wt){return W.apply(this,arguments)}(jt.app))||{heartbeats:[]}})()}overwrite(jt){var wn=this;return(0,f.Z)(function*(){var zn;if(yield wn._canUseIndexedDBPromise){const mi=yield wn.read();return le(wn.app,{lastSentHeartbeatDate:null!==(zn=jt.lastSentHeartbeatDate)&&void 0!==zn?zn:mi.lastSentHeartbeatDate,heartbeats:jt.heartbeats})}})()}add(jt){var wn=this;return(0,f.Z)(function*(){var zn;if(yield wn._canUseIndexedDBPromise){const mi=yield wn.read();return le(wn.app,{lastSentHeartbeatDate:null!==(zn=jt.lastSentHeartbeatDate)&&void 0!==zn?zn:mi.lastSentHeartbeatDate,heartbeats:[...mi.heartbeats,...jt.heartbeats]})}})()}}function vi(Wt){return(0,me.L)(JSON.stringify({version:2,heartbeats:Wt})).length}!function ur(Wt){he(new R.wA("platform-logger",jt=>new sn(jt),"PRIVATE")),he(new R.wA("heartbeat",jt=>new pt(jt),"PRIVATE")),X(gn,"0.9.11",Wt),X(gn,"0.9.11","esm2017"),X("fire-js","")}("")},4859:(pn,at,T)=>{T.d(at,{H0:()=>_e,wA:()=>E});var f=T(5861),R=T(2090);class E{constructor(oe,ge,ye){this.name=oe,this.instanceFactory=ge,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const me="[DEFAULT]";class ce{constructor(oe,ge){this.name=oe,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const ge=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(ge)){const ye=new R.BH;if(this.instancesDeferred.set(ge,ye),this.isInitialized(ge)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:ge});Le&&ye.resolve(Le)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(oe){var ge;const ye=this.normalizeInstanceIdentifier(oe?.identifier),Le=null!==(ge=oe?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(We){if(Le)return null;throw We}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Ue(Ke){return"EAGER"===Ke.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[ge,ye]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(ge);try{const We=this.getOrInitializeService({instanceIdentifier:Le});ye.resolve(We)}catch{}}}}clearInstance(oe=me){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,f.Z)(function*(){const ge=Array.from(oe.instances.values());yield Promise.all([...ge.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ge.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=me){return this.instances.has(oe)}getOptions(oe=me){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:ge={}}=oe,ye=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:ye,options:ge});for(const[We,Je]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(We)&&Je.resolve(Le);return Le}onInit(oe,ge){var ye;const Le=this.normalizeInstanceIdentifier(ge),We=null!==(ye=this.onInitCallbacks.get(Le))&&void 0!==ye?ye:new Set;We.add(oe),this.onInitCallbacks.set(Le,We);const Je=this.instances.get(Le);return Je&&oe(Je,Le),()=>{We.delete(oe)}}invokeOnInitCallbacks(oe,ge){const ye=this.onInitCallbacks.get(ge);if(ye)for(const Le of ye)try{Le(oe,ge)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:ge={}}){let ye=this.instances.get(oe);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=oe,Ke===me?void 0:Ke),options:ge}),this.instances.set(oe,ye),this.instancesOptions.set(oe,ge),this.invokeOnInitCallbacks(ye,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,ye)}catch{}var Ke;return ye||null}normalizeInstanceIdentifier(oe=me){return this.component?this.component.multipleInstances?oe:me:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const ge=this.getProvider(oe.name);if(ge.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);ge.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const ge=new ce(oe,this);return this.providers.set(oe,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(pn,at,T)=>{T.d(at,{Am:()=>Ke,Ub:()=>_e,Yd:()=>Ue,in:()=>R});const f=[];var R=(()=>{return(oe=R||(R={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",R;var oe})();const E={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},me=R.INFO,ce={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},Fe=(oe,ge,...ye)=>{if(ge<oe.logLevel)return;const Le=(new Date).toISOString(),We=ce[ge];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[We](`[${Le}]  ${oe.name}:`,...ye)};class Ue{constructor(ge){this.name=ge,this._logLevel=me,this._logHandler=Fe,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in R))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?E[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...ge),this._logHandler(this,R.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...ge),this._logHandler(this,R.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,R.INFO,...ge),this._logHandler(this,R.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,R.WARN,...ge),this._logHandler(this,R.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...ge),this._logHandler(this,R.ERROR,...ge)}}function _e(oe){f.forEach(ge=>{ge.setLogLevel(oe)})}function Ke(oe,ge){for(const ye of f){let Le=null;ge&&ge.level&&(Le=E[ge.level]),ye.userLogHandler=null===oe?null:(We,Je,...gt)=>{const tt=gt.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch{return null}}).filter(Ge=>Ge).join(" ");Je>=(Le??We.logLevel)&&oe({level:R[Je].toLowerCase(),message:tt,args:gt,type:We.name})}}}},259:(pn,at,T)=>{T.d(at,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=T(6881);(0,f.registerVersion)("firebase","9.22.1","app")},9260:(pn,at,T)=>{T.d(at,{Z:()=>f.Z});var f=T(3942);f.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(pn,at,T)=>{T.r(at);var f=T(5861),R=T(3942),E=T(1389),me=T(2090),Ue=(T(6881),T(1877),T(4859));function _e(){return window}const Ke=2e3;function ge(){return ge=(0,f.Z)(function*(ue,fe,W){var le;const{BuildInfo:j}=_e();(0,E.as)(fe.sessionId,"AuthEvent did not contain a session ID");const J=yield function Ge(ue){return Pe.apply(this,arguments)}(fe.sessionId),Q={};return(0,E.at)()?Q.ibi=j.packageName:(0,E.au)()?Q.apn=j.packageName:(0,E.av)(ue,"operation-not-supported-in-this-environment"),j.displayName&&(Q.appDisplayName=j.displayName),Q.sessionId=J,(0,E.aw)(ue,W,fe.type,void 0,null!==(le=fe.eventId)&&void 0!==le?le:void 0,Q)}),ge.apply(this,arguments)}function Le(){return(Le=(0,f.Z)(function*(ue){const{BuildInfo:fe}=_e(),W={};(0,E.at)()?W.iosBundleId=fe.packageName:(0,E.au)()?W.androidPackageName=fe.packageName:(0,E.av)(ue,"operation-not-supported-in-this-environment"),yield(0,E.ax)(ue,W)})).apply(this,arguments)}function gt(){return(gt=(0,f.Z)(function*(ue,fe,W){const{cordova:le}=_e();let j=()=>{};try{yield new Promise((J,Q)=>{let xe=null;function pt(){var An;J();const vi=null===(An=le.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof vi&&vi(),"function"==typeof W?.close&&W.close()}function Qt(){xe||(xe=window.setTimeout(()=>{Q((0,E.az)(ue,"redirect-cancelled-by-user"))},Ke))}function vn(){"visible"===document?.visibilityState&&Qt()}fe.addPassiveListener(pt),document.addEventListener("resume",Qt,!1),(0,E.au)()&&document.addEventListener("visibilitychange",vn,!1),j=()=>{fe.removePassiveListener(pt),document.removeEventListener("resume",Qt,!1),document.removeEventListener("visibilitychange",vn,!1),xe&&window.clearTimeout(xe)}})}finally{j()}})).apply(this,arguments)}function Pe(){return(Pe=(0,f.Z)(function*(ue){const fe=function kt(ue){if((0,E.as)(/[0-9a-zA-Z]+/.test(ue),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ue);const fe=new ArrayBuffer(ue.length),W=new Uint8Array(fe);for(let le=0;le<ue.length;le++)W[le]=ue.charCodeAt(le);return W}(ue),W=yield crypto.subtle.digest("SHA-256",fe);return Array.from(new Uint8Array(W)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Qe=20;class Ae extends E.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(fe=>{this.resolveInialized=fe})}addPassiveListener(fe){this.passiveListeners.add(fe)}removePassiveListener(fe){this.passiveListeners.delete(fe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(fe){return this.resolveInialized(),this.passiveListeners.forEach(W=>W(fe)),super.onEvent(fe)}initialized(){var fe=this;return(0,f.Z)(function*(){yield fe.initPromise})()}}function It(ue){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,f.Z)(function*(ue){const fe=yield sn()._get(En(ue));return fe&&(yield sn()._remove(En(ue))),fe})).apply(this,arguments)}function yn(){const ue=[],fe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<Qe;W++){const le=Math.floor(Math.random()*fe.length);ue.push(fe.charAt(le))}return ue.join("")}function sn(){return(0,E.aC)(E.b)}function En(ue){return(0,E.aD)("authEvent",ue.config.apiKey,ue.name)}function Ut(ue){if(!ue?.includes("?"))return{};const[fe,...W]=ue.split("?");return(0,me.zd)(W.join("?"))}const Vt=class Bt{constructor(){this._redirectPersistence=E.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=E.aE,this._overrideRedirectResult=E.aF}_initialize(fe){var W=this;return(0,f.Z)(function*(){const le=fe._key();let j=W.eventManagers.get(le);return j||(j=new Ae(fe),W.eventManagers.set(le,j),W.attachCallbackListeners(fe,j)),j})()}_openPopup(fe){(0,E.av)(fe,"operation-not-supported-in-this-environment")}_openRedirect(fe,W,le,j){var J=this;return(0,f.Z)(function*(){!function tt(ue){var fe,W,le,j,J,Q,xe,pt,Qt,vn;const An=_e();(0,E.aA)("function"==typeof(null===(fe=An?.universalLinks)||void 0===fe?void 0:fe.subscribe),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,E.aA)(typeof(null===(W=An?.BuildInfo)||void 0===W?void 0:W.packageName)<"u",ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,E.aA)("function"==typeof(null===(J=null===(j=null===(le=An?.cordova)||void 0===le?void 0:le.plugins)||void 0===j?void 0:j.browsertab)||void 0===J?void 0:J.openUrl),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.aA)("function"==typeof(null===(pt=null===(xe=null===(Q=An?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===pt?void 0:pt.isAvailable),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.aA)("function"==typeof(null===(vn=null===(Qt=An?.cordova)||void 0===Qt?void 0:Qt.InAppBrowser)||void 0===vn?void 0:vn.open),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(fe);const Q=yield J._initialize(fe);yield Q.initialized(),Q.resetRedirect(),(0,E.aG)(),yield J._originValidation(fe);const xe=function qe(ue,fe,W=null){return{type:fe,eventId:W,urlResponse:null,sessionId:yn(),postBody:null,tenantId:ue.tenantId,error:(0,E.az)(ue,"no-auth-event")}}(fe,le,j);yield function Nt(ue,fe){return sn()._set(En(ue),fe)}(fe,xe);const pt=yield function oe(ue,fe,W){return ge.apply(this,arguments)}(fe,xe,W),Qt=yield function We(ue){const{cordova:fe}=_e();return new Promise(W=>{fe.plugins.browsertab.isAvailable(le=>{let j=null;le?fe.plugins.browsertab.openUrl(ue):j=fe.InAppBrowser.open(ue,(0,E.ay)()?"_blank":"_system","location=yes"),W(j)})})}(pt);return function Je(ue,fe,W){return gt.apply(this,arguments)}(fe,Q,Qt)})()}_isIframeWebStorageSupported(fe,W){throw new Error("Method not implemented.")}_originValidation(fe){const W=fe._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function ye(ue){return Le.apply(this,arguments)}(fe)),this.originValidationPromises[W]}attachCallbackListeners(fe,W){const{universalLinks:le,handleOpenURL:j,BuildInfo:J}=_e(),Q=setTimeout((0,f.Z)(function*(){yield It(fe),W.onEvent(Tt())}),500),xe=function(){var vn=(0,f.Z)(function*(An){clearTimeout(Q);const vi=yield It(fe);let ur=null;vi&&An?.url&&(ur=function Xt(ue,fe){var W,le;const j=function si(ue){const fe=Ut(ue),W=fe.link?decodeURIComponent(fe.link):void 0,le=Ut(W).link,j=fe.deep_link_id?decodeURIComponent(fe.deep_link_id):void 0;return Ut(j).link||j||le||W||ue}(fe);if(j.includes("/__/auth/callback")){const J=Ut(j),Q=J.firebaseError?function gn(ue){try{return JSON.parse(ue)}catch{return null}}(decodeURIComponent(J.firebaseError)):null,xe=null===(le=null===(W=Q?.code)||void 0===W?void 0:W.split("auth/"))||void 0===le?void 0:le[1],pt=xe?(0,E.az)(xe):null;return pt?{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,error:pt,urlResponse:null,sessionId:null,postBody:null}:{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,sessionId:ue.sessionId,urlResponse:j,postBody:null}}return null}(vi,An.url)),W.onEvent(ur||Tt())});return function(vi){return vn.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,xe);const pt=j,Qt=`${J.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var vn=(0,f.Z)(function*(An){if(An.toLowerCase().startsWith(Qt)&&xe({url:An}),"function"==typeof pt)try{pt(An)}catch(vi){console.error(vi)}});return function(An){return vn.apply(this,arguments)}}()}};function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,E.az)("no-auth-event")}}const ct=1e3;function it(){var ue;return(null===(ue=self?.location)||void 0===ue?void 0:ue.protocol)||null}function ht(ue=(0,me.z$)()){return!("file:"!==it()&&"ionic:"!==it()&&"capacitor:"!==it()||!ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const ue=self.localStorage,fe=E.aL();if(ue)return ue.setItem(fe,"1"),ue.removeItem(fe),!function At(ue=(0,me.z$)()){return function Ht(){return(0,me.w1)()&&11===document?.documentMode}()||function Ze(ue=(0,me.z$)()){return/Edge\/\d+/.test(ue)}(ue)}()||(0,me.hl)()}catch{return Cn()&&(0,me.hl)()}return!1}function Cn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function He(){return"http:"===it()||"https:"===it()}()||(0,me.ru)()||ht())&&!function mt(){return(0,me.b$)()||(0,me.UG)()}()&&on()&&!Cn()}function bt(){return ht()&&typeof document<"u"}function Et(){return(Et=(0,f.Z)(function*(){return!!bt()&&new Promise(ue=>{const fe=setTimeout(()=>{ue(!1)},ct);document.addEventListener("deviceready",()=>{clearTimeout(fe),ue(!0)})})})).apply(this,arguments)}const ne={LOCAL:"local",NONE:"none",SESSION:"session"},Oe=E.aA,ut="persistence";function zt(ue){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(ue){yield ue._initializationPromise;const fe=Me(),W=E.aD(ut,ue.config.apiKey,ue.name);fe&&fe.setItem(W,ue._getPersistence())})).apply(this,arguments)}function Me(){var ue;try{return(null===(ue=function Te(){return typeof window<"u"?window:null}())||void 0===ue?void 0:ue.sessionStorage)||null}catch{return null}}const $e=E.aA;class he{constructor(){this.browserResolver=E.aC(E.k),this.cordovaResolver=E.aC(Vt),this.underlyingResolver=null,this._redirectPersistence=E.a,this._completeRedirectFn=E.aE,this._overrideRedirectResult=E.aF}_initialize(fe){var W=this;return(0,f.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize(fe)})()}_openPopup(fe,W,le,j){var J=this;return(0,f.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(fe,W,le,j)})()}_openRedirect(fe,W,le,j){var J=this;return(0,f.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(fe,W,le,j)})()}_isIframeWebStorageSupported(fe,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported(fe,W)}_originValidation(fe){return this.assertedUnderlyingResolver._originValidation(fe)}get _shouldInitProactively(){return bt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $e(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var fe=this;return(0,f.Z)(function*(){if(fe.underlyingResolver)return;const W=yield function rt(){return Et.apply(this,arguments)}();fe.underlyingResolver=W?fe.cordovaResolver:fe.browserResolver})()}}function ve(ue){return ue.unwrap()}function je(ue){return xn(ue)}function xn(ue){const{_tokenResponse:fe}=ue instanceof me.ZR?ue.customData:ue;if(!fe)return null;if(!(ue instanceof me.ZR)&&"temporaryProof"in fe&&"phoneNumber"in fe)return E.P.credentialFromResult(ue);const W=fe.providerId;if(!W||W===E.p.PASSWORD)return null;let le;switch(W){case E.p.GOOGLE:le=E.V;break;case E.p.FACEBOOK:le=E.U;break;case E.p.GITHUB:le=E.W;break;case E.p.TWITTER:le=E.Z;break;default:const{oauthIdToken:j,oauthAccessToken:J,oauthTokenSecret:Q,pendingToken:xe,nonce:pt}=fe;return J||Q||j||xe?xe?W.startsWith("saml.")?E.aO._create(W,xe):E.L._fromParams({providerId:W,signInMethod:W,pendingToken:xe,idToken:j,accessToken:J}):new E.X(W).credential({idToken:j,accessToken:J,rawNonce:pt}):null}return ue instanceof me.ZR?le.credentialFromError(ue):le.credentialFromResult(ue)}function fn(ue,fe){return fe.catch(W=>{throw W instanceof me.ZR&&function wt(ue,fe){var W;const le=null===(W=fe.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===fe?.code)fe.resolver=new ni(ue,E.aq(ue,fe));else if(le){const j=xn(fe),J=fe;j&&(J.credential=j,J.tenantId=le.tenantId||void 0,J.email=le.email||void 0,J.phoneNumber=le.phoneNumber||void 0)}}(ue,W),W}).then(W=>{const j=W.user;return{operationType:W.operationType,credential:je(W),additionalUserInfo:E.ao(W),user:Ft.getOrCreate(j)}})}function Zn(ue,fe){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(ue,fe){const W=yield fe;return{verificationId:W.verificationId,confirm:le=>fn(ue,W.confirm(le))}})).apply(this,arguments)}class ni{constructor(fe,W){this.resolver=W,this.auth=function ft(ue){return ue.wrapped()}(fe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(fe){return fn(ve(this.auth),this.resolver.resolveSignIn(fe))}}class Ft{constructor(fe){this._delegate=fe,this.multiFactor=E.ar(fe)}static getOrCreate(fe){return Ft.USER_MAP.has(fe)||Ft.USER_MAP.set(fe,new Ft(fe)),Ft.USER_MAP.get(fe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(fe){return this._delegate.getIdTokenResult(fe)}getIdToken(fe){return this._delegate.getIdToken(fe)}linkAndRetrieveDataWithCredential(fe){return this.linkWithCredential(fe)}linkWithCredential(fe){var W=this;return(0,f.Z)(function*(){return fn(W.auth,E.a0(W._delegate,fe))})()}linkWithPhoneNumber(fe,W){var le=this;return(0,f.Z)(function*(){return Zn(le.auth,E.l(le._delegate,fe,W))})()}linkWithPopup(fe){var W=this;return(0,f.Z)(function*(){return fn(W.auth,E.d(W._delegate,fe,he))})()}linkWithRedirect(fe){var W=this;return(0,f.Z)(function*(){return yield zt(E.aH(W.auth)),E.g(W._delegate,fe,he)})()}reauthenticateAndRetrieveDataWithCredential(fe){return this.reauthenticateWithCredential(fe)}reauthenticateWithCredential(fe){var W=this;return(0,f.Z)(function*(){return fn(W.auth,E.a1(W._delegate,fe))})()}reauthenticateWithPhoneNumber(fe,W){return Zn(this.auth,E.r(this._delegate,fe,W))}reauthenticateWithPopup(fe){return fn(this.auth,E.e(this._delegate,fe,he))}reauthenticateWithRedirect(fe){var W=this;return(0,f.Z)(function*(){return yield zt(E.aH(W.auth)),E.h(W._delegate,fe,he)})()}sendEmailVerification(fe){return E.ae(this._delegate,fe)}unlink(fe){var W=this;return(0,f.Z)(function*(){return yield E.an(W._delegate,fe),W})()}updateEmail(fe){return E.aj(this._delegate,fe)}updatePassword(fe){return E.ak(this._delegate,fe)}updatePhoneNumber(fe){return E.u(this._delegate,fe)}updateProfile(fe){return E.ai(this._delegate,fe)}verifyBeforeUpdateEmail(fe,W){return E.af(this._delegate,fe,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ft.USER_MAP=new WeakMap;const Re=E.aA;let H=(()=>{class ue{constructor(W,le){if(this.app=W,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=W.options;Re(j,"invalid-api-key",{appName:W.name}),Re(j,"invalid-api-key",{appName:W.name});const J=typeof window<"u"?he:void 0;this._delegate=le.initialize({options:{persistence:ae(j,W.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(E.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ft.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,le){E.I(this._delegate,W,le)}applyActionCode(W){return E.a5(this._delegate,W)}checkActionCode(W){return E.a6(this._delegate,W)}confirmPasswordReset(W,le){return E.a4(this._delegate,W,le)}createUserWithEmailAndPassword(W,le){var j=this;return(0,f.Z)(function*(){return fn(j._delegate,E.a8(j._delegate,W,le))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return E.ad(this._delegate,W)}isSignInWithEmailLink(W){return E.ab(this._delegate,W)}getRedirectResult(){var W=this;return(0,f.Z)(function*(){Re(qn(),W._delegate,"operation-not-supported-in-this-environment");const le=yield E.j(W._delegate,he);return le?fn(W._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function nt(ue,fe){(0,E.aH)(ue)._logFramework(fe)}(this._delegate,W)}onAuthStateChanged(W,le,j){const{next:J,error:Q,complete:xe}=X(W,le,j);return this._delegate.onAuthStateChanged(J,Q,xe)}onIdTokenChanged(W,le,j){const{next:J,error:Q,complete:xe}=X(W,le,j);return this._delegate.onIdTokenChanged(J,Q,xe)}sendSignInLinkToEmail(W,le){return E.aa(this._delegate,W,le)}sendPasswordResetEmail(W,le){return E.a3(this._delegate,W,le||void 0)}setPersistence(W){var le=this;return(0,f.Z)(function*(){let j;switch(function Pt(ue,fe){Oe(Object.values(ne).includes(fe),ue,"invalid-persistence-type"),(0,me.b$)()?Oe(fe!==ne.SESSION,ue,"unsupported-persistence-type"):(0,me.UG)()?Oe(fe===ne.NONE,ue,"unsupported-persistence-type"):Cn()?Oe(fe===ne.NONE||fe===ne.LOCAL&&(0,me.hl)(),ue,"unsupported-persistence-type"):Oe(fe===ne.NONE||on(),ue,"unsupported-persistence-type")}(le._delegate,W),W){case ne.SESSION:j=E.a;break;case ne.LOCAL:j=(yield E.aC(E.i)._isAvailable())?E.i:E.b;break;case ne.NONE:j=E.N;break;default:return E.av("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return fn(this._delegate,E._(this._delegate))}signInWithCredential(W){return fn(this._delegate,E.$(this._delegate,W))}signInWithCustomToken(W){return fn(this._delegate,E.a2(this._delegate,W))}signInWithEmailAndPassword(W,le){return fn(this._delegate,E.a9(this._delegate,W,le))}signInWithEmailLink(W,le){return fn(this._delegate,E.ac(this._delegate,W,le))}signInWithPhoneNumber(W,le){return Zn(this._delegate,E.s(this._delegate,W,le))}signInWithPopup(W){var le=this;return(0,f.Z)(function*(){return Re(qn(),le._delegate,"operation-not-supported-in-this-environment"),fn(le._delegate,E.c(le._delegate,W,he))})()}signInWithRedirect(W){var le=this;return(0,f.Z)(function*(){return Re(qn(),le._delegate,"operation-not-supported-in-this-environment"),yield zt(le._delegate),E.f(le._delegate,W,he)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return E.a7(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ue.Persistence=ne,ue})();function X(ue,fe,W){let le=ue;"function"!=typeof ue&&({next:le,error:fe,complete:W}=ue);const j=le;return{next:Q=>j(Q&&Ft.getOrCreate(Q)),error:fe,complete:W}}function ae(ue,fe){const W=function Zt(ue,fe){const W=Me();if(!W)return[];const le=E.aD(ut,ue,fe);switch(W.getItem(le)){case ne.NONE:return[E.N];case ne.LOCAL:return[E.i,E.a];case ne.SESSION:return[E.a];default:return[]}}(ue,fe);if(typeof self<"u"&&!W.includes(E.i)&&W.push(E.i),typeof window<"u")for(const le of[E.b,E.a])W.includes(le)||W.push(le);return W.includes(E.N)||W.push(E.N),W}class Ne{constructor(){this.providerId="phone",this._delegate=new E.P(ve(R.Z.auth()))}static credential(fe,W){return E.P.credential(fe,W)}verifyPhoneNumber(fe,W){return this._delegate.verifyPhoneNumber(fe,W)}unwrap(){return this._delegate}}Ne.PHONE_SIGN_IN_METHOD=E.P.PHONE_SIGN_IN_METHOD,Ne.PROVIDER_ID=E.P.PROVIDER_ID;const $t=E.aA;class Jt{constructor(fe,W,le=R.Z.app()){var j;$t(null===(j=le.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new E.R(fe,W,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ze(ue){ue.INTERNAL.registerComponent(new Ue.wA("auth-compat",fe=>{const W=fe.getProvider("app-compat").getImmediate(),le=fe.getProvider("auth");return new H(W,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:E.A.EMAIL_SIGNIN,PASSWORD_RESET:E.A.PASSWORD_RESET,RECOVER_EMAIL:E.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:E.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:E.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:E.A.VERIFY_EMAIL}},EmailAuthProvider:E.Q,FacebookAuthProvider:E.U,GithubAuthProvider:E.W,GoogleAuthProvider:E.V,OAuthProvider:E.X,SAMLAuthProvider:E.Y,PhoneAuthProvider:Ne,PhoneMultiFactorGenerator:E.m,RecaptchaVerifier:Jt,TwitterAuthProvider:E.Z,Auth:H,AuthCredential:E.J,Error:me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ue.registerVersion("@firebase/auth-compat","0.4.2")}(R.Z)},5861:(pn,at,T)=>{function f(E,me,ce,Fe,Ue,_e,Ke){try{var oe=E[_e](Ke),ge=oe.value}catch(ye){return void ce(ye)}oe.done?me(ge):Promise.resolve(ge).then(Fe,Ue)}function R(E){return function(){var me=this,ce=arguments;return new Promise(function(Fe,Ue){var _e=E.apply(me,ce);function Ke(ge){f(_e,Fe,Ue,Ke,oe,"next",ge)}function oe(ge){f(_e,Fe,Ue,Ke,oe,"throw",ge)}Ke(void 0)})}}T.d(at,{Z:()=>R})},7582:(pn,at,T)=>{function me(Ut,Dt){var Bt={};for(var Vt in Ut)Object.prototype.hasOwnProperty.call(Ut,Vt)&&Dt.indexOf(Vt)<0&&(Bt[Vt]=Ut[Vt]);if(null!=Ut&&"function"==typeof Object.getOwnPropertySymbols){var Tt=0;for(Vt=Object.getOwnPropertySymbols(Ut);Tt<Vt.length;Tt++)Dt.indexOf(Vt[Tt])<0&&Object.prototype.propertyIsEnumerable.call(Ut,Vt[Tt])&&(Bt[Vt[Tt]]=Ut[Vt[Tt]])}return Bt}function ye(Ut,Dt,Bt,Vt){return new(Bt||(Bt=Promise))(function(nt,lt){function Be(He){try{it(Vt.next(He))}catch(ht){lt(ht)}}function ct(He){try{it(Vt.throw(He))}catch(ht){lt(ht)}}function it(He){He.done?nt(He.value):function Tt(nt){return nt instanceof Bt?nt:new Bt(function(lt){lt(nt)})}(He.value).then(Be,ct)}it((Vt=Vt.apply(Ut,Dt||[])).next())})}function Qe(Ut){return this instanceof Qe?(this.v=Ut,this):new Qe(Ut)}function Ae(Ut,Dt,Bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,Vt=Bt.apply(Ut,Dt||[]),nt=[];return Tt={},lt("next"),lt("throw"),lt("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt;function lt(mt){Vt[mt]&&(Tt[mt]=function(Ht){return new Promise(function(Ze,At){nt.push([mt,Ht,Ze,At])>1||Be(mt,Ht)})})}function Be(mt,Ht){try{!function ct(mt){mt.value instanceof Qe?Promise.resolve(mt.value.v).then(it,He):ht(nt[0][2],mt)}(Vt[mt](Ht))}catch(Ze){ht(nt[0][3],Ze)}}function it(mt){Be("next",mt)}function He(mt){Be("throw",mt)}function ht(mt,Ht){mt(Ht),nt.shift(),nt.length&&Be(nt[0][0],nt[0][1])}}function Nt(Ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Bt,Dt=Ut[Symbol.asyncIterator];return Dt?Dt.call(Ut):(Ut=function gt(Ut){var Dt="function"==typeof Symbol&&Symbol.iterator,Bt=Dt&&Ut[Dt],Vt=0;if(Bt)return Bt.call(Ut);if(Ut&&"number"==typeof Ut.length)return{next:function(){return Ut&&Vt>=Ut.length&&(Ut=void 0),{value:Ut&&Ut[Vt++],done:!Ut}}};throw new TypeError(Dt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ut),Bt={},Vt("next"),Vt("throw"),Vt("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt);function Vt(nt){Bt[nt]=Ut[nt]&&function(lt){return new Promise(function(Be,ct){!function Tt(nt,lt,Be,ct){Promise.resolve(ct).then(function(it){nt({value:it,done:Be})},lt)}(Be,ct,(lt=Ut[nt](lt)).done,lt.value)})}}}T.d(at,{FC:()=>Ae,KL:()=>Nt,_T:()=>me,mG:()=>ye,qq:()=>Qe})}},pn=>{var at=f=>pn(pn.s=f);at(1321),at(8849)}]);