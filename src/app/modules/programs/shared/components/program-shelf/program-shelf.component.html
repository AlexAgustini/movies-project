<div class="alert alert-danger" *ngIf="hasError">Ocorreu um erro na busca</div>

<div *ngIf="isLoading" class="spinner">
  <mat-spinner></mat-spinner>
</div>

<ng-container *ngIf="!hasError">
  <div *ngIf="mode == 'static' && !isLoading else carousel">
    <div class="max-w-full mt-16 container-movies grid content-center grid-cols-5 p-8 rounded-[10px] gap-8">
      <div *ngFor="let program of programData" class="movie-item-container flex flex-col items-stretch min-h-[260px] rounded-[10px] overflow-hidden">
        <div (click)="toggleFavoriteProgram(program)" class="favorite-wrapper">
          <mat-icon [ngClass]="{'favorited' : program.programFavorited}">favorite</mat-icon>
        </div>
          <img
             class="cursor-pointer w-[350px]"
             src="https://image.tmdb.org/t/p/w500/{{program.poster_path}}"
             alt=""
             [routerLink]="['/' + typeOfProgram, program.id]"
          >
          <div class="justify-center content-center flex min-h-[60px] items-center">
            <h3 class="text-center">{{program.title}}</h3>
          </div>
      </div>
    </div>

    <mat-paginator class="mr-16 paginator" #paginator
      [color]="'primary'"
      [length]="500"
      (page)="handlePages($event)"
      [pageIndex]="currentPage"
      pageSize="1"
      [showFirstLastButtons]="false"
      [hidePageSize]="true"
      aria-label="Select page">
    </mat-paginator>
  </div>

  <ng-template #carousel>
    <div  class="carousel-container" *ngIf="mode == 'carousel'">
      <h1 class="shelf-title mb-4">{{title}}</h1>
      <ng-image-slider (imageClick)="goToMovieDetail($event)" [slideImage]="7" [images]="carouselImages" [imageSize]="{width: '16.6%q', height: '450px'}" #nav></ng-image-slider>
    </div>
  </ng-template>
</ng-container>
